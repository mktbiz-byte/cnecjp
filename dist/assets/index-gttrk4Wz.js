import{j as e,c as tg,R as sg,C as ag,a as lg,T as rg,D as ng,P as ig,O as cg,b as dg,d as og,I as ug,V as mg,e as xg,f as hg,g as fg,h as gg,i as pg,k as jg,S as bg,l as yg,m as vg,n as Ng,o as wg,p as _g,q as Sg,r as kg,s as Cg,L as Ag,t as Tg,u as Eg}from"./ui-DAj6WMZX.js";import{d as Dg,e as qg,r as g,R as zg,u as os,L as Fe,f as Sh,g as Kr,h as yi,c as Ug,N as Mg,B as Rg,i as Og,j as $e}from"./vendor-BN7lJaCf.js";import{c as Lg}from"./supabase-BlVsaoIH.js";import{t as Bg,c as Hg,a as Pd}from"./utils-CxhptImP.js";import{X as Xt,M as eo,C as He,A as Jd,T as di,P as oi,a as Gg,W as Vg,L as We,D as Xr,b as Kd,U as ds,Y as ll,I as Ra,c as Yg,H as vi,d as oa,e as Oa,f as Jl,g as ca,h as Kl,i as Zd,j as to,k as Qt,B as Xg,E as vt,l as kh,m as Ch,n as Ld,o as sh,p as Yt,S as Qg,q as Jg,r as Kg,s as Zg,t as Vr,F as ns,u as Bd,v as Ys,w as Qr,x as bs,y as $g,z as Rs,G as Ls,J as Jr,K as Ht,N as mi,O as xi,Q as Fg,R as $d,V as al,Z as da,_ as Fd,$ as rl,a0 as so,a1 as nl,a2 as ui,a3 as ao,a4 as Zl,a5 as Yr,a6 as Wd,a7 as Os,a8 as Ah,a9 as Th,aa as Eh,ab as ah,ac as Wg,ad as Ig,ae as Pg,af as Dh,ag as lh,ah as rh,ai as nh,aj as ep,ak as ih,al as ch,am as tp,an as sp,ao as ap,ap as lp}from"./icons-CNsdi9Us.js";(function(){const m=document.createElement("link").relList;if(m&&m.supports&&m.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))c(u);new MutationObserver(u=>{for(const x of u)if(x.type==="childList")for(const y of x.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&c(y)}).observe(document,{childList:!0,subtree:!0});function i(u){const x={};return u.integrity&&(x.integrity=u.integrity),u.referrerPolicy&&(x.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?x.credentials="include":u.crossOrigin==="anonymous"?x.credentials="omit":x.credentials="same-origin",x}function c(u){if(u.ep)return;u.ep=!0;const x=i(u);fetch(u.href,x)}})();var Hd={exports:{}},Gr={},Gd={exports:{}},Vd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dh;function rp(){return dh||(dh=1,(function(d){function m(q,le){var D=q.length;q.push(le);e:for(;0<D;){var H=D-1>>>1,b=q[H];if(0<u(b,le))q[H]=le,q[D]=b,D=H;else break e}}function i(q){return q.length===0?null:q[0]}function c(q){if(q.length===0)return null;var le=q[0],D=q.pop();if(D!==le){q[0]=D;e:for(var H=0,b=q.length,W=b>>>1;H<W;){var B=2*(H+1)-1,de=q[B],me=B+1,xe=q[me];if(0>u(de,D))me<b&&0>u(xe,de)?(q[H]=xe,q[me]=D,H=me):(q[H]=de,q[B]=D,H=B);else if(me<b&&0>u(xe,D))q[H]=xe,q[me]=D,H=me;else break e}}return le}function u(q,le){var D=q.sortIndex-le.sortIndex;return D!==0?D:q.id-le.id}if(d.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var x=performance;d.unstable_now=function(){return x.now()}}else{var y=Date,f=y.now();d.unstable_now=function(){return y.now()-f}}var N=[],j=[],O=1,w=null,K=3,Q=!1,S=!1,p=!1,C=!1,T=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function $(q){for(var le=i(j);le!==null;){if(le.callback===null)c(j);else if(le.startTime<=q)c(j),le.sortIndex=le.expirationTime,m(N,le);else break;le=i(j)}}function v(q){if(p=!1,$(q),!S)if(i(N)!==null)S=!0,ee||(ee=!0,F());else{var le=i(j);le!==null&&ue(v,le.startTime-q)}}var ee=!1,G=-1,A=5,L=-1;function U(){return C?!0:!(d.unstable_now()-L<A)}function oe(){if(C=!1,ee){var q=d.unstable_now();L=q;var le=!0;try{e:{S=!1,p&&(p=!1,z(G),G=-1),Q=!0;var D=K;try{t:{for($(q),w=i(N);w!==null&&!(w.expirationTime>q&&U());){var H=w.callback;if(typeof H=="function"){w.callback=null,K=w.priorityLevel;var b=H(w.expirationTime<=q);if(q=d.unstable_now(),typeof b=="function"){w.callback=b,$(q),le=!0;break t}w===i(N)&&c(N),$(q)}else c(N);w=i(N)}if(w!==null)le=!0;else{var W=i(j);W!==null&&ue(v,W.startTime-q),le=!1}}break e}finally{w=null,K=D,Q=!1}le=void 0}}finally{le?F():ee=!1}}}var F;if(typeof k=="function")F=function(){k(oe)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,ce=X.port2;X.port1.onmessage=oe,F=function(){ce.postMessage(null)}}else F=function(){T(oe,0)};function ue(q,le){G=T(function(){q(d.unstable_now())},le)}d.unstable_IdlePriority=5,d.unstable_ImmediatePriority=1,d.unstable_LowPriority=4,d.unstable_NormalPriority=3,d.unstable_Profiling=null,d.unstable_UserBlockingPriority=2,d.unstable_cancelCallback=function(q){q.callback=null},d.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<q?Math.floor(1e3/q):5},d.unstable_getCurrentPriorityLevel=function(){return K},d.unstable_next=function(q){switch(K){case 1:case 2:case 3:var le=3;break;default:le=K}var D=K;K=le;try{return q()}finally{K=D}},d.unstable_requestPaint=function(){C=!0},d.unstable_runWithPriority=function(q,le){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var D=K;K=q;try{return le()}finally{K=D}},d.unstable_scheduleCallback=function(q,le,D){var H=d.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?H+D:H):D=H,q){case 1:var b=-1;break;case 2:b=250;break;case 5:b=1073741823;break;case 4:b=1e4;break;default:b=5e3}return b=D+b,q={id:O++,callback:le,priorityLevel:q,startTime:D,expirationTime:b,sortIndex:-1},D>H?(q.sortIndex=D,m(j,q),i(N)===null&&q===i(j)&&(p?(z(G),G=-1):p=!0,ue(v,D-H))):(q.sortIndex=b,m(N,q),S||Q||(S=!0,ee||(ee=!0,F()))),q},d.unstable_shouldYield=U,d.unstable_wrapCallback=function(q){var le=K;return function(){var D=K;K=le;try{return q.apply(this,arguments)}finally{K=D}}}})(Vd)),Vd}var oh;function np(){return oh||(oh=1,Gd.exports=rp()),Gd.exports}var uh;function ip(){if(uh)return Gr;uh=1;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d=np(),m=Dg(),i=qg();function c(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function x(t){var s=t,a=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(a=s.return),t=s.return;while(t)}return s.tag===3?a:null}function y(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function f(t){if(t.tag===31){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function N(t){if(x(t)!==t)throw Error(c(188))}function j(t){var s=t.alternate;if(!s){if(s=x(t),s===null)throw Error(c(188));return s!==t?null:t}for(var a=t,l=s;;){var r=a.return;if(r===null)break;var n=r.alternate;if(n===null){if(l=r.return,l!==null){a=l;continue}break}if(r.child===n.child){for(n=r.child;n;){if(n===a)return N(r),t;if(n===l)return N(r),s;n=n.sibling}throw Error(c(188))}if(a.return!==l.return)a=r,l=n;else{for(var o=!1,h=r.child;h;){if(h===a){o=!0,a=r,l=n;break}if(h===l){o=!0,l=r,a=n;break}h=h.sibling}if(!o){for(h=n.child;h;){if(h===a){o=!0,a=n,l=r;break}if(h===l){o=!0,l=n,a=r;break}h=h.sibling}if(!o)throw Error(c(189))}}if(a.alternate!==l)throw Error(c(190))}if(a.tag!==3)throw Error(c(188));return a.stateNode.current===a?t:s}function O(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=O(t),s!==null)return s;t=t.sibling}return null}var w=Object.assign,K=Symbol.for("react.element"),Q=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),z=Symbol.for("react.consumer"),k=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),oe=Symbol.iterator;function F(t){return t===null||typeof t!="object"?null:(t=oe&&t[oe]||t["@@iterator"],typeof t=="function"?t:null)}var X=Symbol.for("react.client.reference");function ce(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===X?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case p:return"Fragment";case T:return"Profiler";case C:return"StrictMode";case v:return"Suspense";case ee:return"SuspenseList";case L:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case S:return"Portal";case k:return t.displayName||"Context";case z:return(t._context.displayName||"Context")+".Consumer";case $:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case G:return s=t.displayName||null,s!==null?s:ce(t.type)||"Memo";case A:s=t._payload,t=t._init;try{return ce(t(s))}catch{}}return null}var ue=Array.isArray,q=m.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D={pending:!1,data:null,method:null,action:null},H=[],b=-1;function W(t){return{current:t}}function B(t){0>b||(t.current=H[b],H[b]=null,b--)}function de(t,s){b++,H[b]=t.current,t.current=s}var me=W(null),xe=W(null),te=W(null),be=W(null);function he(t,s){switch(de(te,s),de(xe,t),de(me,null),s.nodeType){case 9:case 11:t=(t=s.documentElement)&&(t=t.namespaceURI)?Sx(t):0;break;default:if(t=s.tagName,s=s.namespaceURI)s=Sx(s),t=kx(s,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}B(me),de(me,t)}function Ce(){B(me),B(xe),B(te)}function Qe(t){t.memoizedState!==null&&de(be,t);var s=me.current,a=kx(s,t.type);s!==a&&(de(xe,t),de(me,a))}function Z(t){xe.current===t&&(B(me),B(xe)),be.current===t&&(B(be),Or._currentValue=D)}var ge,ae;function I(t){if(ge===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);ge=s&&s[1]||"",ae=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ge+t+ae}var ke=!1;function Ee(t,s){if(!t||ke)return"";ke=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(P){var J=P}Reflect.construct(t,[],ie)}else{try{ie.call()}catch(P){J=P}t.call(ie.prototype)}}else{try{throw Error()}catch(P){J=P}(ie=t())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(P){if(P&&J&&typeof P.stack=="string")return[P.stack,J.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var n=l.DetermineComponentFrameRoot(),o=n[0],h=n[1];if(o&&h){var _=o.split(`
`),Y=h.split(`
`);for(r=l=0;l<_.length&&!_[l].includes("DetermineComponentFrameRoot");)l++;for(;r<Y.length&&!Y[r].includes("DetermineComponentFrameRoot");)r++;if(l===_.length||r===Y.length)for(l=_.length-1,r=Y.length-1;1<=l&&0<=r&&_[l]!==Y[r];)r--;for(;1<=l&&0<=r;l--,r--)if(_[l]!==Y[r]){if(l!==1||r!==1)do if(l--,r--,0>r||_[l]!==Y[r]){var se=`
`+_[l].replace(" at new "," at ");return t.displayName&&se.includes("<anonymous>")&&(se=se.replace("<anonymous>",t.displayName)),se}while(1<=l&&0<=r);break}}}finally{ke=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?I(a):""}function _e(t,s){switch(t.tag){case 26:case 27:case 5:return I(t.type);case 16:return I("Lazy");case 13:return t.child!==s&&s!==null?I("Suspense Fallback"):I("Suspense");case 19:return I("SuspenseList");case 0:case 15:return Ee(t.type,!1);case 11:return Ee(t.type.render,!1);case 1:return Ee(t.type,!0);case 31:return I("Activity");default:return""}}function pt(t){try{var s="",a=null;do s+=_e(t,a),a=t,t=t.return;while(t);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var _t=Object.prototype.hasOwnProperty,Jt=d.unstable_scheduleCallback,us=d.unstable_cancelCallback,ye=d.unstable_shouldYield,lt=d.unstable_requestPaint,Oe=d.unstable_now,$t=d.unstable_getCurrentPriorityLevel,Ft=d.unstable_ImmediatePriority,R=d.unstable_UserBlockingPriority,pe=d.unstable_NormalPriority,St=d.unstable_LowPriority,Ie=d.unstable_IdlePriority,ot=d.log,nt=d.unstable_setDisableYieldValue,xt=null,it=null;function Le(t){if(typeof ot=="function"&&nt(t),it&&typeof it.setStrictMode=="function")try{it.setStrictMode(xt,t)}catch{}}var Je=Math.clz32?Math.clz32:ua,st=Math.log,$l=Math.LN2;function ua(t){return t>>>=0,t===0?32:31-(st(t)/$l|0)|0}var jt=256,vs=262144,qs=4194304;function La(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Zr(t,s,a){var l=t.pendingLanes;if(l===0)return 0;var r=0,n=t.suspendedLanes,o=t.pingedLanes;t=t.warmLanes;var h=l&134217727;return h!==0?(l=h&~n,l!==0?r=La(l):(o&=h,o!==0?r=La(o):a||(a=h&~t,a!==0&&(r=La(a))))):(h=l&~n,h!==0?r=La(h):o!==0?r=La(o):a||(a=l&~t,a!==0&&(r=La(a)))),r===0?0:s!==0&&s!==r&&(s&n)===0&&(n=r&-r,a=s&-s,n>=a||n===32&&(a&4194048)!==0)?s:r}function Fl(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function Gh(t,s){switch(t){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ro(){var t=qs;return qs<<=1,(qs&62914560)===0&&(qs=4194304),t}function ki(t){for(var s=[],a=0;31>a;a++)s.push(t);return s}function Wl(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Vh(t,s,a,l,r,n){var o=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var h=t.entanglements,_=t.expirationTimes,Y=t.hiddenUpdates;for(a=o&~a;0<a;){var se=31-Je(a),ie=1<<se;h[se]=0,_[se]=-1;var J=Y[se];if(J!==null)for(Y[se]=null,se=0;se<J.length;se++){var P=J[se];P!==null&&(P.lane&=-536870913)}a&=~ie}l!==0&&no(t,l,0),n!==0&&r===0&&t.tag!==0&&(t.suspendedLanes|=n&~(o&~s))}function no(t,s,a){t.pendingLanes|=s,t.suspendedLanes&=~s;var l=31-Je(s);t.entangledLanes|=s,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function io(t,s){var a=t.entangledLanes|=s;for(t=t.entanglements;a;){var l=31-Je(a),r=1<<l;r&s|t[l]&s&&(t[l]|=s),a&=~r}}function co(t,s){var a=s&-s;return a=(a&42)!==0?1:Ci(a),(a&(t.suspendedLanes|s))!==0?0:a}function Ci(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ai(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function oo(){var t=le.p;return t!==0?t:(t=window.event,t===void 0?32:$x(t.type))}function uo(t,s){var a=le.p;try{return le.p=t,s()}finally{le.p=a}}var ma=Math.random().toString(36).slice(2),Mt="__reactFiber$"+ma,Wt="__reactProps$"+ma,il="__reactContainer$"+ma,Ti="__reactEvents$"+ma,Yh="__reactListeners$"+ma,Xh="__reactHandles$"+ma,mo="__reactResources$"+ma,Il="__reactMarker$"+ma;function Ei(t){delete t[Mt],delete t[Wt],delete t[Ti],delete t[Yh],delete t[Xh]}function cl(t){var s=t[Mt];if(s)return s;for(var a=t.parentNode;a;){if(s=a[il]||a[Mt]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(t=zx(t);t!==null;){if(a=t[Mt])return a;t=zx(t)}return s}t=a,a=t.parentNode}return null}function dl(t){if(t=t[Mt]||t[il]){var s=t.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return t}return null}function Pl(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(c(33))}function ol(t){var s=t[mo];return s||(s=t[mo]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function qt(t){t[Il]=!0}var xo=new Set,ho={};function Ba(t,s){ul(t,s),ul(t+"Capture",s)}function ul(t,s){for(ho[t]=s,t=0;t<s.length;t++)xo.add(s[t])}var Qh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),fo={},go={};function Jh(t){return _t.call(go,t)?!0:_t.call(fo,t)?!1:Qh.test(t)?go[t]=!0:(fo[t]=!0,!1)}function $r(t,s,a){if(Jh(s))if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+a)}}function Fr(t,s,a){if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+a)}}function Xs(t,s,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(s,a,""+l)}}function Ns(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function po(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Kh(t,s,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,s);if(!t.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var r=l.get,n=l.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return r.call(this)},set:function(o){a=""+o,n.call(this,o)}}),Object.defineProperty(t,s,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(o){a=""+o},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function Di(t){if(!t._valueTracker){var s=po(t)?"checked":"value";t._valueTracker=Kh(t,s,""+t[s])}}function jo(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return t&&(l=po(t)?t.checked?"true":"false":t.value),t=l,t!==a?(s.setValue(t),!0):!1}function Wr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Zh=/[\n"\\]/g;function ws(t){return t.replace(Zh,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function qi(t,s,a,l,r,n,o,h){t.name="",o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?t.type=o:t.removeAttribute("type"),s!=null?o==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+Ns(s)):t.value!==""+Ns(s)&&(t.value=""+Ns(s)):o!=="submit"&&o!=="reset"||t.removeAttribute("value"),s!=null?zi(t,o,Ns(s)):a!=null?zi(t,o,Ns(a)):l!=null&&t.removeAttribute("value"),r==null&&n!=null&&(t.defaultChecked=!!n),r!=null&&(t.checked=r&&typeof r!="function"&&typeof r!="symbol"),h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"?t.name=""+Ns(h):t.removeAttribute("name")}function bo(t,s,a,l,r,n,o,h){if(n!=null&&typeof n!="function"&&typeof n!="symbol"&&typeof n!="boolean"&&(t.type=n),s!=null||a!=null){if(!(n!=="submit"&&n!=="reset"||s!=null)){Di(t);return}a=a!=null?""+Ns(a):"",s=s!=null?""+Ns(s):a,h||s===t.value||(t.value=s),t.defaultValue=s}l=l??r,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=h?t.checked:!!l,t.defaultChecked=!!l,o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(t.name=o),Di(t)}function zi(t,s,a){s==="number"&&Wr(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function ml(t,s,a,l){if(t=t.options,s){s={};for(var r=0;r<a.length;r++)s["$"+a[r]]=!0;for(a=0;a<t.length;a++)r=s.hasOwnProperty("$"+t[a].value),t[a].selected!==r&&(t[a].selected=r),r&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Ns(a),s=null,r=0;r<t.length;r++){if(t[r].value===a){t[r].selected=!0,l&&(t[r].defaultSelected=!0);return}s!==null||t[r].disabled||(s=t[r])}s!==null&&(s.selected=!0)}}function yo(t,s,a){if(s!=null&&(s=""+Ns(s),s!==t.value&&(t.value=s),a==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=a!=null?""+Ns(a):""}function vo(t,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(c(92));if(ue(l)){if(1<l.length)throw Error(c(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=Ns(s),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Di(t)}function xl(t,s){if(s){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=s;return}}t.textContent=s}var $h=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function No(t,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":l?t.setProperty(s,a):typeof a!="number"||a===0||$h.has(s)?s==="float"?t.cssFloat=a:t[s]=(""+a).trim():t[s]=a+"px"}function wo(t,s,a){if(s!=null&&typeof s!="object")throw Error(c(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var r in s)l=s[r],s.hasOwnProperty(r)&&a[r]!==l&&No(t,r,l)}else for(var n in s)s.hasOwnProperty(n)&&No(t,n,s[n])}function Ui(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Wh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ir(t){return Wh.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Qs(){}var Mi=null;function Ri(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var hl=null,fl=null;function _o(t){var s=dl(t);if(s&&(t=s.stateNode)){var a=t[Wt]||null;e:switch(t=s.stateNode,s.type){case"input":if(qi(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ws(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==t&&l.form===t.form){var r=l[Wt]||null;if(!r)throw Error(c(90));qi(l,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===t.form&&jo(l)}break e;case"textarea":yo(t,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&ml(t,!!a.multiple,s,!1)}}}var Oi=!1;function So(t,s,a){if(Oi)return t(s,a);Oi=!0;try{var l=t(s);return l}finally{if(Oi=!1,(hl!==null||fl!==null)&&(Hn(),hl&&(s=hl,t=fl,fl=hl=null,_o(s),t)))for(s=0;s<t.length;s++)_o(t[s])}}function er(t,s){var a=t.stateNode;if(a===null)return null;var l=a[Wt]||null;if(l===null)return null;a=l[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(c(231,s,typeof a));return a}var Js=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Li=!1;if(Js)try{var tr={};Object.defineProperty(tr,"passive",{get:function(){Li=!0}}),window.addEventListener("test",tr,tr),window.removeEventListener("test",tr,tr)}catch{Li=!1}var xa=null,Bi=null,Pr=null;function ko(){if(Pr)return Pr;var t,s=Bi,a=s.length,l,r="value"in xa?xa.value:xa.textContent,n=r.length;for(t=0;t<a&&s[t]===r[t];t++);var o=a-t;for(l=1;l<=o&&s[a-l]===r[n-l];l++);return Pr=r.slice(t,1<l?1-l:void 0)}function en(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function tn(){return!0}function Co(){return!1}function It(t){function s(a,l,r,n,o){this._reactName=a,this._targetInst=r,this.type=l,this.nativeEvent=n,this.target=o,this.currentTarget=null;for(var h in t)t.hasOwnProperty(h)&&(a=t[h],this[h]=a?a(n):n[h]);return this.isDefaultPrevented=(n.defaultPrevented!=null?n.defaultPrevented:n.returnValue===!1)?tn:Co,this.isPropagationStopped=Co,this}return w(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=tn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=tn)},persist:function(){},isPersistent:tn}),s}var Ha={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sn=It(Ha),sr=w({},Ha,{view:0,detail:0}),Ih=It(sr),Hi,Gi,ar,an=w({},sr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yi,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ar&&(ar&&t.type==="mousemove"?(Hi=t.screenX-ar.screenX,Gi=t.screenY-ar.screenY):Gi=Hi=0,ar=t),Hi)},movementY:function(t){return"movementY"in t?t.movementY:Gi}}),Ao=It(an),Ph=w({},an,{dataTransfer:0}),e0=It(Ph),t0=w({},sr,{relatedTarget:0}),Vi=It(t0),s0=w({},Ha,{animationName:0,elapsedTime:0,pseudoElement:0}),a0=It(s0),l0=w({},Ha,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),r0=It(l0),n0=w({},Ha,{data:0}),To=It(n0),i0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},c0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},d0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function o0(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=d0[t])?!!s[t]:!1}function Yi(){return o0}var u0=w({},sr,{key:function(t){if(t.key){var s=i0[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=en(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?c0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yi,charCode:function(t){return t.type==="keypress"?en(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?en(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),m0=It(u0),x0=w({},an,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Eo=It(x0),h0=w({},sr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yi}),f0=It(h0),g0=w({},Ha,{propertyName:0,elapsedTime:0,pseudoElement:0}),p0=It(g0),j0=w({},an,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),b0=It(j0),y0=w({},Ha,{newState:0,oldState:0}),v0=It(y0),N0=[9,13,27,32],Xi=Js&&"CompositionEvent"in window,lr=null;Js&&"documentMode"in document&&(lr=document.documentMode);var w0=Js&&"TextEvent"in window&&!lr,Do=Js&&(!Xi||lr&&8<lr&&11>=lr),qo=" ",zo=!1;function Uo(t,s){switch(t){case"keyup":return N0.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mo(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var gl=!1;function _0(t,s){switch(t){case"compositionend":return Mo(s);case"keypress":return s.which!==32?null:(zo=!0,qo);case"textInput":return t=s.data,t===qo&&zo?null:t;default:return null}}function S0(t,s){if(gl)return t==="compositionend"||!Xi&&Uo(t,s)?(t=ko(),Pr=Bi=xa=null,gl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Do&&s.locale!=="ko"?null:s.data;default:return null}}var k0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ro(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!k0[t.type]:s==="textarea"}function Oo(t,s,a,l){hl?fl?fl.push(l):fl=[l]:hl=l,s=Kn(s,"onChange"),0<s.length&&(a=new sn("onChange","change",null,a,l),t.push({event:a,listeners:s}))}var rr=null,nr=null;function C0(t){bx(t,0)}function ln(t){var s=Pl(t);if(jo(s))return t}function Lo(t,s){if(t==="change")return s}var Bo=!1;if(Js){var Qi;if(Js){var Ji="oninput"in document;if(!Ji){var Ho=document.createElement("div");Ho.setAttribute("oninput","return;"),Ji=typeof Ho.oninput=="function"}Qi=Ji}else Qi=!1;Bo=Qi&&(!document.documentMode||9<document.documentMode)}function Go(){rr&&(rr.detachEvent("onpropertychange",Vo),nr=rr=null)}function Vo(t){if(t.propertyName==="value"&&ln(nr)){var s=[];Oo(s,nr,t,Ri(t)),So(C0,s)}}function A0(t,s,a){t==="focusin"?(Go(),rr=s,nr=a,rr.attachEvent("onpropertychange",Vo)):t==="focusout"&&Go()}function T0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ln(nr)}function E0(t,s){if(t==="click")return ln(s)}function D0(t,s){if(t==="input"||t==="change")return ln(s)}function q0(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var ms=typeof Object.is=="function"?Object.is:q0;function ir(t,s){if(ms(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var a=Object.keys(t),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var r=a[l];if(!_t.call(s,r)||!ms(t[r],s[r]))return!1}return!0}function Yo(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Xo(t,s){var a=Yo(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=s&&l>=s)return{node:a,offset:s-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Yo(a)}}function Qo(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?Qo(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function Jo(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=Wr(t.document);s instanceof t.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)t=s.contentWindow;else break;s=Wr(t.document)}return s}function Ki(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}var z0=Js&&"documentMode"in document&&11>=document.documentMode,pl=null,Zi=null,cr=null,$i=!1;function Ko(t,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;$i||pl==null||pl!==Wr(l)||(l=pl,"selectionStart"in l&&Ki(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),cr&&ir(cr,l)||(cr=l,l=Kn(Zi,"onSelect"),0<l.length&&(s=new sn("onSelect","select",null,s,a),t.push({event:s,listeners:l}),s.target=pl)))}function Ga(t,s){var a={};return a[t.toLowerCase()]=s.toLowerCase(),a["Webkit"+t]="webkit"+s,a["Moz"+t]="moz"+s,a}var jl={animationend:Ga("Animation","AnimationEnd"),animationiteration:Ga("Animation","AnimationIteration"),animationstart:Ga("Animation","AnimationStart"),transitionrun:Ga("Transition","TransitionRun"),transitionstart:Ga("Transition","TransitionStart"),transitioncancel:Ga("Transition","TransitionCancel"),transitionend:Ga("Transition","TransitionEnd")},Fi={},Zo={};Js&&(Zo=document.createElement("div").style,"AnimationEvent"in window||(delete jl.animationend.animation,delete jl.animationiteration.animation,delete jl.animationstart.animation),"TransitionEvent"in window||delete jl.transitionend.transition);function Va(t){if(Fi[t])return Fi[t];if(!jl[t])return t;var s=jl[t],a;for(a in s)if(s.hasOwnProperty(a)&&a in Zo)return Fi[t]=s[a];return t}var $o=Va("animationend"),Fo=Va("animationiteration"),Wo=Va("animationstart"),U0=Va("transitionrun"),M0=Va("transitionstart"),R0=Va("transitioncancel"),Io=Va("transitionend"),Po=new Map,Wi="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Wi.push("scrollEnd");function zs(t,s){Po.set(t,s),Ba(s,[t])}var rn=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},_s=[],bl=0,Ii=0;function nn(){for(var t=bl,s=Ii=bl=0;s<t;){var a=_s[s];_s[s++]=null;var l=_s[s];_s[s++]=null;var r=_s[s];_s[s++]=null;var n=_s[s];if(_s[s++]=null,l!==null&&r!==null){var o=l.pending;o===null?r.next=r:(r.next=o.next,o.next=r),l.pending=r}n!==0&&eu(a,r,n)}}function cn(t,s,a,l){_s[bl++]=t,_s[bl++]=s,_s[bl++]=a,_s[bl++]=l,Ii|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Pi(t,s,a,l){return cn(t,s,a,l),dn(t)}function Ya(t,s){return cn(t,null,null,s),dn(t)}function eu(t,s,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var r=!1,n=t.return;n!==null;)n.childLanes|=a,l=n.alternate,l!==null&&(l.childLanes|=a),n.tag===22&&(t=n.stateNode,t===null||t._visibility&1||(r=!0)),t=n,n=n.return;return t.tag===3?(n=t.stateNode,r&&s!==null&&(r=31-Je(a),t=n.hiddenUpdates,l=t[r],l===null?t[r]=[s]:l.push(s),s.lane=a|536870912),n):null}function dn(t){if(50<Er)throw Er=0,cd=null,Error(c(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var yl={};function O0(t,s,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xs(t,s,a,l){return new O0(t,s,a,l)}function ec(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ks(t,s){var a=t.alternate;return a===null?(a=xs(t.tag,s,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=s,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,s=t.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function tu(t,s){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,s=a.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function on(t,s,a,l,r,n){var o=0;if(l=t,typeof t=="function")ec(t)&&(o=1);else if(typeof t=="string")o=Yf(t,a,me.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case L:return t=xs(31,a,s,r),t.elementType=L,t.lanes=n,t;case p:return Xa(a.children,r,n,s);case C:o=8,r|=24;break;case T:return t=xs(12,a,s,r|2),t.elementType=T,t.lanes=n,t;case v:return t=xs(13,a,s,r),t.elementType=v,t.lanes=n,t;case ee:return t=xs(19,a,s,r),t.elementType=ee,t.lanes=n,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case k:o=10;break e;case z:o=9;break e;case $:o=11;break e;case G:o=14;break e;case A:o=16,l=null;break e}o=29,a=Error(c(130,t===null?"null":typeof t,"")),l=null}return s=xs(o,a,s,r),s.elementType=t,s.type=l,s.lanes=n,s}function Xa(t,s,a,l){return t=xs(7,t,l,s),t.lanes=a,t}function tc(t,s,a){return t=xs(6,t,null,s),t.lanes=a,t}function su(t){var s=xs(18,null,null,0);return s.stateNode=t,s}function sc(t,s,a){return s=xs(4,t.children!==null?t.children:[],t.key,s),s.lanes=a,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}var au=new WeakMap;function Ss(t,s){if(typeof t=="object"&&t!==null){var a=au.get(t);return a!==void 0?a:(s={value:t,source:s,stack:pt(s)},au.set(t,s),s)}return{value:t,source:s,stack:pt(s)}}var vl=[],Nl=0,un=null,dr=0,ks=[],Cs=0,ha=null,Bs=1,Hs="";function Zs(t,s){vl[Nl++]=dr,vl[Nl++]=un,un=t,dr=s}function lu(t,s,a){ks[Cs++]=Bs,ks[Cs++]=Hs,ks[Cs++]=ha,ha=t;var l=Bs;t=Hs;var r=32-Je(l)-1;l&=~(1<<r),a+=1;var n=32-Je(s)+r;if(30<n){var o=r-r%5;n=(l&(1<<o)-1).toString(32),l>>=o,r-=o,Bs=1<<32-Je(s)+r|a<<r|l,Hs=n+t}else Bs=1<<n|a<<r|l,Hs=t}function ac(t){t.return!==null&&(Zs(t,1),lu(t,1,0))}function lc(t){for(;t===un;)un=vl[--Nl],vl[Nl]=null,dr=vl[--Nl],vl[Nl]=null;for(;t===ha;)ha=ks[--Cs],ks[Cs]=null,Hs=ks[--Cs],ks[Cs]=null,Bs=ks[--Cs],ks[Cs]=null}function ru(t,s){ks[Cs++]=Bs,ks[Cs++]=Hs,ks[Cs++]=ha,Bs=s.id,Hs=s.overflow,ha=t}var Rt=null,ct=null,Re=!1,fa=null,As=!1,rc=Error(c(519));function ga(t){var s=Error(c(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw or(Ss(s,t)),rc}function nu(t){var s=t.stateNode,a=t.type,l=t.memoizedProps;switch(s[Mt]=t,s[Wt]=l,a){case"dialog":qe("cancel",s),qe("close",s);break;case"iframe":case"object":case"embed":qe("load",s);break;case"video":case"audio":for(a=0;a<qr.length;a++)qe(qr[a],s);break;case"source":qe("error",s);break;case"img":case"image":case"link":qe("error",s),qe("load",s);break;case"details":qe("toggle",s);break;case"input":qe("invalid",s),bo(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":qe("invalid",s);break;case"textarea":qe("invalid",s),vo(s,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||wx(s.textContent,a)?(l.popover!=null&&(qe("beforetoggle",s),qe("toggle",s)),l.onScroll!=null&&qe("scroll",s),l.onScrollEnd!=null&&qe("scrollend",s),l.onClick!=null&&(s.onclick=Qs),s=!0):s=!1,s||ga(t,!0)}function iu(t){for(Rt=t.return;Rt;)switch(Rt.tag){case 5:case 31:case 13:As=!1;return;case 27:case 3:As=!0;return;default:Rt=Rt.return}}function wl(t){if(t!==Rt)return!1;if(!Re)return iu(t),Re=!0,!1;var s=t.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||wd(t.type,t.memoizedProps)),a=!a),a&&ct&&ga(t),iu(t),s===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(c(317));ct=qx(t)}else if(s===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(c(317));ct=qx(t)}else s===27?(s=ct,Ea(t.type)?(t=Ad,Ad=null,ct=t):ct=s):ct=Rt?Es(t.stateNode.nextSibling):null;return!0}function Qa(){ct=Rt=null,Re=!1}function nc(){var t=fa;return t!==null&&(ss===null?ss=t:ss.push.apply(ss,t),fa=null),t}function or(t){fa===null?fa=[t]:fa.push(t)}var ic=W(null),Ja=null,$s=null;function pa(t,s,a){de(ic,s._currentValue),s._currentValue=a}function Fs(t){t._currentValue=ic.current,B(ic)}function cc(t,s,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),t===a)break;t=t.return}}function dc(t,s,a,l){var r=t.child;for(r!==null&&(r.return=t);r!==null;){var n=r.dependencies;if(n!==null){var o=r.child;n=n.firstContext;e:for(;n!==null;){var h=n;n=r;for(var _=0;_<s.length;_++)if(h.context===s[_]){n.lanes|=a,h=n.alternate,h!==null&&(h.lanes|=a),cc(n.return,a,t),l||(o=null);break e}n=h.next}}else if(r.tag===18){if(o=r.return,o===null)throw Error(c(341));o.lanes|=a,n=o.alternate,n!==null&&(n.lanes|=a),cc(o,a,t),o=null}else o=r.child;if(o!==null)o.return=r;else for(o=r;o!==null;){if(o===t){o=null;break}if(r=o.sibling,r!==null){r.return=o.return,o=r;break}o=o.return}r=o}}function _l(t,s,a,l){t=null;for(var r=s,n=!1;r!==null;){if(!n){if((r.flags&524288)!==0)n=!0;else if((r.flags&262144)!==0)break}if(r.tag===10){var o=r.alternate;if(o===null)throw Error(c(387));if(o=o.memoizedProps,o!==null){var h=r.type;ms(r.pendingProps.value,o.value)||(t!==null?t.push(h):t=[h])}}else if(r===be.current){if(o=r.alternate,o===null)throw Error(c(387));o.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(t!==null?t.push(Or):t=[Or])}r=r.return}t!==null&&dc(s,t,a,l),s.flags|=262144}function mn(t){for(t=t.firstContext;t!==null;){if(!ms(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ka(t){Ja=t,$s=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ot(t){return cu(Ja,t)}function xn(t,s){return Ja===null&&Ka(t),cu(t,s)}function cu(t,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},$s===null){if(t===null)throw Error(c(308));$s=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else $s=$s.next=s;return a}var L0=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){s.aborted=!0,t.forEach(function(a){return a()})}},B0=d.unstable_scheduleCallback,H0=d.unstable_NormalPriority,kt={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function oc(){return{controller:new L0,data:new Map,refCount:0}}function ur(t){t.refCount--,t.refCount===0&&B0(H0,function(){t.controller.abort()})}var mr=null,uc=0,Sl=0,kl=null;function G0(t,s){if(mr===null){var a=mr=[];uc=0,Sl=hd(),kl={status:"pending",value:void 0,then:function(l){a.push(l)}}}return uc++,s.then(du,du),s}function du(){if(--uc===0&&mr!==null){kl!==null&&(kl.status="fulfilled");var t=mr;mr=null,Sl=0,kl=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function V0(t,s){var a=[],l={status:"pending",value:null,reason:null,then:function(r){a.push(r)}};return t.then(function(){l.status="fulfilled",l.value=s;for(var r=0;r<a.length;r++)(0,a[r])(s)},function(r){for(l.status="rejected",l.reason=r,r=0;r<a.length;r++)(0,a[r])(void 0)}),l}var ou=q.S;q.S=function(t,s){Km=Oe(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&G0(t,s),ou!==null&&ou(t,s)};var Za=W(null);function mc(){var t=Za.current;return t!==null?t:at.pooledCache}function hn(t,s){s===null?de(Za,Za.current):de(Za,s.pool)}function uu(){var t=mc();return t===null?null:{parent:kt._currentValue,pool:t}}var Cl=Error(c(460)),xc=Error(c(474)),fn=Error(c(542)),gn={then:function(){}};function mu(t){return t=t.status,t==="fulfilled"||t==="rejected"}function xu(t,s,a){switch(a=t[a],a===void 0?t.push(s):a!==s&&(s.then(Qs,Qs),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,fu(t),t;default:if(typeof s.status=="string")s.then(Qs,Qs);else{if(t=at,t!==null&&100<t.shellSuspendCounter)throw Error(c(482));t=s,t.status="pending",t.then(function(l){if(s.status==="pending"){var r=s;r.status="fulfilled",r.value=l}},function(l){if(s.status==="pending"){var r=s;r.status="rejected",r.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,fu(t),t}throw Fa=s,Cl}}function $a(t){try{var s=t._init;return s(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Fa=a,Cl):a}}var Fa=null;function hu(){if(Fa===null)throw Error(c(459));var t=Fa;return Fa=null,t}function fu(t){if(t===Cl||t===fn)throw Error(c(483))}var Al=null,xr=0;function pn(t){var s=xr;return xr+=1,Al===null&&(Al=[]),xu(Al,t,s)}function hr(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function jn(t,s){throw s.$$typeof===K?Error(c(525)):(t=Object.prototype.toString.call(s),Error(c(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function gu(t){function s(M,E){if(t){var V=M.deletions;V===null?(M.deletions=[E],M.flags|=16):V.push(E)}}function a(M,E){if(!t)return null;for(;E!==null;)s(M,E),E=E.sibling;return null}function l(M){for(var E=new Map;M!==null;)M.key!==null?E.set(M.key,M):E.set(M.index,M),M=M.sibling;return E}function r(M,E){return M=Ks(M,E),M.index=0,M.sibling=null,M}function n(M,E,V){return M.index=V,t?(V=M.alternate,V!==null?(V=V.index,V<E?(M.flags|=67108866,E):V):(M.flags|=67108866,E)):(M.flags|=1048576,E)}function o(M){return t&&M.alternate===null&&(M.flags|=67108866),M}function h(M,E,V,re){return E===null||E.tag!==6?(E=tc(V,M.mode,re),E.return=M,E):(E=r(E,V),E.return=M,E)}function _(M,E,V,re){var ve=V.type;return ve===p?se(M,E,V.props.children,re,V.key):E!==null&&(E.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===A&&$a(ve)===E.type)?(E=r(E,V.props),hr(E,V),E.return=M,E):(E=on(V.type,V.key,V.props,null,M.mode,re),hr(E,V),E.return=M,E)}function Y(M,E,V,re){return E===null||E.tag!==4||E.stateNode.containerInfo!==V.containerInfo||E.stateNode.implementation!==V.implementation?(E=sc(V,M.mode,re),E.return=M,E):(E=r(E,V.children||[]),E.return=M,E)}function se(M,E,V,re,ve){return E===null||E.tag!==7?(E=Xa(V,M.mode,re,ve),E.return=M,E):(E=r(E,V),E.return=M,E)}function ie(M,E,V){if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return E=tc(""+E,M.mode,V),E.return=M,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Q:return V=on(E.type,E.key,E.props,null,M.mode,V),hr(V,E),V.return=M,V;case S:return E=sc(E,M.mode,V),E.return=M,E;case A:return E=$a(E),ie(M,E,V)}if(ue(E)||F(E))return E=Xa(E,M.mode,V,null),E.return=M,E;if(typeof E.then=="function")return ie(M,pn(E),V);if(E.$$typeof===k)return ie(M,xn(M,E),V);jn(M,E)}return null}function J(M,E,V,re){var ve=E!==null?E.key:null;if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return ve!==null?null:h(M,E,""+V,re);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case Q:return V.key===ve?_(M,E,V,re):null;case S:return V.key===ve?Y(M,E,V,re):null;case A:return V=$a(V),J(M,E,V,re)}if(ue(V)||F(V))return ve!==null?null:se(M,E,V,re,null);if(typeof V.then=="function")return J(M,E,pn(V),re);if(V.$$typeof===k)return J(M,E,xn(M,V),re);jn(M,V)}return null}function P(M,E,V,re,ve){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return M=M.get(V)||null,h(E,M,""+re,ve);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case Q:return M=M.get(re.key===null?V:re.key)||null,_(E,M,re,ve);case S:return M=M.get(re.key===null?V:re.key)||null,Y(E,M,re,ve);case A:return re=$a(re),P(M,E,V,re,ve)}if(ue(re)||F(re))return M=M.get(V)||null,se(E,M,re,ve,null);if(typeof re.then=="function")return P(M,E,V,pn(re),ve);if(re.$$typeof===k)return P(M,E,V,xn(E,re),ve);jn(E,re)}return null}function fe(M,E,V,re){for(var ve=null,Ge=null,je=E,Te=E=0,Ue=null;je!==null&&Te<V.length;Te++){je.index>Te?(Ue=je,je=null):Ue=je.sibling;var Ve=J(M,je,V[Te],re);if(Ve===null){je===null&&(je=Ue);break}t&&je&&Ve.alternate===null&&s(M,je),E=n(Ve,E,Te),Ge===null?ve=Ve:Ge.sibling=Ve,Ge=Ve,je=Ue}if(Te===V.length)return a(M,je),Re&&Zs(M,Te),ve;if(je===null){for(;Te<V.length;Te++)je=ie(M,V[Te],re),je!==null&&(E=n(je,E,Te),Ge===null?ve=je:Ge.sibling=je,Ge=je);return Re&&Zs(M,Te),ve}for(je=l(je);Te<V.length;Te++)Ue=P(je,M,Te,V[Te],re),Ue!==null&&(t&&Ue.alternate!==null&&je.delete(Ue.key===null?Te:Ue.key),E=n(Ue,E,Te),Ge===null?ve=Ue:Ge.sibling=Ue,Ge=Ue);return t&&je.forEach(function(Ma){return s(M,Ma)}),Re&&Zs(M,Te),ve}function we(M,E,V,re){if(V==null)throw Error(c(151));for(var ve=null,Ge=null,je=E,Te=E=0,Ue=null,Ve=V.next();je!==null&&!Ve.done;Te++,Ve=V.next()){je.index>Te?(Ue=je,je=null):Ue=je.sibling;var Ma=J(M,je,Ve.value,re);if(Ma===null){je===null&&(je=Ue);break}t&&je&&Ma.alternate===null&&s(M,je),E=n(Ma,E,Te),Ge===null?ve=Ma:Ge.sibling=Ma,Ge=Ma,je=Ue}if(Ve.done)return a(M,je),Re&&Zs(M,Te),ve;if(je===null){for(;!Ve.done;Te++,Ve=V.next())Ve=ie(M,Ve.value,re),Ve!==null&&(E=n(Ve,E,Te),Ge===null?ve=Ve:Ge.sibling=Ve,Ge=Ve);return Re&&Zs(M,Te),ve}for(je=l(je);!Ve.done;Te++,Ve=V.next())Ve=P(je,M,Te,Ve.value,re),Ve!==null&&(t&&Ve.alternate!==null&&je.delete(Ve.key===null?Te:Ve.key),E=n(Ve,E,Te),Ge===null?ve=Ve:Ge.sibling=Ve,Ge=Ve);return t&&je.forEach(function(eg){return s(M,eg)}),Re&&Zs(M,Te),ve}function tt(M,E,V,re){if(typeof V=="object"&&V!==null&&V.type===p&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case Q:e:{for(var ve=V.key;E!==null;){if(E.key===ve){if(ve=V.type,ve===p){if(E.tag===7){a(M,E.sibling),re=r(E,V.props.children),re.return=M,M=re;break e}}else if(E.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===A&&$a(ve)===E.type){a(M,E.sibling),re=r(E,V.props),hr(re,V),re.return=M,M=re;break e}a(M,E);break}else s(M,E);E=E.sibling}V.type===p?(re=Xa(V.props.children,M.mode,re,V.key),re.return=M,M=re):(re=on(V.type,V.key,V.props,null,M.mode,re),hr(re,V),re.return=M,M=re)}return o(M);case S:e:{for(ve=V.key;E!==null;){if(E.key===ve)if(E.tag===4&&E.stateNode.containerInfo===V.containerInfo&&E.stateNode.implementation===V.implementation){a(M,E.sibling),re=r(E,V.children||[]),re.return=M,M=re;break e}else{a(M,E);break}else s(M,E);E=E.sibling}re=sc(V,M.mode,re),re.return=M,M=re}return o(M);case A:return V=$a(V),tt(M,E,V,re)}if(ue(V))return fe(M,E,V,re);if(F(V)){if(ve=F(V),typeof ve!="function")throw Error(c(150));return V=ve.call(V),we(M,E,V,re)}if(typeof V.then=="function")return tt(M,E,pn(V),re);if(V.$$typeof===k)return tt(M,E,xn(M,V),re);jn(M,V)}return typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint"?(V=""+V,E!==null&&E.tag===6?(a(M,E.sibling),re=r(E,V),re.return=M,M=re):(a(M,E),re=tc(V,M.mode,re),re.return=M,M=re),o(M)):a(M,E)}return function(M,E,V,re){try{xr=0;var ve=tt(M,E,V,re);return Al=null,ve}catch(je){if(je===Cl||je===fn)throw je;var Ge=xs(29,je,null,M.mode);return Ge.lanes=re,Ge.return=M,Ge}finally{}}}var Wa=gu(!0),pu=gu(!1),ja=!1;function hc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fc(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ba(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ya(t,s,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ye&2)!==0){var r=l.pending;return r===null?s.next=s:(s.next=r.next,r.next=s),l.pending=s,s=dn(t),eu(t,null,a),s}return cn(t,l,s,a),dn(t)}function fr(t,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=t.pendingLanes,a|=l,s.lanes=a,io(t,a)}}function gc(t,s){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var r=null,n=null;if(a=a.firstBaseUpdate,a!==null){do{var o={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};n===null?r=n=o:n=n.next=o,a=a.next}while(a!==null);n===null?r=n=s:n=n.next=s}else r=n=s;a={baseState:l.baseState,firstBaseUpdate:r,lastBaseUpdate:n,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=s:t.next=s,a.lastBaseUpdate=s}var pc=!1;function gr(){if(pc){var t=kl;if(t!==null)throw t}}function pr(t,s,a,l){pc=!1;var r=t.updateQueue;ja=!1;var n=r.firstBaseUpdate,o=r.lastBaseUpdate,h=r.shared.pending;if(h!==null){r.shared.pending=null;var _=h,Y=_.next;_.next=null,o===null?n=Y:o.next=Y,o=_;var se=t.alternate;se!==null&&(se=se.updateQueue,h=se.lastBaseUpdate,h!==o&&(h===null?se.firstBaseUpdate=Y:h.next=Y,se.lastBaseUpdate=_))}if(n!==null){var ie=r.baseState;o=0,se=Y=_=null,h=n;do{var J=h.lane&-536870913,P=J!==h.lane;if(P?(ze&J)===J:(l&J)===J){J!==0&&J===Sl&&(pc=!0),se!==null&&(se=se.next={lane:0,tag:h.tag,payload:h.payload,callback:null,next:null});e:{var fe=t,we=h;J=s;var tt=a;switch(we.tag){case 1:if(fe=we.payload,typeof fe=="function"){ie=fe.call(tt,ie,J);break e}ie=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=we.payload,J=typeof fe=="function"?fe.call(tt,ie,J):fe,J==null)break e;ie=w({},ie,J);break e;case 2:ja=!0}}J=h.callback,J!==null&&(t.flags|=64,P&&(t.flags|=8192),P=r.callbacks,P===null?r.callbacks=[J]:P.push(J))}else P={lane:J,tag:h.tag,payload:h.payload,callback:h.callback,next:null},se===null?(Y=se=P,_=ie):se=se.next=P,o|=J;if(h=h.next,h===null){if(h=r.shared.pending,h===null)break;P=h,h=P.next,P.next=null,r.lastBaseUpdate=P,r.shared.pending=null}}while(!0);se===null&&(_=ie),r.baseState=_,r.firstBaseUpdate=Y,r.lastBaseUpdate=se,n===null&&(r.shared.lanes=0),Sa|=o,t.lanes=o,t.memoizedState=ie}}function ju(t,s){if(typeof t!="function")throw Error(c(191,t));t.call(s)}function bu(t,s){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)ju(a[t],s)}var Tl=W(null),bn=W(0);function yu(t,s){t=ra,de(bn,t),de(Tl,s),ra=t|s.baseLanes}function jc(){de(bn,ra),de(Tl,Tl.current)}function bc(){ra=bn.current,B(Tl),B(bn)}var hs=W(null),Ts=null;function va(t){var s=t.alternate;de(Nt,Nt.current&1),de(hs,t),Ts===null&&(s===null||Tl.current!==null||s.memoizedState!==null)&&(Ts=t)}function yc(t){de(Nt,Nt.current),de(hs,t),Ts===null&&(Ts=t)}function vu(t){t.tag===22?(de(Nt,Nt.current),de(hs,t),Ts===null&&(Ts=t)):Na()}function Na(){de(Nt,Nt.current),de(hs,hs.current)}function fs(t){B(hs),Ts===t&&(Ts=null),B(Nt)}var Nt=W(0);function yn(t){for(var s=t;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||kd(a)||Cd(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Ws=0,Ae=null,Pe=null,Ct=null,vn=!1,El=!1,Ia=!1,Nn=0,jr=0,Dl=null,Y0=0;function bt(){throw Error(c(321))}function vc(t,s){if(s===null)return!1;for(var a=0;a<s.length&&a<t.length;a++)if(!ms(t[a],s[a]))return!1;return!0}function Nc(t,s,a,l,r,n){return Ws=n,Ae=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,q.H=t===null||t.memoizedState===null?lm:Oc,Ia=!1,n=a(l,r),Ia=!1,El&&(n=wu(s,a,l,r)),Nu(t),n}function Nu(t){q.H=vr;var s=Pe!==null&&Pe.next!==null;if(Ws=0,Ct=Pe=Ae=null,vn=!1,jr=0,Dl=null,s)throw Error(c(300));t===null||At||(t=t.dependencies,t!==null&&mn(t)&&(At=!0))}function wu(t,s,a,l){Ae=t;var r=0;do{if(El&&(Dl=null),jr=0,El=!1,25<=r)throw Error(c(301));if(r+=1,Ct=Pe=null,t.updateQueue!=null){var n=t.updateQueue;n.lastEffect=null,n.events=null,n.stores=null,n.memoCache!=null&&(n.memoCache.index=0)}q.H=rm,n=s(a,l)}while(El);return n}function X0(){var t=q.H,s=t.useState()[0];return s=typeof s.then=="function"?br(s):s,t=t.useState()[0],(Pe!==null?Pe.memoizedState:null)!==t&&(Ae.flags|=1024),s}function wc(){var t=Nn!==0;return Nn=0,t}function _c(t,s,a){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~a}function Sc(t){if(vn){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}vn=!1}Ws=0,Ct=Pe=Ae=null,El=!1,jr=Nn=0,Dl=null}function Kt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?Ae.memoizedState=Ct=t:Ct=Ct.next=t,Ct}function wt(){if(Pe===null){var t=Ae.alternate;t=t!==null?t.memoizedState:null}else t=Pe.next;var s=Ct===null?Ae.memoizedState:Ct.next;if(s!==null)Ct=s,Pe=t;else{if(t===null)throw Ae.alternate===null?Error(c(467)):Error(c(310));Pe=t,t={memoizedState:Pe.memoizedState,baseState:Pe.baseState,baseQueue:Pe.baseQueue,queue:Pe.queue,next:null},Ct===null?Ae.memoizedState=Ct=t:Ct=Ct.next=t}return Ct}function wn(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function br(t){var s=jr;return jr+=1,Dl===null&&(Dl=[]),t=xu(Dl,t,s),s=Ae,(Ct===null?s.memoizedState:Ct.next)===null&&(s=s.alternate,q.H=s===null||s.memoizedState===null?lm:Oc),t}function _n(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return br(t);if(t.$$typeof===k)return Ot(t)}throw Error(c(438,String(t)))}function kc(t){var s=null,a=Ae.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=Ae.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(r){return r.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=wn(),Ae.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(t),l=0;l<t;l++)a[l]=U;return s.index++,a}function Is(t,s){return typeof s=="function"?s(t):s}function Sn(t){var s=wt();return Cc(s,Pe,t)}function Cc(t,s,a){var l=t.queue;if(l===null)throw Error(c(311));l.lastRenderedReducer=a;var r=t.baseQueue,n=l.pending;if(n!==null){if(r!==null){var o=r.next;r.next=n.next,n.next=o}s.baseQueue=r=n,l.pending=null}if(n=t.baseState,r===null)t.memoizedState=n;else{s=r.next;var h=o=null,_=null,Y=s,se=!1;do{var ie=Y.lane&-536870913;if(ie!==Y.lane?(ze&ie)===ie:(Ws&ie)===ie){var J=Y.revertLane;if(J===0)_!==null&&(_=_.next={lane:0,revertLane:0,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),ie===Sl&&(se=!0);else if((Ws&J)===J){Y=Y.next,J===Sl&&(se=!0);continue}else ie={lane:0,revertLane:Y.revertLane,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},_===null?(h=_=ie,o=n):_=_.next=ie,Ae.lanes|=J,Sa|=J;ie=Y.action,Ia&&a(n,ie),n=Y.hasEagerState?Y.eagerState:a(n,ie)}else J={lane:ie,revertLane:Y.revertLane,gesture:Y.gesture,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},_===null?(h=_=J,o=n):_=_.next=J,Ae.lanes|=ie,Sa|=ie;Y=Y.next}while(Y!==null&&Y!==s);if(_===null?o=n:_.next=h,!ms(n,t.memoizedState)&&(At=!0,se&&(a=kl,a!==null)))throw a;t.memoizedState=n,t.baseState=o,t.baseQueue=_,l.lastRenderedState=n}return r===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Ac(t){var s=wt(),a=s.queue;if(a===null)throw Error(c(311));a.lastRenderedReducer=t;var l=a.dispatch,r=a.pending,n=s.memoizedState;if(r!==null){a.pending=null;var o=r=r.next;do n=t(n,o.action),o=o.next;while(o!==r);ms(n,s.memoizedState)||(At=!0),s.memoizedState=n,s.baseQueue===null&&(s.baseState=n),a.lastRenderedState=n}return[n,l]}function _u(t,s,a){var l=Ae,r=wt(),n=Re;if(n){if(a===void 0)throw Error(c(407));a=a()}else a=s();var o=!ms((Pe||r).memoizedState,a);if(o&&(r.memoizedState=a,At=!0),r=r.queue,Dc(Cu.bind(null,l,r,t),[t]),r.getSnapshot!==s||o||Ct!==null&&Ct.memoizedState.tag&1){if(l.flags|=2048,ql(9,{destroy:void 0},ku.bind(null,l,r,a,s),null),at===null)throw Error(c(349));n||(Ws&127)!==0||Su(l,s,a)}return a}function Su(t,s,a){t.flags|=16384,t={getSnapshot:s,value:a},s=Ae.updateQueue,s===null?(s=wn(),Ae.updateQueue=s,s.stores=[t]):(a=s.stores,a===null?s.stores=[t]:a.push(t))}function ku(t,s,a,l){s.value=a,s.getSnapshot=l,Au(s)&&Tu(t)}function Cu(t,s,a){return a(function(){Au(s)&&Tu(t)})}function Au(t){var s=t.getSnapshot;t=t.value;try{var a=s();return!ms(t,a)}catch{return!0}}function Tu(t){var s=Ya(t,2);s!==null&&as(s,t,2)}function Tc(t){var s=Kt();if(typeof t=="function"){var a=t;if(t=a(),Ia){Le(!0);try{a()}finally{Le(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Is,lastRenderedState:t},s}function Eu(t,s,a,l){return t.baseState=a,Cc(t,Pe,typeof l=="function"?l:Is)}function Q0(t,s,a,l,r){if(An(t))throw Error(c(485));if(t=s.action,t!==null){var n={payload:r,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(o){n.listeners.push(o)}};q.T!==null?a(!0):n.isTransition=!1,l(n),a=s.pending,a===null?(n.next=s.pending=n,Du(s,n)):(n.next=a.next,s.pending=a.next=n)}}function Du(t,s){var a=s.action,l=s.payload,r=t.state;if(s.isTransition){var n=q.T,o={};q.T=o;try{var h=a(r,l),_=q.S;_!==null&&_(o,h),qu(t,s,h)}catch(Y){Ec(t,s,Y)}finally{n!==null&&o.types!==null&&(n.types=o.types),q.T=n}}else try{n=a(r,l),qu(t,s,n)}catch(Y){Ec(t,s,Y)}}function qu(t,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){zu(t,s,l)},function(l){return Ec(t,s,l)}):zu(t,s,a)}function zu(t,s,a){s.status="fulfilled",s.value=a,Uu(s),t.state=a,s=t.pending,s!==null&&(a=s.next,a===s?t.pending=null:(a=a.next,s.next=a,Du(t,a)))}function Ec(t,s,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,Uu(s),s=s.next;while(s!==l)}t.action=null}function Uu(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function Mu(t,s){return s}function Ru(t,s){if(Re){var a=at.formState;if(a!==null){e:{var l=Ae;if(Re){if(ct){t:{for(var r=ct,n=As;r.nodeType!==8;){if(!n){r=null;break t}if(r=Es(r.nextSibling),r===null){r=null;break t}}n=r.data,r=n==="F!"||n==="F"?r:null}if(r){ct=Es(r.nextSibling),l=r.data==="F!";break e}}ga(l)}l=!1}l&&(s=a[0])}}return a=Kt(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mu,lastRenderedState:s},a.queue=l,a=tm.bind(null,Ae,l),l.dispatch=a,l=Tc(!1),n=Rc.bind(null,Ae,!1,l.queue),l=Kt(),r={state:s,dispatch:null,action:t,pending:null},l.queue=r,a=Q0.bind(null,Ae,r,n,a),r.dispatch=a,l.memoizedState=t,[s,a,!1]}function Ou(t){var s=wt();return Lu(s,Pe,t)}function Lu(t,s,a){if(s=Cc(t,s,Mu)[0],t=Sn(Is)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=br(s)}catch(o){throw o===Cl?fn:o}else l=s;s=wt();var r=s.queue,n=r.dispatch;return a!==s.memoizedState&&(Ae.flags|=2048,ql(9,{destroy:void 0},J0.bind(null,r,a),null)),[l,n,t]}function J0(t,s){t.action=s}function Bu(t){var s=wt(),a=Pe;if(a!==null)return Lu(s,a,t);wt(),s=s.memoizedState,a=wt();var l=a.queue.dispatch;return a.memoizedState=t,[s,l,!1]}function ql(t,s,a,l){return t={tag:t,create:a,deps:l,inst:s,next:null},s=Ae.updateQueue,s===null&&(s=wn(),Ae.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,s.lastEffect=t),t}function Hu(){return wt().memoizedState}function kn(t,s,a,l){var r=Kt();Ae.flags|=t,r.memoizedState=ql(1|s,{destroy:void 0},a,l===void 0?null:l)}function Cn(t,s,a,l){var r=wt();l=l===void 0?null:l;var n=r.memoizedState.inst;Pe!==null&&l!==null&&vc(l,Pe.memoizedState.deps)?r.memoizedState=ql(s,n,a,l):(Ae.flags|=t,r.memoizedState=ql(1|s,n,a,l))}function Gu(t,s){kn(8390656,8,t,s)}function Dc(t,s){Cn(2048,8,t,s)}function K0(t){Ae.flags|=4;var s=Ae.updateQueue;if(s===null)s=wn(),Ae.updateQueue=s,s.events=[t];else{var a=s.events;a===null?s.events=[t]:a.push(t)}}function Vu(t){var s=wt().memoizedState;return K0({ref:s,nextImpl:t}),function(){if((Ye&2)!==0)throw Error(c(440));return s.impl.apply(void 0,arguments)}}function Yu(t,s){return Cn(4,2,t,s)}function Xu(t,s){return Cn(4,4,t,s)}function Qu(t,s){if(typeof s=="function"){t=t();var a=s(t);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function Ju(t,s,a){a=a!=null?a.concat([t]):null,Cn(4,4,Qu.bind(null,s,t),a)}function qc(){}function Ku(t,s){var a=wt();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&vc(s,l[1])?l[0]:(a.memoizedState=[t,s],t)}function Zu(t,s){var a=wt();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&vc(s,l[1]))return l[0];if(l=t(),Ia){Le(!0);try{t()}finally{Le(!1)}}return a.memoizedState=[l,s],l}function zc(t,s,a){return a===void 0||(Ws&1073741824)!==0&&(ze&261930)===0?t.memoizedState=s:(t.memoizedState=a,t=$m(),Ae.lanes|=t,Sa|=t,a)}function $u(t,s,a,l){return ms(a,s)?a:Tl.current!==null?(t=zc(t,a,l),ms(t,s)||(At=!0),t):(Ws&42)===0||(Ws&1073741824)!==0&&(ze&261930)===0?(At=!0,t.memoizedState=a):(t=$m(),Ae.lanes|=t,Sa|=t,s)}function Fu(t,s,a,l,r){var n=le.p;le.p=n!==0&&8>n?n:8;var o=q.T,h={};q.T=h,Rc(t,!1,s,a);try{var _=r(),Y=q.S;if(Y!==null&&Y(h,_),_!==null&&typeof _=="object"&&typeof _.then=="function"){var se=V0(_,l);yr(t,s,se,js(t))}else yr(t,s,l,js(t))}catch(ie){yr(t,s,{then:function(){},status:"rejected",reason:ie},js())}finally{le.p=n,o!==null&&h.types!==null&&(o.types=h.types),q.T=o}}function Z0(){}function Uc(t,s,a,l){if(t.tag!==5)throw Error(c(476));var r=Wu(t).queue;Fu(t,r,s,D,a===null?Z0:function(){return Iu(t),a(l)})}function Wu(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:D,baseState:D,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Is,lastRenderedState:D},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Is,lastRenderedState:a},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function Iu(t){var s=Wu(t);s.next===null&&(s=t.alternate.memoizedState),yr(t,s.next.queue,{},js())}function Mc(){return Ot(Or)}function Pu(){return wt().memoizedState}function em(){return wt().memoizedState}function $0(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var a=js();t=ba(a);var l=ya(s,t,a);l!==null&&(as(l,s,a),fr(l,s,a)),s={cache:oc()},t.payload=s;return}s=s.return}}function F0(t,s,a){var l=js();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},An(t)?sm(s,a):(a=Pi(t,s,a,l),a!==null&&(as(a,t,l),am(a,s,l)))}function tm(t,s,a){var l=js();yr(t,s,a,l)}function yr(t,s,a,l){var r={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(An(t))sm(s,r);else{var n=t.alternate;if(t.lanes===0&&(n===null||n.lanes===0)&&(n=s.lastRenderedReducer,n!==null))try{var o=s.lastRenderedState,h=n(o,a);if(r.hasEagerState=!0,r.eagerState=h,ms(h,o))return cn(t,s,r,0),at===null&&nn(),!1}catch{}finally{}if(a=Pi(t,s,r,l),a!==null)return as(a,t,l),am(a,s,l),!0}return!1}function Rc(t,s,a,l){if(l={lane:2,revertLane:hd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},An(t)){if(s)throw Error(c(479))}else s=Pi(t,a,l,2),s!==null&&as(s,t,2)}function An(t){var s=t.alternate;return t===Ae||s!==null&&s===Ae}function sm(t,s){El=vn=!0;var a=t.pending;a===null?s.next=s:(s.next=a.next,a.next=s),t.pending=s}function am(t,s,a){if((a&4194048)!==0){var l=s.lanes;l&=t.pendingLanes,a|=l,s.lanes=a,io(t,a)}}var vr={readContext:Ot,use:_n,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useLayoutEffect:bt,useInsertionEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useSyncExternalStore:bt,useId:bt,useHostTransitionStatus:bt,useFormState:bt,useActionState:bt,useOptimistic:bt,useMemoCache:bt,useCacheRefresh:bt};vr.useEffectEvent=bt;var lm={readContext:Ot,use:_n,useCallback:function(t,s){return Kt().memoizedState=[t,s===void 0?null:s],t},useContext:Ot,useEffect:Gu,useImperativeHandle:function(t,s,a){a=a!=null?a.concat([t]):null,kn(4194308,4,Qu.bind(null,s,t),a)},useLayoutEffect:function(t,s){return kn(4194308,4,t,s)},useInsertionEffect:function(t,s){kn(4,2,t,s)},useMemo:function(t,s){var a=Kt();s=s===void 0?null:s;var l=t();if(Ia){Le(!0);try{t()}finally{Le(!1)}}return a.memoizedState=[l,s],l},useReducer:function(t,s,a){var l=Kt();if(a!==void 0){var r=a(s);if(Ia){Le(!0);try{a(s)}finally{Le(!1)}}}else r=s;return l.memoizedState=l.baseState=r,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},l.queue=t,t=t.dispatch=F0.bind(null,Ae,t),[l.memoizedState,t]},useRef:function(t){var s=Kt();return t={current:t},s.memoizedState=t},useState:function(t){t=Tc(t);var s=t.queue,a=tm.bind(null,Ae,s);return s.dispatch=a,[t.memoizedState,a]},useDebugValue:qc,useDeferredValue:function(t,s){var a=Kt();return zc(a,t,s)},useTransition:function(){var t=Tc(!1);return t=Fu.bind(null,Ae,t.queue,!0,!1),Kt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,a){var l=Ae,r=Kt();if(Re){if(a===void 0)throw Error(c(407));a=a()}else{if(a=s(),at===null)throw Error(c(349));(ze&127)!==0||Su(l,s,a)}r.memoizedState=a;var n={value:a,getSnapshot:s};return r.queue=n,Gu(Cu.bind(null,l,n,t),[t]),l.flags|=2048,ql(9,{destroy:void 0},ku.bind(null,l,n,a,s),null),a},useId:function(){var t=Kt(),s=at.identifierPrefix;if(Re){var a=Hs,l=Bs;a=(l&~(1<<32-Je(l)-1)).toString(32)+a,s="_"+s+"R_"+a,a=Nn++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=Y0++,s="_"+s+"r_"+a.toString(32)+"_";return t.memoizedState=s},useHostTransitionStatus:Mc,useFormState:Ru,useActionState:Ru,useOptimistic:function(t){var s=Kt();s.memoizedState=s.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=Rc.bind(null,Ae,!0,a),a.dispatch=s,[t,s]},useMemoCache:kc,useCacheRefresh:function(){return Kt().memoizedState=$0.bind(null,Ae)},useEffectEvent:function(t){var s=Kt(),a={impl:t};return s.memoizedState=a,function(){if((Ye&2)!==0)throw Error(c(440));return a.impl.apply(void 0,arguments)}}},Oc={readContext:Ot,use:_n,useCallback:Ku,useContext:Ot,useEffect:Dc,useImperativeHandle:Ju,useInsertionEffect:Yu,useLayoutEffect:Xu,useMemo:Zu,useReducer:Sn,useRef:Hu,useState:function(){return Sn(Is)},useDebugValue:qc,useDeferredValue:function(t,s){var a=wt();return $u(a,Pe.memoizedState,t,s)},useTransition:function(){var t=Sn(Is)[0],s=wt().memoizedState;return[typeof t=="boolean"?t:br(t),s]},useSyncExternalStore:_u,useId:Pu,useHostTransitionStatus:Mc,useFormState:Ou,useActionState:Ou,useOptimistic:function(t,s){var a=wt();return Eu(a,Pe,t,s)},useMemoCache:kc,useCacheRefresh:em};Oc.useEffectEvent=Vu;var rm={readContext:Ot,use:_n,useCallback:Ku,useContext:Ot,useEffect:Dc,useImperativeHandle:Ju,useInsertionEffect:Yu,useLayoutEffect:Xu,useMemo:Zu,useReducer:Ac,useRef:Hu,useState:function(){return Ac(Is)},useDebugValue:qc,useDeferredValue:function(t,s){var a=wt();return Pe===null?zc(a,t,s):$u(a,Pe.memoizedState,t,s)},useTransition:function(){var t=Ac(Is)[0],s=wt().memoizedState;return[typeof t=="boolean"?t:br(t),s]},useSyncExternalStore:_u,useId:Pu,useHostTransitionStatus:Mc,useFormState:Bu,useActionState:Bu,useOptimistic:function(t,s){var a=wt();return Pe!==null?Eu(a,Pe,t,s):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:kc,useCacheRefresh:em};rm.useEffectEvent=Vu;function Lc(t,s,a,l){s=t.memoizedState,a=a(l,s),a=a==null?s:w({},s,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Bc={enqueueSetState:function(t,s,a){t=t._reactInternals;var l=js(),r=ba(l);r.payload=s,a!=null&&(r.callback=a),s=ya(t,r,l),s!==null&&(as(s,t,l),fr(s,t,l))},enqueueReplaceState:function(t,s,a){t=t._reactInternals;var l=js(),r=ba(l);r.tag=1,r.payload=s,a!=null&&(r.callback=a),s=ya(t,r,l),s!==null&&(as(s,t,l),fr(s,t,l))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var a=js(),l=ba(a);l.tag=2,s!=null&&(l.callback=s),s=ya(t,l,a),s!==null&&(as(s,t,a),fr(s,t,a))}};function nm(t,s,a,l,r,n,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,n,o):s.prototype&&s.prototype.isPureReactComponent?!ir(a,l)||!ir(r,n):!0}function im(t,s,a,l){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==t&&Bc.enqueueReplaceState(s,s.state,null)}function Pa(t,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(t=t.defaultProps){a===s&&(a=w({},a));for(var r in t)a[r]===void 0&&(a[r]=t[r])}return a}function cm(t){rn(t)}function dm(t){console.error(t)}function om(t){rn(t)}function Tn(t,s){try{var a=t.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function um(t,s,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Hc(t,s,a){return a=ba(a),a.tag=3,a.payload={element:null},a.callback=function(){Tn(t,s)},a}function mm(t){return t=ba(t),t.tag=3,t}function xm(t,s,a,l){var r=a.type.getDerivedStateFromError;if(typeof r=="function"){var n=l.value;t.payload=function(){return r(n)},t.callback=function(){um(s,a,l)}}var o=a.stateNode;o!==null&&typeof o.componentDidCatch=="function"&&(t.callback=function(){um(s,a,l),typeof r!="function"&&(ka===null?ka=new Set([this]):ka.add(this));var h=l.stack;this.componentDidCatch(l.value,{componentStack:h!==null?h:""})})}function W0(t,s,a,l,r){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&_l(s,a,r,!0),a=hs.current,a!==null){switch(a.tag){case 31:case 13:return Ts===null?Gn():a.alternate===null&&yt===0&&(yt=3),a.flags&=-257,a.flags|=65536,a.lanes=r,l===gn?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),ud(t,l,r)),!1;case 22:return a.flags|=65536,l===gn?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),ud(t,l,r)),!1}throw Error(c(435,a.tag))}return ud(t,l,r),Gn(),!1}if(Re)return s=hs.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=r,l!==rc&&(t=Error(c(422),{cause:l}),or(Ss(t,a)))):(l!==rc&&(s=Error(c(423),{cause:l}),or(Ss(s,a))),t=t.current.alternate,t.flags|=65536,r&=-r,t.lanes|=r,l=Ss(l,a),r=Hc(t.stateNode,l,r),gc(t,r),yt!==4&&(yt=2)),!1;var n=Error(c(520),{cause:l});if(n=Ss(n,a),Tr===null?Tr=[n]:Tr.push(n),yt!==4&&(yt=2),s===null)return!0;l=Ss(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,t=r&-r,a.lanes|=t,t=Hc(a.stateNode,l,t),gc(a,t),!1;case 1:if(s=a.type,n=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||n!==null&&typeof n.componentDidCatch=="function"&&(ka===null||!ka.has(n))))return a.flags|=65536,r&=-r,a.lanes|=r,r=mm(r),xm(r,t,a,l),gc(a,r),!1}a=a.return}while(a!==null);return!1}var Gc=Error(c(461)),At=!1;function Lt(t,s,a,l){s.child=t===null?pu(s,null,a,l):Wa(s,t.child,a,l)}function hm(t,s,a,l,r){a=a.render;var n=s.ref;if("ref"in l){var o={};for(var h in l)h!=="ref"&&(o[h]=l[h])}else o=l;return Ka(s),l=Nc(t,s,a,o,n,r),h=wc(),t!==null&&!At?(_c(t,s,r),Ps(t,s,r)):(Re&&h&&ac(s),s.flags|=1,Lt(t,s,l,r),s.child)}function fm(t,s,a,l,r){if(t===null){var n=a.type;return typeof n=="function"&&!ec(n)&&n.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=n,gm(t,s,n,l,r)):(t=on(a.type,null,l,s,s.mode,r),t.ref=s.ref,t.return=s,s.child=t)}if(n=t.child,!$c(t,r)){var o=n.memoizedProps;if(a=a.compare,a=a!==null?a:ir,a(o,l)&&t.ref===s.ref)return Ps(t,s,r)}return s.flags|=1,t=Ks(n,l),t.ref=s.ref,t.return=s,s.child=t}function gm(t,s,a,l,r){if(t!==null){var n=t.memoizedProps;if(ir(n,l)&&t.ref===s.ref)if(At=!1,s.pendingProps=l=n,$c(t,r))(t.flags&131072)!==0&&(At=!0);else return s.lanes=t.lanes,Ps(t,s,r)}return Vc(t,s,a,l,r)}function pm(t,s,a,l){var r=l.children,n=t!==null?t.memoizedState:null;if(t===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((s.flags&128)!==0){if(n=n!==null?n.baseLanes|a:a,t!==null){for(l=s.child=t.child,r=0;l!==null;)r=r|l.lanes|l.childLanes,l=l.sibling;l=r&~n}else l=0,s.child=null;return jm(t,s,n,a,l)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&hn(s,n!==null?n.cachePool:null),n!==null?yu(s,n):jc(),vu(s);else return l=s.lanes=536870912,jm(t,s,n!==null?n.baseLanes|a:a,a,l)}else n!==null?(hn(s,n.cachePool),yu(s,n),Na(),s.memoizedState=null):(t!==null&&hn(s,null),jc(),Na());return Lt(t,s,r,a),s.child}function Nr(t,s){return t!==null&&t.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function jm(t,s,a,l,r){var n=mc();return n=n===null?null:{parent:kt._currentValue,pool:n},s.memoizedState={baseLanes:a,cachePool:n},t!==null&&hn(s,null),jc(),vu(s),t!==null&&_l(t,s,l,!0),s.childLanes=r,null}function En(t,s){return s=qn({mode:s.mode,children:s.children},t.mode),s.ref=t.ref,t.child=s,s.return=t,s}function bm(t,s,a){return Wa(s,t.child,null,a),t=En(s,s.pendingProps),t.flags|=2,fs(s),s.memoizedState=null,t}function I0(t,s,a){var l=s.pendingProps,r=(s.flags&128)!==0;if(s.flags&=-129,t===null){if(Re){if(l.mode==="hidden")return t=En(s,l),s.lanes=536870912,Nr(null,t);if(yc(s),(t=ct)?(t=Dx(t,As),t=t!==null&&t.data==="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:ha!==null?{id:Bs,overflow:Hs}:null,retryLane:536870912,hydrationErrors:null},a=su(t),a.return=s,s.child=a,Rt=s,ct=null)):t=null,t===null)throw ga(s);return s.lanes=536870912,null}return En(s,l)}var n=t.memoizedState;if(n!==null){var o=n.dehydrated;if(yc(s),r)if(s.flags&256)s.flags&=-257,s=bm(t,s,a);else if(s.memoizedState!==null)s.child=t.child,s.flags|=128,s=null;else throw Error(c(558));else if(At||_l(t,s,a,!1),r=(a&t.childLanes)!==0,At||r){if(l=at,l!==null&&(o=co(l,a),o!==0&&o!==n.retryLane))throw n.retryLane=o,Ya(t,o),as(l,t,o),Gc;Gn(),s=bm(t,s,a)}else t=n.treeContext,ct=Es(o.nextSibling),Rt=s,Re=!0,fa=null,As=!1,t!==null&&ru(s,t),s=En(s,l),s.flags|=4096;return s}return t=Ks(t.child,{mode:l.mode,children:l.children}),t.ref=s.ref,s.child=t,t.return=s,t}function Dn(t,s){var a=s.ref;if(a===null)t!==null&&t.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(c(284));(t===null||t.ref!==a)&&(s.flags|=4194816)}}function Vc(t,s,a,l,r){return Ka(s),a=Nc(t,s,a,l,void 0,r),l=wc(),t!==null&&!At?(_c(t,s,r),Ps(t,s,r)):(Re&&l&&ac(s),s.flags|=1,Lt(t,s,a,r),s.child)}function ym(t,s,a,l,r,n){return Ka(s),s.updateQueue=null,a=wu(s,l,a,r),Nu(t),l=wc(),t!==null&&!At?(_c(t,s,n),Ps(t,s,n)):(Re&&l&&ac(s),s.flags|=1,Lt(t,s,a,n),s.child)}function vm(t,s,a,l,r){if(Ka(s),s.stateNode===null){var n=yl,o=a.contextType;typeof o=="object"&&o!==null&&(n=Ot(o)),n=new a(l,n),s.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Bc,s.stateNode=n,n._reactInternals=s,n=s.stateNode,n.props=l,n.state=s.memoizedState,n.refs={},hc(s),o=a.contextType,n.context=typeof o=="object"&&o!==null?Ot(o):yl,n.state=s.memoizedState,o=a.getDerivedStateFromProps,typeof o=="function"&&(Lc(s,a,o,l),n.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof n.getSnapshotBeforeUpdate=="function"||typeof n.UNSAFE_componentWillMount!="function"&&typeof n.componentWillMount!="function"||(o=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),o!==n.state&&Bc.enqueueReplaceState(n,n.state,null),pr(s,l,n,r),gr(),n.state=s.memoizedState),typeof n.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(t===null){n=s.stateNode;var h=s.memoizedProps,_=Pa(a,h);n.props=_;var Y=n.context,se=a.contextType;o=yl,typeof se=="object"&&se!==null&&(o=Ot(se));var ie=a.getDerivedStateFromProps;se=typeof ie=="function"||typeof n.getSnapshotBeforeUpdate=="function",h=s.pendingProps!==h,se||typeof n.UNSAFE_componentWillReceiveProps!="function"&&typeof n.componentWillReceiveProps!="function"||(h||Y!==o)&&im(s,n,l,o),ja=!1;var J=s.memoizedState;n.state=J,pr(s,l,n,r),gr(),Y=s.memoizedState,h||J!==Y||ja?(typeof ie=="function"&&(Lc(s,a,ie,l),Y=s.memoizedState),(_=ja||nm(s,a,_,l,J,Y,o))?(se||typeof n.UNSAFE_componentWillMount!="function"&&typeof n.componentWillMount!="function"||(typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount()),typeof n.componentDidMount=="function"&&(s.flags|=4194308)):(typeof n.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=Y),n.props=l,n.state=Y,n.context=o,l=_):(typeof n.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{n=s.stateNode,fc(t,s),o=s.memoizedProps,se=Pa(a,o),n.props=se,ie=s.pendingProps,J=n.context,Y=a.contextType,_=yl,typeof Y=="object"&&Y!==null&&(_=Ot(Y)),h=a.getDerivedStateFromProps,(Y=typeof h=="function"||typeof n.getSnapshotBeforeUpdate=="function")||typeof n.UNSAFE_componentWillReceiveProps!="function"&&typeof n.componentWillReceiveProps!="function"||(o!==ie||J!==_)&&im(s,n,l,_),ja=!1,J=s.memoizedState,n.state=J,pr(s,l,n,r),gr();var P=s.memoizedState;o!==ie||J!==P||ja||t!==null&&t.dependencies!==null&&mn(t.dependencies)?(typeof h=="function"&&(Lc(s,a,h,l),P=s.memoizedState),(se=ja||nm(s,a,se,l,J,P,_)||t!==null&&t.dependencies!==null&&mn(t.dependencies))?(Y||typeof n.UNSAFE_componentWillUpdate!="function"&&typeof n.componentWillUpdate!="function"||(typeof n.componentWillUpdate=="function"&&n.componentWillUpdate(l,P,_),typeof n.UNSAFE_componentWillUpdate=="function"&&n.UNSAFE_componentWillUpdate(l,P,_)),typeof n.componentDidUpdate=="function"&&(s.flags|=4),typeof n.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof n.componentDidUpdate!="function"||o===t.memoizedProps&&J===t.memoizedState||(s.flags|=4),typeof n.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&J===t.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=P),n.props=l,n.state=P,n.context=_,l=se):(typeof n.componentDidUpdate!="function"||o===t.memoizedProps&&J===t.memoizedState||(s.flags|=4),typeof n.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&J===t.memoizedState||(s.flags|=1024),l=!1)}return n=l,Dn(t,s),l=(s.flags&128)!==0,n||l?(n=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:n.render(),s.flags|=1,t!==null&&l?(s.child=Wa(s,t.child,null,r),s.child=Wa(s,null,a,r)):Lt(t,s,a,r),s.memoizedState=n.state,t=s.child):t=Ps(t,s,r),t}function Nm(t,s,a,l){return Qa(),s.flags|=256,Lt(t,s,a,l),s.child}var Yc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xc(t){return{baseLanes:t,cachePool:uu()}}function Qc(t,s,a){return t=t!==null?t.childLanes&~a:0,s&&(t|=ps),t}function wm(t,s,a){var l=s.pendingProps,r=!1,n=(s.flags&128)!==0,o;if((o=n)||(o=t!==null&&t.memoizedState===null?!1:(Nt.current&2)!==0),o&&(r=!0,s.flags&=-129),o=(s.flags&32)!==0,s.flags&=-33,t===null){if(Re){if(r?va(s):Na(),(t=ct)?(t=Dx(t,As),t=t!==null&&t.data!=="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:ha!==null?{id:Bs,overflow:Hs}:null,retryLane:536870912,hydrationErrors:null},a=su(t),a.return=s,s.child=a,Rt=s,ct=null)):t=null,t===null)throw ga(s);return Cd(t)?s.lanes=32:s.lanes=536870912,null}var h=l.children;return l=l.fallback,r?(Na(),r=s.mode,h=qn({mode:"hidden",children:h},r),l=Xa(l,r,a,null),h.return=s,l.return=s,h.sibling=l,s.child=h,l=s.child,l.memoizedState=Xc(a),l.childLanes=Qc(t,o,a),s.memoizedState=Yc,Nr(null,l)):(va(s),Jc(s,h))}var _=t.memoizedState;if(_!==null&&(h=_.dehydrated,h!==null)){if(n)s.flags&256?(va(s),s.flags&=-257,s=Kc(t,s,a)):s.memoizedState!==null?(Na(),s.child=t.child,s.flags|=128,s=null):(Na(),h=l.fallback,r=s.mode,l=qn({mode:"visible",children:l.children},r),h=Xa(h,r,a,null),h.flags|=2,l.return=s,h.return=s,l.sibling=h,s.child=l,Wa(s,t.child,null,a),l=s.child,l.memoizedState=Xc(a),l.childLanes=Qc(t,o,a),s.memoizedState=Yc,s=Nr(null,l));else if(va(s),Cd(h)){if(o=h.nextSibling&&h.nextSibling.dataset,o)var Y=o.dgst;o=Y,l=Error(c(419)),l.stack="",l.digest=o,or({value:l,source:null,stack:null}),s=Kc(t,s,a)}else if(At||_l(t,s,a,!1),o=(a&t.childLanes)!==0,At||o){if(o=at,o!==null&&(l=co(o,a),l!==0&&l!==_.retryLane))throw _.retryLane=l,Ya(t,l),as(o,t,l),Gc;kd(h)||Gn(),s=Kc(t,s,a)}else kd(h)?(s.flags|=192,s.child=t.child,s=null):(t=_.treeContext,ct=Es(h.nextSibling),Rt=s,Re=!0,fa=null,As=!1,t!==null&&ru(s,t),s=Jc(s,l.children),s.flags|=4096);return s}return r?(Na(),h=l.fallback,r=s.mode,_=t.child,Y=_.sibling,l=Ks(_,{mode:"hidden",children:l.children}),l.subtreeFlags=_.subtreeFlags&65011712,Y!==null?h=Ks(Y,h):(h=Xa(h,r,a,null),h.flags|=2),h.return=s,l.return=s,l.sibling=h,s.child=l,Nr(null,l),l=s.child,h=t.child.memoizedState,h===null?h=Xc(a):(r=h.cachePool,r!==null?(_=kt._currentValue,r=r.parent!==_?{parent:_,pool:_}:r):r=uu(),h={baseLanes:h.baseLanes|a,cachePool:r}),l.memoizedState=h,l.childLanes=Qc(t,o,a),s.memoizedState=Yc,Nr(t.child,l)):(va(s),a=t.child,t=a.sibling,a=Ks(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,t!==null&&(o=s.deletions,o===null?(s.deletions=[t],s.flags|=16):o.push(t)),s.child=a,s.memoizedState=null,a)}function Jc(t,s){return s=qn({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function qn(t,s){return t=xs(22,t,null,s),t.lanes=0,t}function Kc(t,s,a){return Wa(s,t.child,null,a),t=Jc(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function _m(t,s,a){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s),cc(t.return,s,a)}function Zc(t,s,a,l,r,n){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:r,treeForkCount:n}:(o.isBackwards=s,o.rendering=null,o.renderingStartTime=0,o.last=l,o.tail=a,o.tailMode=r,o.treeForkCount=n)}function Sm(t,s,a){var l=s.pendingProps,r=l.revealOrder,n=l.tail;l=l.children;var o=Nt.current,h=(o&2)!==0;if(h?(o=o&1|2,s.flags|=128):o&=1,de(Nt,o),Lt(t,s,l,a),l=Re?dr:0,!h&&t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&_m(t,a,s);else if(t.tag===19)_m(t,a,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(r){case"forwards":for(a=s.child,r=null;a!==null;)t=a.alternate,t!==null&&yn(t)===null&&(r=a),a=a.sibling;a=r,a===null?(r=s.child,s.child=null):(r=a.sibling,a.sibling=null),Zc(s,!1,r,a,n,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,r=s.child,s.child=null;r!==null;){if(t=r.alternate,t!==null&&yn(t)===null){s.child=r;break}t=r.sibling,r.sibling=a,a=r,r=t}Zc(s,!0,a,null,n,l);break;case"together":Zc(s,!1,null,null,void 0,l);break;default:s.memoizedState=null}return s.child}function Ps(t,s,a){if(t!==null&&(s.dependencies=t.dependencies),Sa|=s.lanes,(a&s.childLanes)===0)if(t!==null){if(_l(t,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(c(153));if(s.child!==null){for(t=s.child,a=Ks(t,t.pendingProps),s.child=a,a.return=s;t.sibling!==null;)t=t.sibling,a=a.sibling=Ks(t,t.pendingProps),a.return=s;a.sibling=null}return s.child}function $c(t,s){return(t.lanes&s)!==0?!0:(t=t.dependencies,!!(t!==null&&mn(t)))}function P0(t,s,a){switch(s.tag){case 3:he(s,s.stateNode.containerInfo),pa(s,kt,t.memoizedState.cache),Qa();break;case 27:case 5:Qe(s);break;case 4:he(s,s.stateNode.containerInfo);break;case 10:pa(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,yc(s),null;break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(va(s),s.flags|=128,null):(a&s.child.childLanes)!==0?wm(t,s,a):(va(s),t=Ps(t,s,a),t!==null?t.sibling:null);va(s);break;case 19:var r=(t.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(_l(t,s,a,!1),l=(a&s.childLanes)!==0),r){if(l)return Sm(t,s,a);s.flags|=128}if(r=s.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),de(Nt,Nt.current),l)break;return null;case 22:return s.lanes=0,pm(t,s,a,s.pendingProps);case 24:pa(s,kt,t.memoizedState.cache)}return Ps(t,s,a)}function km(t,s,a){if(t!==null)if(t.memoizedProps!==s.pendingProps)At=!0;else{if(!$c(t,a)&&(s.flags&128)===0)return At=!1,P0(t,s,a);At=(t.flags&131072)!==0}else At=!1,Re&&(s.flags&1048576)!==0&&lu(s,dr,s.index);switch(s.lanes=0,s.tag){case 16:e:{var l=s.pendingProps;if(t=$a(s.elementType),s.type=t,typeof t=="function")ec(t)?(l=Pa(t,l),s.tag=1,s=vm(null,s,t,l,a)):(s.tag=0,s=Vc(null,s,t,l,a));else{if(t!=null){var r=t.$$typeof;if(r===$){s.tag=11,s=hm(null,s,t,l,a);break e}else if(r===G){s.tag=14,s=fm(null,s,t,l,a);break e}}throw s=ce(t)||t,Error(c(306,s,""))}}return s;case 0:return Vc(t,s,s.type,s.pendingProps,a);case 1:return l=s.type,r=Pa(l,s.pendingProps),vm(t,s,l,r,a);case 3:e:{if(he(s,s.stateNode.containerInfo),t===null)throw Error(c(387));l=s.pendingProps;var n=s.memoizedState;r=n.element,fc(t,s),pr(s,l,null,a);var o=s.memoizedState;if(l=o.cache,pa(s,kt,l),l!==n.cache&&dc(s,[kt],a,!0),gr(),l=o.element,n.isDehydrated)if(n={element:l,isDehydrated:!1,cache:o.cache},s.updateQueue.baseState=n,s.memoizedState=n,s.flags&256){s=Nm(t,s,l,a);break e}else if(l!==r){r=Ss(Error(c(424)),s),or(r),s=Nm(t,s,l,a);break e}else{switch(t=s.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ct=Es(t.firstChild),Rt=s,Re=!0,fa=null,As=!0,a=pu(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Qa(),l===r){s=Ps(t,s,a);break e}Lt(t,s,l,a)}s=s.child}return s;case 26:return Dn(t,s),t===null?(a=Ox(s.type,null,s.pendingProps,null))?s.memoizedState=a:Re||(a=s.type,t=s.pendingProps,l=Zn(te.current).createElement(a),l[Mt]=s,l[Wt]=t,Bt(l,a,t),qt(l),s.stateNode=l):s.memoizedState=Ox(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return Qe(s),t===null&&Re&&(l=s.stateNode=Ux(s.type,s.pendingProps,te.current),Rt=s,As=!0,r=ct,Ea(s.type)?(Ad=r,ct=Es(l.firstChild)):ct=r),Lt(t,s,s.pendingProps.children,a),Dn(t,s),t===null&&(s.flags|=4194304),s.child;case 5:return t===null&&Re&&((r=l=ct)&&(l=Ef(l,s.type,s.pendingProps,As),l!==null?(s.stateNode=l,Rt=s,ct=Es(l.firstChild),As=!1,r=!0):r=!1),r||ga(s)),Qe(s),r=s.type,n=s.pendingProps,o=t!==null?t.memoizedProps:null,l=n.children,wd(r,n)?l=null:o!==null&&wd(r,o)&&(s.flags|=32),s.memoizedState!==null&&(r=Nc(t,s,X0,null,null,a),Or._currentValue=r),Dn(t,s),Lt(t,s,l,a),s.child;case 6:return t===null&&Re&&((t=a=ct)&&(a=Df(a,s.pendingProps,As),a!==null?(s.stateNode=a,Rt=s,ct=null,t=!0):t=!1),t||ga(s)),null;case 13:return wm(t,s,a);case 4:return he(s,s.stateNode.containerInfo),l=s.pendingProps,t===null?s.child=Wa(s,null,l,a):Lt(t,s,l,a),s.child;case 11:return hm(t,s,s.type,s.pendingProps,a);case 7:return Lt(t,s,s.pendingProps,a),s.child;case 8:return Lt(t,s,s.pendingProps.children,a),s.child;case 12:return Lt(t,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,pa(s,s.type,l.value),Lt(t,s,l.children,a),s.child;case 9:return r=s.type._context,l=s.pendingProps.children,Ka(s),r=Ot(r),l=l(r),s.flags|=1,Lt(t,s,l,a),s.child;case 14:return fm(t,s,s.type,s.pendingProps,a);case 15:return gm(t,s,s.type,s.pendingProps,a);case 19:return Sm(t,s,a);case 31:return I0(t,s,a);case 22:return pm(t,s,a,s.pendingProps);case 24:return Ka(s),l=Ot(kt),t===null?(r=mc(),r===null&&(r=at,n=oc(),r.pooledCache=n,n.refCount++,n!==null&&(r.pooledCacheLanes|=a),r=n),s.memoizedState={parent:l,cache:r},hc(s),pa(s,kt,r)):((t.lanes&a)!==0&&(fc(t,s),pr(s,null,null,a),gr()),r=t.memoizedState,n=s.memoizedState,r.parent!==l?(r={parent:l,cache:l},s.memoizedState=r,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=r),pa(s,kt,l)):(l=n.cache,pa(s,kt,l),l!==r.cache&&dc(s,[kt],a,!0))),Lt(t,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(c(156,s.tag))}function ea(t){t.flags|=4}function Fc(t,s,a,l,r){if((s=(t.mode&32)!==0)&&(s=!1),s){if(t.flags|=16777216,(r&335544128)===r)if(t.stateNode.complete)t.flags|=8192;else if(Pm())t.flags|=8192;else throw Fa=gn,xc}else t.flags&=-16777217}function Cm(t,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Vx(s))if(Pm())t.flags|=8192;else throw Fa=gn,xc}function zn(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?ro():536870912,t.lanes|=s,Rl|=s)}function wr(t,s){if(!Re)switch(t.tailMode){case"hidden":s=t.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function dt(t){var s=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(s)for(var r=t.child;r!==null;)a|=r.lanes|r.childLanes,l|=r.subtreeFlags&65011712,l|=r.flags&65011712,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)a|=r.lanes|r.childLanes,l|=r.subtreeFlags,l|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=l,t.childLanes=a,s}function ef(t,s,a){var l=s.pendingProps;switch(lc(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(s),null;case 1:return dt(s),null;case 3:return a=s.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Fs(kt),Ce(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(wl(s)?ea(s):t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,nc())),dt(s),null;case 26:var r=s.type,n=s.memoizedState;return t===null?(ea(s),n!==null?(dt(s),Cm(s,n)):(dt(s),Fc(s,r,null,l,a))):n?n!==t.memoizedState?(ea(s),dt(s),Cm(s,n)):(dt(s),s.flags&=-16777217):(t=t.memoizedProps,t!==l&&ea(s),dt(s),Fc(s,r,t,l,a)),null;case 27:if(Z(s),a=te.current,r=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==l&&ea(s);else{if(!l){if(s.stateNode===null)throw Error(c(166));return dt(s),null}t=me.current,wl(s)?nu(s):(t=Ux(r,l,a),s.stateNode=t,ea(s))}return dt(s),null;case 5:if(Z(s),r=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==l&&ea(s);else{if(!l){if(s.stateNode===null)throw Error(c(166));return dt(s),null}if(n=me.current,wl(s))nu(s);else{var o=Zn(te.current);switch(n){case 1:n=o.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:n=o.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":n=o.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":n=o.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?o.createElement("select",{is:l.is}):o.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?o.createElement(r,{is:l.is}):o.createElement(r)}}n[Mt]=s,n[Wt]=l;e:for(o=s.child;o!==null;){if(o.tag===5||o.tag===6)n.appendChild(o.stateNode);else if(o.tag!==4&&o.tag!==27&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}s.stateNode=n;e:switch(Bt(n,r,l),r){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ea(s)}}return dt(s),Fc(s,s.type,t===null?null:t.memoizedProps,s.pendingProps,a),null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==l&&ea(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(c(166));if(t=te.current,wl(s)){if(t=s.stateNode,a=s.memoizedProps,l=null,r=Rt,r!==null)switch(r.tag){case 27:case 5:l=r.memoizedProps}t[Mt]=s,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||wx(t.nodeValue,a)),t||ga(s,!0)}else t=Zn(t).createTextNode(l),t[Mt]=s,s.stateNode=t}return dt(s),null;case 31:if(a=s.memoizedState,t===null||t.memoizedState!==null){if(l=wl(s),a!==null){if(t===null){if(!l)throw Error(c(318));if(t=s.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(c(557));t[Mt]=s}else Qa(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;dt(s),t=!1}else a=nc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return s.flags&256?(fs(s),s):(fs(s),null);if((s.flags&128)!==0)throw Error(c(558))}return dt(s),null;case 13:if(l=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(r=wl(s),l!==null&&l.dehydrated!==null){if(t===null){if(!r)throw Error(c(318));if(r=s.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(c(317));r[Mt]=s}else Qa(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;dt(s),r=!1}else r=nc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),r=!0;if(!r)return s.flags&256?(fs(s),s):(fs(s),null)}return fs(s),(s.flags&128)!==0?(s.lanes=a,s):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=s.child,r=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(r=l.alternate.memoizedState.cachePool.pool),n=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(n=l.memoizedState.cachePool.pool),n!==r&&(l.flags|=2048)),a!==t&&a&&(s.child.flags|=8192),zn(s,s.updateQueue),dt(s),null);case 4:return Ce(),t===null&&jd(s.stateNode.containerInfo),dt(s),null;case 10:return Fs(s.type),dt(s),null;case 19:if(B(Nt),l=s.memoizedState,l===null)return dt(s),null;if(r=(s.flags&128)!==0,n=l.rendering,n===null)if(r)wr(l,!1);else{if(yt!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(n=yn(t),n!==null){for(s.flags|=128,wr(l,!1),t=n.updateQueue,s.updateQueue=t,zn(s,t),s.subtreeFlags=0,t=a,a=s.child;a!==null;)tu(a,t),a=a.sibling;return de(Nt,Nt.current&1|2),Re&&Zs(s,l.treeForkCount),s.child}t=t.sibling}l.tail!==null&&Oe()>Ln&&(s.flags|=128,r=!0,wr(l,!1),s.lanes=4194304)}else{if(!r)if(t=yn(n),t!==null){if(s.flags|=128,r=!0,t=t.updateQueue,s.updateQueue=t,zn(s,t),wr(l,!0),l.tail===null&&l.tailMode==="hidden"&&!n.alternate&&!Re)return dt(s),null}else 2*Oe()-l.renderingStartTime>Ln&&a!==536870912&&(s.flags|=128,r=!0,wr(l,!1),s.lanes=4194304);l.isBackwards?(n.sibling=s.child,s.child=n):(t=l.last,t!==null?t.sibling=n:s.child=n,l.last=n)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Oe(),t.sibling=null,a=Nt.current,de(Nt,r?a&1|2:a&1),Re&&Zs(s,l.treeForkCount),t):(dt(s),null);case 22:case 23:return fs(s),bc(),l=s.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(dt(s),s.subtreeFlags&6&&(s.flags|=8192)):dt(s),a=s.updateQueue,a!==null&&zn(s,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),t!==null&&B(Za),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),Fs(kt),dt(s),null;case 25:return null;case 30:return null}throw Error(c(156,s.tag))}function tf(t,s){switch(lc(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return Fs(kt),Ce(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return Z(s),null;case 31:if(s.memoizedState!==null){if(fs(s),s.alternate===null)throw Error(c(340));Qa()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 13:if(fs(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(c(340));Qa()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return B(Nt),null;case 4:return Ce(),null;case 10:return Fs(s.type),null;case 22:case 23:return fs(s),bc(),t!==null&&B(Za),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return Fs(kt),null;case 25:return null;default:return null}}function Am(t,s){switch(lc(s),s.tag){case 3:Fs(kt),Ce();break;case 26:case 27:case 5:Z(s);break;case 4:Ce();break;case 31:s.memoizedState!==null&&fs(s);break;case 13:fs(s);break;case 19:B(Nt);break;case 10:Fs(s.type);break;case 22:case 23:fs(s),bc(),t!==null&&B(Za);break;case 24:Fs(kt)}}function _r(t,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var r=l.next;a=r;do{if((a.tag&t)===t){l=void 0;var n=a.create,o=a.inst;l=n(),o.destroy=l}a=a.next}while(a!==r)}}catch(h){Ze(s,s.return,h)}}function wa(t,s,a){try{var l=s.updateQueue,r=l!==null?l.lastEffect:null;if(r!==null){var n=r.next;l=n;do{if((l.tag&t)===t){var o=l.inst,h=o.destroy;if(h!==void 0){o.destroy=void 0,r=s;var _=a,Y=h;try{Y()}catch(se){Ze(r,_,se)}}}l=l.next}while(l!==n)}}catch(se){Ze(s,s.return,se)}}function Tm(t){var s=t.updateQueue;if(s!==null){var a=t.stateNode;try{bu(s,a)}catch(l){Ze(t,t.return,l)}}}function Em(t,s,a){a.props=Pa(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ze(t,s,l)}}function Sr(t,s){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(r){Ze(t,s,r)}}function Gs(t,s){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(r){Ze(t,s,r)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(r){Ze(t,s,r)}else a.current=null}function Dm(t){var s=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(r){Ze(t,t.return,r)}}function Wc(t,s,a){try{var l=t.stateNode;_f(l,t.type,a,s),l[Wt]=s}catch(r){Ze(t,t.return,r)}}function qm(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ea(t.type)||t.tag===4}function Ic(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||qm(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ea(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Pc(t,s,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(t),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Qs));else if(l!==4&&(l===27&&Ea(t.type)&&(a=t.stateNode,s=null),t=t.child,t!==null))for(Pc(t,s,a),t=t.sibling;t!==null;)Pc(t,s,a),t=t.sibling}function Un(t,s,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,s?a.insertBefore(t,s):a.appendChild(t);else if(l!==4&&(l===27&&Ea(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Un(t,s,a),t=t.sibling;t!==null;)Un(t,s,a),t=t.sibling}function zm(t){var s=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,r=s.attributes;r.length;)s.removeAttributeNode(r[0]);Bt(s,l,a),s[Mt]=t,s[Wt]=a}catch(n){Ze(t,t.return,n)}}var ta=!1,Tt=!1,ed=!1,Um=typeof WeakSet=="function"?WeakSet:Set,zt=null;function sf(t,s){if(t=t.containerInfo,vd=ti,t=Jo(t),Ki(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var r=l.anchorOffset,n=l.focusNode;l=l.focusOffset;try{a.nodeType,n.nodeType}catch{a=null;break e}var o=0,h=-1,_=-1,Y=0,se=0,ie=t,J=null;t:for(;;){for(var P;ie!==a||r!==0&&ie.nodeType!==3||(h=o+r),ie!==n||l!==0&&ie.nodeType!==3||(_=o+l),ie.nodeType===3&&(o+=ie.nodeValue.length),(P=ie.firstChild)!==null;)J=ie,ie=P;for(;;){if(ie===t)break t;if(J===a&&++Y===r&&(h=o),J===n&&++se===l&&(_=o),(P=ie.nextSibling)!==null)break;ie=J,J=ie.parentNode}ie=P}a=h===-1||_===-1?null:{start:h,end:_}}else a=null}a=a||{start:0,end:0}}else a=null;for(Nd={focusedElem:t,selectionRange:a},ti=!1,zt=s;zt!==null;)if(s=zt,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,zt=t;else for(;zt!==null;){switch(s=zt,n=s.alternate,t=s.flags,s.tag){case 0:if((t&4)!==0&&(t=s.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)r=t[a],r.ref.impl=r.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&n!==null){t=void 0,a=s,r=n.memoizedProps,n=n.memoizedState,l=a.stateNode;try{var fe=Pa(a.type,r);t=l.getSnapshotBeforeUpdate(fe,n),l.__reactInternalSnapshotBeforeUpdate=t}catch(we){Ze(a,a.return,we)}}break;case 3:if((t&1024)!==0){if(t=s.stateNode.containerInfo,a=t.nodeType,a===9)Sd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Sd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(c(163))}if(t=s.sibling,t!==null){t.return=s.return,zt=t;break}zt=s.return}}function Mm(t,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:aa(t,a),l&4&&_r(5,a);break;case 1:if(aa(t,a),l&4)if(t=a.stateNode,s===null)try{t.componentDidMount()}catch(o){Ze(a,a.return,o)}else{var r=Pa(a.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(r,s,t.__reactInternalSnapshotBeforeUpdate)}catch(o){Ze(a,a.return,o)}}l&64&&Tm(a),l&512&&Sr(a,a.return);break;case 3:if(aa(t,a),l&64&&(t=a.updateQueue,t!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{bu(t,s)}catch(o){Ze(a,a.return,o)}}break;case 27:s===null&&l&4&&zm(a);case 26:case 5:aa(t,a),s===null&&l&4&&Dm(a),l&512&&Sr(a,a.return);break;case 12:aa(t,a);break;case 31:aa(t,a),l&4&&Lm(t,a);break;case 13:aa(t,a),l&4&&Bm(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=mf.bind(null,a),qf(t,a))));break;case 22:if(l=a.memoizedState!==null||ta,!l){s=s!==null&&s.memoizedState!==null||Tt,r=ta;var n=Tt;ta=l,(Tt=s)&&!n?la(t,a,(a.subtreeFlags&8772)!==0):aa(t,a),ta=r,Tt=n}break;case 30:break;default:aa(t,a)}}function Rm(t){var s=t.alternate;s!==null&&(t.alternate=null,Rm(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&Ei(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ut=null,Pt=!1;function sa(t,s,a){for(a=a.child;a!==null;)Om(t,s,a),a=a.sibling}function Om(t,s,a){if(it&&typeof it.onCommitFiberUnmount=="function")try{it.onCommitFiberUnmount(xt,a)}catch{}switch(a.tag){case 26:Tt||Gs(a,s),sa(t,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Tt||Gs(a,s);var l=ut,r=Pt;Ea(a.type)&&(ut=a.stateNode,Pt=!1),sa(t,s,a),Ur(a.stateNode),ut=l,Pt=r;break;case 5:Tt||Gs(a,s);case 6:if(l=ut,r=Pt,ut=null,sa(t,s,a),ut=l,Pt=r,ut!==null)if(Pt)try{(ut.nodeType===9?ut.body:ut.nodeName==="HTML"?ut.ownerDocument.body:ut).removeChild(a.stateNode)}catch(n){Ze(a,s,n)}else try{ut.removeChild(a.stateNode)}catch(n){Ze(a,s,n)}break;case 18:ut!==null&&(Pt?(t=ut,Tx(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Xl(t)):Tx(ut,a.stateNode));break;case 4:l=ut,r=Pt,ut=a.stateNode.containerInfo,Pt=!0,sa(t,s,a),ut=l,Pt=r;break;case 0:case 11:case 14:case 15:wa(2,a,s),Tt||wa(4,a,s),sa(t,s,a);break;case 1:Tt||(Gs(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Em(a,s,l)),sa(t,s,a);break;case 21:sa(t,s,a);break;case 22:Tt=(l=Tt)||a.memoizedState!==null,sa(t,s,a),Tt=l;break;default:sa(t,s,a)}}function Lm(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Xl(t)}catch(a){Ze(s,s.return,a)}}}function Bm(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Xl(t)}catch(a){Ze(s,s.return,a)}}function af(t){switch(t.tag){case 31:case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new Um),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new Um),s;default:throw Error(c(435,t.tag))}}function Mn(t,s){var a=af(t);s.forEach(function(l){if(!a.has(l)){a.add(l);var r=xf.bind(null,t,l);l.then(r,r)}})}function es(t,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var r=a[l],n=t,o=s,h=o;e:for(;h!==null;){switch(h.tag){case 27:if(Ea(h.type)){ut=h.stateNode,Pt=!1;break e}break;case 5:ut=h.stateNode,Pt=!1;break e;case 3:case 4:ut=h.stateNode.containerInfo,Pt=!0;break e}h=h.return}if(ut===null)throw Error(c(160));Om(n,o,r),ut=null,Pt=!1,n=r.alternate,n!==null&&(n.return=null),r.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)Hm(s,t),s=s.sibling}var Us=null;function Hm(t,s){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:es(s,t),ts(t),l&4&&(wa(3,t,t.return),_r(3,t),wa(5,t,t.return));break;case 1:es(s,t),ts(t),l&512&&(Tt||a===null||Gs(a,a.return)),l&64&&ta&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var r=Us;if(es(s,t),ts(t),l&512&&(Tt||a===null||Gs(a,a.return)),l&4){var n=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,r=r.ownerDocument||r;t:switch(l){case"title":n=r.getElementsByTagName("title")[0],(!n||n[Il]||n[Mt]||n.namespaceURI==="http://www.w3.org/2000/svg"||n.hasAttribute("itemprop"))&&(n=r.createElement(l),r.head.insertBefore(n,r.querySelector("head > title"))),Bt(n,l,a),n[Mt]=t,qt(n),l=n;break e;case"link":var o=Hx("link","href",r).get(l+(a.href||""));if(o){for(var h=0;h<o.length;h++)if(n=o[h],n.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&n.getAttribute("rel")===(a.rel==null?null:a.rel)&&n.getAttribute("title")===(a.title==null?null:a.title)&&n.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){o.splice(h,1);break t}}n=r.createElement(l),Bt(n,l,a),r.head.appendChild(n);break;case"meta":if(o=Hx("meta","content",r).get(l+(a.content||""))){for(h=0;h<o.length;h++)if(n=o[h],n.getAttribute("content")===(a.content==null?null:""+a.content)&&n.getAttribute("name")===(a.name==null?null:a.name)&&n.getAttribute("property")===(a.property==null?null:a.property)&&n.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&n.getAttribute("charset")===(a.charSet==null?null:a.charSet)){o.splice(h,1);break t}}n=r.createElement(l),Bt(n,l,a),r.head.appendChild(n);break;default:throw Error(c(468,l))}n[Mt]=t,qt(n),l=n}t.stateNode=l}else Gx(r,t.type,t.stateNode);else t.stateNode=Bx(r,l,t.memoizedProps);else n!==l?(n===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):n.count--,l===null?Gx(r,t.type,t.stateNode):Bx(r,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Wc(t,t.memoizedProps,a.memoizedProps)}break;case 27:es(s,t),ts(t),l&512&&(Tt||a===null||Gs(a,a.return)),a!==null&&l&4&&Wc(t,t.memoizedProps,a.memoizedProps);break;case 5:if(es(s,t),ts(t),l&512&&(Tt||a===null||Gs(a,a.return)),t.flags&32){r=t.stateNode;try{xl(r,"")}catch(fe){Ze(t,t.return,fe)}}l&4&&t.stateNode!=null&&(r=t.memoizedProps,Wc(t,r,a!==null?a.memoizedProps:r)),l&1024&&(ed=!0);break;case 6:if(es(s,t),ts(t),l&4){if(t.stateNode===null)throw Error(c(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(fe){Ze(t,t.return,fe)}}break;case 3:if(Wn=null,r=Us,Us=$n(s.containerInfo),es(s,t),Us=r,ts(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Xl(s.containerInfo)}catch(fe){Ze(t,t.return,fe)}ed&&(ed=!1,Gm(t));break;case 4:l=Us,Us=$n(t.stateNode.containerInfo),es(s,t),ts(t),Us=l;break;case 12:es(s,t),ts(t);break;case 31:es(s,t),ts(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Mn(t,l)));break;case 13:es(s,t),ts(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(On=Oe()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Mn(t,l)));break;case 22:r=t.memoizedState!==null;var _=a!==null&&a.memoizedState!==null,Y=ta,se=Tt;if(ta=Y||r,Tt=se||_,es(s,t),Tt=se,ta=Y,ts(t),l&8192)e:for(s=t.stateNode,s._visibility=r?s._visibility&-2:s._visibility|1,r&&(a===null||_||ta||Tt||el(t)),a=null,s=t;;){if(s.tag===5||s.tag===26){if(a===null){_=a=s;try{if(n=_.stateNode,r)o=n.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none";else{h=_.stateNode;var ie=_.memoizedProps.style,J=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;h.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(fe){Ze(_,_.return,fe)}}}else if(s.tag===6){if(a===null){_=s;try{_.stateNode.nodeValue=r?"":_.memoizedProps}catch(fe){Ze(_,_.return,fe)}}}else if(s.tag===18){if(a===null){_=s;try{var P=_.stateNode;r?Ex(P,!0):Ex(_.stateNode,!1)}catch(fe){Ze(_,_.return,fe)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Mn(t,a))));break;case 19:es(s,t),ts(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Mn(t,l)));break;case 30:break;case 21:break;default:es(s,t),ts(t)}}function ts(t){var s=t.flags;if(s&2){try{for(var a,l=t.return;l!==null;){if(qm(l)){a=l;break}l=l.return}if(a==null)throw Error(c(160));switch(a.tag){case 27:var r=a.stateNode,n=Ic(t);Un(t,n,r);break;case 5:var o=a.stateNode;a.flags&32&&(xl(o,""),a.flags&=-33);var h=Ic(t);Un(t,h,o);break;case 3:case 4:var _=a.stateNode.containerInfo,Y=Ic(t);Pc(t,Y,_);break;default:throw Error(c(161))}}catch(se){Ze(t,t.return,se)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function Gm(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;Gm(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function aa(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Mm(t,s.alternate,s),s=s.sibling}function el(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:wa(4,s,s.return),el(s);break;case 1:Gs(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&Em(s,s.return,a),el(s);break;case 27:Ur(s.stateNode);case 26:case 5:Gs(s,s.return),el(s);break;case 22:s.memoizedState===null&&el(s);break;case 30:el(s);break;default:el(s)}t=t.sibling}}function la(t,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,r=t,n=s,o=n.flags;switch(n.tag){case 0:case 11:case 15:la(r,n,a),_r(4,n);break;case 1:if(la(r,n,a),l=n,r=l.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(Y){Ze(l,l.return,Y)}if(l=n,r=l.updateQueue,r!==null){var h=l.stateNode;try{var _=r.shared.hiddenCallbacks;if(_!==null)for(r.shared.hiddenCallbacks=null,r=0;r<_.length;r++)ju(_[r],h)}catch(Y){Ze(l,l.return,Y)}}a&&o&64&&Tm(n),Sr(n,n.return);break;case 27:zm(n);case 26:case 5:la(r,n,a),a&&l===null&&o&4&&Dm(n),Sr(n,n.return);break;case 12:la(r,n,a);break;case 31:la(r,n,a),a&&o&4&&Lm(r,n);break;case 13:la(r,n,a),a&&o&4&&Bm(r,n);break;case 22:n.memoizedState===null&&la(r,n,a),Sr(n,n.return);break;case 30:break;default:la(r,n,a)}s=s.sibling}}function td(t,s){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ur(a))}function sd(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&ur(t))}function Ms(t,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Vm(t,s,a,l),s=s.sibling}function Vm(t,s,a,l){var r=s.flags;switch(s.tag){case 0:case 11:case 15:Ms(t,s,a,l),r&2048&&_r(9,s);break;case 1:Ms(t,s,a,l);break;case 3:Ms(t,s,a,l),r&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&ur(t)));break;case 12:if(r&2048){Ms(t,s,a,l),t=s.stateNode;try{var n=s.memoizedProps,o=n.id,h=n.onPostCommit;typeof h=="function"&&h(o,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(_){Ze(s,s.return,_)}}else Ms(t,s,a,l);break;case 31:Ms(t,s,a,l);break;case 13:Ms(t,s,a,l);break;case 23:break;case 22:n=s.stateNode,o=s.alternate,s.memoizedState!==null?n._visibility&2?Ms(t,s,a,l):kr(t,s):n._visibility&2?Ms(t,s,a,l):(n._visibility|=2,zl(t,s,a,l,(s.subtreeFlags&10256)!==0||!1)),r&2048&&td(o,s);break;case 24:Ms(t,s,a,l),r&2048&&sd(s.alternate,s);break;default:Ms(t,s,a,l)}}function zl(t,s,a,l,r){for(r=r&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var n=t,o=s,h=a,_=l,Y=o.flags;switch(o.tag){case 0:case 11:case 15:zl(n,o,h,_,r),_r(8,o);break;case 23:break;case 22:var se=o.stateNode;o.memoizedState!==null?se._visibility&2?zl(n,o,h,_,r):kr(n,o):(se._visibility|=2,zl(n,o,h,_,r)),r&&Y&2048&&td(o.alternate,o);break;case 24:zl(n,o,h,_,r),r&&Y&2048&&sd(o.alternate,o);break;default:zl(n,o,h,_,r)}s=s.sibling}}function kr(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=t,l=s,r=l.flags;switch(l.tag){case 22:kr(a,l),r&2048&&td(l.alternate,l);break;case 24:kr(a,l),r&2048&&sd(l.alternate,l);break;default:kr(a,l)}s=s.sibling}}var Cr=8192;function Ul(t,s,a){if(t.subtreeFlags&Cr)for(t=t.child;t!==null;)Ym(t,s,a),t=t.sibling}function Ym(t,s,a){switch(t.tag){case 26:Ul(t,s,a),t.flags&Cr&&t.memoizedState!==null&&Xf(a,Us,t.memoizedState,t.memoizedProps);break;case 5:Ul(t,s,a);break;case 3:case 4:var l=Us;Us=$n(t.stateNode.containerInfo),Ul(t,s,a),Us=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Cr,Cr=16777216,Ul(t,s,a),Cr=l):Ul(t,s,a));break;default:Ul(t,s,a)}}function Xm(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function Ar(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];zt=l,Jm(l,t)}Xm(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Qm(t),t=t.sibling}function Qm(t){switch(t.tag){case 0:case 11:case 15:Ar(t),t.flags&2048&&wa(9,t,t.return);break;case 3:Ar(t);break;case 12:Ar(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&2&&(t.return===null||t.return.tag!==13)?(s._visibility&=-3,Rn(t)):Ar(t);break;default:Ar(t)}}function Rn(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];zt=l,Jm(l,t)}Xm(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:wa(8,s,s.return),Rn(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,Rn(s));break;default:Rn(s)}t=t.sibling}}function Jm(t,s){for(;zt!==null;){var a=zt;switch(a.tag){case 0:case 11:case 15:wa(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ur(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,zt=l;else e:for(a=t;zt!==null;){l=zt;var r=l.sibling,n=l.return;if(Rm(l),l===a){zt=null;break e}if(r!==null){r.return=n,zt=r;break e}zt=n}}}var lf={getCacheForType:function(t){var s=Ot(kt),a=s.data.get(t);return a===void 0&&(a=t(),s.data.set(t,a)),a},cacheSignal:function(){return Ot(kt).controller.signal}},rf=typeof WeakMap=="function"?WeakMap:Map,Ye=0,at=null,De=null,ze=0,Ke=0,gs=null,_a=!1,Ml=!1,ad=!1,ra=0,yt=0,Sa=0,tl=0,ld=0,ps=0,Rl=0,Tr=null,ss=null,rd=!1,On=0,Km=0,Ln=1/0,Bn=null,ka=null,Et=0,Ca=null,Ol=null,na=0,nd=0,id=null,Zm=null,Er=0,cd=null;function js(){return(Ye&2)!==0&&ze!==0?ze&-ze:q.T!==null?hd():oo()}function $m(){if(ps===0)if((ze&536870912)===0||Re){var t=vs;vs<<=1,(vs&3932160)===0&&(vs=262144),ps=t}else ps=536870912;return t=hs.current,t!==null&&(t.flags|=32),ps}function as(t,s,a){(t===at&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)&&(Ll(t,0),Aa(t,ze,ps,!1)),Wl(t,a),((Ye&2)===0||t!==at)&&(t===at&&((Ye&2)===0&&(tl|=a),yt===4&&Aa(t,ze,ps,!1)),Vs(t))}function Fm(t,s,a){if((Ye&6)!==0)throw Error(c(327));var l=!a&&(s&127)===0&&(s&t.expiredLanes)===0||Fl(t,s),r=l?df(t,s):od(t,s,!0),n=l;do{if(r===0){Ml&&!l&&Aa(t,s,0,!1);break}else{if(a=t.current.alternate,n&&!nf(a)){r=od(t,s,!1),n=!1;continue}if(r===2){if(n=s,t.errorRecoveryDisabledLanes&n)var o=0;else o=t.pendingLanes&-536870913,o=o!==0?o:o&536870912?536870912:0;if(o!==0){s=o;e:{var h=t;r=Tr;var _=h.current.memoizedState.isDehydrated;if(_&&(Ll(h,o).flags|=256),o=od(h,o,!1),o!==2){if(ad&&!_){h.errorRecoveryDisabledLanes|=n,tl|=n,r=4;break e}n=ss,ss=r,n!==null&&(ss===null?ss=n:ss.push.apply(ss,n))}r=o}if(n=!1,r!==2)continue}}if(r===1){Ll(t,0),Aa(t,s,0,!0);break}e:{switch(l=t,n=r,n){case 0:case 1:throw Error(c(345));case 4:if((s&4194048)!==s)break;case 6:Aa(l,s,ps,!_a);break e;case 2:ss=null;break;case 3:case 5:break;default:throw Error(c(329))}if((s&62914560)===s&&(r=On+300-Oe(),10<r)){if(Aa(l,s,ps,!_a),Zr(l,0,!0)!==0)break e;na=s,l.timeoutHandle=Cx(Wm.bind(null,l,a,ss,Bn,rd,s,ps,tl,Rl,_a,n,"Throttled",-0,0),r);break e}Wm(l,a,ss,Bn,rd,s,ps,tl,Rl,_a,n,null,-0,0)}}break}while(!0);Vs(t)}function Wm(t,s,a,l,r,n,o,h,_,Y,se,ie,J,P){if(t.timeoutHandle=-1,ie=s.subtreeFlags,ie&8192||(ie&16785408)===16785408){ie={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Qs},Ym(s,n,ie);var fe=(n&62914560)===n?On-Oe():(n&4194048)===n?Km-Oe():0;if(fe=Qf(ie,fe),fe!==null){na=n,t.cancelPendingCommit=fe(rx.bind(null,t,s,n,a,l,r,o,h,_,se,ie,null,J,P)),Aa(t,n,o,!Y);return}}rx(t,s,n,a,l,r,o,h,_)}function nf(t){for(var s=t;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var r=a[l],n=r.getSnapshot;r=r.value;try{if(!ms(n(),r))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Aa(t,s,a,l){s&=~ld,s&=~tl,t.suspendedLanes|=s,t.pingedLanes&=~s,l&&(t.warmLanes|=s),l=t.expirationTimes;for(var r=s;0<r;){var n=31-Je(r),o=1<<n;l[n]=-1,r&=~o}a!==0&&no(t,a,s)}function Hn(){return(Ye&6)===0?(Dr(0),!1):!0}function dd(){if(De!==null){if(Ke===0)var t=De.return;else t=De,$s=Ja=null,Sc(t),Al=null,xr=0,t=De;for(;t!==null;)Am(t.alternate,t),t=t.return;De=null}}function Ll(t,s){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Cf(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),na=0,dd(),at=t,De=a=Ks(t.current,null),ze=s,Ke=0,gs=null,_a=!1,Ml=Fl(t,s),ad=!1,Rl=ps=ld=tl=Sa=yt=0,ss=Tr=null,rd=!1,(s&8)!==0&&(s|=s&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=s;0<l;){var r=31-Je(l),n=1<<r;s|=t[r],l&=~n}return ra=s,nn(),a}function Im(t,s){Ae=null,q.H=vr,s===Cl||s===fn?(s=hu(),Ke=3):s===xc?(s=hu(),Ke=4):Ke=s===Gc?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,gs=s,De===null&&(yt=1,Tn(t,Ss(s,t.current)))}function Pm(){var t=hs.current;return t===null?!0:(ze&4194048)===ze?Ts===null:(ze&62914560)===ze||(ze&536870912)!==0?t===Ts:!1}function ex(){var t=q.H;return q.H=vr,t===null?vr:t}function tx(){var t=q.A;return q.A=lf,t}function Gn(){yt=4,_a||(ze&4194048)!==ze&&hs.current!==null||(Ml=!0),(Sa&134217727)===0&&(tl&134217727)===0||at===null||Aa(at,ze,ps,!1)}function od(t,s,a){var l=Ye;Ye|=2;var r=ex(),n=tx();(at!==t||ze!==s)&&(Bn=null,Ll(t,s)),s=!1;var o=yt;e:do try{if(Ke!==0&&De!==null){var h=De,_=gs;switch(Ke){case 8:dd(),o=6;break e;case 3:case 2:case 9:case 6:hs.current===null&&(s=!0);var Y=Ke;if(Ke=0,gs=null,Bl(t,h,_,Y),a&&Ml){o=0;break e}break;default:Y=Ke,Ke=0,gs=null,Bl(t,h,_,Y)}}cf(),o=yt;break}catch(se){Im(t,se)}while(!0);return s&&t.shellSuspendCounter++,$s=Ja=null,Ye=l,q.H=r,q.A=n,De===null&&(at=null,ze=0,nn()),o}function cf(){for(;De!==null;)sx(De)}function df(t,s){var a=Ye;Ye|=2;var l=ex(),r=tx();at!==t||ze!==s?(Bn=null,Ln=Oe()+500,Ll(t,s)):Ml=Fl(t,s);e:do try{if(Ke!==0&&De!==null){s=De;var n=gs;t:switch(Ke){case 1:Ke=0,gs=null,Bl(t,s,n,1);break;case 2:case 9:if(mu(n)){Ke=0,gs=null,ax(s);break}s=function(){Ke!==2&&Ke!==9||at!==t||(Ke=7),Vs(t)},n.then(s,s);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:mu(n)?(Ke=0,gs=null,ax(s)):(Ke=0,gs=null,Bl(t,s,n,7));break;case 5:var o=null;switch(De.tag){case 26:o=De.memoizedState;case 5:case 27:var h=De;if(o?Vx(o):h.stateNode.complete){Ke=0,gs=null;var _=h.sibling;if(_!==null)De=_;else{var Y=h.return;Y!==null?(De=Y,Vn(Y)):De=null}break t}}Ke=0,gs=null,Bl(t,s,n,5);break;case 6:Ke=0,gs=null,Bl(t,s,n,6);break;case 8:dd(),yt=6;break e;default:throw Error(c(462))}}of();break}catch(se){Im(t,se)}while(!0);return $s=Ja=null,q.H=l,q.A=r,Ye=a,De!==null?0:(at=null,ze=0,nn(),yt)}function of(){for(;De!==null&&!ye();)sx(De)}function sx(t){var s=km(t.alternate,t,ra);t.memoizedProps=t.pendingProps,s===null?Vn(t):De=s}function ax(t){var s=t,a=s.alternate;switch(s.tag){case 15:case 0:s=ym(a,s,s.pendingProps,s.type,void 0,ze);break;case 11:s=ym(a,s,s.pendingProps,s.type.render,s.ref,ze);break;case 5:Sc(s);default:Am(a,s),s=De=tu(s,ra),s=km(a,s,ra)}t.memoizedProps=t.pendingProps,s===null?Vn(t):De=s}function Bl(t,s,a,l){$s=Ja=null,Sc(s),Al=null,xr=0;var r=s.return;try{if(W0(t,r,s,a,ze)){yt=1,Tn(t,Ss(a,t.current)),De=null;return}}catch(n){if(r!==null)throw De=r,n;yt=1,Tn(t,Ss(a,t.current)),De=null;return}s.flags&32768?(Re||l===1?t=!0:Ml||(ze&536870912)!==0?t=!1:(_a=t=!0,(l===2||l===9||l===3||l===6)&&(l=hs.current,l!==null&&l.tag===13&&(l.flags|=16384))),lx(s,t)):Vn(s)}function Vn(t){var s=t;do{if((s.flags&32768)!==0){lx(s,_a);return}t=s.return;var a=ef(s.alternate,s,ra);if(a!==null){De=a;return}if(s=s.sibling,s!==null){De=s;return}De=s=t}while(s!==null);yt===0&&(yt=5)}function lx(t,s){do{var a=tf(t.alternate,t);if(a!==null){a.flags&=32767,De=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(t=t.sibling,t!==null)){De=t;return}De=t=a}while(t!==null);yt=6,De=null}function rx(t,s,a,l,r,n,o,h,_){t.cancelPendingCommit=null;do Yn();while(Et!==0);if((Ye&6)!==0)throw Error(c(327));if(s!==null){if(s===t.current)throw Error(c(177));if(n=s.lanes|s.childLanes,n|=Ii,Vh(t,a,n,o,h,_),t===at&&(De=at=null,ze=0),Ol=s,Ca=t,na=a,nd=n,id=r,Zm=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,hf(pe,function(){return ox(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=q.T,q.T=null,r=le.p,le.p=2,o=Ye,Ye|=4;try{sf(t,s,a)}finally{Ye=o,le.p=r,q.T=l}}Et=1,nx(),ix(),cx()}}function nx(){if(Et===1){Et=0;var t=Ca,s=Ol,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=q.T,q.T=null;var l=le.p;le.p=2;var r=Ye;Ye|=4;try{Hm(s,t);var n=Nd,o=Jo(t.containerInfo),h=n.focusedElem,_=n.selectionRange;if(o!==h&&h&&h.ownerDocument&&Qo(h.ownerDocument.documentElement,h)){if(_!==null&&Ki(h)){var Y=_.start,se=_.end;if(se===void 0&&(se=Y),"selectionStart"in h)h.selectionStart=Y,h.selectionEnd=Math.min(se,h.value.length);else{var ie=h.ownerDocument||document,J=ie&&ie.defaultView||window;if(J.getSelection){var P=J.getSelection(),fe=h.textContent.length,we=Math.min(_.start,fe),tt=_.end===void 0?we:Math.min(_.end,fe);!P.extend&&we>tt&&(o=tt,tt=we,we=o);var M=Xo(h,we),E=Xo(h,tt);if(M&&E&&(P.rangeCount!==1||P.anchorNode!==M.node||P.anchorOffset!==M.offset||P.focusNode!==E.node||P.focusOffset!==E.offset)){var V=ie.createRange();V.setStart(M.node,M.offset),P.removeAllRanges(),we>tt?(P.addRange(V),P.extend(E.node,E.offset)):(V.setEnd(E.node,E.offset),P.addRange(V))}}}}for(ie=[],P=h;P=P.parentNode;)P.nodeType===1&&ie.push({element:P,left:P.scrollLeft,top:P.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<ie.length;h++){var re=ie[h];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}ti=!!vd,Nd=vd=null}finally{Ye=r,le.p=l,q.T=a}}t.current=s,Et=2}}function ix(){if(Et===2){Et=0;var t=Ca,s=Ol,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=q.T,q.T=null;var l=le.p;le.p=2;var r=Ye;Ye|=4;try{Mm(t,s.alternate,s)}finally{Ye=r,le.p=l,q.T=a}}Et=3}}function cx(){if(Et===4||Et===3){Et=0,lt();var t=Ca,s=Ol,a=na,l=Zm;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Et=5:(Et=0,Ol=Ca=null,dx(t,t.pendingLanes));var r=t.pendingLanes;if(r===0&&(ka=null),Ai(a),s=s.stateNode,it&&typeof it.onCommitFiberRoot=="function")try{it.onCommitFiberRoot(xt,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=q.T,r=le.p,le.p=2,q.T=null;try{for(var n=t.onRecoverableError,o=0;o<l.length;o++){var h=l[o];n(h.value,{componentStack:h.stack})}}finally{q.T=s,le.p=r}}(na&3)!==0&&Yn(),Vs(t),r=t.pendingLanes,(a&261930)!==0&&(r&42)!==0?t===cd?Er++:(Er=0,cd=t):Er=0,Dr(0)}}function dx(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,ur(s)))}function Yn(){return nx(),ix(),cx(),ox()}function ox(){if(Et!==5)return!1;var t=Ca,s=nd;nd=0;var a=Ai(na),l=q.T,r=le.p;try{le.p=32>a?32:a,q.T=null,a=id,id=null;var n=Ca,o=na;if(Et=0,Ol=Ca=null,na=0,(Ye&6)!==0)throw Error(c(331));var h=Ye;if(Ye|=4,Qm(n.current),Vm(n,n.current,o,a),Ye=h,Dr(0,!1),it&&typeof it.onPostCommitFiberRoot=="function")try{it.onPostCommitFiberRoot(xt,n)}catch{}return!0}finally{le.p=r,q.T=l,dx(t,s)}}function ux(t,s,a){s=Ss(a,s),s=Hc(t.stateNode,s,2),t=ya(t,s,2),t!==null&&(Wl(t,2),Vs(t))}function Ze(t,s,a){if(t.tag===3)ux(t,t,a);else for(;s!==null;){if(s.tag===3){ux(s,t,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ka===null||!ka.has(l))){t=Ss(a,t),a=mm(2),l=ya(s,a,2),l!==null&&(xm(a,l,s,t),Wl(l,2),Vs(l));break}}s=s.return}}function ud(t,s,a){var l=t.pingCache;if(l===null){l=t.pingCache=new rf;var r=new Set;l.set(s,r)}else r=l.get(s),r===void 0&&(r=new Set,l.set(s,r));r.has(a)||(ad=!0,r.add(a),t=uf.bind(null,t,s,a),s.then(t,t))}function uf(t,s,a){var l=t.pingCache;l!==null&&l.delete(s),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,at===t&&(ze&a)===a&&(yt===4||yt===3&&(ze&62914560)===ze&&300>Oe()-On?(Ye&2)===0&&Ll(t,0):ld|=a,Rl===ze&&(Rl=0)),Vs(t)}function mx(t,s){s===0&&(s=ro()),t=Ya(t,s),t!==null&&(Wl(t,s),Vs(t))}function mf(t){var s=t.memoizedState,a=0;s!==null&&(a=s.retryLane),mx(t,a)}function xf(t,s){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,r=t.memoizedState;r!==null&&(a=r.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(c(314))}l!==null&&l.delete(s),mx(t,a)}function hf(t,s){return Jt(t,s)}var Xn=null,Hl=null,md=!1,Qn=!1,xd=!1,Ta=0;function Vs(t){t!==Hl&&t.next===null&&(Hl===null?Xn=Hl=t:Hl=Hl.next=t),Qn=!0,md||(md=!0,gf())}function Dr(t,s){if(!xd&&Qn){xd=!0;do for(var a=!1,l=Xn;l!==null;){if(t!==0){var r=l.pendingLanes;if(r===0)var n=0;else{var o=l.suspendedLanes,h=l.pingedLanes;n=(1<<31-Je(42|t)+1)-1,n&=r&~(o&~h),n=n&201326741?n&201326741|1:n?n|2:0}n!==0&&(a=!0,gx(l,n))}else n=ze,n=Zr(l,l===at?n:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(n&3)===0||Fl(l,n)||(a=!0,gx(l,n));l=l.next}while(a);xd=!1}}function ff(){xx()}function xx(){Qn=md=!1;var t=0;Ta!==0&&kf()&&(t=Ta);for(var s=Oe(),a=null,l=Xn;l!==null;){var r=l.next,n=hx(l,s);n===0?(l.next=null,a===null?Xn=r:a.next=r,r===null&&(Hl=a)):(a=l,(t!==0||(n&3)!==0)&&(Qn=!0)),l=r}Et!==0&&Et!==5||Dr(t),Ta!==0&&(Ta=0)}function hx(t,s){for(var a=t.suspendedLanes,l=t.pingedLanes,r=t.expirationTimes,n=t.pendingLanes&-62914561;0<n;){var o=31-Je(n),h=1<<o,_=r[o];_===-1?((h&a)===0||(h&l)!==0)&&(r[o]=Gh(h,s)):_<=s&&(t.expiredLanes|=h),n&=~h}if(s=at,a=ze,a=Zr(t,t===s?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===s&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&us(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Fl(t,a)){if(s=a&-a,s===t.callbackPriority)return s;switch(l!==null&&us(l),Ai(a)){case 2:case 8:a=R;break;case 32:a=pe;break;case 268435456:a=Ie;break;default:a=pe}return l=fx.bind(null,t),a=Jt(a,l),t.callbackPriority=s,t.callbackNode=a,s}return l!==null&&l!==null&&us(l),t.callbackPriority=2,t.callbackNode=null,2}function fx(t,s){if(Et!==0&&Et!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Yn()&&t.callbackNode!==a)return null;var l=ze;return l=Zr(t,t===at?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Fm(t,l,s),hx(t,Oe()),t.callbackNode!=null&&t.callbackNode===a?fx.bind(null,t):null)}function gx(t,s){if(Yn())return null;Fm(t,s,!0)}function gf(){Af(function(){(Ye&6)!==0?Jt(Ft,ff):xx()})}function hd(){if(Ta===0){var t=Sl;t===0&&(t=jt,jt<<=1,(jt&261888)===0&&(jt=256)),Ta=t}return Ta}function px(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ir(""+t)}function jx(t,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,t.id&&a.setAttribute("form",t.id),s.parentNode.insertBefore(a,s),t=new FormData(t),a.parentNode.removeChild(a),t}function pf(t,s,a,l,r){if(s==="submit"&&a&&a.stateNode===r){var n=px((r[Wt]||null).action),o=l.submitter;o&&(s=(s=o[Wt]||null)?px(s.formAction):o.getAttribute("formAction"),s!==null&&(n=s,o=null));var h=new sn("action","action",null,l,r);t.push({event:h,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ta!==0){var _=o?jx(r,o):new FormData(r);Uc(a,{pending:!0,data:_,method:r.method,action:n},null,_)}}else typeof n=="function"&&(h.preventDefault(),_=o?jx(r,o):new FormData(r),Uc(a,{pending:!0,data:_,method:r.method,action:n},n,_))},currentTarget:r}]})}}for(var fd=0;fd<Wi.length;fd++){var gd=Wi[fd],jf=gd.toLowerCase(),bf=gd[0].toUpperCase()+gd.slice(1);zs(jf,"on"+bf)}zs($o,"onAnimationEnd"),zs(Fo,"onAnimationIteration"),zs(Wo,"onAnimationStart"),zs("dblclick","onDoubleClick"),zs("focusin","onFocus"),zs("focusout","onBlur"),zs(U0,"onTransitionRun"),zs(M0,"onTransitionStart"),zs(R0,"onTransitionCancel"),zs(Io,"onTransitionEnd"),ul("onMouseEnter",["mouseout","mouseover"]),ul("onMouseLeave",["mouseout","mouseover"]),ul("onPointerEnter",["pointerout","pointerover"]),ul("onPointerLeave",["pointerout","pointerover"]),Ba("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ba("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ba("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ba("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ba("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ba("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yf=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(qr));function bx(t,s){s=(s&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],r=l.event;l=l.listeners;e:{var n=void 0;if(s)for(var o=l.length-1;0<=o;o--){var h=l[o],_=h.instance,Y=h.currentTarget;if(h=h.listener,_!==n&&r.isPropagationStopped())break e;n=h,r.currentTarget=Y;try{n(r)}catch(se){rn(se)}r.currentTarget=null,n=_}else for(o=0;o<l.length;o++){if(h=l[o],_=h.instance,Y=h.currentTarget,h=h.listener,_!==n&&r.isPropagationStopped())break e;n=h,r.currentTarget=Y;try{n(r)}catch(se){rn(se)}r.currentTarget=null,n=_}}}}function qe(t,s){var a=s[Ti];a===void 0&&(a=s[Ti]=new Set);var l=t+"__bubble";a.has(l)||(yx(s,t,2,!1),a.add(l))}function pd(t,s,a){var l=0;s&&(l|=4),yx(a,t,l,s)}var Jn="_reactListening"+Math.random().toString(36).slice(2);function jd(t){if(!t[Jn]){t[Jn]=!0,xo.forEach(function(a){a!=="selectionchange"&&(yf.has(a)||pd(a,!1,t),pd(a,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[Jn]||(s[Jn]=!0,pd("selectionchange",!1,s))}}function yx(t,s,a,l){switch($x(s)){case 2:var r=Zf;break;case 8:r=$f;break;default:r=zd}a=r.bind(null,s,a,t),r=void 0,!Li||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(r=!0),l?r!==void 0?t.addEventListener(s,a,{capture:!0,passive:r}):t.addEventListener(s,a,!0):r!==void 0?t.addEventListener(s,a,{passive:r}):t.addEventListener(s,a,!1)}function bd(t,s,a,l,r){var n=l;if((s&1)===0&&(s&2)===0&&l!==null)e:for(;;){if(l===null)return;var o=l.tag;if(o===3||o===4){var h=l.stateNode.containerInfo;if(h===r)break;if(o===4)for(o=l.return;o!==null;){var _=o.tag;if((_===3||_===4)&&o.stateNode.containerInfo===r)return;o=o.return}for(;h!==null;){if(o=cl(h),o===null)return;if(_=o.tag,_===5||_===6||_===26||_===27){l=n=o;continue e}h=h.parentNode}}l=l.return}So(function(){var Y=n,se=Ri(a),ie=[];e:{var J=Po.get(t);if(J!==void 0){var P=sn,fe=t;switch(t){case"keypress":if(en(a)===0)break e;case"keydown":case"keyup":P=m0;break;case"focusin":fe="focus",P=Vi;break;case"focusout":fe="blur",P=Vi;break;case"beforeblur":case"afterblur":P=Vi;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":P=Ao;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":P=e0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":P=f0;break;case $o:case Fo:case Wo:P=a0;break;case Io:P=p0;break;case"scroll":case"scrollend":P=Ih;break;case"wheel":P=b0;break;case"copy":case"cut":case"paste":P=r0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":P=Eo;break;case"toggle":case"beforetoggle":P=v0}var we=(s&4)!==0,tt=!we&&(t==="scroll"||t==="scrollend"),M=we?J!==null?J+"Capture":null:J;we=[];for(var E=Y,V;E!==null;){var re=E;if(V=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||V===null||M===null||(re=er(E,M),re!=null&&we.push(zr(E,re,V))),tt)break;E=E.return}0<we.length&&(J=new P(J,fe,null,a,se),ie.push({event:J,listeners:we}))}}if((s&7)===0){e:{if(J=t==="mouseover"||t==="pointerover",P=t==="mouseout"||t==="pointerout",J&&a!==Mi&&(fe=a.relatedTarget||a.fromElement)&&(cl(fe)||fe[il]))break e;if((P||J)&&(J=se.window===se?se:(J=se.ownerDocument)?J.defaultView||J.parentWindow:window,P?(fe=a.relatedTarget||a.toElement,P=Y,fe=fe?cl(fe):null,fe!==null&&(tt=x(fe),we=fe.tag,fe!==tt||we!==5&&we!==27&&we!==6)&&(fe=null)):(P=null,fe=Y),P!==fe)){if(we=Ao,re="onMouseLeave",M="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(we=Eo,re="onPointerLeave",M="onPointerEnter",E="pointer"),tt=P==null?J:Pl(P),V=fe==null?J:Pl(fe),J=new we(re,E+"leave",P,a,se),J.target=tt,J.relatedTarget=V,re=null,cl(se)===Y&&(we=new we(M,E+"enter",fe,a,se),we.target=V,we.relatedTarget=tt,re=we),tt=re,P&&fe)t:{for(we=vf,M=P,E=fe,V=0,re=M;re;re=we(re))V++;re=0;for(var ve=E;ve;ve=we(ve))re++;for(;0<V-re;)M=we(M),V--;for(;0<re-V;)E=we(E),re--;for(;V--;){if(M===E||E!==null&&M===E.alternate){we=M;break t}M=we(M),E=we(E)}we=null}else we=null;P!==null&&vx(ie,J,P,we,!1),fe!==null&&tt!==null&&vx(ie,tt,fe,we,!0)}}e:{if(J=Y?Pl(Y):window,P=J.nodeName&&J.nodeName.toLowerCase(),P==="select"||P==="input"&&J.type==="file")var Ge=Lo;else if(Ro(J))if(Bo)Ge=D0;else{Ge=T0;var je=A0}else P=J.nodeName,!P||P.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?Y&&Ui(Y.elementType)&&(Ge=Lo):Ge=E0;if(Ge&&(Ge=Ge(t,Y))){Oo(ie,Ge,a,se);break e}je&&je(t,J,Y),t==="focusout"&&Y&&J.type==="number"&&Y.memoizedProps.value!=null&&zi(J,"number",J.value)}switch(je=Y?Pl(Y):window,t){case"focusin":(Ro(je)||je.contentEditable==="true")&&(pl=je,Zi=Y,cr=null);break;case"focusout":cr=Zi=pl=null;break;case"mousedown":$i=!0;break;case"contextmenu":case"mouseup":case"dragend":$i=!1,Ko(ie,a,se);break;case"selectionchange":if(z0)break;case"keydown":case"keyup":Ko(ie,a,se)}var Te;if(Xi)e:{switch(t){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else gl?Uo(t,a)&&(Ue="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ue="onCompositionStart");Ue&&(Do&&a.locale!=="ko"&&(gl||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&gl&&(Te=ko()):(xa=se,Bi="value"in xa?xa.value:xa.textContent,gl=!0)),je=Kn(Y,Ue),0<je.length&&(Ue=new To(Ue,t,null,a,se),ie.push({event:Ue,listeners:je}),Te?Ue.data=Te:(Te=Mo(a),Te!==null&&(Ue.data=Te)))),(Te=w0?_0(t,a):S0(t,a))&&(Ue=Kn(Y,"onBeforeInput"),0<Ue.length&&(je=new To("onBeforeInput","beforeinput",null,a,se),ie.push({event:je,listeners:Ue}),je.data=Te)),pf(ie,t,Y,a,se)}bx(ie,s)})}function zr(t,s,a){return{instance:t,listener:s,currentTarget:a}}function Kn(t,s){for(var a=s+"Capture",l=[];t!==null;){var r=t,n=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||n===null||(r=er(t,a),r!=null&&l.unshift(zr(t,r,n)),r=er(t,s),r!=null&&l.push(zr(t,r,n))),t.tag===3)return l;t=t.return}return[]}function vf(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function vx(t,s,a,l,r){for(var n=s._reactName,o=[];a!==null&&a!==l;){var h=a,_=h.alternate,Y=h.stateNode;if(h=h.tag,_!==null&&_===l)break;h!==5&&h!==26&&h!==27||Y===null||(_=Y,r?(Y=er(a,n),Y!=null&&o.unshift(zr(a,Y,_))):r||(Y=er(a,n),Y!=null&&o.push(zr(a,Y,_)))),a=a.return}o.length!==0&&t.push({event:s,listeners:o})}var Nf=/\r\n?/g,wf=/\u0000|\uFFFD/g;function Nx(t){return(typeof t=="string"?t:""+t).replace(Nf,`
`).replace(wf,"")}function wx(t,s){return s=Nx(s),Nx(t)===s}function et(t,s,a,l,r,n){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||xl(t,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&xl(t,""+l);break;case"className":Fr(t,"class",l);break;case"tabIndex":Fr(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Fr(t,a,l);break;case"style":wo(t,l,n);break;case"data":if(s!=="object"){Fr(t,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ir(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof n=="function"&&(a==="formAction"?(s!=="input"&&et(t,s,"name",r.name,r,null),et(t,s,"formEncType",r.formEncType,r,null),et(t,s,"formMethod",r.formMethod,r,null),et(t,s,"formTarget",r.formTarget,r,null)):(et(t,s,"encType",r.encType,r,null),et(t,s,"method",r.method,r,null),et(t,s,"target",r.target,r,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ir(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Qs);break;case"onScroll":l!=null&&qe("scroll",t);break;case"onScrollEnd":l!=null&&qe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(c(61));if(a=l.__html,a!=null){if(r.children!=null)throw Error(c(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ir(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":qe("beforetoggle",t),qe("toggle",t),$r(t,"popover",l);break;case"xlinkActuate":Xs(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Xs(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Xs(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Xs(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Xs(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Xs(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Xs(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Xs(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Xs(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":$r(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Fh.get(a)||a,$r(t,a,l))}}function yd(t,s,a,l,r,n){switch(a){case"style":wo(t,l,n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(c(61));if(a=l.__html,a!=null){if(r.children!=null)throw Error(c(60));t.innerHTML=a}}break;case"children":typeof l=="string"?xl(t,l):(typeof l=="number"||typeof l=="bigint")&&xl(t,""+l);break;case"onScroll":l!=null&&qe("scroll",t);break;case"onScrollEnd":l!=null&&qe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Qs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ho.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(r=a.endsWith("Capture"),s=a.slice(2,r?a.length-7:void 0),n=t[Wt]||null,n=n!=null?n[a]:null,typeof n=="function"&&t.removeEventListener(s,n,r),typeof l=="function")){typeof n!="function"&&n!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(s,l,r);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):$r(t,a,l)}}}function Bt(t,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qe("error",t),qe("load",t);var l=!1,r=!1,n;for(n in a)if(a.hasOwnProperty(n)){var o=a[n];if(o!=null)switch(n){case"src":l=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(c(137,s));default:et(t,s,n,o,a,null)}}r&&et(t,s,"srcSet",a.srcSet,a,null),l&&et(t,s,"src",a.src,a,null);return;case"input":qe("invalid",t);var h=n=o=r=null,_=null,Y=null;for(l in a)if(a.hasOwnProperty(l)){var se=a[l];if(se!=null)switch(l){case"name":r=se;break;case"type":o=se;break;case"checked":_=se;break;case"defaultChecked":Y=se;break;case"value":n=se;break;case"defaultValue":h=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(c(137,s));break;default:et(t,s,l,se,a,null)}}bo(t,n,h,_,Y,o,r,!1);return;case"select":qe("invalid",t),l=o=n=null;for(r in a)if(a.hasOwnProperty(r)&&(h=a[r],h!=null))switch(r){case"value":n=h;break;case"defaultValue":o=h;break;case"multiple":l=h;default:et(t,s,r,h,a,null)}s=n,a=o,t.multiple=!!l,s!=null?ml(t,!!l,s,!1):a!=null&&ml(t,!!l,a,!0);return;case"textarea":qe("invalid",t),n=r=l=null;for(o in a)if(a.hasOwnProperty(o)&&(h=a[o],h!=null))switch(o){case"value":l=h;break;case"defaultValue":r=h;break;case"children":n=h;break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(c(91));break;default:et(t,s,o,h,a,null)}vo(t,l,r,n);return;case"option":for(_ in a)if(a.hasOwnProperty(_)&&(l=a[_],l!=null))switch(_){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:et(t,s,_,l,a,null)}return;case"dialog":qe("beforetoggle",t),qe("toggle",t),qe("cancel",t),qe("close",t);break;case"iframe":case"object":qe("load",t);break;case"video":case"audio":for(l=0;l<qr.length;l++)qe(qr[l],t);break;case"image":qe("error",t),qe("load",t);break;case"details":qe("toggle",t);break;case"embed":case"source":case"link":qe("error",t),qe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in a)if(a.hasOwnProperty(Y)&&(l=a[Y],l!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(c(137,s));default:et(t,s,Y,l,a,null)}return;default:if(Ui(s)){for(se in a)a.hasOwnProperty(se)&&(l=a[se],l!==void 0&&yd(t,s,se,l,a,void 0));return}}for(h in a)a.hasOwnProperty(h)&&(l=a[h],l!=null&&et(t,s,h,l,a,null))}function _f(t,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,n=null,o=null,h=null,_=null,Y=null,se=null;for(P in a){var ie=a[P];if(a.hasOwnProperty(P)&&ie!=null)switch(P){case"checked":break;case"value":break;case"defaultValue":_=ie;default:l.hasOwnProperty(P)||et(t,s,P,null,l,ie)}}for(var J in l){var P=l[J];if(ie=a[J],l.hasOwnProperty(J)&&(P!=null||ie!=null))switch(J){case"type":n=P;break;case"name":r=P;break;case"checked":Y=P;break;case"defaultChecked":se=P;break;case"value":o=P;break;case"defaultValue":h=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(c(137,s));break;default:P!==ie&&et(t,s,J,P,l,ie)}}qi(t,o,h,_,Y,se,n,r);return;case"select":P=o=h=J=null;for(n in a)if(_=a[n],a.hasOwnProperty(n)&&_!=null)switch(n){case"value":break;case"multiple":P=_;default:l.hasOwnProperty(n)||et(t,s,n,null,l,_)}for(r in l)if(n=l[r],_=a[r],l.hasOwnProperty(r)&&(n!=null||_!=null))switch(r){case"value":J=n;break;case"defaultValue":h=n;break;case"multiple":o=n;default:n!==_&&et(t,s,r,n,l,_)}s=h,a=o,l=P,J!=null?ml(t,!!a,J,!1):!!l!=!!a&&(s!=null?ml(t,!!a,s,!0):ml(t,!!a,a?[]:"",!1));return;case"textarea":P=J=null;for(h in a)if(r=a[h],a.hasOwnProperty(h)&&r!=null&&!l.hasOwnProperty(h))switch(h){case"value":break;case"children":break;default:et(t,s,h,null,l,r)}for(o in l)if(r=l[o],n=a[o],l.hasOwnProperty(o)&&(r!=null||n!=null))switch(o){case"value":J=r;break;case"defaultValue":P=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(c(91));break;default:r!==n&&et(t,s,o,r,l,n)}yo(t,J,P);return;case"option":for(var fe in a)if(J=a[fe],a.hasOwnProperty(fe)&&J!=null&&!l.hasOwnProperty(fe))switch(fe){case"selected":t.selected=!1;break;default:et(t,s,fe,null,l,J)}for(_ in l)if(J=l[_],P=a[_],l.hasOwnProperty(_)&&J!==P&&(J!=null||P!=null))switch(_){case"selected":t.selected=J&&typeof J!="function"&&typeof J!="symbol";break;default:et(t,s,_,J,l,P)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in a)J=a[we],a.hasOwnProperty(we)&&J!=null&&!l.hasOwnProperty(we)&&et(t,s,we,null,l,J);for(Y in l)if(J=l[Y],P=a[Y],l.hasOwnProperty(Y)&&J!==P&&(J!=null||P!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(c(137,s));break;default:et(t,s,Y,J,l,P)}return;default:if(Ui(s)){for(var tt in a)J=a[tt],a.hasOwnProperty(tt)&&J!==void 0&&!l.hasOwnProperty(tt)&&yd(t,s,tt,void 0,l,J);for(se in l)J=l[se],P=a[se],!l.hasOwnProperty(se)||J===P||J===void 0&&P===void 0||yd(t,s,se,J,l,P);return}}for(var M in a)J=a[M],a.hasOwnProperty(M)&&J!=null&&!l.hasOwnProperty(M)&&et(t,s,M,null,l,J);for(ie in l)J=l[ie],P=a[ie],!l.hasOwnProperty(ie)||J===P||J==null&&P==null||et(t,s,ie,J,l,P)}function _x(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Sf(){if(typeof performance.getEntriesByType=="function"){for(var t=0,s=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var r=a[l],n=r.transferSize,o=r.initiatorType,h=r.duration;if(n&&h&&_x(o)){for(o=0,h=r.responseEnd,l+=1;l<a.length;l++){var _=a[l],Y=_.startTime;if(Y>h)break;var se=_.transferSize,ie=_.initiatorType;se&&_x(ie)&&(_=_.responseEnd,o+=se*(_<h?1:(h-Y)/(_-Y)))}if(--l,s+=8*(n+o)/(r.duration/1e3),t++,10<t)break}}if(0<t)return s/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var vd=null,Nd=null;function Zn(t){return t.nodeType===9?t:t.ownerDocument}function Sx(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function kx(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function wd(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var _d=null;function kf(){var t=window.event;return t&&t.type==="popstate"?t===_d?!1:(_d=t,!0):(_d=null,!1)}var Cx=typeof setTimeout=="function"?setTimeout:void 0,Cf=typeof clearTimeout=="function"?clearTimeout:void 0,Ax=typeof Promise=="function"?Promise:void 0,Af=typeof queueMicrotask=="function"?queueMicrotask:typeof Ax<"u"?function(t){return Ax.resolve(null).then(t).catch(Tf)}:Cx;function Tf(t){setTimeout(function(){throw t})}function Ea(t){return t==="head"}function Tx(t,s){var a=s,l=0;do{var r=a.nextSibling;if(t.removeChild(a),r&&r.nodeType===8)if(a=r.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(r),Xl(s);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Ur(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Ur(a);for(var n=a.firstChild;n;){var o=n.nextSibling,h=n.nodeName;n[Il]||h==="SCRIPT"||h==="STYLE"||h==="LINK"&&n.rel.toLowerCase()==="stylesheet"||a.removeChild(n),n=o}}else a==="body"&&Ur(t.ownerDocument.body);a=r}while(a);Xl(s)}function Ex(t,s){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Sd(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Sd(a),Ei(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Ef(t,s,a,l){for(;t.nodeType===1;){var r=a;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Il])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(n=t.getAttribute("rel"),n==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(n!==r.rel||t.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||t.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||t.getAttribute("title")!==(r.title==null?null:r.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(n=t.getAttribute("src"),(n!==(r.src==null?null:r.src)||t.getAttribute("type")!==(r.type==null?null:r.type)||t.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&n&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var n=r.name==null?null:""+r.name;if(r.type==="hidden"&&t.getAttribute("name")===n)return t}else return t;if(t=Es(t.nextSibling),t===null)break}return null}function Df(t,s,a){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Es(t.nextSibling),t===null))return null;return t}function Dx(t,s){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Es(t.nextSibling),t===null))return null;return t}function kd(t){return t.data==="$?"||t.data==="$~"}function Cd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function qf(t,s){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=s;else if(t.data!=="$?"||a.readyState!=="loading")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Es(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return t}var Ad=null;function qx(t){t=t.nextSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(s===0)return Es(t.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}t=t.nextSibling}return null}function zx(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return t;s--}else a!=="/$"&&a!=="/&"||s++}t=t.previousSibling}return null}function Ux(t,s,a){switch(s=Zn(a),t){case"html":if(t=s.documentElement,!t)throw Error(c(452));return t;case"head":if(t=s.head,!t)throw Error(c(453));return t;case"body":if(t=s.body,!t)throw Error(c(454));return t;default:throw Error(c(451))}}function Ur(t){for(var s=t.attributes;s.length;)t.removeAttributeNode(s[0]);Ei(t)}var Ds=new Map,Mx=new Set;function $n(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ia=le.d;le.d={f:zf,r:Uf,D:Mf,C:Rf,L:Of,m:Lf,X:Hf,S:Bf,M:Gf};function zf(){var t=ia.f(),s=Hn();return t||s}function Uf(t){var s=dl(t);s!==null&&s.tag===5&&s.type==="form"?Iu(s):ia.r(t)}var Gl=typeof document>"u"?null:document;function Rx(t,s,a){var l=Gl;if(l&&typeof s=="string"&&s){var r=ws(s);r='link[rel="'+t+'"][href="'+r+'"]',typeof a=="string"&&(r+='[crossorigin="'+a+'"]'),Mx.has(r)||(Mx.add(r),t={rel:t,crossOrigin:a,href:s},l.querySelector(r)===null&&(s=l.createElement("link"),Bt(s,"link",t),qt(s),l.head.appendChild(s)))}}function Mf(t){ia.D(t),Rx("dns-prefetch",t,null)}function Rf(t,s){ia.C(t,s),Rx("preconnect",t,s)}function Of(t,s,a){ia.L(t,s,a);var l=Gl;if(l&&t&&s){var r='link[rel="preload"][as="'+ws(s)+'"]';s==="image"&&a&&a.imageSrcSet?(r+='[imagesrcset="'+ws(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(r+='[imagesizes="'+ws(a.imageSizes)+'"]')):r+='[href="'+ws(t)+'"]';var n=r;switch(s){case"style":n=Vl(t);break;case"script":n=Yl(t)}Ds.has(n)||(t=w({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:t,as:s},a),Ds.set(n,t),l.querySelector(r)!==null||s==="style"&&l.querySelector(Mr(n))||s==="script"&&l.querySelector(Rr(n))||(s=l.createElement("link"),Bt(s,"link",t),qt(s),l.head.appendChild(s)))}}function Lf(t,s){ia.m(t,s);var a=Gl;if(a&&t){var l=s&&typeof s.as=="string"?s.as:"script",r='link[rel="modulepreload"][as="'+ws(l)+'"][href="'+ws(t)+'"]',n=r;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":n=Yl(t)}if(!Ds.has(n)&&(t=w({rel:"modulepreload",href:t},s),Ds.set(n,t),a.querySelector(r)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Rr(n)))return}l=a.createElement("link"),Bt(l,"link",t),qt(l),a.head.appendChild(l)}}}function Bf(t,s,a){ia.S(t,s,a);var l=Gl;if(l&&t){var r=ol(l).hoistableStyles,n=Vl(t);s=s||"default";var o=r.get(n);if(!o){var h={loading:0,preload:null};if(o=l.querySelector(Mr(n)))h.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":s},a),(a=Ds.get(n))&&Td(t,a);var _=o=l.createElement("link");qt(_),Bt(_,"link",t),_._p=new Promise(function(Y,se){_.onload=Y,_.onerror=se}),_.addEventListener("load",function(){h.loading|=1}),_.addEventListener("error",function(){h.loading|=2}),h.loading|=4,Fn(o,s,l)}o={type:"stylesheet",instance:o,count:1,state:h},r.set(n,o)}}}function Hf(t,s){ia.X(t,s);var a=Gl;if(a&&t){var l=ol(a).hoistableScripts,r=Yl(t),n=l.get(r);n||(n=a.querySelector(Rr(r)),n||(t=w({src:t,async:!0},s),(s=Ds.get(r))&&Ed(t,s),n=a.createElement("script"),qt(n),Bt(n,"link",t),a.head.appendChild(n)),n={type:"script",instance:n,count:1,state:null},l.set(r,n))}}function Gf(t,s){ia.M(t,s);var a=Gl;if(a&&t){var l=ol(a).hoistableScripts,r=Yl(t),n=l.get(r);n||(n=a.querySelector(Rr(r)),n||(t=w({src:t,async:!0,type:"module"},s),(s=Ds.get(r))&&Ed(t,s),n=a.createElement("script"),qt(n),Bt(n,"link",t),a.head.appendChild(n)),n={type:"script",instance:n,count:1,state:null},l.set(r,n))}}function Ox(t,s,a,l){var r=(r=te.current)?$n(r):null;if(!r)throw Error(c(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=Vl(a.href),a=ol(r).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Vl(a.href);var n=ol(r).hoistableStyles,o=n.get(t);if(o||(r=r.ownerDocument||r,o={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},n.set(t,o),(n=r.querySelector(Mr(t)))&&!n._p&&(o.instance=n,o.state.loading=5),Ds.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ds.set(t,a),n||Vf(r,t,a,o.state))),s&&l===null)throw Error(c(528,""));return o}if(s&&l!==null)throw Error(c(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Yl(a),a=ol(r).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(c(444,t))}}function Vl(t){return'href="'+ws(t)+'"'}function Mr(t){return'link[rel="stylesheet"]['+t+"]"}function Lx(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function Vf(t,s,a,l){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=t.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),Bt(s,"link",a),qt(s),t.head.appendChild(s))}function Yl(t){return'[src="'+ws(t)+'"]'}function Rr(t){return"script[async]"+t}function Bx(t,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=t.querySelector('style[data-href~="'+ws(a.href)+'"]');if(l)return s.instance=l,qt(l),l;var r=w({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),qt(l),Bt(l,"style",r),Fn(l,a.precedence,t),s.instance=l;case"stylesheet":r=Vl(a.href);var n=t.querySelector(Mr(r));if(n)return s.state.loading|=4,s.instance=n,qt(n),n;l=Lx(a),(r=Ds.get(r))&&Td(l,r),n=(t.ownerDocument||t).createElement("link"),qt(n);var o=n;return o._p=new Promise(function(h,_){o.onload=h,o.onerror=_}),Bt(n,"link",l),s.state.loading|=4,Fn(n,a.precedence,t),s.instance=n;case"script":return n=Yl(a.src),(r=t.querySelector(Rr(n)))?(s.instance=r,qt(r),r):(l=a,(r=Ds.get(n))&&(l=w({},a),Ed(l,r)),t=t.ownerDocument||t,r=t.createElement("script"),qt(r),Bt(r,"link",l),t.head.appendChild(r),s.instance=r);case"void":return null;default:throw Error(c(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,Fn(l,a.precedence,t));return s.instance}function Fn(t,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=l.length?l[l.length-1]:null,n=r,o=0;o<l.length;o++){var h=l[o];if(h.dataset.precedence===s)n=h;else if(n!==r)break}n?n.parentNode.insertBefore(t,n.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(t,s.firstChild))}function Td(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function Ed(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var Wn=null;function Hx(t,s,a){if(Wn===null){var l=new Map,r=Wn=new Map;r.set(a,l)}else r=Wn,l=r.get(a),l||(l=new Map,r.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),r=0;r<a.length;r++){var n=a[r];if(!(n[Il]||n[Mt]||t==="link"&&n.getAttribute("rel")==="stylesheet")&&n.namespaceURI!=="http://www.w3.org/2000/svg"){var o=n.getAttribute(s)||"";o=t+o;var h=l.get(o);h?h.push(n):l.set(o,[n])}}return l}function Gx(t,s,a){t=t.ownerDocument||t,t.head.insertBefore(a,s==="title"?t.querySelector("head > title"):null)}function Yf(t,s,a){if(a===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return t=s.disabled,typeof s.precedence=="string"&&t==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Vx(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Xf(t,s,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var r=Vl(l.href),n=s.querySelector(Mr(r));if(n){s=n._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(t.count++,t=In.bind(t),s.then(t,t)),a.state.loading|=4,a.instance=n,qt(n);return}n=s.ownerDocument||s,l=Lx(l),(r=Ds.get(r))&&Td(l,r),n=n.createElement("link"),qt(n);var o=n;o._p=new Promise(function(h,_){o.onload=h,o.onerror=_}),Bt(n,"link",l),a.instance=n}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=In.bind(t),s.addEventListener("load",a),s.addEventListener("error",a))}}var Dd=0;function Qf(t,s){return t.stylesheets&&t.count===0&&ei(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&ei(t,t.stylesheets),t.unsuspend){var n=t.unsuspend;t.unsuspend=null,n()}},6e4+s);0<t.imgBytes&&Dd===0&&(Dd=62500*Sf());var r=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&ei(t,t.stylesheets),t.unsuspend)){var n=t.unsuspend;t.unsuspend=null,n()}},(t.imgBytes>Dd?50:800)+s);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(r)}}:null}function In(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ei(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Pn=null;function ei(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Pn=new Map,s.forEach(Jf,t),Pn=null,In.call(t))}function Jf(t,s){if(!(s.state.loading&4)){var a=Pn.get(t);if(a)var l=a.get(null);else{a=new Map,Pn.set(t,a);for(var r=t.querySelectorAll("link[data-precedence],style[data-precedence]"),n=0;n<r.length;n++){var o=r[n];(o.nodeName==="LINK"||o.getAttribute("media")!=="not all")&&(a.set(o.dataset.precedence,o),l=o)}l&&a.set(null,l)}r=s.instance,o=r.getAttribute("data-precedence"),n=a.get(o)||l,n===l&&a.set(null,r),a.set(o,r),this.count++,l=In.bind(this),r.addEventListener("load",l),r.addEventListener("error",l),n?n.parentNode.insertBefore(r,n.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(r,t.firstChild)),s.state.loading|=4}}var Or={$$typeof:k,Provider:null,Consumer:null,_currentValue:D,_currentValue2:D,_threadCount:0};function Kf(t,s,a,l,r,n,o,h,_){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ki(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ki(0),this.hiddenUpdates=ki(null),this.identifierPrefix=l,this.onUncaughtError=r,this.onCaughtError=n,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function Yx(t,s,a,l,r,n,o,h,_,Y,se,ie){return t=new Kf(t,s,a,o,_,Y,se,ie,h),s=1,n===!0&&(s|=24),n=xs(3,null,null,s),t.current=n,n.stateNode=t,s=oc(),s.refCount++,t.pooledCache=s,s.refCount++,n.memoizedState={element:l,isDehydrated:a,cache:s},hc(n),t}function Xx(t){return t?(t=yl,t):yl}function Qx(t,s,a,l,r,n){r=Xx(r),l.context===null?l.context=r:l.pendingContext=r,l=ba(s),l.payload={element:a},n=n===void 0?null:n,n!==null&&(l.callback=n),a=ya(t,l,s),a!==null&&(as(a,t,s),fr(a,t,s))}function Jx(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<s?a:s}}function qd(t,s){Jx(t,s),(t=t.alternate)&&Jx(t,s)}function Kx(t){if(t.tag===13||t.tag===31){var s=Ya(t,67108864);s!==null&&as(s,t,67108864),qd(t,67108864)}}function Zx(t){if(t.tag===13||t.tag===31){var s=js();s=Ci(s);var a=Ya(t,s);a!==null&&as(a,t,s),qd(t,s)}}var ti=!0;function Zf(t,s,a,l){var r=q.T;q.T=null;var n=le.p;try{le.p=2,zd(t,s,a,l)}finally{le.p=n,q.T=r}}function $f(t,s,a,l){var r=q.T;q.T=null;var n=le.p;try{le.p=8,zd(t,s,a,l)}finally{le.p=n,q.T=r}}function zd(t,s,a,l){if(ti){var r=Ud(l);if(r===null)bd(t,s,l,si,a),Fx(t,l);else if(Wf(r,t,s,a,l))l.stopPropagation();else if(Fx(t,l),s&4&&-1<Ff.indexOf(t)){for(;r!==null;){var n=dl(r);if(n!==null)switch(n.tag){case 3:if(n=n.stateNode,n.current.memoizedState.isDehydrated){var o=La(n.pendingLanes);if(o!==0){var h=n;for(h.pendingLanes|=2,h.entangledLanes|=2;o;){var _=1<<31-Je(o);h.entanglements[1]|=_,o&=~_}Vs(n),(Ye&6)===0&&(Ln=Oe()+500,Dr(0))}}break;case 31:case 13:h=Ya(n,2),h!==null&&as(h,n,2),Hn(),qd(n,2)}if(n=Ud(l),n===null&&bd(t,s,l,si,a),n===r)break;r=n}r!==null&&l.stopPropagation()}else bd(t,s,l,null,a)}}function Ud(t){return t=Ri(t),Md(t)}var si=null;function Md(t){if(si=null,t=cl(t),t!==null){var s=x(t);if(s===null)t=null;else{var a=s.tag;if(a===13){if(t=y(s),t!==null)return t;t=null}else if(a===31){if(t=f(s),t!==null)return t;t=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return si=t,null}function $x(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch($t()){case Ft:return 2;case R:return 8;case pe:case St:return 32;case Ie:return 268435456;default:return 32}default:return 32}}var Rd=!1,Da=null,qa=null,za=null,Lr=new Map,Br=new Map,Ua=[],Ff="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Fx(t,s){switch(t){case"focusin":case"focusout":Da=null;break;case"dragenter":case"dragleave":qa=null;break;case"mouseover":case"mouseout":za=null;break;case"pointerover":case"pointerout":Lr.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Br.delete(s.pointerId)}}function Hr(t,s,a,l,r,n){return t===null||t.nativeEvent!==n?(t={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:n,targetContainers:[r]},s!==null&&(s=dl(s),s!==null&&Kx(s)),t):(t.eventSystemFlags|=l,s=t.targetContainers,r!==null&&s.indexOf(r)===-1&&s.push(r),t)}function Wf(t,s,a,l,r){switch(s){case"focusin":return Da=Hr(Da,t,s,a,l,r),!0;case"dragenter":return qa=Hr(qa,t,s,a,l,r),!0;case"mouseover":return za=Hr(za,t,s,a,l,r),!0;case"pointerover":var n=r.pointerId;return Lr.set(n,Hr(Lr.get(n)||null,t,s,a,l,r)),!0;case"gotpointercapture":return n=r.pointerId,Br.set(n,Hr(Br.get(n)||null,t,s,a,l,r)),!0}return!1}function Wx(t){var s=cl(t.target);if(s!==null){var a=x(s);if(a!==null){if(s=a.tag,s===13){if(s=y(a),s!==null){t.blockedOn=s,uo(t.priority,function(){Zx(a)});return}}else if(s===31){if(s=f(a),s!==null){t.blockedOn=s,uo(t.priority,function(){Zx(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ai(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var a=Ud(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Mi=l,a.target.dispatchEvent(l),Mi=null}else return s=dl(a),s!==null&&Kx(s),t.blockedOn=a,!1;s.shift()}return!0}function Ix(t,s,a){ai(t)&&a.delete(s)}function If(){Rd=!1,Da!==null&&ai(Da)&&(Da=null),qa!==null&&ai(qa)&&(qa=null),za!==null&&ai(za)&&(za=null),Lr.forEach(Ix),Br.forEach(Ix)}function li(t,s){t.blockedOn===s&&(t.blockedOn=null,Rd||(Rd=!0,d.unstable_scheduleCallback(d.unstable_NormalPriority,If)))}var ri=null;function Px(t){ri!==t&&(ri=t,d.unstable_scheduleCallback(d.unstable_NormalPriority,function(){ri===t&&(ri=null);for(var s=0;s<t.length;s+=3){var a=t[s],l=t[s+1],r=t[s+2];if(typeof l!="function"){if(Md(l||a)===null)continue;break}var n=dl(a);n!==null&&(t.splice(s,3),s-=3,Uc(n,{pending:!0,data:r,method:a.method,action:l},l,r))}}))}function Xl(t){function s(_){return li(_,t)}Da!==null&&li(Da,t),qa!==null&&li(qa,t),za!==null&&li(za,t),Lr.forEach(s),Br.forEach(s);for(var a=0;a<Ua.length;a++){var l=Ua[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Ua.length&&(a=Ua[0],a.blockedOn===null);)Wx(a),a.blockedOn===null&&Ua.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var r=a[l],n=a[l+1],o=r[Wt]||null;if(typeof n=="function")o||Px(a);else if(o){var h=null;if(n&&n.hasAttribute("formAction")){if(r=n,o=n[Wt]||null)h=o.formAction;else if(Md(r)!==null)continue}else h=o.action;typeof h=="function"?a[l+1]=h:(a.splice(l,3),l-=3),Px(a)}}}function eh(){function t(n){n.canIntercept&&n.info==="react-transition"&&n.intercept({handler:function(){return new Promise(function(o){return r=o})},focusReset:"manual",scroll:"manual"})}function s(){r!==null&&(r(),r=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var n=navigation.currentEntry;n&&n.url!=null&&navigation.navigate(n.url,{state:n.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,r=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),r!==null&&(r(),r=null)}}}function Od(t){this._internalRoot=t}ni.prototype.render=Od.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(c(409));var a=s.current,l=js();Qx(a,l,t,s,null,null)},ni.prototype.unmount=Od.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;Qx(t.current,2,null,t,null,null),Hn(),s[il]=null}};function ni(t){this._internalRoot=t}ni.prototype.unstable_scheduleHydration=function(t){if(t){var s=oo();t={blockedOn:null,target:t,priority:s};for(var a=0;a<Ua.length&&s!==0&&s<Ua[a].priority;a++);Ua.splice(a,0,t),a===0&&Wx(t)}};var th=m.version;if(th!=="19.2.3")throw Error(c(527,th,"19.2.3"));le.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(c(188)):(t=Object.keys(t).join(","),Error(c(268,t)));return t=j(s),t=t!==null?O(t):null,t=t===null?null:t.stateNode,t};var Pf={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ii=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ii.isDisabled&&ii.supportsFiber)try{xt=ii.inject(Pf),it=ii}catch{}}return Gr.createRoot=function(t,s){if(!u(t))throw Error(c(299));var a=!1,l="",r=cm,n=dm,o=om;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(r=s.onUncaughtError),s.onCaughtError!==void 0&&(n=s.onCaughtError),s.onRecoverableError!==void 0&&(o=s.onRecoverableError)),s=Yx(t,1,!1,null,null,a,l,null,r,n,o,eh),t[il]=s.current,jd(t),new Od(s)},Gr.hydrateRoot=function(t,s,a){if(!u(t))throw Error(c(299));var l=!1,r="",n=cm,o=dm,h=om,_=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(r=a.identifierPrefix),a.onUncaughtError!==void 0&&(n=a.onUncaughtError),a.onCaughtError!==void 0&&(o=a.onCaughtError),a.onRecoverableError!==void 0&&(h=a.onRecoverableError),a.formState!==void 0&&(_=a.formState)),s=Yx(t,1,!0,s,a??null,l,r,_,n,o,h,eh),s.context=Xx(null),a=s.current,l=js(),l=Ci(l),r=ba(l),r.callback=null,ya(a,r,l),a=l,s.current.lanes=a,Wl(s,a),Vs(s),t[il]=s.current,jd(t),new ni(s)},Gr.version="19.2.3",Gr}var mh;function cp(){if(mh)return Hd.exports;mh=1;function d(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(d)}catch(m){console.error(m)}}return d(),Hd.exports=ip(),Hd.exports}var dp=cp();window.EM={init:function(d){return console.log("EmailJS dummy init called with key:",d),Promise.resolve()},send:function(d,m,i){return console.log("EmailJS dummy send called:",{serviceId:d,templateId:m,templateParams:i}),Promise.resolve({status:200,text:"OK"})},sendForm:function(d,m,i){return console.log("EmailJS dummy sendForm called:",{serviceId:d,templateId:m,form:i}),Promise.resolve({status:200,text:"OK"})}};window.emailjs=window.EM;const op="https://psfwmzlnaboattocyupu.supabase.co",up="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBzZndtemxuYWJvYXR0b2N5dXB1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg2MTU2NzgsImV4cCI6MjA3NDE5MTY3OH0.59A4QPRwv8YjfasHu_NTTv0fH6YhG8L_mBkOZypfgwg",mp=()=>typeof window<"u"?window.location.origin:"http://localhost:5173",ne=Lg(op,up,{auth:{redirectTo:`${mp()}/auth/callback`,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"pkce"},global:{headers:{"x-my-custom-header":"cnec-platform"}},realtime:{params:{eventsPerSecond:10}},db:{schema:"public"},fetch:(d,m={})=>fetch(d,{...m,signal:AbortSignal.timeout(3e4)})}),Be=async(d,m=3)=>{for(let i=0;i<m;i++)try{return await d()}catch(c){if(console.warn(`  ${i+1}/${m} :`,c.message),c.message.includes("permission denied")||c.message.includes("RLS"))return console.warn("     "),[];if(i===m-1)throw c;await new Promise(u=>setTimeout(u,1e3*(i+1)))}},Se={campaigns:{async getAll(){return Be(async()=>{console.log("Supabase campaigns.getAll() ");const{data:d,error:m}=await ne.from("campaigns").select("*").order("created_at",{ascending:!1});if(m)throw console.error("Campaigns getAll error:",m),m;return console.log("Campaigns   :",(d==null?void 0:d.length)||0,""),d||[]})},async getActive(){return Be(async()=>{const{data:d,error:m}=await ne.from("campaigns").select("*").eq("status","active").order("created_at",{ascending:!1});if(m)throw m;return d})},async getById(d){return Be(async()=>{const{data:m,error:i}=await ne.from("campaigns").select("*").eq("id",d).single();if(i)throw i;return m})},async create(d){return Be(async()=>{const{data:m,error:i}=await ne.from("campaigns").insert([d]).select().single();if(i)throw i;return m})},async update(d,m){return Be(async()=>{const{data:i,error:c}=await ne.from("campaigns").update(m).eq("id",d).select().single();if(c)throw c;return i})},async delete(d){return Be(async()=>{const{error:m}=await ne.from("campaigns").delete().eq("id",d);if(m)throw m})}},applications:{async getAll(){return Be(async()=>{console.log("Applications getAll()  - applications   ");try{const{data:d,error:m}=await ne.from("applications").select("*").order("created_at",{ascending:!1});if(m){if(console.error("Applications   :",m),m.message.includes("permission denied"))return[];throw m}if(!d||d.length===0)return console.log("Applications   "),[];console.log("Applications   :",d.length,"");const{data:i}=await ne.from("user_profiles").select("*"),{data:c}=await ne.from("campaigns").select("id, title");return d.map(x=>{const y=i==null?void 0:i.find(N=>N.user_id===x.user_id),f=c==null?void 0:c.find(N=>N.id===x.campaign_id);return{...x,user_name:(y==null?void 0:y.name)||x.applicant_name||"-",user_email:(y==null?void 0:y.email)||"-",user_age:(y==null?void 0:y.age)||x.age||"-",user_skin_type:(y==null?void 0:y.skin_type)||x.skin_type||"-",user_instagram_url:(y==null?void 0:y.instagram_url)||x.instagram_url||"",user_tiktok_url:(y==null?void 0:y.tiktok_url)||x.tiktok_url||"",user_youtube_url:(y==null?void 0:y.youtube_url)||x.youtube_url||"",user_bio:(y==null?void 0:y.bio)||x.bio||"",campaign_title:(f==null?void 0:f.title)||"  "}})}catch(d){return console.error("Applications getAll  :",d),[]}})},async getByUser(d){return Be(async()=>{console.log("getByUser ");try{const{data:m,error:i}=await ne.from("applications").select("*").eq("user_id",d).order("created_at",{ascending:!1});if(!i&&m&&m.length>0){console.log("Applications   :",m.length,"");const c=[...new Set(m.map(u=>u.campaign_id).filter(Boolean))];if(c.length>0){const{data:u,error:x}=await ne.from("campaigns").select("id, title, guide_type, guide_pdf_url").in("id",c);if(!x&&u)return m.map(f=>{const N=u.find(j=>j.id===f.campaign_id);return{...f,campaign_title:N?N.title:"Unknown Campaign",campaign_guide_type:(N==null?void 0:N.guide_type)||null,campaign_guide_pdf_url:(N==null?void 0:N.guide_pdf_url)||null}})}return m}console.log("Applications    , Campaign Applications  ");try{const{data:c,error:u}=await ne.from("campaign_applications").select("*").eq("user_id",d).order("created_at",{ascending:!1});if(!u&&c&&c.length>0){console.log("Campaign Applications   :",c.length,"");const x=c.map(j=>j.campaign_id),{data:y,error:f}=await ne.from("campaigns").select("id, title").in("id",x);return f?(console.error("Error fetching campaigns:",f),c):c.map(j=>{const O=y.find(w=>w.id===j.campaign_id);return{...j,campaign_title:O?O.title:"Unknown Campaign"}})}}catch(c){console.warn("Campaign Applications   :",c)}return console.log("     "),[]}catch(m){return console.error("getByUser  :",m),[]}})},async getByCampaign(d){return Be(async()=>{console.log("getByCampaign  -  ID:",d);try{const{data:m,error:i}=await ne.from("applications").select("*").eq("campaign_id",d).order("created_at",{ascending:!1});if(!i&&m&&m.length>0){console.log("Applications  :",m.length,"");const x=[...new Set(m.map(N=>N.user_id).filter(Boolean))];let y=[];if(x.length>0){const{data:N,error:j}=await ne.from("user_profiles").select("*").in("user_id",x);!j&&N&&(y=N)}return m.map(N=>{const j=y.find(O=>O.user_id===N.user_id);return{...N,applicant_name:(j==null?void 0:j.name)||N.applicant_name||"-",age:(j==null?void 0:j.age)||N.age||"-",skin_type:(j==null?void 0:j.skin_type)||N.skin_type||"-",instagram_url:(j==null?void 0:j.instagram_url)||N.instagram_url||"",tiktok_url:(j==null?void 0:j.tiktok_url)||N.tiktok_url||"",youtube_url:(j==null?void 0:j.youtube_url)||N.youtube_url||"",other_sns_url:(j==null?void 0:j.other_sns_url)||N.other_sns_url||"",user_profiles:j}})}console.log("Applications   , Campaign Applications  ");const{data:c,error:u}=await ne.from("campaign_applications").select("*").eq("campaign_id",d).order("created_at",{ascending:!1});if(!u&&c&&c.length>0)return console.log("Campaign Applications  :",c.length,""),c;if(i&&u){if(console.error("    :",{appsError:i,campaignAppsError:u}),i.message.includes("permission denied")||u.message.includes("permission denied"))return[];throw i}return console.log("    "),[]}catch(m){return console.error("getByCampaign  :",m),[]}})},async getByUserAndCampaign(d,m){return Be(async()=>{console.log("getByUserAndCampaign  - applications  ");const{data:i,error:c}=await ne.from("applications").select("*").eq("user_id",d).eq("campaign_id",m).order("created_at",{ascending:!1}).limit(1);if(c)return console.error("getByUserAndCampaign :",c),null;const u=i&&i.length>0?i[0]:null;return console.log("   "),u})},async create(d){return Be(async()=>{console.log("Application   - applications  ");const{data:m,error:i}=await ne.from("applications").insert([d]).select().single();if(i)throw console.error("Application  :",i),i;return console.log("Application  "),m})},async updateStatus(d,m){return Be(async()=>{console.log("  :",m);const i={status:m,updated_at:new Date().toISOString()};m==="virtual_selected"?i.virtual_selected_at=new Date().toISOString():m==="approved"?i.approved_at=new Date().toISOString():m==="rejected"?i.rejected_at=new Date().toISOString():m==="pending"&&(i.virtual_selected_at=null,i.approved_at=null,i.rejected_at=null);let{data:c,error:u}=await ne.from("applications").update(i).eq("id",d).select();if(u||!c||c.length===0){console.log("applications   , campaign_applications  ");const x=await ne.from("campaign_applications").update(i).eq("id",d).select();c=x.data,u=x.error}if(u)throw console.error("  :",u),u;return console.log("  "),c&&c.length>0?c[0]:null})},async update(d,m){return Be(async()=>{console.log("  ");let{data:i,error:c}=await ne.from("applications").update({...m,updated_at:new Date().toISOString()}).eq("id",d).select();if(c||!i||i.length===0){console.log("applications   , campaign_applications  ");const u=await ne.from("campaign_applications").update({...m,updated_at:new Date().toISOString()}).eq("id",d).select();i=u.data,c=u.error}if(c)throw console.error("  :",c),c;return console.log("  "),i&&i.length>0?i[0]:null})},async requestPoints(d){return Be(async()=>{const{data:m,error:i}=await ne.from("campaign_applications").update({points_requested:!0,updated_at:new Date().toISOString()}).eq("id",d).select();if(i)throw i;return m&&m.length>0?m[0]:null})},async getByCampaign(d){return Be(async()=>{console.log("  :",d);const{data:m,error:i}=await ne.from("campaign_applications").select("*").eq("campaign_id",d).order("created_at",{ascending:!1});if(i)throw console.error("   :",i),i;console.log("   :",(m==null?void 0:m.length)||0,"");const{data:c}=await ne.from("user_profiles").select("*");return(m||[]).map(x=>{const y=c==null?void 0:c.find(f=>f.user_id===x.user_id);return{...x,applicant_name:(y==null?void 0:y.name)||x.applicant_name||"-",age:(y==null?void 0:y.age)||x.age||"-",skin_type:(y==null?void 0:y.skin_type)||x.skin_type||"-",instagram_url:(y==null?void 0:y.instagram_url)||x.instagram_url||"",tiktok_url:(y==null?void 0:y.tiktok_url)||x.tiktok_url||"",youtube_url:(y==null?void 0:y.youtube_url)||x.youtube_url||"",other_sns_url:(y==null?void 0:y.other_sns_url)||x.other_sns_url||""}})})}},userProfiles:{async get(d){return Be(async()=>{const{data:m,error:i}=await ne.from("user_profiles").select("*").eq("user_id",d).single();if(i&&i.code!=="PGRST116")throw i;return m})},async getById(d){return Be(async()=>{const{data:m,error:i}=await ne.from("user_profiles").select("*").eq("id",d).single();if(i&&i.code!=="PGRST116")throw i;return m})},async getAll(){return Be(async()=>{console.log("UserProfiles getAll() ");const{data:d,error:m}=await ne.from("user_profiles").select("*").order("created_at",{ascending:!1});if(m){if(console.error("UserProfiles getAll error:",m),m.message.includes("permission denied")||m.message.includes("RLS"))return console.warn("     "),[];throw m}return console.log("UserProfiles   :",(d==null?void 0:d.length)||0,""),d||[]})},async upsert(d){return Be(async()=>{console.log("Upsert ");const{data:m}=await ne.from("user_profiles").select("id").eq("user_id",d.user_id).single();if(m){console.log("  ");const{data:i,error:c}=await ne.from("user_profiles").update(d).eq("user_id",d.user_id).select().single();if(c)throw c;return i}else{console.log("  ");const{data:i,error:c}=await ne.from("user_profiles").insert([{...d,email:d.email||"unknown@example.com"}]).select().single();if(c)throw c;return i}})},async update(d,m){return Be(async()=>{console.log("   ");let{data:i,error:c}=await ne.from("user_profiles").update({...m,updated_at:new Date().toISOString()}).eq("user_id",d).select();if(c||!i||i.length===0){console.log("user_id  , id :",c);const u=await ne.from("user_profiles").update({...m,updated_at:new Date().toISOString()}).eq("id",d).select();i=u.data,c=u.error}if(c)throw console.error("   :",c),c;return console.log("  "),i&&i.length>0?i[0]:null})}},users:{async getAll(){return console.log("Supabase users.getAll()  (user_profiles )"),Se.userProfiles.getAll()}},emailTemplates:{async getAll(){return Be(async()=>{const{data:d,error:m}=await ne.from("email_templates").select("*").order("template_type",{ascending:!0});if(m)throw m;return d||[]})},async getById(d){return Be(async()=>{const{data:m,error:i}=await ne.from("email_templates").select("*").eq("id",d).single();if(i)throw i;return m})},async create(d){return Be(async()=>{const{data:m,error:i}=await ne.from("email_templates").insert([d]).select().single();if(i)throw i;return m})},async upsert(d){return Be(async()=>{const{data:m,error:i}=await ne.from("email_templates").upsert([d]).select().single();if(i)throw i;return m})},async update(d,m){return Be(async()=>{const{data:i,error:c}=await ne.from("email_templates").update(m).eq("id",d).select().single();if(c)throw c;return i})},async delete(d){return Be(async()=>{const{error:m}=await ne.from("email_templates").delete().eq("id",d);if(m)throw m})},async getByCategory(d){return Be(async()=>{const{data:m,error:i}=await ne.from("email_templates").select("*").eq("template_type",d);if(i)throw i;return m||[]})}},withdrawals:{async getAll(){return Be(async()=>{const{data:d,error:m}=await ne.from("withdrawal_requests").select(`
            *,
            user_profiles!withdrawal_requests_user_id_fkey(name, email)
          `).order("created_at",{ascending:!1});if(m)throw m;return d||[]})},async getByUser(d){return Be(async()=>{const{data:m,error:i}=await ne.from("withdrawal_requests").select("*").eq("user_id",d).order("created_at",{ascending:!1});if(i)throw i;return m||[]})},async create(d){return Be(async()=>{console.log("  ");const m={user_id:d.user_id,amount:d.amount,withdrawal_method:"paypal",paypal_email:d.paypal_email,paypal_name:d.paypal_name,reason:d.reason||"",status:"pending"};console.log("   ");const{data:i,error:c}=await ne.from("withdrawal_requests").insert([m]).select();if(c)throw console.error("   :",c),c;return console.log("  "),i&&i.length>0?i[0]:null})},async updateStatus(d,m,i=null,c=null){return Be(async()=>{const u={status:m,updated_at:new Date().toISOString()};(m==="completed"||m==="rejected")&&(u.processed_at=new Date().toISOString(),i&&(u.processed_by=i)),c&&(u.notes=c);const{data:x,error:y}=await ne.from("withdrawal_requests").update(u).eq("id",d).select();if(y)throw y;return x&&x.length>0?x[0]:null})}},userPoints:{async getUserTotalPoints(d){return Be(async()=>{console.log("  ");const{data:m,error:i}=await ne.from("point_transactions").select("amount").eq("user_id",d);if(i)throw console.error("  :",i),i;console.log("   :",(m==null?void 0:m.length)||0,"");const c=(m||[]).reduce((u,x)=>u+(x.amount||0),0);return console.log(" :",c),c})},async getUserPoints(d){return Be(async()=>{console.log("   ");const{data:m,error:i}=await ne.from("point_transactions").select("*").eq("user_id",d).order("created_at",{ascending:!1});if(i)throw console.error("   :",i),i;return console.log("   :",(m==null?void 0:m.length)||0,""),m||[]})},async deductPoints(d,m,i=""){return Be(async()=>{console.log("  ");const{data:c,error:u}=await ne.from("point_transactions").insert([{user_id:d,amount:-m,transaction_type:"admin_add",description:i,created_at:new Date().toISOString()}]).select();if(u)throw console.error("  :",u),u;return console.log("  "),c&&c.length>0?c[0]:null})}}},xp={async uploadCampaignImage(d){try{const m=d.name.split(".").pop(),c=`campaigns/${`${Date.now()}-${Math.random().toString(36).substring(7)}.${m}`}`,{data:u,error:x}=await ne.storage.from("campaign-images").upload(c,d,{cacheControl:"3600",upsert:!1});if(x)throw console.error("Upload error:",x),x;const{data:{publicUrl:y}}=ne.storage.from("campaign-images").getPublicUrl(c);return{success:!0,url:y,path:c}}catch(m){return console.error("Storage upload error:",m),{success:!1,error:m.message}}},async deleteCampaignImage(d){try{const{error:m}=await ne.storage.from("campaign-images").remove([d]);if(m)throw m;return{success:!0}}catch(m){return console.error("Storage delete error:",m),{success:!1,error:m.message}}}},qh=g.createContext(),hp=({children:d})=>{const[m,i]=g.useState(null),[c,u]=g.useState(null),[x,y]=g.useState(!0);g.useEffect(()=>{(async()=>{try{const{data:{session:T},error:z}=await ne.auth.getSession();z?(console.error("Error getting session:",z),i(null)):(console.log("Session loaded"),i((T==null?void 0:T.user)??null),T!=null&&T.user&&f(T.user.id))}catch(T){console.error("Error in getSession catch:",T),i(null)}finally{y(!1)}})();const{data:C}=ne.auth.onAuthStateChange(async(T,z)=>{console.log("Auth state changed:",T),T==="SIGNED_IN"&&(z!=null&&z.user)?(i(z.user),setTimeout(async()=>{var k;try{await f(z.user.id);const{data:$,error:v}=await ne.from("user_profiles").select("*").eq("user_id",z.user.id).single();if(v&&v.code==="PGRST116"){const{error:ee}=await ne.from("user_profiles").insert({user_id:z.user.id,email:z.user.email,name:((k=z.user.user_metadata)==null?void 0:k.full_name)||z.user.email});ee?console.error("Error creating profile:",ee):(console.log("Profile created successfully"),f(z.user.id))}}catch($){console.error("Error handling user profile:",$)}},0)):T==="SIGNED_OUT"?(i(null),u(null),j()):(T==="TOKEN_REFRESHED"&&console.log("Token refreshed successfully"),i((z==null?void 0:z.user)??null))});return()=>{C==null||C.subscription.unsubscribe()}},[]);const f=async p=>{try{const C=await Se.userProfiles.get(p);return u(C),C}catch(C){return console.error("Error loading user profile:",C),null}},N=async p=>{try{if(!m)throw new Error("User not authenticated");const C=await Se.userProfiles.update(m.id,p);return u(C),C}catch(C){throw console.error("Error updating profile:",C),C}},j=()=>{try{document.cookie.split(";").forEach(p=>{const C=p.indexOf("="),T=C>-1?p.substr(0,C).trim():p.trim();if(T){document.cookie=`${T}=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/`,document.cookie=`${T}=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/;domain=${window.location.hostname}`;const z=window.location.hostname.split(".").slice(-2).join(".");document.cookie=`${T}=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/;domain=.${z}`}}),localStorage.clear(),sessionStorage.clear(),console.log("All cookies and storage cleared")}catch(p){console.error("Error clearing cookies:",p)}},S={user:m,userProfile:c,loading:x,signInWithEmail:async(p,C)=>{try{const{data:T,error:z}=await ne.auth.signInWithPassword({email:p,password:C});if(z)throw console.error("Email sign in error:",z),z;return T}catch(T){throw console.error("Sign in error:",T),T}},signUpWithEmail:async(p,C,T)=>{try{const{data:z,error:k}=await ne.auth.signUp({email:p,password:C,options:{data:{name:T}}});if(k)throw console.error("Email sign up error:",k),k;return z}catch(z){throw console.error("Sign up error:",z),z}},signInWithGoogle:async()=>{try{const{data:p,error:C}=await ne.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/auth/callback`,skipBrowserRedirect:!1,flowType:"pkce",queryParams:{access_type:"offline",prompt:"select_account"}}});if(C)throw console.error("Google sign in error:",C),C;return p}catch(p){throw console.error("Sign in error:",p),p}},signOut:async()=>{try{j();const{error:p}=await ne.auth.signOut();if(p)throw console.error("Sign out error:",p),p;i(null),u(null),setTimeout(()=>{window.location.href="/"},100)}catch(p){throw console.error("Sign out error:",p),j(),i(null),u(null),p}},updateProfile:N,loadUserProfile:f};return e.jsx(qh.Provider,{value:S,children:d})},ys=()=>{const d=g.useContext(qh);if(!d)throw new Error("useAuth must be used within an AuthProvider");return d},zh=g.createContext({}),Zt=()=>{const d=g.useContext(zh);if(!d)throw new Error("useLanguage must be used within a LanguageProvider");return d},fp={ko:{loading:" ...",error:" ",success:"",cancel:"",confirm:"",save:"",edit:"",delete:"",create:"",update:"",home:"",campaigns:"",mypage:"",login:"",register:"",logout:"",admin:"",dashboard:"",campaignManagement:" ",creatorManagement:" ",withdrawalManagement:" ",campaignTitle:" ",brand:"",description:"",reward:"",status:"",active:"",inactive:"",draft:"",completed:"",apply:"",application:"",applications:" ",applicant:"",totalCampaigns:" ",totalApplications:" ",totalUsers:" ",totalRewards:" ",loginRequired:" ",adminRequired:"  ",noData:" ",loadingFailed:"  "},ja:{loading:"...",error:"",success:"",cancel:"",confirm:"",save:"",edit:"",delete:"",create:"",update:"",home:"",campaigns:"",mypage:"",login:"",register:"",logout:"",admin:"",dashboard:"",campaignManagement:"",creatorManagement:"",withdrawalManagement:"",campaignTitle:"",brand:"",description:"",reward:"",status:"",active:"",inactive:"",draft:"",completed:"",apply:"",application:"",applications:"",applicant:"",totalCampaigns:"",totalApplications:"",totalUsers:"",totalRewards:"",loginRequired:"",adminRequired:"",noData:"",loadingFailed:""}},gp=({children:d})=>{const[m,i]=g.useState("ja");g.useEffect(()=>{i("ja"),localStorage.setItem("cnec-language","ja")},[]);const x={language:m,changeLanguage:y=>{["ko","ja"].includes(y)&&(i(y),localStorage.setItem("cnec-language",y))},t:y=>fp[m][y]||y,isKorean:m==="ko",isJapanese:m==="ja"};return e.jsx(zh.Provider,{value:x,children:d})};class pp{constructor(){this.isRunning=!1}start(){this.isRunning||(this.isRunning=!0,console.log("  "),this.scheduleDaily(),this.checkAndSendReminders())}stop(){this.interval&&clearInterval(this.interval),this.isRunning=!1,console.log("  ")}scheduleDaily(){this.interval=setInterval(()=>{this.checkAndSendReminders()},1440*60*1e3)}async checkAndSendReminders(){try{console.log("   ...");const i=(await Se.campaigns.getAll()).filter(c=>c.status==="active");for(const c of i)await this.processCampaignReminders(c);console.log("   ")}catch(m){console.error("    :",m)}}async processCampaignReminders(m){try{const i=new Date(m.end_date),u=Math.ceil((i-new Date)/(1e3*60*60*24));console.log(` "${m.title}"  ${u}`);let x=null;if(u===3?x="campaign_deadline_3days":u===2?x="campaign_deadline_2days":u===1?x="campaign_deadline_1day":u===0&&(x="campaign_deadline_today"),!x)return;const f=(await Se.applications.getByCampaignId(m.id)).filter(N=>N.status==="approved");for(const N of f)await this.sendReminderIfNeeded(m,N,x)}catch(i){console.error(` ${m.id}    :`,i)}}async sendReminderIfNeeded(m,i,c){try{if(await this.checkVideoSubmission(i)){console.log("      ");return}if(await this.checkIfAlreadySent(i.user_id,m.id,c)){console.log(` ${c}  `);return}const y=await Se.users.getById(i.user_id);if(!y)return;await this.sendReminderEmail(y,m,i,c),await this.recordEmailSent(y.id,m.id,c)}catch(u){console.error("    :",u)}}async checkVideoSubmission(m){try{return!!(m.video_url||m.submission_status==="submitted")}catch(i){return console.error("    :",i),!1}}async checkIfAlreadySent(m,i,c){try{const u=new Date().toISOString().split("T")[0],{data:x,error:y}=await Se.supabase.from("email_logs").select("*").eq("user_id",m).eq("campaign_id",i).eq("template_id",c).gte("sent_at",u).limit(1);return y&&y.code!=="PGRST116"?(console.error("    :",y),!1):x&&x.length>0}catch(u){return console.error("     :",u),!1}}async sendReminderEmail(m,i,c,u){try{const x=await this.getEmailTemplate(u);if(!x){console.error(` ${u}   `);return}const y=this.replaceTemplateVariables(x.content,{name:m.name||m.email,campaign_title:i.title,brand_name:i.brand,reward_amount:i.reward_amount,deadline:this.formatDate(i.end_date),requirements:i.requirements||"  ",upload_folder:i.upload_folder||"Google Drive  ",guidelines_url:i.guidelines_url||"#"}),f=this.replaceTemplateVariables(x.subject,{campaign_title:i.title});await this.sendEmail({to:m.email,subject:f,content:y}),console.log(`${u}   `)}catch(x){console.error("    :",x)}}async getEmailTemplate(m){try{const{data:i,error:c}=await Se.supabase.from("email_templates").select("*").eq("template_id",m).eq("is_active",!0).limit(1).single();return c?(console.error("  :",c),null):i}catch(i){return console.error("   :",i),null}}replaceTemplateVariables(m,i){let c=m;return Object.keys(i).forEach(u=>{const x=new RegExp(`{{${u}}}`,"g");c=c.replace(x,i[u]||"")}),c}formatDate(m){return new Date(m).toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric",weekday:"long"})}async sendEmail({to:m,subject:i,content:c}){console.log(" :",{subject:i}),console.log(":",c)}async recordEmailSent(m,i,c){try{const{error:u}=await Se.supabase.from("email_logs").insert({user_id:m,campaign_id:i,template_id:c,sent_at:new Date().toISOString()});u&&u.code!=="PGRST116"&&console.error("   :",u)}catch(u){console.error("     :",u)}}}const xh=new pp;function Xe(...d){return Bg(Hg(d))}function mt({className:d,...m}){return e.jsx("div",{"data-slot":"card",className:Xe("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",d),...m})}function ht({className:d,...m}){return e.jsx("div",{"data-slot":"card-header",className:Xe("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",d),...m})}function ft({className:d,...m}){return e.jsx("div",{"data-slot":"card-title",className:Xe("leading-none font-semibold",d),...m})}function Vt({className:d,...m}){return e.jsx("div",{"data-slot":"card-description",className:Xe("text-muted-foreground text-sm",d),...m})}function gt({className:d,...m}){return e.jsx("div",{"data-slot":"card-content",className:Xe("px-6",d),...m})}var jp=Symbol.for("react.lazy"),hi=zg[" use ".trim().toString()];function bp(d){return typeof d=="object"&&d!==null&&"then"in d}function Uh(d){return d!=null&&typeof d=="object"&&"$$typeof"in d&&d.$$typeof===jp&&"_payload"in d&&bp(d._payload)}function lo(d){const m=yp(d),i=g.forwardRef((c,u)=>{let{children:x,...y}=c;Uh(x)&&typeof hi=="function"&&(x=hi(x._payload));const f=g.Children.toArray(x),N=f.find(Np);if(N){const j=N.props.children,O=f.map(w=>w===N?g.Children.count(j)>1?g.Children.only(null):g.isValidElement(j)?j.props.children:null:w);return e.jsx(m,{...y,ref:u,children:g.isValidElement(j)?g.cloneElement(j,void 0,O):null})}return e.jsx(m,{...y,ref:u,children:x})});return i.displayName=`${d}.Slot`,i}var Mh=lo("Slot");function yp(d){const m=g.forwardRef((i,c)=>{let{children:u,...x}=i;if(Uh(u)&&typeof hi=="function"&&(u=hi(u._payload)),g.isValidElement(u)){const y=_p(u),f=wp(x,u.props);return u.type!==g.Fragment&&(f.ref=c?tg(c,y):y),g.cloneElement(u,f)}return g.Children.count(u)>1?g.Children.only(null):null});return m.displayName=`${d}.SlotClone`,m}var vp=Symbol("radix.slottable");function Np(d){return g.isValidElement(d)&&typeof d.type=="function"&&"__radixId"in d.type&&d.type.__radixId===vp}function wp(d,m){const i={...m};for(const c in m){const u=d[c],x=m[c];/^on[A-Z]/.test(c)?u&&x?i[c]=(...f)=>{const N=x(...f);return u(...f),N}:u&&(i[c]=u):c==="style"?i[c]={...u,...x}:c==="className"&&(i[c]=[u,x].filter(Boolean).join(" "))}return{...d,...i}}function _p(d){var c,u;let m=(c=Object.getOwnPropertyDescriptor(d.props,"ref"))==null?void 0:c.get,i=m&&"isReactWarning"in m&&m.isReactWarning;return i?d.ref:(m=(u=Object.getOwnPropertyDescriptor(d,"ref"))==null?void 0:u.get,i=m&&"isReactWarning"in m&&m.isReactWarning,i?d.props.ref:d.props.ref||d.ref)}const Sp=Pd("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function Ne({className:d,variant:m,size:i,asChild:c=!1,...u}){const x=c?Mh:"button";return e.jsx(x,{"data-slot":"button",className:Xe(Sp({variant:m,size:i,className:d})),...u})}const kp=Pd("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Ut({className:d,variant:m,asChild:i=!1,...c}){const u=i?Mh:"span";return e.jsx(u,{"data-slot":"badge",className:Xe(kp({variant:m}),d),...c})}function fi({...d}){return e.jsx(sg,{"data-slot":"dialog",...d})}function Cp({...d}){return e.jsx(ig,{"data-slot":"dialog-portal",...d})}function Ap({className:d,...m}){return e.jsx(cg,{"data-slot":"dialog-overlay",className:Xe("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",d),...m})}function gi({className:d,children:m,...i}){return e.jsxs(Cp,{"data-slot":"dialog-portal",children:[e.jsx(Ap,{}),e.jsxs(ag,{"data-slot":"dialog-content",className:Xe("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",d),...i,children:[m,e.jsxs(lg,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[e.jsx(Xt,{}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function pi({className:d,...m}){return e.jsx("div",{"data-slot":"dialog-header",className:Xe("flex flex-col gap-2 text-center sm:text-left",d),...m})}function ji({className:d,...m}){return e.jsx(rg,{"data-slot":"dialog-title",className:Xe("text-lg leading-none font-semibold",d),...m})}function bi({className:d,...m}){return e.jsx(ng,{"data-slot":"dialog-description",className:Xe("text-muted-foreground text-sm",d),...m})}const Tp="https://line.me/R/ti/p/@cnec",Ep=()=>{const[d,m]=g.useState(!1),[i,c]=g.useState(!1);g.useEffect(()=>{sessionStorage.getItem("line_banner_minimized")==="true"&&c(!0);const N=setTimeout(()=>{m(!0)},2e3);return()=>clearTimeout(N)},[]);const u=()=>{c(!0),sessionStorage.setItem("line_banner_minimized","true")},x=()=>{c(!1),sessionStorage.removeItem("line_banner_minimized")},y=()=>{window.open(Tp,"_blank")};return d?i?e.jsxs("div",{className:"fixed bottom-6 right-6 z-50",children:[e.jsx("button",{onClick:x,className:"bg-[#06C755] rounded-full p-3 shadow-lg hover:scale-110 transition-transform duration-200 animate-bounce","aria-label":"LINE",children:e.jsx("svg",{className:"w-8 h-8",viewBox:"0 0 24 24",fill:"white",children:e.jsx("path",{d:"M19.365 9.863c.349 0 .63.285.63.631 0 .345-.281.63-.63.63H17.61v1.125h1.755c.349 0 .63.283.63.63 0 .344-.281.629-.63.629h-2.386c-.345 0-.627-.285-.627-.629V8.108c0-.345.282-.63.63-.63h2.386c.349 0 .63.285.63.63 0 .349-.281.63-.63.63H17.61v1.125h1.755zm-3.855 3.016c0 .27-.174.51-.432.596-.064.021-.133.031-.199.031-.211 0-.391-.09-.51-.25l-2.443-3.317v2.94c0 .344-.279.629-.631.629-.346 0-.626-.285-.626-.629V8.108c0-.27.173-.51.43-.595.06-.023.136-.033.194-.033.195 0 .375.104.495.254l2.462 3.33V8.108c0-.345.282-.63.63-.63.345 0 .63.285.63.63v4.771zm-5.741 0c0 .344-.282.629-.631.629-.345 0-.627-.285-.627-.629V8.108c0-.345.282-.63.63-.63.346 0 .628.285.628.63v4.771zm-2.466.629H4.917c-.345 0-.63-.285-.63-.629V8.108c0-.345.285-.63.63-.63.348 0 .63.285.63.63v4.141h1.756c.348 0 .629.283.629.63 0 .344-.282.629-.629.629M24 10.314C24 4.943 18.615.572 12 .572S0 4.943 0 10.314c0 4.811 4.27 8.842 10.035 9.608.391.082.923.258 1.058.59.12.301.079.766.038 1.08l-.164 1.02c-.045.301-.24 1.186 1.049.645 1.291-.539 6.916-4.078 9.436-6.975C23.176 14.393 24 12.458 24 10.314"})})}),e.jsx("div",{className:"absolute bottom-full right-0 mb-2 bg-gray-800 text-white text-xs px-2 py-1 rounded whitespace-nowrap opacity-0 hover:opacity-100 transition-opacity pointer-events-none",children:"LINE"})]}):e.jsx("div",{className:"fixed bottom-6 right-6 z-50 animate-in slide-in-from-bottom-5 duration-500",children:e.jsxs("div",{className:"relative bg-[#06C755] rounded-2xl shadow-2xl p-4 max-w-xs",children:[e.jsx("button",{onClick:u,className:"absolute -top-2 -right-2 bg-white rounded-full p-1 shadow-md hover:bg-gray-100 transition-colors","aria-label":"",children:e.jsx(Xt,{className:"h-4 w-4 text-gray-600"})}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"flex-shrink-0 bg-white rounded-full p-2",children:e.jsx("svg",{className:"w-8 h-8",viewBox:"0 0 24 24",fill:"#06C755",children:e.jsx("path",{d:"M19.365 9.863c.349 0 .63.285.63.631 0 .345-.281.63-.63.63H17.61v1.125h1.755c.349 0 .63.283.63.63 0 .344-.281.629-.63.629h-2.386c-.345 0-.627-.285-.627-.629V8.108c0-.345.282-.63.63-.63h2.386c.349 0 .63.285.63.63 0 .349-.281.63-.63.63H17.61v1.125h1.755zm-3.855 3.016c0 .27-.174.51-.432.596-.064.021-.133.031-.199.031-.211 0-.391-.09-.51-.25l-2.443-3.317v2.94c0 .344-.279.629-.631.629-.346 0-.626-.285-.626-.629V8.108c0-.27.173-.51.43-.595.06-.023.136-.033.194-.033.195 0 .375.104.495.254l2.462 3.33V8.108c0-.345.282-.63.63-.63.345 0 .63.285.63.63v4.771zm-5.741 0c0 .344-.282.629-.631.629-.345 0-.627-.285-.627-.629V8.108c0-.345.282-.63.63-.63.346 0 .628.285.628.63v4.771zm-2.466.629H4.917c-.345 0-.63-.285-.63-.629V8.108c0-.345.285-.63.63-.63.348 0 .63.285.63.63v4.141h1.756c.348 0 .629.283.629.63 0 .344-.282.629-.629.629M24 10.314C24 4.943 18.615.572 12 .572S0 4.943 0 10.314c0 4.811 4.27 8.842 10.035 9.608.391.082.923.258 1.058.59.12.301.079.766.038 1.08l-.164 1.02c-.045.301-.24 1.186 1.049.645 1.291-.539 6.916-4.078 9.436-6.975C23.176 14.393 24 12.458 24 10.314"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-white font-bold text-sm mb-1",children:"LINE"}),e.jsxs("p",{className:"text-white/90 text-xs mb-3 leading-relaxed",children:["",e.jsx("br",{}),""]}),e.jsxs("button",{onClick:y,className:"w-full bg-white text-[#06C755] font-bold py-2 px-4 rounded-full text-sm hover:bg-gray-100 transition-colors flex items-center justify-center space-x-1",children:[e.jsx("span",{children:""}),e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})]})]}),e.jsx("p",{className:"text-white/70 text-xs text-center mt-2",children:"LINE ID: @cnec"})]})}):null},Dp=()=>{const{user:d,signOut:m}=ys(),i=os(),[c,u]=g.useState([]),[x,y]=g.useState({totalCampaigns:0,totalCreators:0,totalApplications:0,totalRewards:0}),[f,N]=g.useState(!0),[j,O]=g.useState(null),[w,K]=g.useState(!1),[Q,S]=g.useState(!1);g.useEffect(()=>{p()},[]);const p=async()=>{try{N(!0),await Promise.all([C(),T()])}catch(L){console.error("Page data load error:",L)}finally{N(!1)}},C=async()=>{try{const L=await Se.campaigns.getAll(),U=(L==null?void 0:L.filter(oe=>oe.status==="active"))||[];u(U)}catch(L){console.error("Load campaigns error:",L),u([])}},T=async()=>{try{const[L,U,oe]=await Promise.all([Se.campaigns.getAll(),Se.applications.getAll(),Se.userProfiles.getAll()]),F=L||[],X=U||[],ce=oe||[];y({totalCampaigns:F.length,totalCreators:ce.length,totalApplications:X.length,totalRewards:F.reduce((ue,q)=>ue+(q.reward_amount||0),0)})}catch(L){console.error("Load stats error:",L),y({totalCampaigns:0,totalCreators:800,totalApplications:0,totalRewards:0})}},z=L=>{O(L),K(!0)},k=L=>{if(!d){i("/login");return}i(`/campaign-application?campaign_id=${L}`)},$=L=>new Intl.NumberFormat("ja-JP",{style:"currency",currency:"JPY",minimumFractionDigits:0}).format(L),v=L=>new Date(L).toLocaleDateString("ja-JP",{year:"numeric",month:"long",day:"numeric"}),ee=L=>{switch(L==null?void 0:L.toLowerCase()){case"instagram":return e.jsx(Ra,{className:"h-4 w-4"});case"tiktok":return e.jsx(vi,{className:"h-4 w-4"});case"youtube":return e.jsx(ll,{className:"h-4 w-4"});case"twitter":return e.jsx(Yg,{className:"h-4 w-4"});default:return e.jsx(di,{className:"h-4 w-4"})}},G=L=>{switch(L==null?void 0:L.toLowerCase()){case"instagram":return"bg-gradient-to-r from-purple-500 to-pink-500 text-white";case"tiktok":return"bg-black text-white";case"youtube":return"bg-red-600 text-white";case"twitter":return"bg-blue-400 text-white";default:return"bg-gray-600 text-white"}},A=L=>{if(!L)return["instagram"];const U=[];return L.instagram&&U.push("instagram"),L.tiktok&&U.push("tiktok"),L.youtube&&U.push("youtube"),U.length>0?U:["instagram"]};return e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx("header",{className:"bg-white shadow-sm sticky top-0 z-50 border-b",children:e.jsxs("div",{className:"container mx-auto px-4 py-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"text-2xl",children:""}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"CNEC Japan"}),e.jsx("p",{className:"text-xs text-gray-600",children:"K-Beauty "})]})]}),e.jsxs("nav",{className:"hidden md:flex items-center space-x-4",children:[e.jsx("a",{href:"#campaigns",className:"text-gray-700 hover:text-blue-600 font-medium",children:""}),e.jsx("a",{href:"#how-it-works",className:"text-gray-700 hover:text-blue-600 font-medium",children:""}),d?e.jsxs(e.Fragment,{children:[e.jsx(Ne,{variant:"ghost",asChild:!0,children:e.jsx(Fe,{to:"/mypage",children:""})}),e.jsx(Ne,{variant:"ghost",onClick:m,children:""})]}):e.jsxs(e.Fragment,{children:[e.jsx(Ne,{variant:"ghost",asChild:!0,children:e.jsx(Fe,{to:"/login",children:""})}),e.jsx(Ne,{className:"bg-blue-600 hover:bg-blue-700 text-white",asChild:!0,children:e.jsx(Fe,{to:"/signup",children:""})})]})]}),e.jsx("button",{className:"md:hidden p-2 text-gray-600 hover:text-gray-800",onClick:()=>S(!Q),children:Q?e.jsx(Xt,{className:"h-6 w-6"}):e.jsx(eo,{className:"h-6 w-6"})})]}),Q&&e.jsx("div",{className:"md:hidden mt-4 pb-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex flex-col space-y-2 pt-4",children:[e.jsx("a",{href:"#campaigns",className:"text-gray-700 hover:text-blue-600 font-medium py-2",children:""}),e.jsx("a",{href:"#how-it-works",className:"text-gray-700 hover:text-blue-600 font-medium py-2",children:""}),d?e.jsxs(e.Fragment,{children:[e.jsx(Fe,{to:"/mypage",className:"text-gray-700 hover:text-blue-600 font-medium py-2",children:""}),e.jsx("button",{onClick:m,className:"text-gray-700 hover:text-blue-600 font-medium py-2 text-left",children:""})]}):e.jsxs(e.Fragment,{children:[e.jsx(Fe,{to:"/login",className:"text-gray-700 hover:text-blue-600 font-medium py-2",children:""}),e.jsx(Fe,{to:"/signup",className:"text-blue-600 hover:text-blue-700 font-medium py-2",children:""})]})]})})]})}),e.jsx("section",{className:"relative py-20 bg-gradient-to-b from-blue-50 to-white",children:e.jsxs("div",{className:"container mx-auto px-4 text-center",children:[e.jsx("div",{className:"inline-block mb-4",children:e.jsxs(Ut,{className:"bg-green-100 text-green-700 border-green-200 px-4 py-1",children:[e.jsx(He,{className:"h-4 w-4 mr-1"}),""]})}),e.jsxs("h1",{className:"text-4xl md:text-6xl font-bold text-gray-900 mb-6 leading-tight",children:["K-Beauty",e.jsx("br",{}),e.jsx("span",{className:"text-blue-600",children:""})]}),e.jsx("p",{className:"text-lg md:text-xl text-gray-600 mb-8 max-w-3xl mx-auto",children:" "}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mb-12",children:[e.jsx(Ne,{size:"lg",className:"bg-blue-600 hover:bg-blue-700 text-white text-lg px-8",asChild:!0,children:e.jsxs(Fe,{to:"/signup",children:["",e.jsx(Jd,{className:"h-5 w-5 ml-2"})]})}),e.jsx(Ne,{size:"lg",variant:"outline",className:"border-2 border-blue-600 text-blue-600 hover:bg-blue-50 text-lg px-8",children:e.jsx("a",{href:"#how-it-works",className:"flex items-center",children:""})})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 max-w-4xl mx-auto",children:[e.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm border",children:[e.jsxs("div",{className:"text-3xl font-bold text-blue-600 mb-1",children:[x.totalCreators,"+"]}),e.jsx("div",{className:"text-sm text-gray-600",children:""})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm border",children:[e.jsx("div",{className:"text-3xl font-bold text-green-600 mb-1",children:$(x.totalRewards)}),e.jsx("div",{className:"text-sm text-gray-600",children:""})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm border",children:[e.jsxs("div",{className:"text-3xl font-bold text-purple-600 mb-1",children:[x.totalCampaigns,"+"]}),e.jsx("div",{className:"text-sm text-gray-600",children:""})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm border",children:[e.jsx("div",{className:"text-3xl font-bold text-orange-600 mb-1",children:"4.8"}),e.jsx("div",{className:"text-sm text-gray-600",children:""})]})]})]})}),e.jsx("section",{id:"how-it-works",className:"py-16 bg-white",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:""}),e.jsx("p",{className:"text-lg text-gray-600",children:"4"})]}),e.jsxs("div",{className:"grid md:grid-cols-4 gap-8 max-w-6xl mx-auto",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(di,{className:"h-8 w-8 text-blue-600"})}),e.jsx("div",{className:"text-sm font-semibold text-blue-600 mb-2",children:"STEP 1"}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:""}),e.jsx("p",{className:"text-gray-600 text-sm",children:""})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(oi,{className:"h-8 w-8 text-purple-600"})}),e.jsx("div",{className:"text-sm font-semibold text-purple-600 mb-2",children:"STEP 2"}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:""}),e.jsx("p",{className:"text-gray-600 text-sm",children:""})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-pink-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Gg,{className:"h-8 w-8 text-pink-600"})}),e.jsx("div",{className:"text-sm font-semibold text-pink-600 mb-2",children:"STEP 3"}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:""}),e.jsx("p",{className:"text-gray-600 text-sm",children:"SNS"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Vg,{className:"h-8 w-8 text-green-600"})}),e.jsx("div",{className:"text-sm font-semibold text-green-600 mb-2",children:"STEP 4"}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:""}),e.jsx("p",{className:"text-gray-600 text-sm",children:""})]})]})]})}),e.jsx("section",{className:"py-16 bg-green-50",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsx("div",{className:"max-w-5xl mx-auto",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"inline-block mb-4",children:e.jsx(Ut,{className:"bg-green-100 text-green-700 border-green-200",children:""})}),e.jsxs("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-6",children:["",e.jsx("br",{}),""]}),e.jsx("p",{className:"text-lg text-gray-600 mb-8",children:" "}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx(He,{className:"h-6 w-6 text-green-600 mr-3 mt-0.5"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-gray-900",children:""}),e.jsx("div",{className:"text-sm text-gray-600",children:""})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx(He,{className:"h-6 w-6 text-green-600 mr-3 mt-0.5"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-gray-900",children:""}),e.jsx("div",{className:"text-sm text-gray-600",children:""})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx(He,{className:"h-6 w-6 text-green-600 mr-3 mt-0.5"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-gray-900",children:""}),e.jsx("div",{className:"text-sm text-gray-600",children:""})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"text-3xl font-bold text-gray-900 mb-2",children:"50,000-200,000"}),e.jsx("div",{className:"text-gray-600",children:""})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[e.jsx("span",{className:"text-gray-700",children:"1"}),e.jsx("span",{className:"font-semibold text-gray-900",children:"35,000"})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[e.jsx("span",{className:"text-gray-700",children:"2"}),e.jsx("span",{className:"font-semibold text-gray-900",children:"42,000"})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[e.jsx("span",{className:"text-gray-700",children:"3"}),e.jsx("span",{className:"font-semibold text-gray-900",children:"38,000"})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[e.jsx("span",{className:"text-gray-700",children:"4"}),e.jsx("span",{className:"font-semibold text-gray-900",children:"45,000"})]})]})]})]})})})}),e.jsx("section",{id:"campaigns",className:"py-16 bg-white",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:""}),e.jsx("p",{className:"text-lg text-gray-600",children:"K-Beauty"})]}),f?e.jsx("div",{className:"flex justify-center items-center py-20",children:e.jsx(We,{className:"h-12 w-12 animate-spin text-blue-600"})}):c.length===0?e.jsx("div",{className:"text-center py-20",children:e.jsx("p",{className:"text-gray-600 text-lg",children:""})}):e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 max-w-7xl mx-auto",children:c.filter(L=>{const U=L.application_deadline;if(!U)return!0;const oe=new Date(U),F=new Date;return F.setHours(0,0,0,0),oe>=F}).map(L=>e.jsxs(mt,{className:"hover:shadow-lg transition-shadow cursor-pointer border-2 overflow-hidden",onClick:()=>z(L),children:[L.image_url&&e.jsx("div",{className:"w-full h-48 overflow-hidden bg-gray-100",children:e.jsx("img",{src:L.image_url,alt:L.title,className:"w-full h-full object-cover"})}),e.jsxs(ht,{children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx("div",{className:"flex gap-1.5 flex-wrap",children:A(L.target_platforms).map(U=>e.jsxs(Ut,{className:`${G(U)} flex items-center gap-1 px-2 py-0.5 text-xs`,children:[e.jsx("span",{className:"flex items-center",children:ee(U)}),e.jsx("span",{className:"font-medium capitalize",children:U})]},U))}),e.jsxs(Ut,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:[e.jsx(Xr,{className:"h-3 w-3 mr-1"}),$(L.reward_amount)]})]}),e.jsx(ft,{className:"text-xl",children:L.title}),e.jsx(Vt,{className:"line-clamp-2",children:L.description})]}),e.jsx(gt,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(Kd,{className:"h-4 w-4 mr-2"}),": ",v(L.application_deadline)]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(ds,{className:"h-4 w-4 mr-2"}),L.max_participants||L.total_slots," "]}),e.jsx(Ne,{className:"w-full bg-blue-600 hover:bg-blue-700 text-white",onClick:U=>{U.stopPropagation(),k(L.id)},children:""})]})})]},L.id))})]})}),e.jsx("section",{className:"py-20 bg-blue-600",children:e.jsxs("div",{className:"container mx-auto px-4 text-center",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:""}),e.jsx("p",{className:"text-xl text-blue-100 mb-8 max-w-2xl mx-auto",children:"800K-Beauty "}),e.jsx(Ne,{size:"lg",className:"bg-white text-blue-600 hover:bg-gray-100 text-lg px-8",asChild:!0,children:e.jsxs(Fe,{to:"/signup",children:["",e.jsx(Jd,{className:"h-5 w-5 ml-2"})]})})]})}),e.jsx(fi,{open:w,onOpenChange:K,children:e.jsx(gi,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:j&&e.jsxs(e.Fragment,{children:[e.jsxs(pi,{children:[e.jsx(ji,{className:"text-2xl",children:j.title}),e.jsx(bi,{children:e.jsx("div",{className:"flex gap-2 mt-2",children:A(j.target_platforms).map(L=>e.jsxs(Ut,{className:G(L),children:[ee(L),e.jsx("span",{className:"ml-1 capitalize",children:L})]},L))})})]}),j.image_url&&e.jsx("img",{src:j.image_url,alt:j.title,className:"w-full h-64 object-cover rounded-lg"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg mb-2",children:""}),e.jsx("p",{className:"text-gray-700",children:j.description})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Xr,{className:"h-5 w-5 text-green-600 mr-2"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600",children:""}),e.jsx("div",{className:"font-semibold",children:$(j.reward_amount)})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Kd,{className:"h-5 w-5 text-blue-600 mr-2"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600",children:""}),e.jsx("div",{className:"font-semibold",children:v(j.application_deadline)})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(ds,{className:"h-5 w-5 text-purple-600 mr-2"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600",children:""}),e.jsxs("div",{className:"font-semibold",children:[j.max_participants||j.total_slots," "]})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(di,{className:"h-5 w-5 text-orange-600 mr-2"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600",children:""}),e.jsx("div",{className:"font-semibold",children:j.category})]})]})]}),j.requirements&&e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg mb-2",children:""}),e.jsx("p",{className:"text-gray-700 whitespace-pre-line",children:j.requirements})]}),e.jsx(Ne,{className:"w-full bg-blue-600 hover:bg-blue-700 text-white",onClick:()=>{K(!1),k(j.id)},children:""})]})]})})}),e.jsx("footer",{className:"bg-gray-900 text-white py-12",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"grid md:grid-cols-4 gap-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold mb-4",children:"CNEC Japan"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"K-Beauty "})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-4",children:""}),e.jsxs("ul",{className:"space-y-2 text-sm text-gray-400",children:[e.jsx("li",{children:e.jsx("a",{href:"#campaigns",className:"hover:text-white",children:""})}),e.jsx("li",{children:e.jsx("a",{href:"#how-it-works",className:"hover:text-white",children:""})}),e.jsx("li",{children:e.jsx(Fe,{to:"/signup",className:"hover:text-white",children:""})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-4",children:""}),e.jsxs("ul",{className:"space-y-2 text-sm text-gray-400",children:[e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-white",children:""})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-white",children:""})}),e.jsx("li",{children:e.jsx(Fe,{to:"/terms",className:"hover:text-white",children:""})}),e.jsx("li",{children:e.jsx(Fe,{to:"/privacy",className:"hover:text-white",children:""})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-4",children:""}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("a",{href:"https://www.youtube.com/@CNEC_JP",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-white",children:e.jsx(ll,{className:"h-6 w-6"})}),e.jsx("a",{href:"#",className:"text-gray-400 hover:text-white",children:e.jsx(Ra,{className:"h-6 w-6"})})]})]})]}),e.jsx("div",{className:"border-t border-gray-800 mt-8 pt-8 text-center text-sm text-gray-400",children:e.jsx("p",{children:" 2025 CNEC Japan. All rights reserved."})})]})}),e.jsx(Ep,{})]})};function rt({className:d,type:m,...i}){return e.jsx("input",{type:m,"data-slot":"input",className:Xe("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",d),...i})}var qp=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],zp=qp.reduce((d,m)=>{const i=lo(`Primitive.${m}`),c=g.forwardRef((u,x)=>{const{asChild:y,...f}=u,N=y?i:m;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(N,{...f,ref:x})});return c.displayName=`Primitive.${m}`,{...d,[m]:c}},{}),Up="Label",Rh=g.forwardRef((d,m)=>e.jsx(zp.label,{...d,ref:m,onMouseDown:i=>{var u;i.target.closest("button, input, select, textarea")||((u=d.onMouseDown)==null||u.call(d,i),!i.defaultPrevented&&i.detail>1&&i.preventDefault())}}));Rh.displayName=Up;var Mp=Rh;function Me({className:d,...m}){return e.jsx(Mp,{"data-slot":"label",className:Xe("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",d),...m})}const Rp=Pd("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function is({className:d,variant:m,...i}){return e.jsx("div",{"data-slot":"alert",role:"alert",className:Xe(Rp({variant:m}),d),...i})}function cs({className:d,...m}){return e.jsx("div",{"data-slot":"alert-description",className:Xe("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",d),...m})}const Op=()=>{var p,C;const{signInWithEmail:d,signInWithGoogle:m,loading:i}=ys(),c=os(),u=Sh(),[x,y]=g.useState({email:"",password:""}),[f,N]=g.useState(""),[j,O]=g.useState(!1),w=((C=(p=u.state)==null?void 0:p.from)==null?void 0:C.pathname)||"/",K=T=>{const{name:z,value:k}=T.target;y($=>({...$,[z]:k}))},Q=async T=>{if(T.preventDefault(),!x.email||!x.password){N("");return}try{O(!0),N(""),await d(x.email,x.password),c(w,{replace:!0})}catch(z){console.error("Login error:",z);let k=z.message;z.message.includes("Invalid login credentials")?k="":z.message.includes("Email not confirmed")&&(k=""),N(k)}finally{O(!1)}},S=async()=>{try{O(!0),N(""),await m()}catch(T){console.error("Google login error:",T),N("Google"),O(!1)}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-blue-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsx("div",{className:"mb-6",children:e.jsxs(Ne,{variant:"outline",onClick:()=>c("/"),className:"text-gray-600 hover:text-gray-800 bg-green-100 border-green-300 hover:bg-green-200",children:[e.jsx(oa,{className:"h-4 w-4 mr-2"}),""]})}),e.jsxs(mt,{className:"shadow-xl border-0 bg-white",children:[e.jsxs(ht,{className:"text-center pb-6",children:[e.jsx("div",{className:"text-4xl mb-4",children:""}),e.jsx(ft,{className:"text-2xl font-bold text-gray-800",children:""}),e.jsx(Vt,{className:"text-gray-600",children:"CNEC Japan"})]}),e.jsxs(gt,{className:"space-y-6",children:[e.jsxs(Ne,{onClick:S,disabled:j||i,className:"w-full bg-blue-600 text-white border-0 hover:bg-blue-700 py-3",size:"lg",children:[j?e.jsx(We,{className:"h-4 w-4 animate-spin mr-2"}):e.jsxs("svg",{className:"h-4 w-4 mr-2",viewBox:"0 0 24 24",children:[e.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google"]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("span",{className:"w-full border-t border-gray-300"})}),e.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:e.jsx("span",{className:"bg-white px-2 text-orange-500 font-medium",children:""})})]}),e.jsxs("form",{onSubmit:Q,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Me,{htmlFor:"email",className:"text-orange-600 font-medium",children:""}),e.jsxs("div",{className:"relative",children:[e.jsx(Oa,{className:"absolute left-3 top-3 h-4 w-4 text-pink-400"}),e.jsx(rt,{id:"email",name:"email",type:"email",placeholder:"",value:x.email,onChange:K,className:"pl-10 border-pink-200 focus:border-pink-400 focus:ring-pink-400",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Me,{htmlFor:"password",className:"text-green-600 font-medium",children:""}),e.jsxs("div",{className:"relative",children:[e.jsx(Jl,{className:"absolute left-3 top-3 h-4 w-4 text-pink-400"}),e.jsx(rt,{id:"password",name:"password",type:"password",placeholder:"",value:x.password,onChange:K,className:"pl-10 border-pink-200 focus:border-pink-400 focus:ring-pink-400",required:!0})]})]}),f&&e.jsx(is,{variant:"destructive",children:e.jsx(cs,{children:f})}),e.jsxs(Ne,{type:"submit",disabled:j||i,className:"w-full bg-purple-600 hover:bg-purple-700 text-white py-3",size:"lg",children:[j?e.jsx(We,{className:"h-4 w-4 animate-spin mr-2"}):null,""]})]}),e.jsxs("div",{className:"text-center text-sm",children:[e.jsx("span",{className:"text-gray-600",children:""})," ",e.jsx(Fe,{to:"/signup",className:"text-red-600 hover:text-red-700 font-medium underline",children:""})]})]})]})]})})},Lp=()=>{const{signUpWithEmail:d,signInWithGoogle:m}=ys(),i=os(),[c,u]=g.useState(!1),[x,y]=g.useState(""),[f,N]=g.useState(!1),[j,O]=g.useState({email:"",password:"",confirmPassword:"",name:""}),w=p=>{const{name:C,value:T}=p.target;O(z=>({...z,[C]:T}))},K=()=>!j.email||!j.password||!j.confirmPassword||!j.name?"":/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(j.email)?j.password.length<6?"6":j.password!==j.confirmPassword?"":null:"",Q=async p=>{p.preventDefault();const C=K();if(C){y(C);return}try{u(!0),y(""),await d(j.email,j.password,j.name),N(!0)}catch(T){console.error("Signup error:",T),T.message.includes("already registered")?y(""):T.message.includes("weak password")?y(""):y("")}finally{u(!1)}},S=async()=>{try{u(!0),y(""),await m()}catch(p){console.error("Google signup error:",p),y("Google")}finally{u(!1)}};return f?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-blue-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"max-w-md mx-auto text-center bg-white rounded-lg shadow-xl p-8",children:[e.jsx("div",{className:"text-6xl mb-4",children:""}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:""}),e.jsxs("p",{className:"text-gray-600 mb-4",children:["CNEC Japan",e.jsx("br",{}),""]}),e.jsxs("div",{className:"bg-[#06C755] rounded-xl p-5 mb-6 text-white",children:[e.jsxs("div",{className:"flex items-center justify-center mb-3",children:[e.jsx("svg",{className:"w-8 h-8 mr-2",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M19.365 9.863c.349 0 .63.285.63.631 0 .345-.281.63-.63.63H17.61v1.125h1.755c.349 0 .63.283.63.63 0 .344-.281.629-.63.629h-2.386c-.345 0-.627-.285-.627-.629V8.108c0-.345.282-.63.63-.63h2.386c.349 0 .63.285.63.63 0 .349-.281.63-.63.63H17.61v1.125h1.755zm-3.855 3.016c0 .27-.174.51-.432.596-.064.021-.133.031-.199.031-.211 0-.391-.09-.51-.25l-2.443-3.317v2.94c0 .344-.279.629-.631.629-.346 0-.626-.285-.626-.629V8.108c0-.27.173-.51.43-.595.06-.023.136-.033.194-.033.195 0 .375.104.495.254l2.462 3.33V8.108c0-.345.282-.63.63-.63.345 0 .63.285.63.63v4.771zm-5.741 0c0 .344-.282.629-.631.629-.345 0-.627-.285-.627-.629V8.108c0-.345.282-.63.63-.63.346 0 .628.285.628.63v4.771zm-2.466.629H4.917c-.345 0-.63-.285-.63-.629V8.108c0-.345.285-.63.63-.63.348 0 .63.285.63.63v4.141h1.756c.348 0 .629.283.629.63 0 .344-.282.629-.629.629M24 10.314C24 4.943 18.615.572 12 .572S0 4.943 0 10.314c0 4.811 4.27 8.842 10.035 9.608.391.082.923.258 1.058.59.12.301.079.766.038 1.08l-.164 1.02c-.045.301-.24 1.186 1.049.645 1.291-.539 6.916-4.078 9.436-6.975C23.176 14.393 24 12.458 24 10.314"})}),e.jsx("span",{className:"font-bold text-lg",children:"LINE"})]}),e.jsxs("p",{className:"text-white/90 text-sm mb-4",children:["",e.jsx("br",{}),"LINE"]}),e.jsx("a",{href:"https://line.me/R/ti/p/@cnec",target:"_blank",rel:"noopener noreferrer",className:"inline-block w-full bg-white text-[#06C755] font-bold py-3 px-6 rounded-full hover:bg-gray-100 transition-colors",children:" "}),e.jsx("p",{className:"text-white/70 text-xs mt-2",children:"LINE ID: @cnec"})]}),e.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-3 mb-6",children:e.jsxs("p",{className:"text-amber-800 text-sm font-medium",children:[" LINE",e.jsx("br",{}),""]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:()=>i("/login"),className:"w-full bg-purple-600 hover:bg-purple-700 text-white font-medium py-3 px-4 rounded-md transition-colors",children:""}),e.jsx("button",{onClick:()=>i("/"),className:"w-full border border-gray-300 hover:bg-gray-50 text-gray-700 font-medium py-3 px-4 rounded-md transition-colors",children:""})]})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-blue-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsx("div",{className:"mb-6",children:e.jsxs(Ne,{variant:"outline",onClick:()=>i("/"),className:"text-gray-600 hover:text-gray-800 bg-green-100 border-green-300 hover:bg-green-200",children:[e.jsx(oa,{className:"h-4 w-4 mr-2"}),""]})}),e.jsxs(mt,{className:"shadow-xl border-0 bg-white",children:[e.jsxs(ht,{className:"text-center pb-6",children:[e.jsx("div",{className:"text-4xl mb-4",children:""}),e.jsx(ft,{className:"text-2xl font-bold text-gray-800",children:""}),e.jsx(Vt,{className:"text-gray-600",children:"CNEC Japan"})]}),e.jsxs(gt,{className:"space-y-6",children:[e.jsxs(Ne,{type:"button",onClick:S,disabled:c,className:"w-full bg-blue-600 text-white border-0 hover:bg-blue-700 py-3",size:"lg",children:[e.jsxs("svg",{className:"w-4 h-4 mr-2",viewBox:"0 0 24 24",children:[e.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google"]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("span",{className:"w-full border-t border-gray-300"})}),e.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:e.jsx("span",{className:"bg-white px-2 text-orange-500 font-medium",children:""})})]}),e.jsxs("form",{onSubmit:Q,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Me,{htmlFor:"name",className:"text-purple-600 font-medium",children:""}),e.jsxs("div",{className:"relative",children:[e.jsx(ca,{className:"absolute left-3 top-3 h-4 w-4 text-pink-400"}),e.jsx(rt,{id:"name",name:"name",type:"text",value:j.name,onChange:w,placeholder:"",className:"pl-10 border-pink-200 focus:border-pink-400 focus:ring-pink-400",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Me,{htmlFor:"email",className:"text-orange-600 font-medium",children:""}),e.jsxs("div",{className:"relative",children:[e.jsx(Oa,{className:"absolute left-3 top-3 h-4 w-4 text-pink-400"}),e.jsx(rt,{id:"email",name:"email",type:"email",value:j.email,onChange:w,placeholder:"",className:"pl-10 border-pink-200 focus:border-pink-400 focus:ring-pink-400",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Me,{htmlFor:"password",className:"text-green-600 font-medium",children:""}),e.jsxs("div",{className:"relative",children:[e.jsx(Jl,{className:"absolute left-3 top-3 h-4 w-4 text-pink-400"}),e.jsx(rt,{id:"password",name:"password",type:"password",value:j.password,onChange:w,placeholder:"",className:"pl-10 border-pink-200 focus:border-pink-400 focus:ring-pink-400",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Me,{htmlFor:"confirmPassword",className:"text-blue-600 font-medium",children:""}),e.jsxs("div",{className:"relative",children:[e.jsx(Jl,{className:"absolute left-3 top-3 h-4 w-4 text-pink-400"}),e.jsx(rt,{id:"confirmPassword",name:"confirmPassword",type:"password",value:j.confirmPassword,onChange:w,placeholder:"",className:"pl-10 border-pink-200 focus:border-pink-400 focus:ring-pink-400",required:!0})]})]}),x&&e.jsx(is,{variant:"destructive",children:e.jsx(cs,{children:x})}),e.jsxs(Ne,{type:"submit",disabled:c,className:"w-full bg-purple-600 hover:bg-purple-700 text-white py-3",size:"lg",children:[c?e.jsx(We,{className:"h-4 w-4 animate-spin mr-2"}):null,""]})]}),e.jsxs("div",{className:"text-center text-sm",children:[e.jsx("span",{className:"text-gray-600",children:""})," ",e.jsx(Fe,{to:"/login",className:"text-red-600 hover:text-red-700 font-medium underline",children:""})]})]})]})]})})};function sl({className:d,...m}){return e.jsx("textarea",{"data-slot":"textarea",className:Xe("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",d),...m})}function Ni({...d}){return e.jsx(dg,{"data-slot":"select",...d})}function wi({...d}){return e.jsx(mg,{"data-slot":"select-value",...d})}function _i({className:d,size:m="default",children:i,...c}){return e.jsxs(og,{"data-slot":"select-trigger","data-size":m,className:Xe("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",d),...c,children:[i,e.jsx(ug,{asChild:!0,children:e.jsx(Kl,{className:"size-4 opacity-50"})})]})}function Si({className:d,children:m,position:i="popper",...c}){return e.jsx(xg,{children:e.jsxs(hg,{"data-slot":"select-content",className:Xe("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",i==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",d),position:i,...c,children:[e.jsx(Bp,{}),e.jsx(fg,{className:Xe("p-1",i==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:m}),e.jsx(Hp,{})]})})}function rs({className:d,children:m,...i}){return e.jsxs(gg,{"data-slot":"select-item",className:Xe("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",d),...i,children:[e.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:e.jsx(pg,{children:e.jsx(Zd,{className:"size-4"})})}),e.jsx(jg,{children:m})]})}function Bp({className:d,...m}){return e.jsx(bg,{"data-slot":"select-scroll-up-button",className:Xe("flex cursor-default items-center justify-center py-1",d),...m,children:e.jsx(to,{className:"size-4"})})}function Hp({className:d,...m}){return e.jsx(yg,{"data-slot":"select-scroll-down-button",className:Xe("flex cursor-default items-center justify-center py-1",d),...m,children:e.jsx(Kl,{className:"size-4"})})}var Gp=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Vp=Gp.reduce((d,m)=>{const i=lo(`Primitive.${m}`),c=g.forwardRef((u,x)=>{const{asChild:y,...f}=u,N=y?i:m;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(N,{...f,ref:x})});return c.displayName=`Primitive.${m}`,{...d,[m]:c}},{}),Yp="Separator",hh="horizontal",Xp=["horizontal","vertical"],Oh=g.forwardRef((d,m)=>{const{decorative:i,orientation:c=hh,...u}=d,x=Qp(c)?c:hh,f=i?{role:"none"}:{"aria-orientation":x==="vertical"?x:void 0,role:"separator"};return e.jsx(Vp.div,{"data-orientation":x,...f,...u,ref:m})});Oh.displayName=Yp;function Qp(d){return Xp.includes(d)}var Jp=Oh;function Yd({className:d,orientation:m="horizontal",decorative:i=!0,...c}){return e.jsx(Jp,{"data-slot":"separator-root",decorative:i,orientation:m,className:Xe("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",d),...c})}const Kp=()=>{localStorage.getItem("language")};Kp();function fh({...d}){return e.jsx(vg,{"data-slot":"dropdown-menu",...d})}function gh({...d}){return e.jsx(Ng,{"data-slot":"dropdown-menu-trigger",...d})}function ph({className:d,sideOffset:m=4,...i}){return e.jsx(wg,{children:e.jsx(_g,{"data-slot":"dropdown-menu-content",sideOffset:m,className:Xe("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",d),...i})})}function ci({className:d,inset:m,variant:i="default",...c}){return e.jsx(Sg,{"data-slot":"dropdown-menu-item","data-inset":m,"data-variant":i,className:Xe("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",d),...c})}function Zp({className:d,...m}){return e.jsx(kg,{"data-slot":"dropdown-menu-separator",className:Xe("bg-border -mx-1 my-1 h-px",d),...m})}function Lh({className:d,...m}){return e.jsx(Cg,{"data-slot":"tabs",className:Xe("flex flex-col gap-2",d),...m})}function Bh({className:d,...m}){return e.jsx(Ag,{"data-slot":"tabs-list",className:Xe("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",d),...m})}function Ql({className:d,...m}){return e.jsx(Tg,{"data-slot":"tabs-trigger",className:Xe("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",d),...m})}function Xd({className:d,...m}){return e.jsx(Eg,{"data-slot":"tabs-content",className:Xe("flex-1 outline-none",d),...m})}const $p={ko:{title:" ",subtitle:"      ",applicantList:" ",name:"",snsAddress:"SNS ",skinType:" ",questions:" ",virtualSelect:" ",cancel:"",selected:"",adminApprovalRequired:"        ",loading:"  ...",error:" ",noApplications:" ",instagram:"",tiktok:"",youtube:"",twitter:"",pending:"",approved:"",rejected:"",completed:"",virtualSelected:" "},ja:{title:"",subtitle:"",applicantList:"",name:"",snsAddress:"SNS",skinType:"",questions:"",virtualSelect:"",cancel:"",selected:"",adminApprovalRequired:"",loading:"...",error:"",noApplications:"",instagram:"Instagram",tiktok:"TikTok",youtube:"YouTube",twitter:"Twitter",pending:"",approved:"",rejected:"",completed:"",virtualSelected:""},en:{title:"Company Report",subtitle:"View campaign performance and analytics data",applicantList:"Applicant List",name:"Name",snsAddress:"SNS Address",skinType:"Skin Type",questions:"Questions & Answers",virtualSelect:"Virtual Select",cancel:"Cancel",selected:"Selected",adminApprovalRequired:"Even if you press the red select button, it will be confirmed after final approval by the administrator",loading:"Loading data...",error:"An error occurred",noApplications:"No applicants",instagram:"Instagram",tiktok:"TikTok",youtube:"YouTube",twitter:"Twitter",pending:"Pending",approved:"Approved",rejected:"Rejected",completed:"Completed",virtualSelected:"Virtual Selected"}},Fp=()=>{const{campaignId:d}=Kr(),[m]=yi();m.get("token");const[i,c]=g.useState(null),[u,x]=g.useState([]),[y,f]=g.useState(!0),[N,j]=g.useState(""),[O,w]=g.useState("ko"),[K,Q]=g.useState(!1),S=$p[O];g.useEffect(()=>{d?p():(j(" ID  ."),f(!1))},[d]);const p=async()=>{try{f(!0),j(""),console.log("   :",d);const{data:z,error:k}=await ne.from("campaigns").select("*").eq("id",d).single();if(k)throw new Error(`   : ${k.message}`);c(z),console.log(" :",z);const{data:$,error:v}=await ne.from("applications").select("*").eq("campaign_id",d).order("created_at",{ascending:!1});v?(console.error("   :",v),x([])):(x($||[]),console.log(" :",($==null?void 0:$.length)||0,""))}catch(z){console.error("  :",z),j(z.message||"  .")}finally{f(!1)}},C=async(z,k)=>{try{Q(!0);const $=k?"pending":"virtual_selected",{error:v}=await ne.from("applications").update({status:$,virtual_selected_at:k?null:new Date().toISOString(),updated_at:new Date().toISOString()}).eq("id",z);if(v)throw new Error(`  : ${v.message}`);x(ee=>ee.map(G=>G.id===z?{...G,status:$,virtual_selected_at:k?null:new Date().toISOString()}:G))}catch($){console.error("   :",$),j($.message||"   .")}finally{Q(!1)}},T=z=>{const k={pending:{bg:"bg-yellow-100",text:"text-yellow-800",label:S.pending},virtual_selected:{bg:"bg-red-100",text:"text-red-800",label:S.virtualSelected},approved:{bg:"bg-green-100",text:"text-green-800",label:S.approved},rejected:{bg:"bg-gray-100",text:"text-gray-800",label:S.rejected},completed:{bg:"bg-blue-100",text:"text-blue-800",label:S.completed}},$=k[z]||k.pending;return e.jsx(Ut,{className:`${$.bg} ${$.text}`,children:$.label})};return y?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(We,{className:"h-12 w-12 animate-spin text-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:S.loading})]})}):N?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 flex items-center justify-center",children:e.jsx(mt,{className:"max-w-md",children:e.jsx(gt,{className:"pt-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Qt,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:S.error}),e.jsx("p",{className:"text-gray-600 mb-4",children:N}),e.jsx(Ne,{onClick:()=>window.location.reload(),children:""})]})})})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 py-8",children:e.jsxs("div",{className:"container mx-auto px-4 max-w-7xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(Xg,{className:"h-8 w-8 text-blue-600"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:S.title}),e.jsxs("p",{className:"text-gray-600",children:[(i==null?void 0:i.title)||""," - ",S.subtitle]})]})]}),e.jsx("div",{className:"flex space-x-2",children:e.jsxs(Ni,{value:O,onValueChange:w,children:[e.jsx(_i,{className:"w-32",children:e.jsx(wi,{})}),e.jsxs(Si,{children:[e.jsx(rs,{value:"ko",children:""}),e.jsx(rs,{value:"ja",children:""}),e.jsx(rs,{value:"en",children:"English"})]})]})})]}),i&&e.jsx(mt,{className:"mb-6",children:e.jsxs(ht,{children:[e.jsxs(ft,{className:"flex items-center space-x-2",children:[e.jsx(di,{className:"h-5 w-5 text-blue-600"}),e.jsx("span",{children:i.title})]}),e.jsxs(Vt,{children:[": ",i.brand," | : ",new Date(i.deadline).toLocaleDateString()]})]})}),e.jsxs(is,{className:"mb-6 border-red-200 bg-red-50",children:[e.jsx(Qt,{className:"h-4 w-4 text-red-600"}),e.jsx(cs,{className:"text-red-800",children:S.adminApprovalRequired})]}),e.jsxs(mt,{children:[e.jsx(ht,{children:e.jsxs(ft,{className:"flex items-center space-x-2",children:[e.jsx(ds,{className:"h-5 w-5 text-blue-600"}),e.jsx("span",{children:S.applicantList}),e.jsxs(Ut,{variant:"secondary",children:[u.length,""]})]})}),e.jsx(gt,{children:u.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(ds,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:S.noApplications})]}):e.jsx("div",{className:"space-y-6",children:u.map(z=>e.jsxs("div",{className:"border rounded-lg p-6 bg-white",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:z.applicant_name||" "}),T(z.status)]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:S.snsAddress}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:[z.instagram_url&&e.jsxs("a",{href:z.instagram_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-2 text-pink-600 hover:text-pink-800",children:[e.jsx(Ra,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:"Instagram"}),e.jsx(vt,{className:"h-3 w-3"})]}),z.tiktok_url&&e.jsxs("a",{href:z.tiktok_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-2 text-black hover:text-gray-700",children:[e.jsx(vi,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:"TikTok"}),e.jsx(vt,{className:"h-3 w-3"})]}),z.youtube_url&&e.jsxs("a",{href:z.youtube_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-2 text-red-600 hover:text-red-800",children:[e.jsx(ll,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:"YouTube"}),e.jsx(vt,{className:"h-3 w-3"})]})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:S.skinType}),e.jsx(Ut,{variant:"outline",children:z.skin_type||" "})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:""}),e.jsx(Ut,{variant:"outline",children:z.age||" "})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:S.questions}),e.jsxs("div",{className:"space-y-3",children:[(()=>{const k=[];for(let $=1;$<=10;$++){const v=[i==null?void 0:i[`question_${$}`],i==null?void 0:i[`question${$}`],z[`question_${$}`],z[`question${$}`]],ee=[z[`answer_${$}`],z[`answer${$}`],z[`question${$}_answer`],z[`question_${$}_answer`]],G=v.find(L=>L&&L.trim()),A=ee.find(L=>L&&L.trim());(G||A)&&k.push(e.jsxs("div",{className:"bg-gray-50 p-3 rounded",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:G||` ${$}`}),e.jsx("p",{className:"text-sm text-gray-800",children:A||" "})]},$))}return k.length===0&&k.push(e.jsx("div",{className:"bg-gray-50 p-3 rounded text-center",children:e.jsx("p",{className:"text-sm text-gray-500",children:"  ."})},"no-qa")),k})(),!1]})]})]}),e.jsx("div",{className:"ml-4",children:z.status==="virtual_selected"?e.jsxs(Ne,{variant:"outline",size:"sm",onClick:()=>C(z.id,!0),disabled:K,className:"border-red-300 text-red-600 hover:bg-red-50",children:[e.jsx(kh,{className:"h-4 w-4 mr-2"}),S.cancel]}):z.status==="pending"?e.jsxs(Ne,{size:"sm",onClick:()=>C(z.id,!1),disabled:K,className:"bg-red-600 hover:bg-red-700 text-white",children:[e.jsx(Ch,{className:"h-4 w-4 mr-2"}),S.virtualSelect]}):e.jsx(Ut,{variant:"secondary",children:S.selected})})]}),e.jsxs("div",{className:"text-xs text-gray-500 border-t pt-2",children:[": ",new Date(z.created_at).toLocaleString(),z.virtual_selected_at&&e.jsxs("span",{className:"ml-4",children:[": ",new Date(z.virtual_selected_at).toLocaleString()]})]})]},z.id))})})]})]})})},Wp=({isOpen:d,onClose:m,guide:i,campaignTitle:c})=>{var K,Q,S,p;const[u,x]=g.useState(0);if(!d||!i)return null;const y=i.scenes||[],f=y.length,N=()=>{x(C=>C>0?C-1:f-1)},j=()=>{x(C=>C<f-1?C+1:0)},O=C=>C!=null&&C.includes("")||C!=null&&C.includes("")?"bg-red-100 text-red-800 border-red-200":C!=null&&C.includes("CTA")||C!=null&&C.includes("")||C!=null&&C.includes("")?"bg-purple-100 text-purple-800 border-purple-200":C!=null&&C.includes("")||C!=null&&C.includes("")?"bg-blue-100 text-blue-800 border-blue-200":"bg-gray-100 text-gray-800 border-gray-200",w=y[u];return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 overflow-y-auto h-full w-full z-[9999] flex items-center justify-center p-4",children:e.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[e.jsx(Ld,{className:"w-6 h-6"}),""]}),e.jsx("p",{className:"text-sm text-purple-100 mt-1",children:c})]}),e.jsx("button",{onClick:m,className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:e.jsx(Xt,{className:"w-6 h-6"})})]})}),e.jsx("div",{className:"bg-purple-50 px-6 py-3 border-b border-purple-100",children:e.jsxs("div",{className:"flex flex-wrap gap-4 text-sm",children:[i.dialogue_style&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(sh,{className:"w-4 h-4 text-purple-600"}),e.jsx("span",{className:"text-gray-600",children:":"}),e.jsx("span",{className:"font-medium text-purple-700",children:i.dialogue_style==="natural"?"":i.dialogue_style==="formal"?"":i.dialogue_style})]}),i.tempo&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Yt,{className:"w-4 h-4 text-purple-600"}),e.jsx("span",{className:"text-gray-600",children:":"}),e.jsx("span",{className:"font-medium text-purple-700",children:i.tempo==="normal"?"":i.tempo==="fast"?"":i.tempo==="slow"?"":i.tempo})]}),i.mood&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Qg,{className:"w-4 h-4 text-purple-600"}),e.jsx("span",{className:"text-gray-600",children:":"}),e.jsx("span",{className:"font-medium text-purple-700",children:i.mood==="bright"?"":i.mood==="calm"?"":i.mood==="energetic"?"":i.mood})]})]})}),f>0&&e.jsx("div",{className:"px-6 py-4 bg-gray-50 border-b",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("button",{onClick:N,className:"p-2 rounded-full hover:bg-gray-200 transition-colors",children:e.jsx(Jg,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:""}),e.jsx("div",{className:"flex gap-1",children:y.map((C,T)=>e.jsx("button",{onClick:()=>x(T),className:`w-8 h-8 rounded-full text-sm font-medium transition-colors ${u===T?"bg-purple-600 text-white":"bg-gray-200 text-gray-600 hover:bg-gray-300"}`,children:T+1},T))})]}),e.jsx("button",{onClick:j,className:"p-2 rounded-full hover:bg-gray-200 transition-colors",children:e.jsx(Kg,{className:"w-5 h-5"})})]})}),e.jsx("div",{className:"p-6 overflow-y-auto max-h-[50vh]",children:w?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-full bg-purple-100 text-purple-700 font-bold text-xl",children:w.order||u+1}),e.jsx("div",{children:e.jsx("span",{className:`inline-flex px-3 py-1 rounded-full text-sm font-medium border ${O(w.scene_type)}`,children:w.scene_type})})]}),e.jsx("div",{className:"bg-blue-50 rounded-xl p-5 border border-blue-100",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(Ld,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:""}),e.jsx("p",{className:"text-blue-800 leading-relaxed",children:w.scene_description_translated||w.scene_description})]})]})}),(w.dialogue_translated||w.dialogue)&&e.jsx("div",{className:"bg-green-50 rounded-xl p-5 border border-green-100",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(sh,{className:"w-5 h-5 text-green-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-green-900 mb-2",children:""}),e.jsxs("p",{className:"text-green-800 leading-relaxed italic",children:['"',w.dialogue_translated||w.dialogue,'"']})]})]})}),(w.shooting_tip_translated||w.shooting_tip)&&e.jsx("div",{className:"bg-amber-50 rounded-xl p-5 border border-amber-100",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 bg-amber-100 rounded-lg",children:e.jsx(Zg,{className:"w-5 h-5 text-amber-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-amber-900 mb-2",children:""}),e.jsx("p",{className:"text-amber-800 leading-relaxed",children:w.shooting_tip_translated||w.shooting_tip})]})]})})]}):e.jsxs("div",{className:"text-center py-12 text-gray-500",children:[e.jsx(Ld,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),e.jsx("p",{children:""})]})}),(((K=i.required_dialogues)==null?void 0:K.length)>0||((Q=i.required_scenes)==null?void 0:Q.length)>0)&&e.jsxs("div",{className:"px-6 py-4 bg-red-50 border-t border-red-100",children:[e.jsxs("h4",{className:"font-semibold text-red-900 mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"text-lg",children:""}),""]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[((S=i.required_dialogues)==null?void 0:S.length)>0&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-red-800 mb-2",children:":"}),e.jsx("ul",{className:"text-sm text-red-700 space-y-1",children:i.required_dialogues.map((C,T)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-red-500",children:""}),e.jsxs("span",{children:['"',C,'"']})]},T))})]}),((p=i.required_scenes)==null?void 0:p.length)>0&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-red-800 mb-2",children:":"}),e.jsx("ul",{className:"text-sm text-red-700 space-y-1",children:i.required_scenes.map((C,T)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-red-500",children:""}),e.jsx("span",{children:C})]},T))})]})]})]}),e.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-t flex items-center justify-between",children:[e.jsx("p",{className:"text-xs text-gray-500",children:i.updated_at&&`: ${new Date(i.updated_at).toLocaleDateString("ja-JP")}`}),e.jsx("button",{onClick:m,className:"px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors font-medium",children:""})]})]})})},Ip=d=>{if(!d)return"unknown";const m=d.toLowerCase();return m.includes("docs.google.com/presentation")||m.includes("slides.google.com")?"google_slides":m.includes("docs.google.com/document")?"google_docs":m.includes("drive.google.com")?"google_drive":m.endsWith(".pdf")||m.includes("/pdf")?"pdf":"external_link"},Pp=d=>d&&d.includes("docs.google.com/presentation")?d.replace(/\/(edit|pub).*$/,"/embed"):null,Hh=({url:d,language:m="ja",compact:i=!1})=>{const[c,u]=g.useState(!1),x=Ip(d);if(!d)return null;const y=Pp(d);return i?e.jsxs("div",{className:"flex flex-wrap gap-2",children:[x==="google_slides"&&e.jsxs("a",{href:d,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 py-2 bg-yellow-50 border border-yellow-300 text-yellow-800 rounded-lg text-sm font-medium hover:bg-yellow-100 transition-colors",children:[e.jsx(Vr,{className:"w-4 h-4 mr-2"}),m==="ja"?"Google ":"Google Slides "]}),x==="google_docs"&&e.jsxs("a",{href:d,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 py-2 bg-blue-50 border border-blue-300 text-blue-800 rounded-lg text-sm font-medium hover:bg-blue-100 transition-colors",children:[e.jsx(ns,{className:"w-4 h-4 mr-2"}),m==="ja"?"":" "]}),x==="google_drive"&&e.jsxs("a",{href:d,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 py-2 bg-green-50 border border-green-300 text-green-800 rounded-lg text-sm font-medium hover:bg-green-100 transition-colors",children:[e.jsx(Bd,{className:"w-4 h-4 mr-2"}),m==="ja"?"Google ":"Google Drive "]}),x==="pdf"&&e.jsxs("a",{href:d,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 py-2 bg-red-50 border border-red-300 text-red-800 rounded-lg text-sm font-medium hover:bg-red-100 transition-colors",children:[e.jsx(Ys,{className:"w-4 h-4 mr-2"}),m==="ja"?"PDF":"PDF "]}),x==="external_link"&&e.jsxs("a",{href:d,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 py-2 bg-gray-50 border border-gray-300 text-gray-800 rounded-lg text-sm font-medium hover:bg-gray-100 transition-colors",children:[e.jsx(vt,{className:"w-4 h-4 mr-2"}),m==="ja"?"":" "]})]}):e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"px-4 py-3 bg-gradient-to-r from-indigo-50 to-purple-50 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[x==="google_slides"&&e.jsx(Vr,{className:"w-5 h-5 text-yellow-600 mr-2"}),x==="google_docs"&&e.jsx(ns,{className:"w-5 h-5 text-blue-600 mr-2"}),x==="google_drive"&&e.jsx(Bd,{className:"w-5 h-5 text-green-600 mr-2"}),x==="pdf"&&e.jsx(ns,{className:"w-5 h-5 text-red-600 mr-2"}),x==="external_link"&&e.jsx(vt,{className:"w-5 h-5 text-gray-600 mr-2"}),e.jsx("span",{className:"font-medium text-gray-800",children:m==="ja"?"":"  "})]}),e.jsx("div",{className:"flex items-center gap-2",children:(x==="pdf"||y)&&e.jsx("button",{onClick:()=>u(!c),className:"text-xs px-2 py-1 bg-white border border-gray-300 rounded text-gray-600 hover:bg-gray-50 transition-colors",children:c?m==="ja"?"":" ":m==="ja"?"":""})})]})}),c&&(x==="pdf"||y)&&e.jsx("div",{className:"relative",children:e.jsx("iframe",{src:y||d,className:"w-full h-[400px] border-0",title:"Guide Preview",allowFullScreen:!0})}),e.jsxs("div",{className:"px-4 py-3 flex flex-wrap gap-2",children:[x==="google_slides"&&e.jsxs("a",{href:d,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 bg-yellow-500 text-white rounded-lg text-sm font-medium hover:bg-yellow-600 transition-colors",children:[e.jsx(Vr,{className:"w-4 h-4 mr-2"}),m==="ja"?"Google ":"Google Slides "]}),x==="google_docs"&&e.jsxs("a",{href:d,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 bg-blue-500 text-white rounded-lg text-sm font-medium hover:bg-blue-600 transition-colors",children:[e.jsx(ns,{className:"w-4 h-4 mr-2"}),m==="ja"?"":" "]}),x==="google_drive"&&e.jsxs("a",{href:d,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 bg-green-500 text-white rounded-lg text-sm font-medium hover:bg-green-600 transition-colors",children:[e.jsx(Bd,{className:"w-4 h-4 mr-2"}),m==="ja"?"Google ":"Google Drive "]}),x==="pdf"&&e.jsxs(e.Fragment,{children:[e.jsxs("a",{href:d,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 bg-red-500 text-white rounded-lg text-sm font-medium hover:bg-red-600 transition-colors",children:[e.jsx(Ys,{className:"w-4 h-4 mr-2"}),m==="ja"?"":""]}),e.jsxs("a",{href:d,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 bg-white border border-gray-300 text-gray-700 rounded-lg text-sm font-medium hover:bg-gray-50 transition-colors",children:[e.jsx(vt,{className:"w-4 h-4 mr-2"}),m==="ja"?"":"  "]})]}),x==="external_link"&&e.jsxs("a",{href:d,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 bg-purple-500 text-white rounded-lg text-sm font-medium hover:bg-purple-600 transition-colors",children:[e.jsx(vt,{className:"w-4 h-4 mr-2"}),m==="ja"?"":" "]})]})]})},ej=({isOpen:d,onClose:m,application:i,onSuccess:c})=>{const[u,x]=g.useState((i==null?void 0:i.submitted_video_url)||""),[y,f]=g.useState(""),[N,j]=g.useState(!1),[O,w]=g.useState(""),[K,Q]=g.useState(""),[S,p]=g.useState(!1);if(!d||!i)return null;const C=z=>{try{return new URL(z),!0}catch{return!1}},T=async z=>{if(z.preventDefault(),w(""),Q(""),!u.trim()){w("URL");return}if(!C(u)){w("URL");return}if(!S){w("");return}try{j(!0);const{error:k}=await ne.from("applications").update({submitted_video_url:u,submission_notes:y,submission_status:"submitted",submitted_at:new Date().toISOString(),updated_at:new Date().toISOString()}).eq("id",i.id);if(k)throw console.error("Video submission error:",k),new Error("");Q(""),setTimeout(()=>{c==null||c(),m()},1500)}catch(k){console.error("Submission error:",k),w(k.message||"")}finally{j(!1)}};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 overflow-y-auto h-full w-full z-[9999] flex items-center justify-center p-4",children:e.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl max-w-lg w-full",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-2xl",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Qr,{className:"w-6 h-6"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold",children:""}),e.jsx("p",{className:"text-sm text-blue-100",children:i.campaign_title})]})]}),e.jsx("button",{onClick:m,className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:e.jsx(Xt,{className:"w-5 h-5"})})]})}),e.jsx("div",{className:"bg-amber-50 border-b border-amber-200 px-6 py-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(bs,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-sm",children:[e.jsx("p",{className:"font-semibold text-amber-800 mb-1",children:"SNS"}),e.jsxs("ul",{className:"text-amber-700 space-y-1",children:[e.jsx("li",{children:" 1"}),e.jsx("li",{children:" "}),e.jsx("li",{children:" SNS"})]})]})]})}),e.jsxs("form",{onSubmit:T,className:"p-6 space-y-5",children:[O&&e.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm flex items-center gap-2",children:[e.jsx(bs,{className:"w-4 h-4"}),O]}),K&&e.jsxs("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg text-green-700 text-sm flex items-center gap-2",children:[e.jsx(He,{className:"w-4 h-4"}),K]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx($g,{className:"w-4 h-4 inline mr-1"}),"URL ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"url",value:u,onChange:z=>x(z.target.value),placeholder:"https://drive.google.com/...  YouTube URL",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Google Drive, YouTube, Dropbox"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),e.jsx("textarea",{value:y,onChange:z=>f(z.target.value),rows:3,placeholder:"...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:e.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:S,onChange:z=>p(z.target.checked),className:"mt-1 h-5 w-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"font-medium text-gray-900",children:""}),e.jsx("p",{className:"text-gray-600 mt-1",children:"1SNS"})]})]})}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsx("button",{type:"button",onClick:m,className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:""}),e.jsx("button",{type:"submit",disabled:N||!S,className:"flex-1 px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:N?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Rs,{className:"w-4 h-4"}),""]})})]})]}),i.guide_url&&e.jsx("div",{className:"px-6 pb-4",children:e.jsxs("a",{href:i.guide_url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:text-blue-800 flex items-center gap-1",children:[e.jsx(vt,{className:"w-3 h-3"}),""]})})]})})},tj=d=>{if(!d)return{isPdf:!1,text:null,pdfUrl:null,title:null};if(typeof d=="object")return d.type==="external_pdf"&&d.fileUrl?{isPdf:!0,text:null,pdfUrl:d.fileUrl,title:d.title||null}:{isPdf:!1,text:JSON.stringify(d),pdfUrl:null,title:null};if(typeof d=="string"){const m=d.trim();if(m.startsWith("{")||m.startsWith("["))try{const i=JSON.parse(m);if(i.type==="external_pdf"&&i.fileUrl)return{isPdf:!0,text:null,pdfUrl:i.fileUrl,title:i.title||null};if(i.fileUrl&&i.fileUrl.endsWith(".pdf"))return{isPdf:!0,text:null,pdfUrl:i.fileUrl,title:i.title||null}}catch{}return{isPdf:!1,text:d,pdfUrl:null,title:null}}return{isPdf:!1,text:null,pdfUrl:null,title:null}},ls={regular:{icon:"",labelKo:"",labelJa:"",descKo:"1  ",descJa:"1",steps:1,snsSteps:1,color:"purple",bgClass:"bg-purple-50 border-purple-200",textClass:"text-purple-700",badgeClass:"bg-purple-100 text-purple-800"},megawari:{icon:"",labelKo:"",labelJa:"",descKo:" 2 + SNS 3",descJa:"2SNS3",steps:2,snsSteps:3,color:"orange",bgClass:"bg-orange-50 border-orange-200",textClass:"text-orange-700",badgeClass:"bg-orange-100 text-orange-800"},"4week_challenge":{icon:"",labelKo:"4 ",labelJa:"4",descKo:" 1  4",descJa:"14",steps:4,snsSteps:4,color:"blue",bgClass:"bg-blue-50 border-blue-200",textClass:"text-blue-700",badgeClass:"bg-blue-100 text-blue-800"}},Qd=[{id:"video",labelKo:" ",labelJa:"",icon:Rs},{id:"revision",labelKo:" ",labelJa:"",icon:Qt},{id:"sns",labelKo:"SNS/",labelJa:"SNS/",icon:mi},{id:"complete",labelKo:" ",labelJa:"",icon:Ls}],sj=({videoDeadline:d,snsDeadline:m,language:i})=>{const c=new Date,u=j=>j?new Date(j).toLocaleDateString(i==="ja"?"ja-JP":"ko-KR",{month:"short",day:"numeric"}):null,x=j=>{if(!j)return null;const O=new Date(j);return Math.ceil((O-c)/(1e3*60*60*24))},y=j=>{const O=x(j);return O===null?"none":O<0?"expired":O<=3?"urgent":O<=7?"soon":"normal"},f=y(d),N=y(m);return!d&&!m?null:e.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[d&&e.jsxs("div",{className:`flex items-center text-xs px-2 py-1 rounded-full ${f==="expired"?"bg-red-100 text-red-700":f==="urgent"?"bg-orange-100 text-orange-700":f==="soon"?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-600"}`,children:[e.jsx(Rs,{className:"w-3 h-3 mr-1"}),e.jsx("span",{children:i==="ja"?":":":"}),e.jsx("span",{className:"font-medium ml-1",children:u(d)}),f==="expired"&&e.jsxs("span",{className:"ml-1",children:["(",i==="ja"?"":"",")"]}),f==="urgent"&&e.jsxs("span",{className:"ml-1 font-bold",children:["(",x(d),i==="ja"?"":"",")"]})]}),m&&e.jsxs("div",{className:`flex items-center text-xs px-2 py-1 rounded-full ${N==="expired"?"bg-red-100 text-red-700":N==="urgent"?"bg-orange-100 text-orange-700":N==="soon"?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-600"}`,children:[e.jsx(mi,{className:"w-3 h-3 mr-1"}),e.jsx("span",{children:"SNS:"}),e.jsx("span",{className:"font-medium ml-1",children:u(m)}),N==="expired"&&e.jsxs("span",{className:"ml-1",children:["(",i==="ja"?"":"",")"]}),N==="urgent"&&e.jsxs("span",{className:"ml-1 font-bold",children:["(",x(m),i==="ja"?"":"",")"]})]})]})},aj=({campaign:d,campaignType:m,language:i})=>{const c=ls[m]||ls.regular,u=(d==null?void 0:d.total_steps)||c.steps,x=c.snsSteps||u,y=new Date,f=S=>S?new Date(S).toLocaleDateString(i==="ja"?"ja-JP":"ko-KR",{month:"short",day:"numeric"}):i==="ja"?"":"",N=S=>{if(!S)return"bg-gray-50 text-gray-400";const p=new Date(S),C=Math.ceil((p-y)/(1e3*60*60*24));return C<0?"bg-red-50 text-red-600":C<=3?"bg-orange-50 text-orange-600":C<=7?"bg-yellow-50 text-yellow-600":"bg-gray-50 text-gray-700"},j=S=>{if(d!=null&&d.step_deadlines){const p=d.step_deadlines.find(C=>C.step===S);if(p!=null&&p.video_deadline)return p.video_deadline}if(m==="4week_challenge"){const p=`week${S}_deadline`;if(d!=null&&d[p])return d[p]}return S===1&&(d!=null&&d.video_deadline)?d.video_deadline:null},O=S=>{if(d!=null&&d.step_deadlines){const p=d.step_deadlines.find(C=>C.step===S);if(p!=null&&p.sns_deadline)return p.sns_deadline}if(m==="4week_challenge"){const p=`week${S}_sns_deadline`;if(d!=null&&d[p])return d[p]}return S===1&&(d!=null&&d.sns_deadline)?d.sns_deadline:null},w=Array.from({length:u},(S,p)=>({step:p+1,deadline:j(p+1)})),K=Array.from({length:x},(S,p)=>({step:p+1,deadline:O(p+1)})),Q=S=>m==="4week_challenge"?`Week ${S}`:u>1||x>1?`${S}`:"";return e.jsxs("div",{className:"mt-3 p-3 bg-white bg-opacity-60 rounded-lg",children:[e.jsx("p",{className:"text-xs font-medium text-gray-500 mb-2",children:i==="ja"?" ":" "}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-xs text-gray-400 mb-1",children:[" ",i==="ja"?"":" "]}),e.jsx("div",{className:"space-y-1",children:w.map(({step:S,deadline:p})=>e.jsxs("div",{className:`text-xs px-2 py-1 rounded ${N(p)}`,children:[Q(S)&&e.jsxs("span",{className:"font-medium",children:[Q(S),": "]}),f(p)]},`v-${S}`))})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-xs text-gray-400 mb-1",children:[" ",i==="ja"?"SNS":"SNS "]}),e.jsx("div",{className:"space-y-1",children:K.map(({step:S,deadline:p})=>e.jsxs("div",{className:`text-xs px-2 py-1 rounded ${N(p)}`,children:[Q(S)&&e.jsxs("span",{className:"font-medium",children:[Q(S),": "]}),f(p)]},`s-${S}`))})]})]})]})},lj=({isOpen:d,onClose:m,campaign:i,application:c,language:u,stepNumber:x=1,campaignType:y="regular"})=>{var T,z,k,$,v;if(!d)return null;const N=y!=="4week_challenge"?null:{1:(i==null?void 0:i.week1_guide_ja)||(i==null?void 0:i.week1_guide),2:(i==null?void 0:i.week2_guide_ja)||(i==null?void 0:i.week2_guide),3:(i==null?void 0:i.week3_guide_ja)||(i==null?void 0:i.week3_guide),4:(i==null?void 0:i.week4_guide_ja)||(i==null?void 0:i.week4_guide)}[x],j=i==null?void 0:i.shooting_guide_url,O=tj(c==null?void 0:c.personalized_guide),w=(i==null?void 0:i.guide_type)==="pdf"&&(i==null?void 0:i.guide_pdf_url)||O.isPdf,K=O.isPdf?O.pdfUrl:i==null?void 0:i.guide_pdf_url,Q=N||O.text||(i==null?void 0:i.shooting_guide_content),p=y==="4week_challenge"?u==="ja"?`Week ${x}`:`${x}`:y==="megawari"?u==="ja"?` ${x}`:`${x}`:null,C=[];return i!=null&&i.shooting_scenes_ba_photo&&C.push({ko:"B&A ",ja:"B&A"}),i!=null&&i.shooting_scenes_no_makeup&&C.push({ko:"",ja:""}),i!=null&&i.shooting_scenes_closeup&&C.push({ko:"",ja:""}),i!=null&&i.shooting_scenes_product_closeup&&C.push({ko:" ",ja:""}),i!=null&&i.shooting_scenes_product_texture&&C.push({ko:" ",ja:""}),i!=null&&i.shooting_scenes_outdoor&&C.push({ko:" ",ja:""}),i!=null&&i.shooting_scenes_couple&&C.push({ko:" ",ja:""}),i!=null&&i.shooting_scenes_child&&C.push({ko:" ",ja:""}),i!=null&&i.shooting_scenes_troubled_skin&&C.push({ko:" ",ja:""}),i!=null&&i.shooting_scenes_wrinkles&&C.push({ko:"",ja:""}),e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-xl max-w-3xl w-full max-h-[90vh] overflow-hidden",children:[e.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between bg-gradient-to-r from-purple-50 to-blue-50",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center",children:[e.jsx(xi,{className:"w-5 h-5 mr-2 text-purple-600"}),u==="ja"?"":" ",p&&e.jsx("span",{className:"ml-2 px-2 py-0.5 bg-purple-100 text-purple-700 text-sm rounded-full",children:p})]}),e.jsx("button",{onClick:m,className:"p-2 hover:bg-white/50 rounded-full transition-colors",children:e.jsx(Xt,{className:"w-5 h-5 text-gray-500"})})]}),e.jsxs("div",{className:"p-6 overflow-y-auto max-h-[70vh] space-y-6",children:[e.jsxs("div",{className:"pb-4 border-b border-gray-100",children:[e.jsx("h4",{className:"font-bold text-lg text-gray-900",children:i==null?void 0:i.title}),e.jsx("p",{className:"text-sm text-purple-600 font-medium",children:(i==null?void 0:i.brand_name_ja)||(i==null?void 0:i.brand)})]}),((i==null?void 0:i.product_name_ja)||(i==null?void 0:i.product_description_ja))&&e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[e.jsxs("h5",{className:"font-semibold text-blue-800 mb-3 flex items-center",children:[" ",u==="ja"?"":" "]}),(i==null?void 0:i.product_name_ja)&&e.jsxs("p",{className:"text-sm text-gray-700 mb-2",children:[e.jsx("span",{className:"font-medium",children:u==="ja"?":":":"})," ",i.product_name_ja]}),(i==null?void 0:i.product_description_ja)&&e.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-wrap",children:i.product_description_ja}),((T=i==null?void 0:i.product_features_ja)==null?void 0:T.length)>0&&e.jsxs("div",{className:"mt-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:u==="ja"?":":" :"}),e.jsx("ul",{className:"list-disc list-inside text-sm text-gray-600 space-y-1",children:i.product_features_ja.map((ee,G)=>e.jsx("li",{children:ee},G))})]})]}),((z=i==null?void 0:i.required_dialogues_ja)==null?void 0:z.length)>0&&e.jsxs("div",{className:"bg-yellow-50 rounded-lg p-4",children:[e.jsxs("h5",{className:"font-semibold text-yellow-800 mb-3 flex items-center",children:[" ",u==="ja"?"":" "]}),e.jsx("ol",{className:"list-decimal list-inside space-y-2",children:i.required_dialogues_ja.map((ee,G)=>e.jsx("li",{className:"text-sm text-gray-700",children:e.jsxs("span",{className:"bg-white px-2 py-1 rounded border border-yellow-200 ml-1",children:['"',ee,'"']})},G))})]}),((k=i==null?void 0:i.required_scenes_ja)==null?void 0:k.length)>0&&e.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[e.jsxs("h5",{className:"font-semibold text-green-800 mb-3 flex items-center",children:[" ",u==="ja"?"":" "]}),e.jsx("ol",{className:"list-decimal list-inside space-y-2",children:i.required_scenes_ja.map((ee,G)=>e.jsx("li",{className:"text-sm text-gray-700",children:ee},G))})]}),(($=i==null?void 0:i.required_hashtags_ja)==null?void 0:$.length)>0&&e.jsxs("div",{className:"bg-pink-50 rounded-lg p-4",children:[e.jsxs("h5",{className:"font-semibold text-pink-800 mb-3 flex items-center",children:["# ",u==="ja"?"":" "]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:i.required_hashtags_ja.map((ee,G)=>e.jsxs("span",{className:"px-3 py-1 bg-white rounded-full text-sm text-pink-700 border border-pink-200",children:["#",ee]},G))})]}),((i==null?void 0:i.video_duration_ja)||(i==null?void 0:i.video_tempo_ja)||(i==null?void 0:i.video_tone_ja))&&e.jsxs("div",{className:"bg-purple-50 rounded-lg p-4",children:[e.jsxs("h5",{className:"font-semibold text-purple-800 mb-3 flex items-center",children:[" ",u==="ja"?"":" "]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[(i==null?void 0:i.video_duration_ja)&&e.jsxs("div",{className:"bg-white rounded p-2 border border-purple-200",children:[e.jsx("p",{className:"text-xs text-gray-500",children:u==="ja"?"":""}),e.jsx("p",{className:"text-sm font-medium text-gray-800",children:i.video_duration_ja})]}),(i==null?void 0:i.video_tempo_ja)&&e.jsxs("div",{className:"bg-white rounded p-2 border border-purple-200",children:[e.jsx("p",{className:"text-xs text-gray-500",children:u==="ja"?"":""}),e.jsx("p",{className:"text-sm font-medium text-gray-800",children:i.video_tempo_ja})]}),(i==null?void 0:i.video_tone_ja)&&e.jsxs("div",{className:"bg-white rounded p-2 border border-purple-200",children:[e.jsx("p",{className:"text-xs text-gray-500",children:u==="ja"?"":""}),e.jsx("p",{className:"text-sm font-medium text-gray-800",children:i.video_tone_ja})]})]})]}),C.length>0&&e.jsxs("div",{className:"bg-indigo-50 rounded-lg p-4",children:[e.jsxs("h5",{className:"font-semibold text-indigo-800 mb-3 flex items-center",children:[" ",u==="ja"?"":"  "]}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:C.map((ee,G)=>e.jsxs("div",{className:"flex items-center text-sm text-gray-700",children:[e.jsx(He,{className:"w-4 h-4 text-green-500 mr-2"}),u==="ja"?ee.ja:ee.ko]},G))}),((v=i==null?void 0:i.shooting_scenes_ja)==null?void 0:v.length)>0&&e.jsx("div",{className:"mt-3 pt-3 border-t border-indigo-200",children:e.jsx("ul",{className:"list-disc list-inside text-sm text-gray-600 space-y-1",children:i.shooting_scenes_ja.map((ee,G)=>e.jsx("li",{children:ee},G))})})]}),((i==null?void 0:i.additional_details_ja)||(i==null?void 0:i.additional_shooting_requests_ja))&&e.jsxs("div",{className:"bg-orange-50 rounded-lg p-4",children:[e.jsxs("h5",{className:"font-semibold text-orange-800 mb-3 flex items-center",children:[" ",u==="ja"?"":" "]}),(i==null?void 0:i.additional_details_ja)&&e.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-wrap mb-2",children:i.additional_details_ja}),(i==null?void 0:i.additional_shooting_requests_ja)&&e.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-wrap",children:i.additional_shooting_requests_ja})]}),((i==null?void 0:i.meta_ad_code_requested)||(i==null?void 0:i.requires_clean_video))&&e.jsxs("div",{className:"flex flex-wrap gap-2",children:[(i==null?void 0:i.meta_ad_code_requested)&&e.jsxs("span",{className:"px-3 py-2 bg-red-100 text-red-800 rounded-lg text-sm font-medium flex items-center",children:[" ",u==="ja"?"Meta":"  "]}),(i==null?void 0:i.requires_clean_video)&&e.jsxs("span",{className:"px-3 py-2 bg-blue-100 text-blue-800 rounded-lg text-sm font-medium flex items-center",children:[" ",u==="ja"?"":"  "]})]}),w&&K&&e.jsx(Hh,{url:K,language:u}),!w&&Q&&e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("h5",{className:"font-semibold text-gray-800 mb-3",children:u==="ja"?"":" "}),e.jsx("div",{className:"bg-white rounded-lg p-4 whitespace-pre-wrap text-sm text-gray-700 border border-gray-200",children:Q})]}),!w&&j&&e.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[e.jsx("p",{className:"text-sm text-blue-800 mb-2",children:u==="ja"?":":"  :"}),e.jsxs("a",{href:j,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-blue-600 hover:underline font-medium",children:[e.jsx(vt,{className:"w-4 h-4 mr-2"}),u==="ja"?"":" "]})]}),((c==null?void 0:c.google_drive_url)||(c==null?void 0:c.google_slides_url))&&e.jsxs("div",{className:"p-4 bg-green-50 rounded-lg",children:[e.jsx("p",{className:"text-sm text-green-800 mb-2",children:u==="ja"?":":" :"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[(c==null?void 0:c.google_drive_url)&&e.jsx("a",{href:c.google_drive_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 py-1.5 bg-white border border-green-200 rounded-lg text-green-700 hover:bg-green-100 text-sm",children:" Google Drive"}),(c==null?void 0:c.google_slides_url)&&e.jsx("a",{href:c.google_slides_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 py-1.5 bg-white border border-green-200 rounded-lg text-green-700 hover:bg-green-100 text-sm",children:" Google Slides"})]})]})]}),e.jsx("div",{className:"p-4 border-t border-gray-200 bg-gray-50",children:e.jsx("button",{onClick:m,className:"w-full py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 font-medium transition-colors",children:u==="ja"?"":""})})]})})},jh=({revisionRequests:d,language:m})=>{const[i,c]=g.useState({}),[u,x]=g.useState({}),y=async(f,N)=>{if(!i[N]){x(j=>({...j,[N]:!0}));try{c(j=>({...j,[N]:f}))}catch(j){console.error("Translation error:",j),c(O=>({...O,[N]:f}))}finally{x(j=>({...j,[N]:!1}))}}};return g.useEffect(()=>{(d==null?void 0:d.length)>0&&d.forEach((f,N)=>{!f.comment_ja&&f.comment&&y(f.comment,N)})},[d]),!d||d.length===0?null:e.jsxs("div",{className:"mt-4 bg-gradient-to-r from-red-50 to-orange-50 rounded-lg p-4 border border-red-200",children:[e.jsxs("h4",{className:"font-semibold text-red-800 mb-3 flex items-center",children:[e.jsx(bs,{className:"w-4 h-4 mr-2"}),m==="ja"?"":" ",e.jsx("span",{className:"ml-2 px-2 py-0.5 bg-red-100 text-red-700 text-xs rounded-full",children:d.length})]}),e.jsx("div",{className:"space-y-3",children:d.map((f,N)=>e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-red-100 shadow-sm",children:[e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"flex items-center text-xs font-medium text-gray-500 mb-1",children:[e.jsx("span",{className:"mr-1",children:""}),e.jsx("span",{children:m==="ja"?" (Korean)":" (Original)"})]}),e.jsx("p",{className:"text-sm text-gray-800 bg-gray-50 rounded p-2",children:f.comment})]}),e.jsx("hr",{className:"border-dashed border-gray-200 my-2"}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center text-xs font-medium text-gray-500 mb-1",children:[e.jsx("span",{className:"mr-1",children:""}),e.jsx("span",{children:m==="ja"?"":" "})]}),f.comment_ja?e.jsx("p",{className:"text-sm text-gray-800 bg-blue-50 rounded p-2",children:f.comment_ja}):u[N]?e.jsx("p",{className:"text-sm text-gray-400 italic bg-gray-50 rounded p-2",children:m==="ja"?"...":" ..."}):i[N]?e.jsx("p",{className:"text-sm text-gray-800 bg-blue-50 rounded p-2",children:i[N]}):e.jsx("p",{className:"text-sm text-gray-800 bg-blue-50 rounded p-2",children:f.comment})]}),e.jsx("div",{className:"mt-2 text-right",children:e.jsx("time",{className:"text-xs text-gray-400",children:new Date(f.created_at).toLocaleString(m==="ja"?"ja-JP":"ko-KR")})})]},N))})]})},rj=({stepNumber:d,totalSteps:m,campaignType:i,submission:c,campaign:u,application:x,onUpdate:y,language:f})=>{var I,ke,Ee,_e,pt,_t,Jt,us;const[N,j]=g.useState(!0),[O,w]=g.useState(!1),[K,Q]=g.useState(0),[S,p]=g.useState((c==null?void 0:c.sns_url)||""),[C,T]=g.useState((c==null?void 0:c.ad_code)||""),[z,k]=g.useState(!1),[$,v]=g.useState(!1),[ee,G]=g.useState("url"),[A,L]=g.useState((c==null?void 0:c.video_file_url)||""),[U,oe]=g.useState((c==null?void 0:c.clean_video_file_url)||""),[F,X]=g.useState((c==null?void 0:c.ad_code)||""),ce=g.useRef(null),ue=g.useRef(null),[q,le]=g.useState(null),[D,H]=g.useState(null),b=ls[i]||ls.regular,W=(c==null?void 0:c.workflow_status)||"guide_pending",B=()=>{if(c!=null&&c.video_deadline||c!=null&&c.sns_deadline)return{videoDeadline:c.video_deadline,snsDeadline:c.sns_deadline};if(i==="4week_challenge"){const ye={1:{video:u==null?void 0:u.week1_deadline,sns:u==null?void 0:u.week1_sns_deadline},2:{video:u==null?void 0:u.week2_deadline,sns:u==null?void 0:u.week2_sns_deadline},3:{video:u==null?void 0:u.week3_deadline,sns:u==null?void 0:u.week3_sns_deadline},4:{video:u==null?void 0:u.week4_deadline,sns:u==null?void 0:u.week4_sns_deadline}};if(ye[d])return{videoDeadline:ye[d].video,snsDeadline:ye[d].sns}}if(u!=null&&u.video_deadline||u!=null&&u.sns_deadline)return{videoDeadline:u.video_deadline,snsDeadline:u.sns_deadline};if(u!=null&&u.step_deadlines){const ye=u.step_deadlines.find(lt=>lt.step===d);if(ye)return{videoDeadline:ye.video_deadline,snsDeadline:ye.sns_deadline}}return{videoDeadline:null,snsDeadline:null}},{videoDeadline:de,snsDeadline:me}=B(),xe=()=>i==="4week_challenge"?f==="ja"?`Week ${d}`:`${d}`:i==="megawari"?f==="ja"?` ${d}`:`${d}`:null,te=()=>W==="points_paid"||W==="completed"||W==="sns_submitted"||W==="review_pending"?4:W==="sns_pending"?3:W==="video_uploaded"||W==="revision_required"||W==="revision_requested"?2:1,be=()=>{const lt=((c==null?void 0:c.video_file_path)||"").match(/_v(\d+)_/);return lt?parseInt(lt[1]):c!=null&&c.video_file_url?1:0},he=((I=c==null?void 0:c.revision_requests)==null?void 0:I.length)>0||((ke=x==null?void 0:x.revision_requests)==null?void 0:ke.length)>0,Ce=(ye,lt=!1)=>{var $t;const Oe=($t=ye.target.files)==null?void 0:$t[0];if(Oe){if(Oe.size>2*1024*1024*1024){alert(f==="ja"?"2GB":"  2GB  ");return}lt?H(Oe):le(Oe)}},Qe=async()=>{if(q){w(!0),Q(0);try{const ye=Date.now(),lt=x.user_id,Oe=nt=>{const xt=nt.lastIndexOf(".");return xt>=0?nt.substring(xt):""},$t=be()+1,Ft=`${lt}/${x.campaign_id}/${(c==null?void 0:c.id)||"new"}/${ye}_v${$t}_main${Oe(q.name)}`,{error:R}=await ne.storage.from("campaign-videos").upload(Ft,q,{cacheControl:"3600",upsert:!1});if(R)throw R;Q(50);const{data:{publicUrl:pe}}=ne.storage.from("campaign-videos").getPublicUrl(Ft);let St=null,Ie=null;if(D){Ie=`${lt}/${x.campaign_id}/${(c==null?void 0:c.id)||"new"}/${ye}_clean${Oe(D.name)}`;const{error:nt}=await ne.storage.from("campaign-videos").upload(Ie,D,{cacheControl:"3600",upsert:!1});if(nt)throw nt;const{data:{publicUrl:xt}}=ne.storage.from("campaign-videos").getPublicUrl(Ie);St=xt}Q(80);const ot={workflow_status:"video_uploaded",video_file_path:Ft,video_file_url:pe,video_file_name:q.name,video_file_size:q.size,video_uploaded_at:new Date().toISOString(),clean_video_file_path:Ie,clean_video_file_url:St,clean_video_file_name:D==null?void 0:D.name,clean_video_uploaded_at:D?new Date().toISOString():null,updated_at:new Date().toISOString()};if(!(c!=null&&c.id)||c.id.startsWith("temp-")){const{error:nt}=await ne.from("campaign_submissions").insert({application_id:x.id,user_id:x.user_id,campaign_id:x.campaign_id,step_number:d,step_label:xe(),video_deadline:de,sns_deadline:me,...ot});if(nt)throw nt}else{const{error:nt}=await ne.from("campaign_submissions").update(ot).eq("id",c.id);if(nt)throw nt}Q(100),le(null),H(null),y==null||y()}catch(ye){console.error("Upload error:",ye),alert(f==="ja"?"":" ")}finally{w(!1),Q(0)}}},Z=async()=>{if(!S.trim()){alert(f==="ja"?"SNSURL":"SNS  URL ");return}if(u!=null&&u.requires_clean_video&&!D&&!(c!=null&&c.clean_video_file_url)){alert(f==="ja"?"":"  ");return}k(!0);try{let ye=(c==null?void 0:c.clean_video_file_url)||null;if(D){const Oe=Date.now(),$t=x.user_id,Ft=Ie=>{const ot=Ie.lastIndexOf(".");return ot>=0?Ie.substring(ot):""},R=`${$t}/${x.campaign_id}/${(c==null?void 0:c.id)||"new"}/${Oe}_clean${Ft(D.name)}`,{error:pe}=await ne.storage.from("campaign-videos").upload(R,D,{cacheControl:"3600",upsert:!1});if(pe)throw pe;const{data:{publicUrl:St}}=ne.storage.from("campaign-videos").getPublicUrl(R);ye=St}const lt={workflow_status:"sns_submitted",sns_url:S,sns_submitted_at:new Date().toISOString(),clean_video_file_url:ye,clean_video_file_name:(D==null?void 0:D.name)||null,clean_video_uploaded_at:D?new Date().toISOString():null,ad_code:F||null,updated_at:new Date().toISOString()};if(!(c!=null&&c.id)||c.id.startsWith("temp-")){const{error:Oe}=await ne.from("campaign_submissions").insert({application_id:x.id,user_id:x.user_id,campaign_id:x.campaign_id,step_number:d,step_label:xe(),...lt});if(Oe)throw Oe}else{const{error:Oe}=await ne.from("campaign_submissions").update(lt).eq("id",c.id);if(Oe)throw Oe}x!=null&&x.id&&await ne.from("applications").update({submission_status:"sns_submitted",updated_at:new Date().toISOString()}).eq("id",x.id),y==null||y(),alert(f==="ja"?"SNS":"SNS// !")}catch(ye){console.error("Video URL submit error:",ye),alert(f==="ja"?"":" ")}finally{k(!1)}},ge=xe(),ae=te();return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:`border rounded-lg overflow-hidden ${W==="points_paid"?"bg-green-50 border-green-200":W==="completed"?"bg-blue-50 border-blue-200":"bg-white border-gray-200"}`,children:[e.jsxs("div",{className:"p-4 cursor-pointer flex items-center justify-between hover:bg-gray-50 transition-colors",onClick:()=>j(!N),children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold ${W==="points_paid"?"bg-green-500 text-white":W==="completed"?"bg-blue-500 text-white":ae>1?"bg-purple-500 text-white":"bg-gray-200 text-gray-600"}`,children:W==="points_paid"||W==="completed"?e.jsx(He,{className:"w-5 h-5"}):d}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[ge&&e.jsx("span",{className:`text-sm font-semibold ${b.textClass}`,children:ge}),e.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${W==="points_paid"?"bg-green-100 text-green-800":W==="completed"?"bg-blue-100 text-blue-800":W==="revision_required"||W==="revision_requested"?"bg-red-100 text-red-800":W==="sns_submitted"?"bg-indigo-100 text-indigo-800":W==="video_uploaded"?"bg-cyan-100 text-cyan-800":"bg-yellow-100 text-yellow-800"}`,children:W==="points_paid"?f==="ja"?"":" ":W==="completed"?f==="ja"?"":"":W==="revision_required"||W==="revision_requested"?f==="ja"?"":" ":W==="sns_submitted"?f==="ja"?"SNS":"SNS ":W==="sns_pending"?f==="ja"?"SNS":"SNS  ":W==="video_uploaded"?f==="ja"?"":" ":f==="ja"?"":"  "}),he&&e.jsxs("span",{className:"px-2 py-0.5 rounded-full text-xs font-medium bg-orange-100 text-orange-800 animate-pulse",children:[" ",f==="ja"?"":"  "]})]}),e.jsx(sj,{videoDeadline:de,snsDeadline:me,language:f})]})]})}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"hidden sm:flex items-center space-x-1",children:Qd.map((ye,lt)=>e.jsx("div",{className:`w-2 h-2 rounded-full ${ae>lt?"bg-green-500":"bg-gray-300"}`},ye.id))}),N?e.jsx(to,{className:"w-5 h-5 text-gray-400"}):e.jsx(Kl,{className:"w-5 h-5 text-gray-400"})]})]}),N&&e.jsxs("div",{className:"px-4 pb-4 border-t border-gray-100 pt-4",children:[e.jsx("div",{className:"flex items-center justify-between mb-6 px-2",children:Qd.map((ye,lt)=>{const Oe=ye.icon,$t=ae>lt,Ft=ae===lt+1;return e.jsxs(Ug.Fragment,{children:[e.jsxs("div",{className:`flex flex-col items-center ${$t?"text-green-600":Ft?"text-blue-600":"text-gray-400"}`,children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${$t?"bg-green-100":Ft?"bg-blue-100":"bg-gray-100"}`,children:e.jsx(Oe,{className:"w-4 h-4"})}),e.jsx("span",{className:"text-xs mt-1 text-center",children:f==="ja"?ye.labelJa:ye.labelKo})]}),lt<Qd.length-1&&e.jsx("div",{className:`flex-1 h-0.5 mx-2 ${ae>lt+1?"bg-green-500":"bg-gray-200"}`})]},ye.id)})}),ae===1&&e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[e.jsx("div",{className:"mb-4 p-3 bg-red-50 rounded-lg border-2 border-red-300",children:e.jsxs("p",{className:"text-sm font-bold text-red-700 flex items-center",children:[e.jsx(bs,{className:"w-5 h-5 mr-2 flex-shrink-0"}),f==="ja"?" SNS":" SNS    !    "]})}),e.jsxs("h4",{className:"font-medium text-blue-800 mb-3 flex items-center",children:[e.jsx(Rs,{className:"w-4 h-4 mr-2"}),f==="ja"?"":"  "]}),e.jsxs("button",{onClick:()=>v(!0),className:"w-full mb-4 px-4 py-3 bg-purple-600 text-white rounded-lg font-medium hover:bg-purple-700 flex items-center justify-center shadow-sm",children:[e.jsx(xi,{className:"w-5 h-5 mr-2"}),f==="ja"?" ":"   "]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("input",{ref:ce,type:"file",accept:"video/*",onChange:ye=>Ce(ye,!1),className:"hidden"}),e.jsx("div",{onClick:()=>{var ye;return!O&&((ye=ce.current)==null?void 0:ye.click())},className:`border-2 border-dashed rounded-lg p-6 text-center cursor-pointer transition-colors ${q?"border-blue-400 bg-blue-50":"border-gray-300 hover:border-blue-400"}`,children:q?e.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[e.jsx(Qr,{className:"w-6 h-6 text-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:q.name}),e.jsx("button",{onClick:ye=>{ye.stopPropagation(),le(null)},className:"p-1 hover:bg-gray-200 rounded",children:e.jsx(Xt,{className:"w-4 h-4 text-gray-500"})})]}):e.jsxs("div",{className:"text-gray-400",children:[e.jsx(Rs,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),e.jsx("p",{className:"text-sm font-medium",children:f==="ja"?"":"   "}),e.jsx("p",{className:"text-xs mt-1",children:f==="ja"?"2GB":" 2GB"})]})}),O&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all",style:{width:`${K}%`}})}),e.jsxs("p",{className:"text-center text-xs text-gray-500",children:[K,"%"]})]}),q&&!O&&e.jsxs("button",{onClick:Qe,className:"w-full px-4 py-3 bg-blue-600 text-white rounded-md font-medium hover:bg-blue-700 flex items-center justify-center",children:[e.jsx(Rs,{className:"w-4 h-4 mr-2"}),f==="ja"?`v${be()+1} `:`v${be()+1}  `]})]})]}),ae===2&&e.jsxs("div",{className:"bg-orange-50 rounded-lg p-4",children:[e.jsx("div",{className:"mb-4 p-3 bg-red-50 rounded-lg border-2 border-red-300",children:e.jsxs("p",{className:"text-sm font-bold text-red-700 flex items-center",children:[e.jsx(bs,{className:"w-5 h-5 mr-2 flex-shrink-0"}),f==="ja"?" SNS":" SNS    !    "]})}),e.jsxs("h4",{className:"font-medium text-orange-800 mb-3 flex items-center",children:[e.jsx(Qt,{className:"w-4 h-4 mr-2"}),W==="revision_required"||W==="revision_requested"?f==="ja"?"  ":"     ":f==="ja"?"":"   (  )"]}),(c==null?void 0:c.video_file_url)&&e.jsx("div",{className:"mb-4 p-3 bg-white rounded-lg border border-orange-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:f==="ja"?":":" :"}),e.jsxs("p",{className:"text-sm font-medium text-gray-700",children:["v",be()," - ",c.video_file_name||(f==="ja"?"":"")]})]}),e.jsxs("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 rounded text-xs font-medium",children:["v",be()]})]})}),(((Ee=c==null?void 0:c.revision_requests)==null?void 0:Ee.length)>0||((_e=x==null?void 0:x.revision_requests)==null?void 0:_e.length)>0)&&e.jsx(jh,{revisionRequests:(c==null?void 0:c.revision_requests)||(x==null?void 0:x.revision_requests),language:f}),W==="revision_required"&&(c==null?void 0:c.revision_notes)&&!((pt=c==null?void 0:c.revision_requests)!=null&&pt.length)&&e.jsxs("div",{className:"mb-4 bg-red-100 border border-red-200 rounded-lg p-3 text-sm text-red-700",children:[e.jsx("p",{className:"font-medium mb-1",children:f==="ja"?":":" :"}),c.revision_notes]}),(W==="revision_required"||W==="revision_requested")&&e.jsxs("div",{className:"mt-4 space-y-3",children:[e.jsx("p",{className:"text-sm font-medium text-orange-700",children:f==="ja"?":":"  :"}),e.jsx("input",{ref:ce,type:"file",accept:"video/*",onChange:ye=>Ce(ye,!1),className:"hidden"}),e.jsx("div",{onClick:()=>{var ye;return!O&&((ye=ce.current)==null?void 0:ye.click())},className:`border-2 border-dashed rounded-lg p-4 text-center cursor-pointer transition-colors ${q?"border-blue-400 bg-blue-50":"border-gray-300 hover:border-blue-400"}`,children:q?e.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[e.jsx(Qr,{className:"w-6 h-6 text-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:q.name}),e.jsx("button",{onClick:ye=>{ye.stopPropagation(),le(null)},className:"p-1 hover:bg-gray-200 rounded",children:e.jsx(Xt,{className:"w-4 h-4 text-gray-500"})})]}):e.jsxs("div",{className:"text-gray-400 text-sm",children:[e.jsx(Rs,{className:"w-6 h-6 mx-auto mb-1 text-gray-300"}),f==="ja"?" (2GB)":"    ( 2GB)"]})}),O&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all",style:{width:`${K}%`}})}),e.jsxs("p",{className:"text-center text-xs text-gray-500",children:[K,"%"]})]}),q&&!O&&e.jsxs("button",{onClick:Qe,className:"w-full px-4 py-3 bg-orange-600 text-white rounded-md font-medium hover:bg-orange-700 flex items-center justify-center",children:[e.jsx(Rs,{className:"w-4 h-4 mr-2"}),f==="ja"?`v${be()+1} `:`v${be()+1}   `]})]}),e.jsxs("button",{onClick:()=>v(!0),className:"w-full mt-4 px-4 py-2.5 bg-purple-100 text-purple-700 border border-purple-300 rounded-lg font-medium hover:bg-purple-200 flex items-center justify-center",children:[e.jsx(xi,{className:"w-4 h-4 mr-2"}),f==="ja"?" ":"   "]})]}),ae===3&&e.jsxs("div",{className:"bg-indigo-50 rounded-lg p-4",children:[e.jsxs("h4",{className:"font-medium text-indigo-800 mb-3 flex items-center",children:[e.jsx(mi,{className:"w-4 h-4 mr-2"}),f==="ja"?"SNS /  / ":"SNS  /  /  "]}),e.jsxs("p",{className:"text-sm text-green-700 mb-4 bg-green-50 p-3 rounded-lg border border-green-200 flex items-center",children:[e.jsx(He,{className:"w-4 h-4 mr-2 flex-shrink-0"}),f==="ja"?"SNS":"   . SNS ."]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm text-gray-700 mb-2 font-medium",children:[f==="ja"?"SNSURL":"SNS  URL"," *"]}),e.jsx("input",{type:"url",value:S,onChange:ye=>p(ye.target.value),placeholder:"https://www.instagram.com/reel/... or https://www.tiktok.com/...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500 focus:border-transparent"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:f==="ja"?"InstagramTikTokYouTubeSNS":"Instagram, TikTok, YouTube  SNS  "})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm text-gray-700 mb-2 font-medium",children:[f==="ja"?"/BGM":" (/BGM  )",e.jsxs("span",{className:`ml-1 ${u!=null&&u.requires_clean_video?"text-red-500":"text-gray-400"}`,children:["(",u!=null&&u.requires_clean_video?f==="ja"?"":"":f==="ja"?"":"",")"]})]}),e.jsx("input",{ref:ue,type:"file",accept:"video/*",onChange:ye=>{var lt;(lt=ye.target.files)!=null&&lt[0]&&H(ye.target.files[0])},className:"hidden"}),e.jsx("div",{onClick:()=>{var ye;return(ye=ue.current)==null?void 0:ye.click()},className:`border-2 border-dashed rounded-lg p-4 text-center cursor-pointer transition-colors ${D?"border-green-400 bg-green-50":"border-gray-300 hover:border-blue-400"}`,children:D?e.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[e.jsx(Fg,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"text-sm text-gray-700 truncate max-w-xs",children:D.name}),e.jsx("button",{onClick:ye=>{ye.stopPropagation(),H(null)},className:"p-1 hover:bg-gray-200 rounded",children:e.jsx(Xt,{className:"w-4 h-4 text-gray-500"})})]}):c!=null&&c.clean_video_file_url?e.jsxs("div",{className:"flex items-center justify-center space-x-2 text-green-600",children:[e.jsx(He,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm",children:f==="ja"?"":" ( )"})]}):e.jsxs("div",{className:"text-gray-400 text-sm",children:[e.jsx(Rs,{className:"w-5 h-5 mx-auto mb-1 text-gray-300"}),f==="ja"?"":"  "]})}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:f==="ja"?"BGM":"BGM,     "})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm text-gray-700 mb-2 font-medium",children:[f==="ja"?"":" ",e.jsxs("span",{className:"text-gray-400 ml-1",children:["(",u!=null&&u.meta_ad_code_requested?f==="ja"?"":"":f==="ja"?"":"",")"]})]}),e.jsx("input",{type:"text",value:F,onChange:ye=>X(ye.target.value),placeholder:"adcode-Q9jTBBAen2L45CCA8KP_...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500 focus:border-transparent font-mono text-sm"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:f==="ja"?"Meta  / TikTok Spark Ads / YouTube":"Meta  / TikTok Spark Ads / YouTube   "})]}),e.jsxs("button",{onClick:Z,disabled:z||!S.trim(),className:"w-full px-4 py-3 bg-indigo-600 text-white rounded-md font-medium hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:[z?e.jsx(We,{className:"w-4 h-4 mr-2 animate-spin"}):e.jsx(mi,{className:"w-4 h-4 mr-2"}),f==="ja"?"SNS":"SNS// "]})]})]}),ae===4&&e.jsxs("div",{className:`rounded-lg p-4 ${W==="points_paid"?"bg-green-100":"bg-yellow-50"}`,children:[e.jsx("h4",{className:`font-medium mb-3 flex items-center ${W==="points_paid"?"text-green-800":"text-yellow-800"}`,children:W==="points_paid"?e.jsxs(e.Fragment,{children:[e.jsx(Ls,{className:"w-4 h-4 mr-2"}),f==="ja"?"!":"  !"]}):W==="revision_required"?e.jsxs(e.Fragment,{children:[e.jsx(Qt,{className:"w-4 h-4 mr-2"}),f==="ja"?"":" "]}):e.jsxs(e.Fragment,{children:[e.jsx(Yt,{className:"w-4 h-4 mr-2"}),f==="ja"?"":"  "]})}),W==="points_paid"&&(c==null?void 0:c.points_amount)>0&&e.jsxs("div",{className:"text-center py-4",children:[e.jsxs("p",{className:"text-3xl font-bold text-green-600",children:["+",c.points_amount.toLocaleString(),"P"]}),c.points_paid_at&&e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:new Date(c.points_paid_at).toLocaleDateString(f==="ja"?"ja-JP":"ko-KR")})]}),(((_t=c==null?void 0:c.revision_requests)==null?void 0:_t.length)>0||((Jt=x==null?void 0:x.revision_requests)==null?void 0:Jt.length)>0)&&e.jsx(jh,{revisionRequests:(c==null?void 0:c.revision_requests)||(x==null?void 0:x.revision_requests),language:f}),W==="revision_required"&&(c==null?void 0:c.revision_notes)&&!((us=c==null?void 0:c.revision_requests)!=null&&us.length)&&e.jsx("div",{className:"bg-red-100 border border-red-200 rounded p-3 text-sm text-red-700",children:c.revision_notes}),(c==null?void 0:c.sns_url)&&e.jsxs("div",{className:"mt-3 text-sm",children:[e.jsx("p",{className:"text-gray-500 mb-1",children:f==="ja"?"SNS:":" SNS:"}),e.jsxs("a",{href:c.sns_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline flex items-center",children:[c.sns_url,e.jsx(vt,{className:"w-3 h-3 ml-1"})]})]})]})]})]}),e.jsx(lj,{isOpen:$,onClose:()=>v(!1),campaign:u,application:x,language:f,stepNumber:d,campaignType:i})]})},nj=({application:d,campaign:m,submissions:i,onUpdate:c,language:u})=>{const[x,y]=g.useState(!0),f=(m==null?void 0:m.campaign_type)||"regular",N=ls[f]||ls.regular,j=(m==null?void 0:m.total_steps)||N.steps,w=(()=>{if(!(i!=null&&i.length))return 0;const S=i.filter(p=>p.workflow_status==="completed"||p.workflow_status==="points_paid").length;return Math.round(S/j*100)})(),Q=(()=>{const S=new Date;let p=null;if(m!=null&&m.step_deadlines)for(const C of m.step_deadlines)C.video_deadline&&new Date(C.video_deadline)>S&&(!p||new Date(C.video_deadline)<new Date(p.date))&&(p={date:C.video_deadline,type:"video",step:C.step}),C.sns_deadline&&new Date(C.sns_deadline)>S&&(!p||new Date(C.sns_deadline)<new Date(p.date))&&(p={date:C.sns_deadline,type:"sns",step:C.step});return p})();return e.jsxs("div",{className:`rounded-xl shadow-sm border-2 overflow-hidden ${N.bgClass}`,children:[e.jsxs("div",{className:"p-4 cursor-pointer",onClick:()=>y(!x),children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"text-3xl",children:N.icon}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${N.badgeClass}`,children:u==="ja"?N.labelJa:N.labelKo}),j>1&&e.jsxs("span",{className:"text-xs text-gray-500",children:[j," ",u==="ja"?"":""]})]}),e.jsx("h3",{className:"font-bold text-gray-900",children:(m==null?void 0:m.title)||d.campaign_title}),Q&&e.jsxs("div",{className:"mt-1 flex items-center text-xs text-orange-600",children:[e.jsx(Kd,{className:"w-3 h-3 mr-1"}),e.jsxs("span",{children:[u==="ja"?":":" :"," ",Q.type==="video"?u==="ja"?"":"":"SNS","(",u==="ja"?`${Q.step}`:`${Q.step}`,")"," - ",new Date(Q.date).toLocaleDateString(u==="ja"?"ja-JP":"ko-KR",{month:"short",day:"numeric"})]})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:u==="ja"?N.descJa:N.descKo})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"text-right hidden sm:block",children:[e.jsx("p",{className:"text-xs text-gray-500",children:u==="ja"?"":""}),e.jsxs("p",{className:`text-xl font-bold ${N.textClass}`,children:[w,"%"]})]}),x?e.jsx(to,{className:"w-6 h-6 text-gray-400"}):e.jsx(Kl,{className:"w-6 h-6 text-gray-400"})]})]}),e.jsx("div",{className:"mt-3 w-full bg-white bg-opacity-50 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full transition-all duration-500 ${w===100?"bg-green-500":`bg-${N.color}-500`}`,style:{width:`${w}%`}})}),e.jsx(aj,{campaign:m,campaignType:f,language:u})]}),x&&e.jsx("div",{className:"p-4 pt-0 space-y-3",children:Array.from({length:j},(S,p)=>p+1).map(S=>{const p=(i==null?void 0:i.find(C=>C.step_number===S))||{id:`temp-${S}`,step_number:S,workflow_status:"guide_pending"};return e.jsx(rj,{stepNumber:S,totalSteps:j,campaignType:f,submission:p,campaign:m,application:d,onUpdate:c,language:u},p.id)})})]})},ij=({applications:d=[],user:m})=>{const{language:i}=Zt(),[c,u]=g.useState(!0),[x,y]=g.useState({}),[f,N]=g.useState({}),[j,O]=g.useState("all"),w=async()=>{u(!0);try{const A=[...new Set(d.map(oe=>oe.campaign_id).filter(Boolean))];let L={};if(A.length>0){const{data:oe}=await ne.from("campaigns").select("*").in("id",A);oe&&(oe.forEach(F=>{L[F.id]=F}),y(L))}const U=d.map(oe=>oe.id);if(U.length>0){let oe=!1;try{const{data:F,error:X}=await ne.from("campaign_submissions").select("*").in("application_id",U).order("step_number",{ascending:!0});if(X)console.error("Submissions query error:",X);else if(F&&F.length>0){const ce={};F.forEach(ue=>{ce[ue.application_id]||(ce[ue.application_id]=[]),ce[ue.application_id].push(ue)}),N(ce),oe=!0}if(!X){const ce=d.filter(ue=>["approved","selected","filming","video_submitted","sns_submitted","completed"].includes(ue.status));for(const ue of ce)if(!oe||!(F!=null&&F.some(q=>q.application_id===ue.id))){const q=L==null?void 0:L[ue.campaign_id],le=(q==null?void 0:q.campaign_type)||"regular",D=(q==null?void 0:q.total_steps)||(le==="4week_challenge"?4:le==="megawari"?2:1);for(let H=1;H<=D;H++){const b=le==="4week_challenge"?`Week ${H}`:le==="megawari"?`Step ${H}`:null;try{await ne.from("campaign_submissions").upsert({application_id:ue.id,user_id:ue.user_id,campaign_id:ue.campaign_id,step_number:H,step_label:b,workflow_status:"guide_pending"},{onConflict:"application_id,step_number",ignoreDuplicates:!0})}catch(W){console.warn("Auto-create submission failed:",W)}}}if(!oe&&ce.length>0){const{data:ue}=await ne.from("campaign_submissions").select("*").in("application_id",U).order("step_number",{ascending:!0});if(ue&&ue.length>0){const q={};ue.forEach(le=>{q[le.application_id]||(q[le.application_id]=[]),q[le.application_id].push(le)}),N(q)}}}}catch(F){console.error("Submissions query/create error:",F)}}}catch(A){console.error("Load data error:",A)}finally{u(!1)}};g.useEffect(()=>{w()},[d]);const K=["approved","selected","filming","video_submitted","sns_submitted","completed"],Q=[...K,"pending","virtual_selected","rejected"],S=d.filter(A=>K.includes(A.status)),p=d.filter(A=>A.status==="pending"||A.status==="virtual_selected"),C=d.filter(A=>A.status==="rejected"),T=d.filter(A=>!Q.includes(A.status)),z=A=>j==="all"?A:A.filter(L=>{const U=x[L.campaign_id];return(U==null?void 0:U.campaign_type)===j}),k=z(S),$=z(p),v=z(C),ee=z(T),G={total:d.length,pending:p.length,approved:S.length,completed:S.filter(A=>{var F;const L=f[A.id]||[],U=x[A.campaign_id],oe=(U==null?void 0:U.total_steps)||((F=ls[(U==null?void 0:U.campaign_type)||"regular"])==null?void 0:F.steps)||1;return L.filter(X=>X.workflow_status==="completed"||X.workflow_status==="points_paid").length>=oe}).length};return c?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(We,{className:"w-8 h-8 animate-spin text-purple-600"})}):e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[e.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ls,{className:"h-8 w-8 text-blue-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:i==="ja"?"":" "}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:G.total})]})]})}),e.jsx("div",{className:"bg-yellow-50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Yt,{className:"h-8 w-8 text-yellow-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:i==="ja"?"":""}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:G.pending})]})]})}),e.jsx("div",{className:"bg-green-50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Jr,{className:"h-8 w-8 text-green-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:i==="ja"?"":""}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:G.approved})]})]})}),e.jsx("div",{className:"bg-purple-50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ys,{className:"h-8 w-8 text-purple-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:i==="ja"?"":""}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:G.completed})]})]})})]}),e.jsxs("div",{className:"mb-6 flex flex-wrap gap-2",children:[e.jsx("button",{onClick:()=>O("all"),className:`px-3 py-1.5 rounded-full text-sm font-medium transition-colors ${j==="all"?"bg-gray-800 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:i==="ja"?"":""}),Object.entries(ls).map(([A,L])=>e.jsxs("button",{onClick:()=>O(A),className:`px-3 py-1.5 rounded-full text-sm font-medium transition-colors ${j===A?L.badgeClass:"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[L.icon," ",i==="ja"?L.labelJa:L.labelKo]},A))]}),k.length>0&&e.jsxs("div",{className:"mb-8",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center",children:[e.jsx(He,{className:"w-5 h-5 mr-2 text-green-600"}),i==="ja"?"":" ",e.jsx("span",{className:"ml-2 px-2 py-0.5 bg-green-100 text-green-800 text-sm rounded-full",children:k.length})]}),e.jsx("div",{className:"space-y-6",children:k.map(A=>e.jsx(nj,{application:A,campaign:x[A.campaign_id],submissions:f[A.id]||[],onUpdate:w,language:i},A.id))})]}),$.length>0&&e.jsxs("div",{className:"mb-8",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center",children:[e.jsx(Yt,{className:"w-5 h-5 mr-2 text-yellow-600"}),i==="ja"?"":" ",e.jsx("span",{className:"ml-2 px-2 py-0.5 bg-yellow-100 text-yellow-800 text-sm rounded-full",children:$.length})]}),e.jsx("div",{className:"space-y-3",children:$.map(A=>{const L=x[A.campaign_id],U=ls[(L==null?void 0:L.campaign_type)||"regular"]||ls.regular;return e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-sm transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"text-2xl",children:U.icon}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${U.badgeClass}`,children:i==="ja"?U.labelJa:U.labelKo}),e.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:A.status==="virtual_selected"?i==="ja"?"":"":i==="ja"?"":""})]}),e.jsx("h4",{className:"font-medium text-gray-900",children:(L==null?void 0:L.title)||A.campaign_title||(i==="ja"?"":"")}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[i==="ja"?": ":": ",new Date(A.created_at).toLocaleDateString(i==="ja"?"ja-JP":"ko-KR")]})]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("div",{className:"flex items-center text-yellow-600",children:[e.jsx(Yt,{className:"w-4 h-4 mr-1"}),e.jsx("span",{className:"text-sm font-medium",children:i==="ja"?"":" "})]})})]})},A.id)})})]}),v.length>0&&e.jsxs("div",{className:"mb-8",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center",children:[e.jsx(Ht,{className:"w-5 h-5 mr-2 text-red-500"}),i==="ja"?"":" ",e.jsx("span",{className:"ml-2 px-2 py-0.5 bg-red-100 text-red-800 text-sm rounded-full",children:v.length})]}),e.jsx("div",{className:"space-y-3",children:v.map(A=>{const L=x[A.campaign_id],U=ls[(L==null?void 0:L.campaign_type)||"regular"]||ls.regular;return e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-sm transition-shadow opacity-75",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"text-2xl",children:U.icon}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${U.badgeClass}`,children:i==="ja"?U.labelJa:U.labelKo}),e.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:i==="ja"?"":""})]}),e.jsx("h4",{className:"font-medium text-gray-900",children:(L==null?void 0:L.title)||A.campaign_title||(i==="ja"?"":"")}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[i==="ja"?": ":": ",new Date(A.created_at).toLocaleDateString(i==="ja"?"ja-JP":"ko-KR")]})]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("div",{className:"flex items-center text-red-500",children:[e.jsx(Ht,{className:"w-4 h-4 mr-1"}),e.jsx("span",{className:"text-sm font-medium",children:i==="ja"?"":""})]})})]})},A.id)})})]}),ee.length>0&&e.jsxs("div",{className:"mb-8",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center",children:[e.jsx(Qt,{className:"w-5 h-5 mr-2 text-gray-500"}),i==="ja"?"":" ",e.jsx("span",{className:"ml-2 px-2 py-0.5 bg-gray-100 text-gray-800 text-sm rounded-full",children:ee.length})]}),e.jsx("div",{className:"space-y-3",children:ee.map(A=>{const L=x[A.campaign_id],U=ls[(L==null?void 0:L.campaign_type)||"regular"]||ls.regular;return e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-sm transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"text-2xl",children:U.icon}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${U.badgeClass}`,children:i==="ja"?U.labelJa:U.labelKo}),e.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:i==="ja"?"":""})]}),e.jsx("h4",{className:"font-medium text-gray-900",children:(L==null?void 0:L.title)||A.campaign_title||(i==="ja"?"":"")}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[i==="ja"?": ":": ",new Date(A.created_at).toLocaleDateString(i==="ja"?"ja-JP":"ko-KR")]})]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("div",{className:"flex items-center text-gray-500",children:[e.jsx(Qt,{className:"w-4 h-4 mr-1"}),e.jsx("span",{className:"text-sm font-medium",children:i==="ja"?"":""})]})})]})},A.id)})})]}),k.length===0&&$.length===0&&v.length===0&&ee.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Ls,{className:"w-16 h-16 mx-auto text-gray-300 mb-4"}),e.jsx("p",{className:"text-gray-500",children:d.length===0?i==="ja"?"":"  ":i==="ja"?"":"  "})]})]})},bh=d=>{if(!d)return"";const m=d.match(/\(PayPal:\s*([^)]+)\)/);if(m)return m[1].trim();const i=d.match(/PayPal:\s*([^)]+)/);if(i)return i[1].trim();const c=d.match(/\(PayPal:\s*([^)]+)\)/);if(c)return c[1].trim();const u=d.match(/([a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,})/);return u?u[1]:""},cj=()=>{var Oe,$t,Ft;const{user:d,signOut:m}=ys(),{language:i}=Zt(),[c,u]=g.useState(null),[x,y]=g.useState([]),[f,N]=g.useState([]),[j,O]=g.useState([]),[w,K]=g.useState(!0),[Q,S]=g.useState("profile"),[p,C]=g.useState(!1),[T,z]=g.useState(""),[k,$]=g.useState(""),[v,ee]=g.useState(""),[G,A]=g.useState(!1),[L,U]=g.useState(""),[oe,F]=g.useState(""),[X,ce]=g.useState(!1),[ue,q]=g.useState({amount:"",paypalEmail:"",paypalName:"",reason:""}),[le,D]=g.useState(!1),[H,b]=g.useState(null),[W,B]=g.useState({sns_upload_url:"",notes:""}),[de,me]=g.useState(!1),[xe,te]=g.useState(!1),[be,he]=g.useState(null),[Ce,Qe]=g.useState(!1),[Z,ge]=g.useState({name:"",phone:"",bio:"",age:"",region:"",skin_type:"",instagram_url:"",tiktok_url:"",youtube_url:"",other_sns_url:"",instagram_followers:"",tiktok_followers:"",youtube_subscribers:"",sms_consent:!0,email_consent:!0}),ae={ko:{title:"",profile:"",applications:" ",withdrawals:" ",points:" ",accountSettings:" ",personalInfo:"",name:"",email:"",phone:"",address:"",joinDate:"",userRole:" ",currentPoints:" ",totalEarned:"  ",campaignApplications:" ",totalApplications:"  ",approvedApplications:" ",completedCampaigns:" ",withdrawalHistory:" ",totalWithdrawn:" ",pendingWithdrawals:" ",pointHistory:" ",transactionType:" ",amount:"",date:"",description:"",earned:"",spent:"",bonus:"",withdrawal:"",withdrawRequest:" ",withdrawRequestTitle:"  ",withdrawAmount:" ",paypalEmail:"PayPal ",paypalName:"PayPal ",withdrawReason:" ",submitWithdrawRequest:" ",accountDeletion:" ",deleteAccount:" ",deleteAccountWarning:"     .",deleteAccountDescription:"      .       .",withdrawalReason:" ",withdrawalDetails:" ",confirmDeletion:" ",confirmText:' ?  "" .',confirmPlaceholder:"",submitWithdrawal:" ",cancel:"",processing:" ...",logout:"",goHome:" ",noData:" ",edit:"",save:"",skinType:"",postalCode:"",roles:{user:" ",vip:"VIP ",manager:"",admin:""},reasons:{service:" ",privacy:" ",unused:" ",other:""},snsUpload:"SNS ",snsUploadUrl:"SNS  URL",pointRequest:" ",pointRequestTitle:"SNS    ",snsUploadDescription:"SNS   URL   .",additionalNotes:" ",submitPointRequest:" ",pointRequestPending:"  ",pointRequestApproved:"  ",messages:{withdrawalSubmitted:"  .    .",error:" .  .",confirmRequired:"    .",reasonRequired:"  .",snsUploadSubmitted:"SNS     .",snsUrlRequired:"SNS  URL ."}},ja:{title:"",profile:"",applications:"",withdrawals:"",points:"",accountSettings:"",personalInfo:"",name:"",email:"",phone:"",address:"",joinDate:"",userRole:"",currentPoints:"",totalEarned:"",campaignApplications:"",totalApplications:"",approvedApplications:"",completedCampaigns:"",withdrawalHistory:"",totalWithdrawn:"",pendingWithdrawals:"",pointHistory:"",transactionType:"",amount:"",date:"",description:"",earned:"",spent:"",bonus:"",withdrawal:"",withdrawRequest:"",withdrawRequestTitle:"",withdrawAmount:"",paypalEmail:"PayPal ",paypalName:"PayPal ",withdrawReason:"",submitWithdrawRequest:"",accountDeletion:"",deleteAccount:"",deleteAccountWarning:"",deleteAccountDescription:"",withdrawalReason:"",withdrawalDetails:"",confirmDeletion:"",confirmText:"",confirmPlaceholder:"",submitWithdrawal:"",cancel:"",processing:"...",logout:"",goHome:"",noData:"",edit:"",save:"",skinType:"",postalCode:"",age:"",region:"",bio:"",instagramFollowers:"Instagram",tiktokFollowers:"TikTok",youtubeSubscribers:"YouTube",roles:{user:"",vip:"VIP",manager:"",admin:""},reasons:{service:"",privacy:"",unused:"",other:""},snsUpload:"SNS",snsUploadUrl:"SNSURL",pointRequest:"",pointRequestTitle:"SNS",snsUploadDescription:"SNSURL",additionalNotes:"",submitPointRequest:"",pointRequestPending:"",pointRequestApproved:"",messages:{withdrawalSubmitted:"",error:"",confirmRequired:"",reasonRequired:"",snsUploadSubmitted:"SNS",snsUrlRequired:"SNSURL"}}},I=ae[i]||ae.ko;g.useEffect(()=>{d&&ke()},[d]);const ke=async()=>{var R;try{K(!0);const pe=await Se.userProfiles.get(d.id);u(pe),pe&&ge({name:pe.name||"",phone:pe.phone||"",bio:pe.bio||"",age:pe.age||"",region:pe.region||"",skin_type:pe.skin_type||"",instagram_url:pe.instagram_url||"",tiktok_url:pe.tiktok_url||"",youtube_url:pe.youtube_url||"",other_sns_url:pe.other_sns_url||"",instagram_followers:pe.instagram_followers||"",tiktok_followers:pe.tiktok_followers||"",youtube_subscribers:pe.youtube_subscribers||"",sms_consent:pe.sms_consent!==void 0?pe.sms_consent:!0,email_consent:pe.email_consent!==void 0?pe.email_consent:!0});const St=await Se.applications.getByUser(d.id);y(St||[]);try{console.log("   ");const{data:Ie,error:ot}=await ne.from("point_transactions").select("*").eq("user_id",d.id).lt("amount",0).order("created_at",{ascending:!1});if(ot)console.warn("point_transactions    :",ot),N([]);else{const nt=(Ie||[]).map(Le=>{var st,$l,ua,jt,vs,qs;let Je="pending";return(st=Le.description)!=null&&st.includes("[:]")||($l=Le.description)!=null&&$l.includes("[:]")?Je="approved":(ua=Le.description)!=null&&ua.includes("[:]")||(jt=Le.description)!=null&&jt.includes("[:]")?Je="completed":((vs=Le.description)!=null&&vs.includes("[:]")||(qs=Le.description)!=null&&qs.includes("[:]"))&&(Je="rejected"),{id:Le.id,user_id:Le.user_id,amount:Math.abs(Le.amount),status:Je,withdrawal_method:"paypal",paypal_email:bh(Le.description),paypal_name:bh(Le.description),reason:Le.description,created_at:Le.created_at,updated_at:Le.updated_at}}),xt=[],it=new Set;for(const Le of nt){const Je=`${Le.user_id}-${Le.amount}-${Le.created_at.split("T")[0]}`;it.has(Je)||(it.add(Je),xt.push(Le))}N(xt),console.log("   :",xt.length,"(  )")}}catch(Ie){console.warn("   :",Ie),N([])}try{const{data:Ie,error:ot}=await ne.from("point_transactions").select("*").eq("user_id",d.id).order("created_at",{ascending:!1});if(ot)console.warn("    :",ot),O([]);else{const nt=[],xt=new Set;for(const it of Ie||[]){const Le=`${it.user_id}-${it.amount}-${it.created_at.split("T")[0]}-${it.description||""}`;xt.has(Le)||(xt.add(Le),nt.push(it))}O(nt),console.log("    :",nt.length,"(  )")}}catch(Ie){console.warn("    :",Ie),O([])}}catch(pe){console.error("   :",pe),c||u({name:((R=d==null?void 0:d.user_metadata)==null?void 0:R.full_name)||(d==null?void 0:d.email)||"",email:(d==null?void 0:d.email)||"",phone_number:"",address:"",created_at:new Date().toISOString(),user_role:"user",points:0}),console.warn("      ."),U("")}finally{K(!1)}},Ee=async()=>{var R,pe,St,Ie,ot,nt,xt,it,Le;try{A(!0),U("");const Je=(jt,vs)=>{if(!jt||jt===""||jt===void 0)return null;const qs=Number(jt);if(isNaN(qs))throw new Error(i==="ja"?`${vs}`:`${vs}()  .`);if(qs<0)throw new Error(i==="ja"?`${vs}0`:`${vs}() 0   .`);return qs},st={};if(Z.name!==void 0&&(st.name=((R=Z.name)==null?void 0:R.trim())||null),Z.phone!==void 0&&(st.phone=((pe=Z.phone)==null?void 0:pe.trim())||null),Z.bio!==void 0&&(st.bio=((St=Z.bio)==null?void 0:St.trim())||null),Z.region!==void 0&&(st.region=((Ie=Z.region)==null?void 0:Ie.trim())||null),Z.skin_type!==void 0&&(st.skin_type=((ot=Z.skin_type)==null?void 0:ot.trim())||null),Z.age!==void 0)try{st.age=Je(Z.age,i==="ja"?"":"")}catch(jt){console.warn("   :",jt.message),st.age=null}if(Z.instagram_url!==void 0&&(st.instagram_url=((nt=Z.instagram_url)==null?void 0:nt.trim())||null),Z.tiktok_url!==void 0&&(st.tiktok_url=((xt=Z.tiktok_url)==null?void 0:xt.trim())||null),Z.youtube_url!==void 0&&(st.youtube_url=((it=Z.youtube_url)==null?void 0:it.trim())||null),Z.other_sns_url!==void 0&&(st.other_sns_url=((Le=Z.other_sns_url)==null?void 0:Le.trim())||null),Z.instagram_followers!==void 0)try{st.instagram_followers=Je(Z.instagram_followers,"Instagram "+(i==="ja"?"":" "))}catch(jt){console.warn("Instagram    :",jt.message),st.instagram_followers=null}if(Z.tiktok_followers!==void 0)try{st.tiktok_followers=Je(Z.tiktok_followers,"TikTok "+(i==="ja"?"":" "))}catch(jt){console.warn("TikTok    :",jt.message),st.tiktok_followers=null}if(Z.youtube_subscribers!==void 0)try{st.youtube_subscribers=Je(Z.youtube_subscribers,"YouTube "+(i==="ja"?"":" "))}catch(jt){console.warn("YouTube    :",jt.message),st.youtube_subscribers=null}Z.sms_consent!==void 0&&(st.sms_consent=Z.sms_consent),Z.email_consent!==void 0&&(st.email_consent=Z.email_consent),st.updated_at=new Date().toISOString(),console.log("  ");const{data:$l,error:ua}=await ne.from("user_profiles").update(st).eq("user_id",d.id).select();if(ua)throw console.error("  :",ua),new Error(ua.message);console.log("  "),u(jt=>({...jt,...st})),F(i==="ja"?"":"  ."),Qe(!1),setTimeout(()=>F(""),5e3)}catch(Je){console.error("  :",Je),U(Je.message||(i==="ja"?"":"  ."))}finally{A(!1)}},_e=async()=>{if(!ue.amount||!ue.paypalEmail||!ue.paypalName){U(i==="ja"?"":"   .");return}const R=parseInt(ue.amount),pe=(c==null?void 0:c.points)||0;if(R>pe){U(i==="ja"?"":"      .");return}if(R<1e3){U(i==="ja"?"1,000":"   1,000.");return}try{A(!0),U("");const{data:St,error:Ie}=await ne.from("withdrawal_requests").insert([{user_id:d.id,amount:R,withdrawal_method:"paypal",paypal_email:ue.paypalEmail,paypal_name:ue.paypalName,reason:ue.reason||(i==="ja"?"":"  "),status:"pending",created_at:new Date().toISOString()}]).select();if(Ie)throw console.error("  :",Ie),new Error(Ie.message);console.log("  ");const ot=pe-R,{error:nt}=await ne.from("user_profiles").update({points:ot}).eq("user_id",d.id);if(nt)throw console.error("   :",nt),new Error("  .");const{error:xt}=await ne.from("point_transactions").insert([{user_id:d.id,amount:-R,transaction_type:"spent",description:i==="ja"?": ":" :  ",created_at:new Date().toISOString()}]);xt&&console.warn("   :",xt),F(i==="ja"?"":"  .    ."),ce(!1),q({amount:"",paypalEmail:"",paypalName:"",reason:""}),await ke(),setTimeout(()=>F(""),5e3)}catch(St){console.error("  :",St),U(St.message||(i==="ja"?"":"    .  ."))}finally{A(!1)}},pt=async()=>{var R,pe;try{if(!W.sns_upload_url||typeof W.sns_upload_url!="string"||!W.sns_upload_url.trim()){U(((R=I.messages)==null?void 0:R.snsUrlRequired)||(i==="ja"?"SNSURL":"SNS  URL ."));return}if(!H){U(i==="ja"?"":"    .");return}A(!0),U("");try{new URL(W.sns_upload_url)}catch{U(i==="ja"?"URL":" URL ."),A(!1);return}const St={video_links:W.sns_upload_url,additional_info:W.notes,updated_at:new Date().toISOString()},{error:Ie}=await ne.from("applications").update(St).eq("id",H.id).eq("user_id",d.id);if(Ie)throw console.error("Application update error:",Ie),new Error(i==="ja"?"SNS":"SNS   .");try{const{error:ot}=await ne.from("point_transactions").insert({user_id:d.id,campaign_id:H.campaign_id,application_id:H.id,transaction_type:"pending",amount:0,description:`SNS   : ${W.sns_upload_url}`,created_at:new Date().toISOString()});ot&&console.warn("    :",ot)}catch(ot){console.warn("Point transaction insert failed:",ot)}F(((pe=I.messages)==null?void 0:pe.snsUploadSubmitted)||(i==="ja"?"SNS":"SNS     .")),D(!1),B({sns_upload_url:"",notes:""}),b(null),await ke(),setTimeout(()=>F(""),5e3)}catch(St){console.error("SNS  :",St),U(St.message||(i==="ja"?"":" .  ."))}finally{A(!1)}},_t=R=>{try{if(U(""),F(""),!R){U(i==="ja"?"":"    .");return}b(R),B({sns_upload_url:R.video_links||"",notes:R.additional_info||""}),D(!0),console.log("SNS   :",R.id,R.campaign_title)}catch(pe){console.error("SNS    :",pe),U(i==="ja"?"":"   .")}},Jt=async()=>{if(!T){U(I.messages.reasonRequired);return}if(v!==(i==="ja"?"":"")){U(I.messages.confirmRequired);return}try{A(!0),U("");const{error:R}=await Se.supabase.from("withdrawal_requests").insert({user_id:d.id,reason:T,additional_info:k,status:"pending"});if(R)throw R;F(I.messages.withdrawalSubmitted),C(!1),z(""),$(""),ee(""),setTimeout(()=>F(""),5e3)}catch(R){console.error("  :",R),U(I.messages.error)}finally{A(!1)}},us=R=>{const pe={user:"bg-gray-100 text-gray-800",vip:"bg-purple-100 text-purple-800",manager:"bg-blue-100 text-blue-800",admin:"bg-red-100 text-red-800"};return e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${pe[R]||pe.user}`,children:I.roles[R]||I.roles.user})},ye=R=>({earn:"text-green-600",bonus:"text-blue-600",admin_add:"text-purple-600",spend:"text-red-600",admin_subtract:"text-red-600"})[R]||"text-gray-600",lt=R=>({earn:I.earned,earned:I.earned,bonus:I.bonus,admin_add:I.bonus,spend:I.spent,spent:I.spent,admin_subtract:I.spent,pending:i==="ja"?"":"",approved:i==="ja"?"":"",rejected:i==="ja"?"":"",completed:i==="ja"?"":"",reward:i==="ja"?"":""})[R]||R;return w?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:I.title}),e.jsx("p",{className:"mt-2 text-gray-600",children:i==="ja"?`${(c==null?void 0:c.name)||(d==null?void 0:d.email)}`:`${(c==null?void 0:c.name)||(d==null?void 0:d.email)}  `})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("button",{onClick:()=>window.location.href="/",className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),I.goHome]}),e.jsxs("button",{onClick:m,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-red-600 hover:bg-red-700",children:[e.jsx($d,{className:"w-4 h-4 mr-2"}),I.logout]})]})]})}),L&&L!==((Oe=I.messages)==null?void 0:Oe.error)&&e.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-md p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx(bs,{className:"h-5 w-5 text-red-400"}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-red-800",children:L})})]})}),oe&&e.jsx("div",{className:"mb-6 bg-green-50 border border-green-200 rounded-md p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx(Jr,{className:"h-5 w-5 text-green-400"}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-green-800",children:oe})})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow mb-6",children:e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"-mb-px flex space-x-8 px-6",children:[{id:"profile",label:I.profile,icon:ca},{id:"applications",label:I.applications,icon:Ls},{id:"withdrawals",label:I.withdrawals,icon:al},{id:"points",label:I.points,icon:Ys},{id:"settings",label:I.accountSettings,icon:da}].map(R=>{const pe=R.icon;return e.jsxs("button",{onClick:()=>S(R.id),className:`py-4 px-1 border-b-2 font-medium text-sm ${Q===R.id?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(pe,{className:"w-4 h-4 mr-2 inline"}),R.label]},R.id)})})})}),e.jsxs("div",{className:"bg-white rounded-lg shadow",children:[Q==="profile"&&e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:I.personalInfo}),e.jsx("button",{onClick:()=>{Ce?Ee():Qe(!0)},disabled:G,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50",children:G?I.processing:Ce?I.save:I.edit})]}),oe&&e.jsx("div",{className:"mb-4 p-4 bg-green-50 border border-green-200 rounded-md",children:e.jsx("p",{className:"text-green-800",children:oe})}),L&&e.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-md",children:e.jsx("p",{className:"text-red-800",children:L})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:I.name}),Ce?e.jsx("input",{type:"text",value:Z.name,onChange:R=>ge({...Z,name:R.target.value}),className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}):e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:(c==null?void 0:c.name)||(i==="ja"?"":" ")})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:I.email}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:(c==null?void 0:c.email)||(d==null?void 0:d.email)})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[I.phone,e.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["(",i==="ja"?"":"",")"]})]}),Ce?e.jsx("input",{type:"tel",value:Z.phone,onChange:R=>ge({...Z,phone:R.target.value}),className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"080-1234-5678"}):e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:(c==null?void 0:c.phone)||(i==="ja"?"":" ")})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:I.skinType}),Ce?e.jsxs("select",{value:Z.skin_type,onChange:R=>ge({...Z,skin_type:R.target.value}),className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"",children:""})]}):e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:(c==null?void 0:c.skin_type)||""})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[I.age,e.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["(",i==="ja"?"":"",")"]})]}),Ce?e.jsx("input",{type:"number",value:Z.age||"",onChange:R=>ge({...Z,age:R.target.value}),className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"25",min:"1",max:"100"}):e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:(c==null?void 0:c.age)||(i==="ja"?"":"")})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[I.region,e.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["(",i==="ja"?"":"",")"]})]}),Ce?e.jsx("input",{type:"text",value:Z.region||"",onChange:R=>ge({...Z,region:R.target.value}),className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:i==="ja"?"":""}):e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:(c==null?void 0:c.region)||(i==="ja"?"":"")})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[I.bio,e.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["(",i==="ja"?"":"",")"]})]}),Ce?e.jsx("textarea",{value:Z.bio||"",onChange:R=>ge({...Z,bio:R.target.value}),className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:"2",placeholder:i==="ja"?"...":" ..."}):e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:(c==null?void 0:c.bio)||(i==="ja"?"":"")})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:I.joinDate}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:c!=null&&c.created_at?new Date(c.created_at).toLocaleDateString(i==="ko"?"ko-KR":"ja-JP"):"-"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:I.userRole}),e.jsx("div",{className:"mt-1",children:us(c==null?void 0:c.user_role)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:I.currentPoints}),e.jsxs("div",{className:"flex items-center justify-between mt-1",children:[e.jsxs("p",{className:"text-lg font-semibold text-purple-600",children:[(($t=c==null?void 0:c.points)==null?void 0:$t.toLocaleString())||0,"P"]}),e.jsx("button",{onClick:()=>ce(!0),className:"ml-4 px-3 py-1 bg-green-600 text-white text-sm rounded-md hover:bg-green-700 transition-colors",children:I.withdrawRequest})]})]})]})]}),e.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:i==="ko"?"SNS ":"SNS"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Instagram"}),Ce?e.jsx("input",{type:"url",value:Z.instagram_url,onChange:R=>ge({...Z,instagram_url:R.target.value}),className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"https://instagram.com/username"}):e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:c!=null&&c.instagram_url?e.jsx("a",{href:c.instagram_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:c.instagram_url}):i==="ja"?"":" "})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"TikTok"}),Ce?e.jsx("input",{type:"url",value:Z.tiktok_url,onChange:R=>ge({...Z,tiktok_url:R.target.value}),className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"https://tiktok.com/@username"}):e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:c!=null&&c.tiktok_url?e.jsx("a",{href:c.tiktok_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:c.tiktok_url}):i==="ja"?"":" "})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"YouTube"}),Ce?e.jsx("input",{type:"url",value:Z.youtube_url,onChange:R=>ge({...Z,youtube_url:R.target.value}),className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"https://youtube.com/@username"}):e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:c!=null&&c.youtube_url?e.jsx("a",{href:c.youtube_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:c.youtube_url}):i==="ja"?"":" "})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:i==="ja"?"SNS":" SNS"}),Ce?e.jsx("input",{type:"url",value:Z.other_sns_url,onChange:R=>ge({...Z,other_sns_url:R.target.value}),className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"https://other-sns.com/username"}):e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:c!=null&&c.other_sns_url?e.jsx("a",{href:c.other_sns_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:c.other_sns_url}):i==="ja"?"":" "})]})]})]}),e.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:i==="ja"?"SNS":"SNS  "}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:I.instagramFollowers}),Ce?e.jsx("input",{type:"number",value:Z.instagram_followers,onChange:R=>ge({...Z,instagram_followers:R.target.value}),className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"1000",min:"0"}):e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:c!=null&&c.instagram_followers?c.instagram_followers.toLocaleString():i==="ja"?"":" "})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:I.tiktokFollowers}),Ce?e.jsx("input",{type:"number",value:Z.tiktok_followers,onChange:R=>ge({...Z,tiktok_followers:R.target.value}),className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"1000",min:"0"}):e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:c!=null&&c.tiktok_followers?c.tiktok_followers.toLocaleString():i==="ja"?"":" "})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:I.youtubeSubscribers}),Ce?e.jsx("input",{type:"number",value:Z.youtube_subscribers,onChange:R=>ge({...Z,youtube_subscribers:R.target.value}),className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"1000",min:"0"}):e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:c!=null&&c.youtube_subscribers?c.youtube_subscribers.toLocaleString():i==="ja"?"":" "})]})]})]}),e.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:i==="ja"?"":"  "}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"sms_consent",checked:Z.sms_consent,onChange:R=>ge({...Z,sms_consent:R.target.checked}),disabled:!Ce,className:"h-4 w-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500 disabled:opacity-50"}),e.jsx("label",{htmlFor:"sms_consent",className:"ml-2 block text-sm text-gray-700",children:i==="ja"?"SMS":"SMS  "})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"email_consent",checked:Z.email_consent,onChange:R=>ge({...Z,email_consent:R.target.checked}),disabled:!Ce,className:"h-4 w-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500 disabled:opacity-50"}),e.jsx("label",{htmlFor:"email_consent",className:"ml-2 block text-sm text-gray-700",children:i==="ja"?"":"  "})]})]})]})]}),Q==="applications"&&e.jsx(ij,{applications:x,user:d}),Q==="applications_old"&&e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:I.campaignApplications}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[e.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ls,{className:"h-8 w-8 text-blue-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:I.totalApplications}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:x.length})]})]})}),e.jsx("div",{className:"bg-green-50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Jr,{className:"h-8 w-8 text-green-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:I.approvedApplications}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:x.filter(R=>["approved","selected","filming","video_submitted","sns_submitted","completed"].includes(R.status)).length})]})]})}),e.jsx("div",{className:"bg-purple-50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ys,{className:"h-8 w-8 text-purple-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:I.completedCampaigns}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:x.filter(R=>R.submission_status==="submitted").length})]})]})})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:i==="ko"?"":""}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:i==="ko"?"":""}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:i==="ko"?"":""}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:i==="ko"?"":""}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:i==="ko"?"":""})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:x.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"px-6 py-12 text-center text-gray-500",children:I.noData})}):x.map(R=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:R.campaign_title||(i==="ko"?"  ":"")})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${["approved","selected","filming","video_submitted","sns_submitted","completed"].includes(R.status)?"bg-green-100 text-green-800":R.status==="rejected"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:R.status==="video_submitted"?i==="ko"?" ":"":R.status==="sns_submitted"?i==="ko"?"SNS ":"SNS":R.status==="completed"?i==="ko"?"":"":R.status==="selected"?i==="ko"?"":"":R.status==="filming"?i==="ko"?"":"":R.status==="approved"?i==="ko"?"":"":R.status==="rejected"?i==="ko"?"":"":i==="ko"?"":""})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(R.created_at).toLocaleDateString(i==="ko"?"ko-KR":"ja-JP")}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:["approved","selected","filming","video_submitted","sns_submitted","completed"].includes(R.status)&&R.campaign_guide_type==="pdf"&&R.campaign_guide_pdf_url?e.jsxs("div",{className:"space-y-2",children:[e.jsx(Hh,{url:R.campaign_guide_pdf_url,language:i,compact:!0}),R.submission_status!=="submitted"?e.jsxs("button",{onClick:()=>{he(R),te(!0)},className:"inline-flex items-center px-3 py-1.5 rounded-md text-xs font-medium bg-blue-100 text-blue-800 hover:bg-blue-200 transition-colors",children:[e.jsx(Rs,{className:"w-3.5 h-3.5 mr-1.5"}),i==="ko"?" ":""]}):e.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-md text-xs font-medium bg-green-100 text-green-800",children:[e.jsx(Qr,{className:"w-3.5 h-3.5 mr-1.5"}),i==="ko"?"":""]})]}):["approved","selected","filming","video_submitted","sns_submitted","completed"].includes(R.status)&&R.personalized_guide?e.jsxs("div",{className:"space-y-2",children:[e.jsxs("button",{onClick:()=>{he(R),me(!0)},className:"inline-flex items-center px-3 py-1.5 rounded-md text-xs font-medium bg-purple-100 text-purple-800 hover:bg-purple-200 transition-colors",children:[e.jsx(xi,{className:"w-3.5 h-3.5 mr-1.5"}),i==="ko"?" ":""]}),R.submission_status!=="submitted"?e.jsxs("button",{onClick:()=>{he(R),te(!0)},className:"inline-flex items-center px-3 py-1.5 rounded-md text-xs font-medium bg-blue-100 text-blue-800 hover:bg-blue-200 transition-colors ml-2",children:[e.jsx(Rs,{className:"w-3.5 h-3.5 mr-1.5"}),i==="ko"?" ":""]}):e.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-md text-xs font-medium bg-green-100 text-green-800 ml-2",children:[e.jsx(Qr,{className:"w-3.5 h-3.5 mr-1.5"}),i==="ko"?"":""]}),R.guide_sent&&e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[i==="ko"?" ":"",R.guide_sent_at&&e.jsxs("span",{className:"ml-1",children:["(",new Date(R.guide_sent_at).toLocaleDateString("ja-JP"),")"]})]})]}):["approved","selected","filming","video_submitted","sns_submitted","completed"].includes(R.status)?e.jsx("span",{className:"text-xs text-gray-400",children:i==="ko"?" ":""}):e.jsx("span",{className:"text-xs text-gray-400",children:"-"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:["approved","selected","filming","video_submitted","sns_submitted","completed"].includes(R.status)?e.jsxs("div",{className:"space-y-2",children:[(R.tracking_number||R.guide_url)&&e.jsxs("div",{className:"mb-3 p-3 bg-blue-50 rounded-lg",children:[R.tracking_number&&e.jsxs("div",{className:"text-xs mb-2",children:[e.jsx("span",{className:"font-medium text-gray-700",children:i==="ko"?":":":"}),e.jsx("span",{className:"ml-2 text-gray-900",children:R.tracking_number})]}),R.shipping_date&&e.jsxs("div",{className:"text-xs mb-2",children:[e.jsx("span",{className:"font-medium text-gray-700",children:i==="ko"?":":":"}),e.jsx("span",{className:"ml-2 text-gray-900",children:new Date(R.shipping_date).toLocaleDateString(i==="ko"?"ko-KR":"ja-JP")})]}),R.guide_url&&e.jsx("div",{className:"text-xs",children:e.jsxs("a",{href:R.guide_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-blue-600 hover:text-blue-800 font-medium",children:[" ",i==="ko"?" ":""]})})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[R.google_drive_url&&e.jsxs("a",{href:R.google_drive_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 py-1 rounded-md text-xs font-medium bg-blue-100 text-blue-800 hover:bg-blue-200 transition-colors",children:[" ",i==="ko"?" ":"Google Drive"]}),R.google_slides_url&&e.jsxs("a",{href:R.google_slides_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 py-1 rounded-md text-xs font-medium bg-green-100 text-green-800 hover:bg-green-200 transition-colors",children:[" ",i==="ko"?" ":"Google Slides"]})]}),e.jsx("div",{className:"mt-2",children:R.video_links&&j.some(pe=>pe.application_id===R.id&&pe.transaction_type==="reward")?e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-md text-xs font-medium bg-green-100 text-green-800",children:[" ",I.pointRequestApproved]}):R.video_links&&j.some(pe=>pe.application_id===R.id&&pe.transaction_type==="pending")?e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-md text-xs font-medium bg-yellow-100 text-yellow-800",children:[" ",I.pointRequestPending]}):e.jsxs("button",{onClick:pe=>{pe.preventDefault(),pe.stopPropagation(),_t(R)},type:"button",className:"inline-flex items-center px-3 py-1 rounded-md text-xs font-medium bg-red-100 text-red-800 hover:bg-red-200 transition-colors",children:[" ",I.snsUpload]})}),!R.google_drive_url&&!R.google_slides_url&&e.jsx("span",{className:"text-xs text-gray-400",children:i==="ko"?"  ":""})]}):e.jsx("span",{className:"text-xs text-gray-400",children:"-"})})]},R.id))})]})}),x.some(R=>["approved","selected","filming"].includes(R.status))&&e.jsx("div",{className:"mt-6 p-4 bg-amber-50 border border-amber-200 rounded-lg",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(bs,{className:"h-5 w-5 text-amber-600 mt-0.5 mr-3 flex-shrink-0"}),e.jsxs("div",{className:"text-sm text-amber-800",children:[e.jsx("p",{className:"font-medium mb-1",children:i==="ko"?" SNS  ":" SNS"}),e.jsx("p",{children:i==="ko"?"SNS   1    .    .":"SNS1"})]})]})})]}),Q==="withdrawals"&&e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:I.withdrawalHistory}),f.length===0?e.jsxs("div",{className:"text-center py-12 text-gray-500",children:[e.jsx(al,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("p",{className:"mt-4",children:I.noData})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:i==="ko"?" ":""}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:i==="ko"?"":""}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:i==="ko"?"":""}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:i==="ko"?"":""}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:i==="ko"?"":""})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:f.map(R=>{var pe;return e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:R.withdrawal_method==="paypal"?"PayPal":R.withdrawal_method==="bank"?i==="ko"?" ":"":R.withdrawal_method||"PayPal"}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["",((pe=R.amount)==null?void 0:pe.toLocaleString())||"0"]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${R.status==="completed"?"bg-green-100 text-green-800":R.status==="approved"?"bg-blue-100 text-blue-800":R.status==="rejected"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:R.status==="completed"?i==="ko"?"":"":R.status==="approved"?i==="ko"?"":"":R.status==="rejected"?i==="ko"?"":"":i==="ko"?"":""})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(R.created_at).toLocaleDateString(i==="ko"?"ko-KR":"ja-JP")}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:R.processed_at?new Date(R.processed_at).toLocaleDateString(i==="ko"?"ko-KR":"ja-JP"):"-"})]},R.id)})})]})})]}),Q==="points"&&e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:I.pointHistory}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:I.transactionType}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:I.amount}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:I.description}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:I.date})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:j.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"4",className:"px-6 py-12 text-center text-gray-500",children:I.noData})}):j.map(R=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`text-sm font-medium ${ye(R.transaction_type)}`,children:lt(R.transaction_type)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:`text-sm font-medium ${R.amount>0?"text-green-600":"text-red-600"}`,children:[R.amount>0?"+":"",R.amount.toLocaleString(),"P"]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"text-sm text-gray-900 max-w-xs truncate",children:R.description||"-"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(R.created_at).toLocaleDateString("ko-KR")})]},R.id))})]})}),x.some(R=>["approved","selected","filming"].includes(R.status))&&e.jsx("div",{className:"mt-6 p-4 bg-amber-50 border border-amber-200 rounded-lg",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(bs,{className:"h-5 w-5 text-amber-600 mt-0.5 mr-3 flex-shrink-0"}),e.jsxs("div",{className:"text-sm text-amber-800",children:[e.jsx("p",{className:"font-medium mb-1",children:i==="ko"?" SNS  ":" SNS"}),e.jsx("p",{children:i==="ko"?"SNS   1    .    .":"SNS1"})]})]})})]}),Q==="settings"&&e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:I.accountSettings}),e.jsx("div",{className:"space-y-6",children:e.jsx("div",{className:"border border-red-200 rounded-lg p-6 bg-red-50",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(bs,{className:"h-6 w-6 text-red-600 mt-1"}),e.jsxs("div",{className:"ml-4 flex-1",children:[e.jsx("h3",{className:"text-lg font-medium text-red-900",children:I.accountDeletion}),e.jsx("p",{className:"mt-2 text-sm text-red-700",children:I.deleteAccountWarning}),e.jsx("p",{className:"mt-2 text-sm text-red-700",children:I.deleteAccountDescription}),e.jsx("div",{className:"mt-4",children:e.jsxs("button",{onClick:()=>C(!0),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-red-600 hover:bg-red-700",children:[e.jsx(Fd,{className:"w-4 h-4 mr-2"}),I.deleteAccount]})})]})]})})})]})]}),X&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-[9999]",children:e.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:e.jsxs("div",{className:"mt-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:I.withdrawRequestTitle}),e.jsx("button",{onClick:()=>ce(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(Xt,{className:"h-5 w-5"})})]}),L&&e.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:L}),oe&&e.jsx("div",{className:"mb-4 p-3 bg-green-100 border border-green-400 text-green-700 rounded",children:oe}),e.jsxs("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsxs("p",{className:"text-sm text-blue-800 font-medium",children:[" ",i==="ja"?"1 = 1":"1 = 1"]}),e.jsx("p",{className:"text-xs text-blue-600 mt-1",children:i==="ja"?"PayPal":"PayPal   "})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[I.withdrawAmount," *"]}),e.jsx("input",{type:"number",value:ue.amount,onChange:R=>q({...ue,amount:R.target.value}),placeholder:i==="ja"?"":"  ",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",max:(c==null?void 0:c.points)||0}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[i==="ja"?"":" ",": ",((Ft=c==null?void 0:c.points)==null?void 0:Ft.toLocaleString())||0,"P",ue.amount&&e.jsxs("span",{className:"ml-2 text-green-600 font-medium",children:["( ",parseInt(ue.amount||0).toLocaleString(),")"]})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[I.paypalEmail," *"]}),e.jsx("input",{type:"email",value:ue.paypalEmail,onChange:R=>q({...ue,paypalEmail:R.target.value}),placeholder:i==="ja"?"PayPal ":"PayPal  ",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[I.paypalName," *"]}),e.jsx("input",{type:"text",value:ue.paypalName,onChange:R=>q({...ue,paypalName:R.target.value}),placeholder:i==="ja"?"PayPal ":"PayPal  ()",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:I.withdrawReason}),e.jsx("textarea",{value:ue.reason,onChange:R=>q({...ue,reason:R.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:i==="ja"?"":"  ()"})]})]}),e.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>ce(!1),className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400",children:I.cancel}),e.jsx("button",{onClick:_e,disabled:G,className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50",children:G?I.processing:I.submitWithdrawRequest})]})]})})}),p&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:e.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:e.jsxs("div",{className:"mt-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:I.accountDeletion}),e.jsx("button",{onClick:()=>C(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(bs,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[I.withdrawalReason," *"]}),e.jsxs("select",{value:T,onChange:R=>z(R.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500",children:[e.jsx("option",{value:"",children:" "}),e.jsx("option",{value:"service",children:I.reasons.service}),e.jsx("option",{value:"privacy",children:I.reasons.privacy}),e.jsx("option",{value:"unused",children:I.reasons.unused}),e.jsx("option",{value:"other",children:I.reasons.other})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:I.withdrawalDetails}),e.jsx("textarea",{value:k,onChange:R=>$(R.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"   "})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[I.confirmDeletion," *"]}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:I.confirmText}),e.jsx("input",{type:"text",value:v,onChange:R=>ee(R.target.value),placeholder:I.confirmPlaceholder,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500"})]})]}),e.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>C(!1),className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400",children:I.cancel}),e.jsx("button",{onClick:Jt,disabled:G,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 disabled:opacity-50",children:G?I.processing:I.submitWithdrawal})]})]})})}),le&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:e.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:e.jsxs("div",{className:"mt-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:I.pointRequestTitle}),e.jsx("button",{onClick:()=>D(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(Xt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"mb-4 p-3 bg-blue-50 rounded-lg",children:[e.jsx("p",{className:"text-sm text-blue-800",children:I.snsUploadDescription}),H&&e.jsxs("p",{className:"text-sm text-blue-600 mt-2 font-medium",children:[": ",H.campaign_title]})]}),L&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-md",children:e.jsx("p",{className:"text-sm text-red-800",children:L})}),oe&&e.jsx("div",{className:"mb-4 p-3 bg-green-50 border border-green-200 rounded-md",children:e.jsx("p",{className:"text-sm text-green-800",children:oe})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[I.snsUploadUrl," *"]}),e.jsx("input",{type:"url",value:W.sns_upload_url,onChange:R=>B({...W,sns_upload_url:R.target.value}),placeholder:i==="ja"?"https://instagram.com/p/...  https://tiktok.com/@.../video/...":"https://instagram.com/p/...  https://tiktok.com/@.../video/...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:i==="ja"?"InstagramTikTokYouTubeSNSURL":"Instagram, TikTok, YouTube  SNS  URL "})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:I.additionalNotes}),e.jsx("textarea",{value:W.notes,onChange:R=>B({...W,notes:R.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:i==="ja"?"":"   "})]})]}),e.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>D(!1),className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400",children:I.cancel}),e.jsx("button",{onClick:pt,disabled:G||!W.sns_upload_url||typeof W.sns_upload_url!="string"||!W.sns_upload_url.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50",children:G?I.processing:I.submitPointRequest})]})]})})}),e.jsx(Wp,{isOpen:de,onClose:()=>{me(!1),he(null)},guide:be==null?void 0:be.personalized_guide,campaignTitle:be==null?void 0:be.campaign_title}),e.jsx(ej,{isOpen:xe,onClose:()=>{te(!1),he(null)},application:be,onSuccess:ke})]})})},dj=()=>{const{user:d}=ys(),{language:m}=Zt(),[i,c]=g.useState(0),[u,x]=g.useState([]),[y,f]=g.useState(!0),[N,j]=g.useState(!1),[O,w]=g.useState(""),[K,Q]=g.useState(""),[S,p]=g.useState(!1),[C,T]=g.useState({amount:"",paypal_email:"",paypal_name:"",confirm_email:""}),z={ko:{title:"PayPal ",currentPoints:" ",minimumWithdrawal:"  : 1,000P",withdrawalHistory:" ",requestWithdrawal:" ",amount:" ",paypalEmail:"PayPal ",paypalName:"PayPal  ",confirmEmail:"PayPal  ",submit:" ",cancel:"",status:{pending:" ",processing:" ",completed:"",rejected:""},errors:{insufficientPoints:" ",minimumAmount:"   1,000P",emailMismatch:"PayPal   ",invalidEmail:"   ",required:"  "},success:{withdrawalRequested:"  .  1-3 ."}},ja:{title:"PayPal",currentPoints:"",minimumWithdrawal:"1,000P",withdrawalHistory:"",requestWithdrawal:"",amount:"",paypalEmail:"PayPal",paypalName:"PayPal",confirmEmail:"PayPal",submit:"",cancel:"",status:{pending:"",processing:"",completed:"",rejected:""},errors:{insufficientPoints:"",minimumAmount:"1,000P",emailMismatch:"PayPal",invalidEmail:"",required:""},success:{withdrawalRequested:"1-3"}}},k=z[m]||z.ko;g.useEffect(()=>{d&&$()},[d]);const $=async()=>{try{f(!0),w("");const U=await Se.userPoints.getUserTotalPoints(d.id);c(U);const oe=await Se.withdrawals.getByUser(d.id);x(oe)}catch(U){console.error("  :",U),w("  .")}finally{f(!1)}},v=()=>{const{amount:U,paypal_email:oe,paypal_name:F,confirm_email:X}=C;if(!U||!oe||!F||!X)return w(k.errors.required),!1;const ce=parseInt(U);return ce<1e3?(w(k.errors.minimumAmount),!1):ce>i?(w(k.errors.insufficientPoints),!1):oe!==X?(w(k.errors.emailMismatch),!1):/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(oe)?!0:(w(k.errors.invalidEmail),!1)},ee=async U=>{if(U.preventDefault(),!!v())try{j(!0),w(""),await Se.withdrawals.create({user_id:d.id,amount:parseInt(C.amount),paypal_email:C.paypal_email,paypal_name:C.paypal_name}),await Se.userPoints.deductPoints(d.id,parseInt(C.amount),`PayPal   - ${C.paypal_email}`),Q(k.success.withdrawalRequested),p(!1),T({amount:"",paypal_email:"",paypal_name:"",confirm_email:""}),setTimeout(()=>{$()},1e3)}catch(oe){console.error("  :",oe),w(`  : ${oe.message}`)}finally{j(!1)}},G=U=>{switch(U){case"pending":return e.jsx(Yt,{className:"h-4 w-4 text-yellow-500"});case"processing":return e.jsx(We,{className:"h-4 w-4 text-blue-500 animate-spin"});case"completed":return e.jsx(He,{className:"h-4 w-4 text-green-500"});case"rejected":return e.jsx(Ht,{className:"h-4 w-4 text-red-500"});default:return e.jsx(Yt,{className:"h-4 w-4 text-gray-500"})}},A=U=>{switch(U){case"pending":return"bg-yellow-100 text-yellow-800";case"processing":return"bg-blue-100 text-blue-800";case"completed":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},L=U=>new Date(U).toLocaleDateString("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"});return y?e.jsx("div",{className:"flex justify-center items-center py-12",children:e.jsx(We,{className:"h-8 w-8 animate-spin text-blue-600"})}):e.jsx("div",{className:"max-w-4xl mx-auto p-6",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(al,{className:"h-6 w-6 text-blue-600 mr-3"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:k.title})]}),e.jsxs("button",{onClick:$,disabled:y,className:"flex items-center px-3 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 disabled:opacity-50",children:[e.jsx(rl,{className:"h-4 w-4 mr-2"}),""]})]})}),O&&e.jsx("div",{className:"p-4 bg-red-50 border-l-4 border-red-400",children:e.jsxs("div",{className:"flex",children:[e.jsx(bs,{className:"h-5 w-5 text-red-400 mr-2"}),e.jsx("p",{className:"text-red-700",children:O})]})}),K&&e.jsx("div",{className:"p-4 bg-green-50 border-l-4 border-green-400",children:e.jsxs("div",{className:"flex",children:[e.jsx(He,{className:"h-5 w-5 text-green-400 mr-2"}),e.jsx("p",{className:"text-green-700",children:K})]})}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-6 mb-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:k.currentPoints}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Xr,{className:"h-8 w-8 text-blue-600 mr-2"}),e.jsxs("span",{className:"text-3xl font-bold text-blue-600",children:[i.toLocaleString(),"P"]})]}),e.jsx("p",{className:"text-sm text-gray-600 mt-2",children:k.minimumWithdrawal})]}),e.jsxs("button",{onClick:()=>p(!0),disabled:i<1e3,className:"flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:[e.jsx(al,{className:"h-5 w-5 mr-2"}),k.requestWithdrawal]})]})}),S&&e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:k.requestWithdrawal}),e.jsxs("form",{onSubmit:ee,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:k.amount}),e.jsx("input",{type:"number",min:"1000",max:i,value:C.amount,onChange:U=>T(oe=>({...oe,amount:U.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"1000"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:k.paypalEmail}),e.jsx("input",{type:"email",value:C.paypal_email,onChange:U=>T(oe=>({...oe,paypal_email:U.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"paypal@example.com"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:k.paypalName}),e.jsx("input",{type:"text",value:C.paypal_name,onChange:U=>T(oe=>({...oe,paypal_name:U.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:""})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:k.confirmEmail}),e.jsx("input",{type:"email",value:C.confirm_email,onChange:U=>T(oe=>({...oe,confirm_email:U.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"paypal@example.com"})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>p(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50",children:k.cancel}),e.jsxs("button",{type:"submit",disabled:N,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400 flex items-center justify-center",children:[N?e.jsx(We,{className:"h-4 w-4 animate-spin mr-2"}):e.jsx(Jd,{className:"h-4 w-4 mr-2"}),k.submit]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:k.withdrawalHistory}),u.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(al,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),e.jsx("p",{children:"  ."})]}):e.jsx("div",{className:"space-y-4",children:u.map(U=>{var oe;return e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[G(U.status),e.jsxs("div",{className:"ml-3",children:[e.jsxs("p",{className:"font-medium text-gray-900",children:[U.amount.toLocaleString(),"P"]}),e.jsx("p",{className:"text-sm text-gray-600",children:(oe=U.bank_info)==null?void 0:oe.paypal_email}),e.jsx("p",{className:"text-xs text-gray-500",children:L(U.requested_at)})]})]}),e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${A(U.status)}`,children:k.status[U.status]})]}),U.notes&&e.jsx("div",{className:"mt-3 p-3 bg-gray-50 rounded-md",children:e.jsx("p",{className:"text-sm text-gray-700",children:U.notes})})]},U.id)})})]})]})]})})},yh=()=>{const{user:d}=ys(),{language:m}=Zt(),[i,c]=g.useState({name:"",email:"",age:"",skin_type:"",instagram_url:"",youtube_url:"",tiktok_url:"",bio:"",sms_consent:!0,email_consent:!0}),[u,x]=g.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[y,f]=g.useState(!0),[N,j]=g.useState(!1),[O,w]=g.useState(""),[K,Q]=g.useState(""),S={ko:{title:" ",subtitle:"    ",personalInfo:"",accountSettings:" ",name:"",email:"",age:"",skinType:" ",socialMedia:" ",instagramUrl:" URL",youtubeUrl:" URL",tiktokUrl:" URL",bio:"",changePassword:" ",currentPassword:" ",newPassword:" ",confirmPassword:" ",save:"",saving:" ...",backToHome:" ",marketingConsent:"  ",smsConsent:"SMS  ",emailConsent:"  ",skinTypes:{dry:"",oily:"",combination:"",sensitive:"",normal:""}},ja:{title:"",subtitle:"",personalInfo:"",accountSettings:"",name:"",email:"",age:"",skinType:"",socialMedia:"",instagramUrl:"Instagram URL",youtubeUrl:"YouTube URL",tiktokUrl:"TikTok URL",bio:"",changePassword:"",currentPassword:"",newPassword:"",confirmPassword:"",save:"",saving:"...",backToHome:"",marketingConsent:"",smsConsent:"SMS",emailConsent:"",skinTypes:{dry:"",oily:"",combination:"",sensitive:"",normal:""}}},p=S[m]||S.ko;g.useEffect(()=>{d&&C()},[d]);const C=async()=>{try{f(!0),console.log("  ,  ID:",d==null?void 0:d.id);const k=await Se.userProfiles.get(d.id);console.log("  :",k),c(k?{name:k.name||"",email:k.email||d.email||"",age:k.age||"",skin_type:k.skin_type||"",instagram_url:k.instagram_url||"",youtube_url:k.youtube_url||"",tiktok_url:k.tiktok_url||"",bio:k.bio||""}:$=>({...$,email:d.email||""}))}catch(k){console.error("  :",k),w("  .")}finally{f(!1)}},T=async()=>{try{if(j(!0),w(""),Q(""),!i.name.trim()){w(" .");return}console.log("  :",i);const k={user_id:d.id,name:i.name.trim(),email:i.email.trim(),age:i.age?parseInt(i.age):null,skin_type:i.skin_type||null,instagram_url:i.instagram_url.trim()||null,youtube_url:i.youtube_url.trim()||null,tiktok_url:i.tiktok_url.trim()||null,bio:i.bio.trim()||null};console.log("  :",k);const $=await Se.userProfiles.upsert(k);console.log("  :",$),Q("  ."),setTimeout(()=>{Q("")},3e3)}catch(k){console.error("  :",k),w(`  : ${k.message}`)}finally{j(!1)}},z=async()=>{try{if(j(!0),w(""),Q(""),!u.currentPassword||!u.newPassword||!u.confirmPassword){w("   .");return}if(u.newPassword!==u.confirmPassword){w("   .");return}if(u.newPassword.length<6){w("   6  .");return}const{error:k}=await ne.auth.updateUser({password:u.newPassword});if(k)throw k;Q("  ."),x({currentPassword:"",newPassword:"",confirmPassword:""}),setTimeout(()=>{Q("")},3e3)}catch(k){console.error("  :",k),w(`  : ${k.message}`)}finally{j(!1)}};return y?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(We,{className:"h-6 w-6 animate-spin"}),e.jsx("span",{children:"  ..."})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"flex items-center space-x-4 mb-4",children:e.jsxs(Fe,{to:"/",className:"flex items-center text-purple-600 hover:text-purple-700 transition-colors",children:[e.jsx(oa,{className:"h-5 w-5 mr-2"}),p.backToHome]})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:p.title}),e.jsx("p",{className:"text-gray-600 mt-2",children:p.subtitle})]}),O&&e.jsxs(is,{className:"mb-6 border-red-200 bg-red-50",children:[e.jsx(Qt,{className:"h-4 w-4 text-red-600"}),e.jsx(cs,{className:"text-red-800",children:O})]}),K&&e.jsxs(is,{className:"mb-6 border-green-200 bg-green-50",children:[e.jsx(He,{className:"h-4 w-4 text-green-600"}),e.jsx(cs,{className:"text-green-800",children:K})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs(mt,{children:[e.jsxs(ht,{children:[e.jsxs(ft,{className:"flex items-center",children:[e.jsx(ca,{className:"h-5 w-5 mr-2"}),p.personalInfo]}),e.jsx(Vt,{children:"  "})]}),e.jsxs(gt,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Me,{htmlFor:"name",children:p.name}),e.jsx(rt,{id:"name",value:i.name,onChange:k=>c($=>({...$,name:k.target.value})),placeholder:p.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Me,{htmlFor:"email",children:p.email}),e.jsx(rt,{id:"email",type:"email",value:i.email,onChange:k=>c($=>({...$,email:k.target.value})),placeholder:p.email,disabled:!0,className:"bg-gray-50"}),e.jsx("p",{className:"text-sm text-gray-500",children:"   "})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Me,{htmlFor:"age",children:p.age}),e.jsx(rt,{id:"age",type:"number",value:i.age,onChange:k=>c($=>({...$,age:k.target.value})),placeholder:p.age,min:"1",max:"120"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Me,{htmlFor:"skin_type",children:p.skinType}),e.jsxs(Ni,{value:i.skin_type,onValueChange:k=>c($=>({...$,skin_type:k})),children:[e.jsx(_i,{children:e.jsx(wi,{placeholder:p.skinType})}),e.jsxs(Si,{children:[e.jsx(rs,{value:"dry",children:p.skinTypes.dry}),e.jsx(rs,{value:"oily",children:p.skinTypes.oily}),e.jsx(rs,{value:"combination",children:p.skinTypes.combination}),e.jsx(rs,{value:"sensitive",children:p.skinTypes.sensitive}),e.jsx(rs,{value:"normal",children:p.skinTypes.normal})]})]})]}),e.jsx(Yd,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-medium flex items-center",children:[e.jsx(so,{className:"h-5 w-5 mr-2"}),p.socialMedia]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(Me,{htmlFor:"instagram_url",className:"flex items-center",children:[e.jsx(Ra,{className:"h-4 w-4 mr-2"}),p.instagramUrl]}),e.jsx(rt,{id:"instagram_url",value:i.instagram_url,onChange:k=>c($=>({...$,instagram_url:k.target.value})),placeholder:"https://instagram.com/username"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(Me,{htmlFor:"youtube_url",className:"flex items-center",children:[e.jsx(ll,{className:"h-4 w-4 mr-2"}),p.youtubeUrl]}),e.jsx(rt,{id:"youtube_url",value:i.youtube_url,onChange:k=>c($=>({...$,youtube_url:k.target.value})),placeholder:"https://youtube.com/@username"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(Me,{htmlFor:"tiktok_url",className:"flex items-center",children:[e.jsx(vi,{className:"h-4 w-4 mr-2"}),p.tiktokUrl]}),e.jsx(rt,{id:"tiktok_url",value:i.tiktok_url,onChange:k=>c($=>({...$,tiktok_url:k.target.value})),placeholder:"https://tiktok.com/@username"})]})]}),e.jsx(Yd,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(Me,{className:"text-base font-semibold",children:p.marketingConsent}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"sms_consent",checked:i.sms_consent,onChange:k=>c($=>({...$,sms_consent:k.target.checked})),className:"w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500"}),e.jsx(Me,{htmlFor:"sms_consent",className:"font-normal cursor-pointer",children:p.smsConsent})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"email_consent",checked:i.email_consent,onChange:k=>c($=>({...$,email_consent:k.target.checked})),className:"w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500"}),e.jsx(Me,{htmlFor:"email_consent",className:"font-normal cursor-pointer",children:p.emailConsent})]})]})]}),e.jsx(Yd,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Me,{htmlFor:"bio",children:p.bio}),e.jsx(sl,{id:"bio",value:i.bio,onChange:k=>c($=>({...$,bio:k.target.value})),placeholder:p.bio,rows:4})]}),e.jsx(Ne,{onClick:T,disabled:N,className:"w-full bg-purple-600 hover:bg-purple-700",children:N?e.jsxs(e.Fragment,{children:[e.jsx(We,{className:"h-4 w-4 animate-spin mr-2"}),p.saving]}):e.jsxs(e.Fragment,{children:[e.jsx(nl,{className:"h-4 w-4 mr-2"}),p.save]})})]})]}),e.jsxs(mt,{children:[e.jsxs(ht,{children:[e.jsxs(ft,{className:"flex items-center",children:[e.jsx(Jl,{className:"h-5 w-5 mr-2"}),p.accountSettings]}),e.jsx(Vt,{children:"   "})]}),e.jsx(gt,{className:"space-y-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:p.changePassword}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Me,{htmlFor:"currentPassword",children:p.currentPassword}),e.jsx(rt,{id:"currentPassword",type:"password",value:u.currentPassword,onChange:k=>x($=>({...$,currentPassword:k.target.value})),placeholder:p.currentPassword})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Me,{htmlFor:"newPassword",children:p.newPassword}),e.jsx(rt,{id:"newPassword",type:"password",value:u.newPassword,onChange:k=>x($=>({...$,newPassword:k.target.value})),placeholder:p.newPassword})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Me,{htmlFor:"confirmPassword",children:p.confirmPassword}),e.jsx(rt,{id:"confirmPassword",type:"password",value:u.confirmPassword,onChange:k=>x($=>({...$,confirmPassword:k.target.value})),placeholder:p.confirmPassword})]}),e.jsx(Ne,{onClick:z,disabled:N,variant:"outline",className:"w-full",children:N?e.jsxs(e.Fragment,{children:[e.jsx(We,{className:"h-4 w-4 animate-spin mr-2"}),p.saving]}):e.jsxs(e.Fragment,{children:[e.jsx(Jl,{className:"h-4 w-4 mr-2"}),p.changePassword]})})]})})]})]})]})})},oj=()=>{const{user:d}=ys(),m=os(),[i,c]=g.useState("loading"),[u,x]=g.useState("");return g.useEffect(()=>{(async()=>{try{console.log("Auth callback started");const f=new URLSearchParams(window.location.search),N=f.get("access_token"),j=f.get("refresh_token"),O=f.get("error"),w=f.get("error_description");if(O){console.error("OAuth error:",O,w),c("error"),x(": "+(w||O));return}try{const{data:K,error:Q}=await ne.auth.getSession();if(Q){console.error("Session error:",Q),c("error"),x("");return}if(K!=null&&K.session){console.log("Session found"),c("success"),x("");const S=K.session.user.email,p=(S==null?void 0:S.includes("mkt_biz@cnec.co.kr"))||(S==null?void 0:S.includes("admin@cnec.test"))||(S==null?void 0:S.includes("acrossx@howlab.co.kr"))||(S==null?void 0:S.includes("appearyong@gmail.com"));setTimeout(()=>{p?m("/dashboard",{replace:!0}):m("/",{replace:!0})},2e3)}else console.log("No session found, checking URL hash"),new URLSearchParams(window.location.hash.substring(1)).get("access_token")?(console.log("Found access token in hash"),c("success"),x(""),setTimeout(async()=>{var C,T;try{const{data:z}=await ne.auth.getSession(),k=(T=(C=z==null?void 0:z.session)==null?void 0:C.user)==null?void 0:T.email;(k==null?void 0:k.includes("mkt_biz@cnec.co.kr"))||(k==null?void 0:k.includes("admin@cnec.test"))||(k==null?void 0:k.includes("acrossx@howlab.co.kr"))||(k==null?void 0:k.includes("appearyong@gmail.com"))?m("/dashboard",{replace:!0}):m("/",{replace:!0})}catch(z){console.error("Session recheck error:",z),m("/",{replace:!0})}},2e3)):(console.log("No authentication data found"),c("error"),x(""))}catch(K){console.error("Session check error:",K),c("error"),x("")}}catch(f){console.error("Auth callback error:",f),c("error"),x("")}})()},[m]),g.useEffect(()=>{d&&i==="loading"&&(console.log("User already logged in, redirecting to home"),m("/",{replace:!0}))},[d,i,m]),e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-blue-50 flex items-center justify-center p-4",children:e.jsx("div",{className:"text-center",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8 max-w-md mx-auto",children:[i==="loading"&&e.jsxs(e.Fragment,{children:[e.jsx(We,{className:"h-12 w-12 animate-spin text-purple-600 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"..."}),e.jsx("p",{className:"text-gray-600",children:""})]}),i==="success"&&e.jsxs(e.Fragment,{children:[e.jsx(He,{className:"h-12 w-12 text-green-600 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:""}),e.jsx("p",{className:"text-gray-600",children:u})]}),i==="error"&&e.jsxs(e.Fragment,{children:[e.jsx(Ht,{className:"h-12 w-12 text-red-600 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:""}),e.jsx("p",{className:"text-gray-600 mb-4",children:u}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("button",{onClick:()=>m("/login"),className:"w-full bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors",children:""}),e.jsx("button",{onClick:()=>m("/"),className:"w-full bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors",children:""})]})]})]})})})},Id=({title:d,subtitle:m})=>{const{user:i,signOut:c}=ys(),{language:u,changeLanguage:x,t:y}=Zt(),f=os(),[N,j]=g.useState(!1),O={ko:{adminDashboard:"CNEC  ",language:"",korean:"",japanese:"",backToSite:" ",logout:"",menu:"",dashboard:"",campaigns:" ",applications:" ",users:" ",withdrawals:" ",emailTemplates:" ",confirmedCreators:" ",snsUploads:"SNS "},ja:{adminDashboard:"CNEC ",language:"",korean:"",japanese:"",backToSite:"",logout:"",menu:"",dashboard:"",campaigns:"",applications:"",users:"",withdrawals:"",emailTemplates:"",confirmedCreators:"",snsUploads:"SNS"}},w=O[u]||O.ja,K=async()=>{try{await c(),f("/")}catch(S){console.error("Logout error:",S)}},Q=[{path:"/dashboard",label:w.dashboard,icon:ui},{path:"/campaigns-manage",label:w.campaigns,icon:da},{path:"/applications-manage",label:w.applications,icon:ca},{path:"/user-approval",label:w.users,icon:ca},{path:"/withdrawals-manage",label:w.withdrawals,icon:da},{path:"/email-templates",label:w.emailTemplates,icon:da},{path:"/confirmed-creators",label:w.confirmedCreators,icon:ca},{path:"/sns-uploads",label:w.snsUploads,icon:da}];return e.jsx("header",{className:"bg-white shadow-sm border-b",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs(Fe,{to:"/dashboard",className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-8 h-8 bg-purple-600 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-sm",children:"C"})}),e.jsx("span",{className:"text-xl font-bold text-gray-900",children:w.adminDashboard})]}),d&&e.jsxs("div",{className:"hidden md:block",children:[e.jsx("span",{className:"text-gray-400",children:"|"}),e.jsx("span",{className:"ml-4 text-lg font-medium text-gray-700",children:d}),m&&e.jsx("span",{className:"ml-2 text-sm text-gray-500",children:m})]})]}),e.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[e.jsxs(fh,{children:[e.jsx(gh,{asChild:!0,children:e.jsxs(Ne,{variant:"outline",size:"sm",className:"flex items-center space-x-2",children:[e.jsx(so,{className:"h-4 w-4"}),e.jsx("span",{children:w.language}),e.jsx(Kl,{className:"h-4 w-4"})]})}),e.jsxs(ph,{align:"end",children:[e.jsx(ci,{onClick:()=>x("ko"),className:u==="ko"?"bg-purple-50":"",children:w.korean}),e.jsx(ci,{onClick:()=>x("ja"),className:u==="ja"?"bg-purple-50":"",children:w.japanese})]})]}),e.jsxs(fh,{children:[e.jsx(gh,{asChild:!0,children:e.jsxs(Ne,{variant:"outline",size:"sm",className:"flex items-center space-x-2",children:[e.jsx(ca,{className:"h-4 w-4"}),e.jsx("span",{children:i==null?void 0:i.email}),e.jsx(Kl,{className:"h-4 w-4"})]})}),e.jsxs(ph,{align:"end",children:[e.jsx(ci,{asChild:!0,children:e.jsxs(Fe,{to:"/",className:"flex items-center space-x-2",children:[e.jsx(ui,{className:"h-4 w-4"}),e.jsx("span",{children:w.backToSite})]})}),e.jsx(Zp,{}),e.jsxs(ci,{onClick:K,className:"text-red-600",children:[e.jsx($d,{className:"h-4 w-4 mr-2"}),w.logout]})]})]})]}),e.jsx("div",{className:"md:hidden",children:e.jsx(Ne,{variant:"outline",size:"sm",onClick:()=>j(!N),children:N?e.jsx(Xt,{className:"h-4 w-4"}):e.jsx(eo,{className:"h-4 w-4"})})})]}),N&&e.jsx("div",{className:"md:hidden border-t bg-white",children:e.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1",children:[Q.map(S=>e.jsx(Fe,{to:S.path,className:"block px-3 py-2 text-base font-medium text-gray-700 hover:text-purple-600 hover:bg-purple-50 rounded-md",onClick:()=>j(!1),children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(S.icon,{className:"h-4 w-4"}),e.jsx("span",{children:S.label})]})},S.path)),e.jsxs("div",{className:"px-3 py-2",children:[e.jsx("div",{className:"text-sm font-medium text-gray-700 mb-2",children:w.language}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(Ne,{variant:u==="ko"?"default":"outline",size:"sm",onClick:()=>x("ko"),children:w.korean}),e.jsx(Ne,{variant:u==="ja"?"default":"outline",size:"sm",onClick:()=>x("ja"),children:w.japanese})]})]}),e.jsxs("div",{className:"px-3 py-2 border-t",children:[e.jsx("div",{className:"text-sm text-gray-500 mb-2",children:i==null?void 0:i.email}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(Fe,{to:"/",children:e.jsxs(Ne,{variant:"outline",size:"sm",className:"flex items-center space-x-1",children:[e.jsx(ui,{className:"h-3 w-3"}),e.jsx("span",{children:w.backToSite})]})}),e.jsxs(Ne,{variant:"outline",size:"sm",onClick:K,className:"flex items-center space-x-1 text-red-600",children:[e.jsx($d,{className:"h-3 w-3"}),e.jsx("span",{children:w.logout})]})]})]})]})})]})})},Dt=()=>{const{language:d}=Zt(),m=Sh(),[i,c]=g.useState(!1),u={ko:{dashboard:"",campaigns:" ",applications:" ",confirmedCreators:" ",snsUploads:"SNS ",users:" ",withdrawals:" ",emailTemplates:" ",statistics:" ",settings:" "},ja:{dashboard:"",campaigns:"",applications:"",confirmedCreators:"",snsUploads:"SNS",users:"",withdrawals:"",emailTemplates:"",statistics:"",settings:""}},x=u[d]||u.ko,y=[{path:"/dashboard",label:x.dashboard,icon:ui,exact:!0},{path:"/campaigns-manage",label:x.campaigns,icon:Ls},{path:"/applications-manage",label:x.applications,icon:ns},{path:"/confirmed-creators",label:x.confirmedCreators,icon:ds},{path:"/sns-uploads",label:x.snsUploads,icon:ao},{path:"/user-approval",label:x.users,icon:ds},{path:"/withdrawals-manage",label:x.withdrawals,icon:al},{path:"/email-templates",label:x.emailTemplates,icon:Oa},{path:"/system-settings",label:x.settings,icon:da}],f=N=>N.exact?m.pathname===N.path:m.pathname.startsWith(N.path);return e.jsxs("nav",{className:"bg-white shadow-sm border-b border-gray-200",children:[e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between h-16",children:[e.jsx("div",{className:"hidden md:flex md:space-x-8",children:y.map(N=>{const j=N.icon,O=f(N);return N.disabled?e.jsxs("div",{className:"inline-flex items-center px-1 pt-1 text-sm font-medium text-gray-400 cursor-not-allowed",children:[e.jsx(j,{className:"w-4 h-4 mr-2"}),N.label]},N.path):e.jsxs(Fe,{to:N.path,className:`inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium transition-colors duration-200 ${O?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(j,{className:"w-4 h-4 mr-2"}),N.label]},N.path)})}),e.jsx("div",{className:"md:hidden flex items-center",children:e.jsx("button",{onClick:()=>c(!i),className:"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-purple-500",children:i?e.jsx(Xt,{className:"block h-6 w-6"}):e.jsx(eo,{className:"block h-6 w-6"})})})]})}),i&&e.jsx("div",{className:"md:hidden",children:e.jsx("div",{className:"pt-2 pb-3 space-y-1",children:y.map(N=>{const j=N.icon,O=f(N);return N.disabled?e.jsxs("div",{className:"flex items-center pl-3 pr-4 py-2 text-base font-medium text-gray-400 cursor-not-allowed",children:[e.jsx(j,{className:"w-5 h-5 mr-3"}),N.label]},N.path):e.jsxs(Fe,{to:N.path,className:`flex items-center pl-3 pr-4 py-2 border-l-4 text-base font-medium transition-colors duration-200 ${O?"bg-purple-50 border-purple-500 text-purple-700":"border-transparent text-gray-600 hover:text-gray-800 hover:bg-gray-50 hover:border-gray-300"}`,onClick:()=>c(!1),children:[e.jsx(j,{className:"w-5 h-5 mr-3"}),N.label]},N.path)})})})]})},uj=()=>{const{user:d,signOut:m}=ys(),{language:i}=Zt(),c=os(),u={ko:{title:"CNEC  ",totalCampaigns:" ",activeCampaigns:" ",totalApplications:" ",totalUsers:" ",totalRewards:" ",pendingApplications:" ",campaignManagement:" ",applicationManagement:" ",userApproval:" ",withdrawalManagement:" ",emailTemplates:" ",logout:"",loading:"  ...",error:"  .",admin:""},ja:{title:"CNEC ",totalCampaigns:"",activeCampaigns:"",totalApplications:"",totalUsers:"",totalRewards:"",pendingApplications:"",campaignManagement:"",applicationManagement:"",userApproval:"",withdrawalManagement:"",emailTemplates:"",logout:"",loading:"...",error:"",admin:""}},x=u[i]||u.ko,[y,f]=g.useState({totalCampaigns:0,activeCampaigns:0,totalApplications:0,totalRewards:0,totalUsers:0,pendingApplications:0}),[N,j]=g.useState(!0),[O,w]=g.useState("");g.useEffect(()=>{if(!d){c("/secret-admin-login");return}if(!["mkt_biz@cnec.co.kr","admin@cnec.test","acrossx@howlab.co.kr","appearyong@gmail.com"].some(p=>{var C;return(C=d.email)==null?void 0:C.includes(p)})){c("/");return}K()},[d,c]);const K=async()=>{try{j(!0),w(""),console.log("    ...");let Q=[],S=[],p=[];try{console.log("   ..."),Q=await Se.campaigns.getAll(),console.log(`   : ${Q.length}`)}catch(ee){throw console.error("   :",ee),new Error(`   : ${ee.message}`)}try{console.log("   ..."),S=await Se.applications.getAll(),console.log(`   : ${S.length}`)}catch(ee){throw console.error("   :",ee),new Error(`   : ${ee.message}`)}try{console.log("   ..."),p=await Se.users.getAll(),console.log(`   : ${p.length}`)}catch(ee){console.error("   :",ee),console.log("    ..."),p=[]}const C=Q.length,T=Q.filter(ee=>ee.status==="active").length,z=S.length,k=S.filter(ee=>ee.status==="pending").length,$=p.length,v=S.filter(ee=>ee.status==="approved"||ee.status==="completed"||ee.status==="paid").reduce((ee,G)=>{var A;return ee+(((A=G.campaigns)==null?void 0:A.reward_amount)||0)},0);f({totalCampaigns:C,activeCampaigns:T,totalApplications:z,totalRewards:v,totalUsers:$,pendingApplications:k}),console.log("  :",{totalCampaigns:C,activeCampaigns:T,totalApplications:z,totalRewards:v,totalUsers:$,pendingApplications:k})}catch(Q){console.error("     :",Q),w(`${x.error} ${Q.message}`)}finally{j(!1),console.log("  .")}};return N?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-purple-600"}),e.jsx("p",{className:"mt-4 text-gray-600",children:x.loading})]})}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Id,{title:x.title}),e.jsx(Dt,{}),e.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[O&&e.jsx(is,{className:"mb-6 border-red-200 bg-red-50",children:e.jsx(cs,{className:"text-red-800",children:O})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsxs(mt,{children:[e.jsxs(ht,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ft,{className:"text-sm font-medium",children:x.totalCampaigns}),e.jsx(Ls,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(gt,{children:[e.jsx("div",{className:"text-2xl font-bold",children:y.totalCampaigns}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[x.activeCampaigns,": ",y.activeCampaigns,i==="ko"?"":""]})]})]}),e.jsxs(mt,{children:[e.jsxs(ht,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ft,{className:"text-sm font-medium",children:x.totalApplications}),e.jsx(ns,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(gt,{children:[e.jsx("div",{className:"text-2xl font-bold",children:y.totalApplications}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[x.pendingApplications,": ",y.pendingApplications,i==="ko"?"":""]})]})]}),e.jsxs(mt,{children:[e.jsxs(ht,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ft,{className:"text-sm font-medium",children:x.totalUsers}),e.jsx(ds,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(gt,{children:[e.jsx("div",{className:"text-2xl font-bold",children:y.totalUsers}),e.jsx("p",{className:"text-xs text-muted-foreground",children:i==="ko"?" ":""})]})]}),e.jsxs(mt,{children:[e.jsxs(ht,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ft,{className:"text-sm font-medium",children:x.totalRewards}),e.jsx(Xr,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(gt,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:["",y.totalRewards.toLocaleString()]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:i==="ko"?" /":"/"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs(mt,{className:"hover:shadow-lg transition-shadow cursor-pointer",children:[e.jsxs(ht,{children:[e.jsxs(ft,{className:"flex items-center space-x-2",children:[e.jsx(Ls,{className:"h-5 w-5 text-purple-600"}),e.jsx("span",{children:x.campaignManagement})]}),e.jsx(Vt,{children:i==="ko"?" , ,    ":""})]}),e.jsx(gt,{children:e.jsx(Fe,{to:"/campaigns-manage",children:e.jsx(Ne,{className:"w-full",children:i==="ko"?" ":""})})})]}),e.jsxs(mt,{className:"hover:shadow-lg transition-shadow cursor-pointer",children:[e.jsxs(ht,{children:[e.jsxs(ft,{className:"flex items-center space-x-2",children:[e.jsx(ns,{className:"h-5 w-5 text-blue-600"}),e.jsx("span",{children:x.applicationManagement})]}),e.jsx(Vt,{children:i==="ko"?"    /":"/"})]}),e.jsx(gt,{children:e.jsx(Fe,{to:"/applications-report",children:e.jsx(Ne,{className:"w-full",variant:"outline",children:i==="ko"?" ":""})})})]}),e.jsxs(mt,{className:"hover:shadow-lg transition-shadow cursor-pointer",children:[e.jsxs(ht,{children:[e.jsxs(ft,{className:"flex items-center space-x-2",children:[e.jsx(al,{className:"h-5 w-5 text-green-600"}),e.jsx("span",{children:x.withdrawalManagement})]}),e.jsx(Vt,{children:i==="ko"?"     ":""})]}),e.jsx(gt,{children:e.jsx(Fe,{to:"/withdrawals-manage",children:e.jsx(Ne,{className:"w-full",variant:"outline",children:i==="ko"?" ":""})})})]}),e.jsxs(mt,{className:"hover:shadow-lg transition-shadow cursor-pointer",children:[e.jsxs(ht,{children:[e.jsxs(ft,{className:"flex items-center space-x-2",children:[e.jsx(ds,{className:"h-5 w-5 text-orange-600"}),e.jsx("span",{children:x.userApproval})]}),e.jsx(Vt,{children:i==="ko"?"     ":""})]}),e.jsx(gt,{children:e.jsx(Fe,{to:"/user-approval",children:e.jsx(Ne,{className:"w-full",variant:"outline",children:i==="ko"?" ":""})})})]}),e.jsxs(mt,{className:"hover:shadow-lg transition-shadow cursor-pointer",children:[e.jsxs(ht,{children:[e.jsxs(ft,{className:"flex items-center space-x-2",children:[e.jsx(ao,{className:"h-5 w-5 text-red-600"}),e.jsx("span",{children:i==="ko"?"  ":""})]}),e.jsx(Vt,{children:i==="ko"?"    ":""})]}),e.jsx(gt,{children:e.jsx(Ne,{className:"w-full",variant:"outline",disabled:!0,children:i==="ko"?"  ()":""})})]}),e.jsxs(mt,{className:"hover:shadow-lg transition-shadow cursor-pointer",children:[e.jsxs(ht,{children:[e.jsxs(ft,{className:"flex items-center space-x-2",children:[e.jsx(da,{className:"h-5 w-5 text-indigo-600"}),e.jsx("span",{children:x.emailTemplates})]}),e.jsx(Vt,{children:i==="ko"?"    ":""})]}),e.jsx(gt,{children:e.jsx(Fe,{to:"/email-templates",children:e.jsx(Ne,{className:"w-full",variant:"outline",children:i==="ko"?" ":""})})})]}),e.jsxs(mt,{className:"hover:shadow-lg transition-shadow cursor-pointer",children:[e.jsxs(ht,{children:[e.jsxs(ft,{className:"flex items-center space-x-2",children:[e.jsx(da,{className:"h-5 w-5 text-gray-600"}),e.jsx("span",{children:i==="ko"?" ":""})]}),e.jsx(Vt,{children:i==="ko"?"    ":""})]}),e.jsx(gt,{children:e.jsx(Ne,{className:"w-full",variant:"outline",disabled:!0,children:i==="ko"?"  ()":""})})]})]}),e.jsx("div",{className:"mt-8",children:e.jsxs(mt,{children:[e.jsxs(ht,{children:[e.jsx(ft,{children:" "}),e.jsx(Vt,{children:"    "})]}),e.jsx(gt,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium",children:"  "}),e.jsx("p",{className:"text-xs text-gray-500",children:"   3 "})]}),e.jsx("span",{className:"text-xs text-gray-400",children:"2 "})]}),e.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium",children:" "}),e.jsx("p",{className:"text-xs text-gray-500",children:" 2   "})]}),e.jsx("span",{className:"text-xs text-gray-400",children:"5 "})]}),e.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium",children:"  "}),e.jsx("p",{className:"text-xs text-gray-500",children:"5   "})]}),e.jsx("span",{className:"text-xs text-gray-400",children:"1 "})]})]})})]})})]})]})},mj=()=>{const d=os(),{language:m}=Zt(),[i,c]=g.useState([]),[u,x]=g.useState([]),[y,f]=g.useState(!0),[N,j]=g.useState(""),[O,w]=g.useState(""),[K,Q]=g.useState("all");g.useEffect(()=>{S()},[]);const S=async()=>{try{f(!0),j(""),console.log("     ");const v=await Se.campaigns.getAll();console.log("  :",v),c(v||[]);const ee=await Se.applications.getAll();console.log("  :",ee),x(ee||[])}catch(v){console.error("  :",v),j(`  : ${v.message}`)}finally{f(!1)}},p=async(v,ee)=>{try{await Se.campaigns.update(v,{status:ee}),await S(),alert(`  ${ee==="active"?"":ee==="completed"?"":""} .`)}catch(G){console.error("  :",G),alert("  .")}},C=async(v,ee)=>{if(confirm(`"${ee}"   ?

    .`))try{await Se.campaigns.delete(v),await S(),alert(" .")}catch(G){console.error(" :",G),alert("  .")}},T=v=>v?new Date(v).toLocaleDateString("ko-KR"):"-",z=v=>v?new Intl.NumberFormat("ko-KR",{style:"currency",currency:"KRW"}).format(v):"-",k=v=>{const ee=u.filter(L=>L.campaign_id===v),G=ee.length,A=ee.filter(L=>L.status==="approved").length;return{totalApplicants:G,confirmedApplicants:A}};if(y)return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Dt,{}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),e.jsx("span",{children:" ..."})]})})})]});const $=i.filter(v=>{var ee,G;return!(O&&!((ee=v.brand)!=null&&ee.toLowerCase().includes(O.toLowerCase()))&&!((G=v.title)!=null&&G.toLowerCase().includes(O.toLowerCase()))||K==="active"&&v.status!=="active"||K==="completed"&&v.status!=="completed")});return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Dt,{}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:" "}),e.jsx("p",{className:"text-gray-600 mt-2",children:"  "})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:S,disabled:y,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:""}),e.jsx("button",{onClick:()=>d("/campaign-create"),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:"  "})]})]})}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex gap-4 items-center mb-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Zl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx(rt,{placeholder:"   ",value:O,onChange:v=>w(v.target.value),className:"pl-10"})]}),e.jsx(Ne,{variant:"outline",onClick:()=>w(""),className:"border-gray-300",children:""})]}),e.jsx(Lh,{value:K,onValueChange:Q,className:"w-full",children:e.jsxs(Bh,{className:"grid w-full grid-cols-3",children:[e.jsx(Ql,{value:"all",children:" "}),e.jsx(Ql,{value:"active",children:" "}),e.jsx(Ql,{value:"completed",children:" "})]})})]}),N&&e.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-md p-4",children:e.jsx("div",{className:"flex",children:e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-red-800",children:N})})})}),e.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:e.jsxs("ul",{className:"divide-y divide-gray-200",children:[$.map(v=>e.jsx("li",{children:e.jsx("div",{className:"px-4 py-4 sm:px-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center",children:e.jsxs("div",{className:"ml-4",children:[e.jsxs("div",{className:"flex items-center flex-wrap gap-2",children:[e.jsx("p",{className:"text-sm font-medium text-blue-600 truncate",children:v.title||" "}),e.jsxs("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${v.campaign_type==="4week_challenge"?"bg-blue-100 text-blue-800":v.campaign_type==="megawari"?"bg-orange-100 text-orange-800":v.campaign_type==="oliveyoung"?"bg-green-100 text-green-800":"bg-purple-100 text-purple-800"}`,children:[v.campaign_type==="4week_challenge"?" 4 ":v.campaign_type==="megawari"?" ":v.campaign_type==="oliveyoung"?" ":" ",v.total_steps>1&&` (${v.total_steps})`]}),e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${v.status==="active"?"bg-green-100 text-green-800":v.status==="completed"?"bg-gray-100 text-gray-800":"bg-red-100 text-red-800"}`,children:v.status==="active"?"":v.status==="completed"?"":""})]}),e.jsxs("div",{className:"mt-2 flex",children:[e.jsx("div",{className:"flex items-center text-sm text-gray-500",children:e.jsxs("p",{children:[": ",v.brand||"-"]})}),e.jsx("div",{className:"ml-6 flex items-center text-sm text-gray-500",children:e.jsxs("p",{children:[": ",z(v.reward_amount)]})}),e.jsx("div",{className:"ml-6 flex items-center text-sm text-gray-500",children:e.jsxs("p",{children:[": ",T(v.application_deadline)]})})]}),e.jsx("div",{className:"mt-2 flex",children:e.jsx("div",{className:"flex items-center text-sm text-blue-600 font-medium",children:(()=>{const ee=k(v.id);return e.jsxs("p",{children:[": ",v.max_participants||"-"," | : ",ee.totalApplicants," | : ",ee.confirmedApplicants,""]})})()})})]})}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("select",{value:v.status||"inactive",onChange:ee=>p(v.id,ee.target.value),className:"inline-flex items-center px-3 py-1 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"active",children:""}),e.jsx("option",{value:"inactive",children:""}),e.jsx("option",{value:"completed",children:""}),e.jsx("option",{value:"suspended",children:""})]}),e.jsx("button",{onClick:()=>d(`/applications-report?campaign=${v.id}`),className:"inline-flex items-center px-3 py-1 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:" "}),e.jsx("button",{onClick:()=>d(`/campaign-create?edit=${v.id}`),className:"inline-flex items-center px-3 py-1 border border-blue-300 shadow-sm text-sm leading-4 font-medium rounded-md text-blue-700 bg-blue-50 hover:bg-blue-100",children:""}),e.jsxs("div",{className:"flex space-x-1",children:[e.jsxs("button",{onClick:()=>window.open(`/company-report/${v.id}`,"_blank"),className:"inline-flex items-center px-3 py-1 border border-purple-300 shadow-sm text-sm leading-4 font-medium rounded-l-md text-purple-700 bg-purple-50 hover:bg-purple-100",title:" ",children:[e.jsx(ns,{className:"h-4 w-4 mr-1"}),""]}),e.jsxs("button",{onClick:()=>window.open(`/confirmed-creators/${v.id}`,"_blank"),className:"inline-flex items-center px-3 py-1 border border-green-300 shadow-sm text-sm leading-4 font-medium text-green-700 bg-green-50 hover:bg-green-100",title:"  ",children:[e.jsx(ds,{className:"h-4 w-4 mr-1"}),""]}),e.jsxs("button",{onClick:()=>window.open(`/sns-uploads/${v.id}`,"_blank"),className:"inline-flex items-center px-3 py-1 border border-blue-300 shadow-sm text-sm leading-4 font-medium rounded-r-md text-blue-700 bg-blue-50 hover:bg-blue-100",title:"SNS  ",children:[e.jsx(ao,{className:"h-4 w-4 mr-1"}),"SNS"]})]}),e.jsx("button",{onClick:()=>C(v.id,v.title),className:"inline-flex items-center px-3 py-1 border border-red-300 shadow-sm text-sm leading-4 font-medium rounded-md text-red-700 bg-red-50 hover:bg-red-100",children:""})]})]})})},v.id)),$.length===0&&e.jsx("li",{children:e.jsx("div",{className:"px-4 py-8 text-center",children:e.jsx("p",{className:"text-gray-500",children:O||K!=="all"?"    .":"  ."})})})]})})]})]})},xj=()=>{const d=os(),{language:m}=Zt(),[i]=yi(),c=i.get("edit"),[u,x]=g.useState({title:"",brand:"",description:"",requirements:"",category:"beauty",image_url:"",reward_amount:"",max_participants:"",application_deadline:"",start_date:"",end_date:"",status:"active",target_platforms:{instagram:!0,youtube:!1,tiktok:!1},question1:"",question1_type:"short",question1_options:"",question2:"",question2_type:"short",question2_options:"",question3:"",question3_type:"short",question3_options:"",question4:"",question4_type:"short",question4_options:"",age_requirement:"",skin_type_requirement:"",offline_visit_requirement:""}),[y,f]=g.useState(!1),[N,j]=g.useState(""),[O,w]=g.useState(""),[K,Q]=g.useState(!1),[S,p]=g.useState(null),[C,T]=g.useState(""),[z,k]=g.useState(""),[$,v]=g.useState(!1),[ee,G]=g.useState(""),A=async F=>{var X,ce,ue,q;if(F.trim()){v(!0),G("");try{throw new Error("OpenAI API   .")}catch(le){console.error(" :",le),G(le.message||"   .")}finally{v(!1)}}},L=async F=>{var ue;const X=(ue=F.target.files)==null?void 0:ue[0];if(!X)return;if(X.size>5*1024*1024){j("5MB");return}if(!["image/jpeg","image/jpg","image/png","image/webp"].includes(X.type)){j("JPGPNGWEBP");return}try{Q(!0),j(""),p(X);const q=await xp.uploadCampaignImage(X);if(q.success)x(le=>({...le,image_url:q.url})),w(""),setTimeout(()=>w(""),3e3);else throw new Error(q.error||"")}catch(q){console.error("Image upload error:",q),j(q.message||"")}finally{Q(!1)}};g.useEffect(()=>{(async()=>{if(c)try{f(!0);const X=await Se.campaigns.getById(c);X&&x({title:X.title||"",brand:X.brand||"",description:X.description||"",requirements:X.requirements||"",category:X.category||"beauty",image_url:X.image_url||"",reward_amount:X.reward_amount||"",max_participants:X.max_participants||"",application_deadline:X.application_deadline||"",start_date:X.start_date||"",end_date:X.end_date||"",status:X.status||"active",target_platforms:X.target_platforms||{instagram:!0,youtube:!1,tiktok:!1},question1:X.question1||"",question1_type:X.question1_type||"short",question1_options:X.question1_options||"",question2:X.question2||"",question2_type:X.question2_type||"short",question2_options:X.question2_options||"",question3:X.question3||"",question3_type:X.question3_type||"short",question3_options:X.question3_options||"",question4:X.question4||"",question4_type:X.question4_type||"short",question4_options:X.question4_options||"",age_requirement:X.age_requirement||"",skin_type_requirement:X.skin_type_requirement||"",offline_visit_requirement:X.offline_visit_requirement||""})}catch(X){console.error("  :",X),j("   .")}finally{f(!1)}})()},[c]);const U=async F=>{try{await navigator.clipboard.writeText(F),alert(" !")}catch(X){console.error("  :",X)}},oe=async()=>{f(!0),j(""),w("");try{if(!u.title||!u.brand||!u.requirements)throw new Error(", ,    .");if(!u.application_deadline||!u.start_date||!u.end_date)throw new Error(" ,  ,    .");const F=new Date(u.application_deadline),X=new Date(u.start_date),ce=new Date(u.end_date);if(F>=X)throw new Error("     .");if(X>=ce)throw new Error("     .");if(!Object.values(u.target_platforms).some(Boolean))throw new Error("  SNS  .");console.log("===    ==="),console.log("campaignForm.image_url:",u.image_url);const q={...u,image_url:u.image_url||"",reward_amount:parseInt(u.reward_amount)||0,max_participants:parseInt(u.max_participants)||0,target_platforms:u.target_platforms,question1:u.question1||"",question1_type:u.question1_type||"short",question1_options:u.question1_options||"",question2:u.question2||"",question2_type:u.question2_type||"short",question2_options:u.question2_options||"",question3:u.question3||"",question3_type:u.question3_type||"short",question3_options:u.question3_options||"",question4:u.question4||"",question4_type:u.question4_type||"short",question4_options:u.question4_options||""};console.log("campaignData:",q),console.log("campaignData.image_url:",q.image_url);let le;if(c?(console.log("   - ID:",c),le=await Se.campaigns.update(c,q),console.log(" :",le)):le=await Se.campaigns.create(q),le.error)throw new Error(le.error.message);w(c?"  !":"  !"),c||x({title:"",brand:"",description:"",requirements:"",category:"beauty",image_url:"",reward_amount:"",max_participants:"",application_deadline:"",start_date:"",end_date:"",status:"active",target_platforms:{instagram:!0,youtube:!1,tiktok:!1},question1:"",question1_type:"short",question1_options:"",question2:"",question2_type:"short",question2_options:"",question3:"",question3_type:"short",question3_options:"",question4:"",question4_type:"short",question4_options:"",age_requirement:"",skin_type_requirement:"",offline_visit_requirement:""}),setTimeout(()=>{d("/campaigns-manage")},3e3)}catch(F){console.error("  :",F),j(F.message)}finally{f(!1)}};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Dt,{}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"  "}),e.jsx("p",{className:"text-gray-600 mt-2",children:"   ,   ."})]}),N&&e.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:e.jsx("p",{className:"text-red-800",children:N})}),O&&e.jsx("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-lg",children:e.jsx("p",{className:"text-green-800",children:O})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-6 text-gray-900",children:"  "}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  *"}),e.jsx("input",{type:"text",value:u.title,onChange:F=>x({...u,title:F.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"  "})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"}),e.jsx("input",{type:"text",value:u.brand,onChange:F=>x({...u,brand:F.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:" "})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("input",{type:"file",accept:"image/jpeg,image/jpg,image/png,image/webp",onChange:L,disabled:K,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),K&&e.jsx("p",{className:"text-sm text-blue-600",children:"..."}),u.image_url&&e.jsxs("div",{className:"mt-2",children:[e.jsx("img",{src:u.image_url,alt:"Campaign preview",className:"h-32 w-auto object-cover rounded border"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:""})]}),e.jsx("p",{className:"text-xs text-gray-500",children:": 5MB. : JPG, PNG, WEBP"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),e.jsx("textarea",{value:u.description,onChange:F=>x({...u,description:F.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"  "})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"}),e.jsx("textarea",{value:u.requirements,onChange:F=>x({...u,requirements:F.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"  "})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),e.jsx("input",{type:"number",value:u.reward_amount,onChange:F=>x({...u,reward_amount:F.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),e.jsx("input",{type:"number",value:u.max_participants,onChange:F=>x({...u,max_participants:F.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 border-b pb-2",children:"  "}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  *"}),e.jsx("input",{type:"date",value:u.application_deadline,onChange:F=>x({...u,application_deadline:F.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  *"}),e.jsx("input",{type:"date",value:u.start_date,onChange:F=>x({...u,start_date:F.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  *"}),e.jsx("input",{type:"date",value:u.end_date,onChange:F=>x({...u,end_date:F.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-3",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[" ",e.jsx("strong",{children:" :"}),"          ."]})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:" SNS  *"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:u.target_platforms.instagram,onChange:F=>x({...u,target_platforms:{...u.target_platforms,instagram:F.target.checked}}),className:"mr-2"})," Instagram"]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:u.target_platforms.youtube,onChange:F=>x({...u,target_platforms:{...u.target_platforms,youtube:F.target.checked}}),className:"mr-2"})," YouTube"]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:u.target_platforms.tiktok,onChange:F=>x({...u,target_platforms:{...u.target_platforms,tiktok:F.target.checked}}),className:"mr-2"})," TikTok"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),e.jsx("input",{type:"text",value:u.age_requirement||"",onChange:F=>x({...u,age_requirement:F.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:": 20-30"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),e.jsxs("select",{value:u.skin_type_requirement||"",onChange:F=>x({...u,skin_type_requirement:F.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"",children:""})]})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["  ",e.jsx("button",{type:"button",onClick:()=>x({...u,offline_visit_requirement:""}),className:"ml-2 text-xs text-red-600 hover:text-red-800",children:"[ ]"})]}),e.jsx("textarea",{value:u.offline_visit_requirement||"",onChange:F=>x({...u,offline_visit_requirement:F.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:":      ,     ()"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"    .     ."})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:""}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" 1"}),e.jsx("input",{type:"text",value:u.question1||"",onChange:F=>x({...u,question1:F.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:" 1 "})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),e.jsxs("select",{value:u.question1_type||"short",onChange:F=>x({...u,question1_type:F.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"short",children:""}),e.jsx("option",{value:"long",children:""}),e.jsx("option",{value:"checkbox",children:""})]})]})]}),u.question1_type==="checkbox"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  ( )"}),e.jsx("input",{type:"text",value:u.question1_options||"",onChange:F=>x({...u,question1_options:F.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"1, 2, 3"})]})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" 2"}),e.jsx("input",{type:"text",value:u.question2||"",onChange:F=>x({...u,question2:F.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:" 2 "})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),e.jsxs("select",{value:u.question2_type||"short",onChange:F=>x({...u,question2_type:F.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"short",children:""}),e.jsx("option",{value:"long",children:""}),e.jsx("option",{value:"checkbox",children:""})]})]})]}),u.question2_type==="checkbox"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  ( )"}),e.jsx("input",{type:"text",value:u.question2_options||"",onChange:F=>x({...u,question2_options:F.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"1, 2, 3"})]})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" 3"}),e.jsx("input",{type:"text",value:u.question3||"",onChange:F=>x({...u,question3:F.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:" 3 "})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),e.jsxs("select",{value:u.question3_type||"short",onChange:F=>x({...u,question3_type:F.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"short",children:""}),e.jsx("option",{value:"long",children:""}),e.jsx("option",{value:"checkbox",children:""})]})]})]}),u.question3_type==="checkbox"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  ( )"}),e.jsx("input",{type:"text",value:u.question3_options||"",onChange:F=>x({...u,question3_options:F.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"1, 2, 3"})]})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" 4"}),e.jsx("input",{type:"text",value:u.question4||"",onChange:F=>x({...u,question4:F.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:" 4 "})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),e.jsxs("select",{value:u.question4_type||"short",onChange:F=>x({...u,question4_type:F.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"short",children:""}),e.jsx("option",{value:"long",children:""}),e.jsx("option",{value:"checkbox",children:""})]})]})]}),u.question4_type==="checkbox"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  ( )"}),e.jsx("input",{type:"text",value:u.question4_options||"",onChange:F=>x({...u,question4_options:F.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"1, 2, 3"})]})]})]})]}),e.jsx("div",{className:"pt-4",children:e.jsx("button",{onClick:oe,disabled:y,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:y?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})," ..."]}):"  "})})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6 sticky top-4 h-fit",children:[e.jsx("h2",{className:"text-xl font-semibold mb-6 text-gray-900",children:"    "}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  "}),e.jsx("textarea",{value:C,onChange:F=>T(F.target.value),rows:6,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"   ..."}),e.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:[C.length," / 500"]})]}),e.jsx("button",{onClick:()=>A(C),disabled:$||!C.trim(),className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:$?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})," ..."]}):" "}),ee&&e.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-md",children:e.jsx("p",{className:"text-red-800 text-sm",children:ee})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"   "}),e.jsxs("div",{className:"relative",children:[e.jsx("textarea",{value:z,onChange:F=>k(F.target.value),rows:6,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 bg-green-50",placeholder:"   ..."}),z&&e.jsx("button",{onClick:()=>U(z),className:"absolute top-2 right-2 bg-green-600 text-white px-3 py-1 rounded text-sm hover:bg-green-700",children:" "})]}),z&&e.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:[z.length,""]})]}),e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-4",children:[e.jsx("h4",{className:"font-medium text-yellow-800 mb-2",children:"  "}),e.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1",children:[e.jsx("li",{children:"    "}),e.jsx("li",{children:"         "}),e.jsx("li",{children:"       "})]})]})]})]})]})]})]})},hj=({isOpen:d,onClose:m,application:i,campaign:c,onSave:u,processing:x,error:y,success:f,texts:N})=>{const[j,O]=g.useState({google_drive_url:"",google_slides_url:"",notes:""}),[w,K]=g.useState(!1),[Q,S]=g.useState({drive:!1,slides:!1});g.useEffect(()=>{i&&(O({google_drive_url:i.google_drive_url||"",google_slides_url:i.google_slides_url||"",notes:i.additional_info||""}),K(!!i.google_drive_url||!!i.google_slides_url))},[i]);const p=(z,k)=>{navigator.clipboard.writeText(z).then(()=>{S($=>({...$,[k]:!0})),setTimeout(()=>{S($=>({...$,[k]:!1}))},2e3)})},C=()=>{u(j)};if(!d||!i)return null;const T=N||{};return e.jsx("div",{className:"fixed inset-0 z-[99999] overflow-y-auto",children:e.jsxs("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[e.jsx("div",{className:"fixed inset-0 z-[99998] transition-opacity","aria-hidden":"true",children:e.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),e.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:""}),e.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full sm:p-6 relative z-[99999]",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:T.driveAccessTitle||"    "}),e.jsx("button",{onClick:m,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(Xt,{className:"h-6 w-6"})})]}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:T.driveAccessDescription||"   ( )  () ."}),y&&e.jsx("div",{className:"mb-4 bg-red-50 border border-red-200 rounded-md p-3",children:e.jsxs("div",{className:"flex",children:[e.jsx(Qt,{className:"h-5 w-5 text-red-400"}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-red-700",children:y})})]})}),f&&e.jsx("div",{className:"mb-4 bg-green-50 border border-green-200 rounded-md p-3",children:e.jsxs("div",{className:"flex",children:[e.jsx(He,{className:"h-5 w-5 text-green-400"}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-green-700",children:f})})]})}),e.jsx("div",{className:"mb-6 p-4 bg-blue-50 rounded-md",children:e.jsx("p",{className:"text-sm text-blue-700",children:T.manualInputDescription||"   URL  .   ."})}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"google_drive_url",className:"block text-sm font-medium text-gray-700 mb-1",children:T.googleDriveUrl||"  URL ( )"}),e.jsxs("div",{className:"relative rounded-md shadow-sm",children:[e.jsx("input",{type:"text",id:"google_drive_url",value:j.google_drive_url,onChange:z=>O(k=>({...k,google_drive_url:z.target.value})),className:"focus:ring-indigo-500 focus:border-indigo-500 block w-full pr-20 sm:text-sm border-gray-300 rounded-md",placeholder:"https://drive.google.com/..."}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center",children:e.jsx("div",{className:"flex space-x-1 mr-2",children:j.google_drive_url&&e.jsxs(e.Fragment,{children:[e.jsx("button",{type:"button",onClick:()=>p(j.google_drive_url,"drive"),className:"inline-flex items-center p-1 border border-transparent rounded-md text-gray-400 hover:text-gray-600",title:"URL ",children:Q.drive?e.jsx(He,{className:"h-4 w-4 text-green-500"}):e.jsx(Yr,{className:"h-4 w-4"})}),e.jsx("a",{href:j.google_drive_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center p-1 border border-transparent rounded-md text-gray-400 hover:text-gray-600",title:"  ",children:e.jsx(vt,{className:"h-4 w-4"})})]})})})]}),w&&j.google_drive_url&&e.jsxs("div",{className:"mt-2 flex items-center p-3 bg-blue-50 rounded-md",children:[e.jsx(Wd,{className:"h-5 w-5 text-blue-500 mr-2"}),e.jsx("a",{href:j.google_drive_url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:underline flex-1 truncate",children:j.google_drive_url})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"google_slides_url",className:"block text-sm font-medium text-gray-700 mb-1",children:T.googleSlidesUrl||"  URL ()"}),e.jsxs("div",{className:"relative rounded-md shadow-sm",children:[e.jsx("input",{type:"text",id:"google_slides_url",value:j.google_slides_url,onChange:z=>O(k=>({...k,google_slides_url:z.target.value})),className:"focus:ring-indigo-500 focus:border-indigo-500 block w-full pr-20 sm:text-sm border-gray-300 rounded-md",placeholder:"https://docs.google.com/presentation/..."}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center",children:e.jsx("div",{className:"flex space-x-1 mr-2",children:j.google_slides_url&&e.jsxs(e.Fragment,{children:[e.jsx("button",{type:"button",onClick:()=>p(j.google_slides_url,"slides"),className:"inline-flex items-center p-1 border border-transparent rounded-md text-gray-400 hover:text-gray-600",title:"URL ",children:Q.slides?e.jsx(He,{className:"h-4 w-4 text-green-500"}):e.jsx(Yr,{className:"h-4 w-4"})}),e.jsx("a",{href:j.google_slides_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center p-1 border border-transparent rounded-md text-gray-400 hover:text-gray-600",title:"  ",children:e.jsx(vt,{className:"h-4 w-4"})})]})})})]}),w&&j.google_slides_url&&e.jsxs("div",{className:"mt-2 flex items-center p-3 bg-purple-50 rounded-md",children:[e.jsx(Vr,{className:"h-5 w-5 text-purple-500 mr-2"}),e.jsx("a",{href:j.google_slides_url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-purple-600 hover:underline flex-1 truncate",children:j.google_slides_url})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium text-gray-700 mb-1",children:T.notes||" "}),e.jsx("textarea",{id:"notes",value:j.notes,onChange:z=>O(k=>({...k,notes:z.target.value})),placeholder:"   ...",rows:3,className:"focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"})]})]}),e.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[e.jsx("button",{onClick:m,disabled:x,className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:T.cancel||""}),e.jsxs("button",{onClick:C,disabled:x,className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[x?e.jsx(We,{className:"h-4 w-4 animate-spin mr-2"}):e.jsx(nl,{className:"h-4 w-4 mr-2"}),T.save||""]})]})]})]})})},vh=()=>{os();const{language:d}=Zt(),[m]=yi(),i=m.get("campaign"),[c,u]=g.useState([]),[x,y]=g.useState([]),[f,N]=g.useState(!0),[j,O]=g.useState(!1),[w,K]=g.useState(""),[Q,S]=g.useState(""),[p,C]=g.useState(i||""),[T,z]=g.useState(""),[k,$]=g.useState(""),[v,ee]=g.useState(null),[G,A]=g.useState(!1),[L,U]=g.useState(!1),[oe,F]=g.useState({google_drive_url:"",google_slides_url:"",notes:"",campaign:null}),X={ko:{title:" ",subtitle:"   ",totalApplications:" ",pendingApplications:" ",virtuallySelected:" ",approvedApplications:"",rejectedApplications:"",filterByCampaign:" ",filterByStatus:" ",searchPlaceholder:",  ...",allCampaigns:" ",allStatuses:" ",pending:" ",virtualSelected:" ",approved:"",rejected:"",viewDetails:" ",approve:"",reject:"",virtualSelect:" ",cancelVirtualSelect:"  ",provideDriveAccess:" ",applicationDetails:"  ",campaignInfo:" ",applicantInfo:" ",questionsAndAnswers:"  ",name:"",email:"",age:"",skinType:" ",bio:"",socialMedia:" ",appliedAt:"",updatedAt:"",virtualSelectedAt:" ",approvedAt:"",rejectedAt:"",status:"",actions:"",close:"",confirm:"",cancel:"",loading:" ...",error:" .",success:" .",noApplications:" .",confirmApprove:"  ?",confirmReject:"  ?",confirmVirtualSelect:"   ?",confirmCancelVirtualSelect:"  ?",driveAccessTitle:"    ",driveAccessDescription:"   ( )  () .",googleDriveUrl:"  URL ( )",googleSlidesUrl:"  URL ()",notes:" ",save:"",exportExcel:"Excel ",autoGenerate:" ",autoGenerateDescription:"    URL  ."},ja:{title:"",subtitle:"",totalApplications:"",pendingApplications:"",virtuallySelected:"",approvedApplications:"",rejectedApplications:"",filterByCampaign:"",filterByStatus:"",searchPlaceholder:"...",allCampaigns:"",allStatuses:"",pending:"",virtualSelected:"",approved:"",rejected:"",viewDetails:"",approve:"",reject:"",virtualSelect:"",cancelVirtualSelect:"",provideDriveAccess:"",applicationDetails:"",campaignInfo:"",applicantInfo:"",questionsAndAnswers:"",name:"",email:"",age:"",skinType:"",bio:"",socialMedia:"",appliedAt:"",updatedAt:"",virtualSelectedAt:"",approvedAt:"",rejectedAt:"",status:"",actions:"",close:"",confirm:"",cancel:"",loading:"...",error:"",success:"",noApplications:"",confirmApprove:"",confirmReject:"",confirmVirtualSelect:"",confirmCancelVirtualSelect:"",driveAccessTitle:"Google",driveAccessDescription:"GoogleGoogle",googleDriveUrl:"Google URL",googleSlidesUrl:"Google URL",notes:"",save:"",exportExcel:"Excel ",autoGenerate:"",autoGenerateDescription:"URL"}},ce=X[d]||X.ko;g.useEffect(()=>{console.log("ApplicationsReportSimple "),q(),ue()},[]);const ue=async()=>{},q=async()=>{try{N(!0),K(""),console.log("   "),console.log("1:   ...");try{const te=await Se.campaigns.getAll();y(te||[]),console.log("   :",(te==null?void 0:te.length)||0)}catch(te){console.warn("   :",te),y([])}console.log("2:   ...");try{const te=await Se.applications.getAll();u(te||[]),console.log("   :",(te==null?void 0:te.length)||0)}catch(te){console.warn("   :",te),u([])}}catch(te){console.error("  :",te),K(`${ce.error}: ${te.message}`)}finally{N(!1),console.log("  ")}},le=async(te,be)=>{try{O(!0),K(""),S(""),console.log("  :",te,be);const he={status:be,updated_at:new Date().toISOString()};be==="virtual_selected"?he.virtual_selected_at=new Date().toISOString():be==="approved"?he.approved_at=new Date().toISOString():be==="rejected"&&(he.rejected_at=new Date().toISOString()),await Se.applications.update(te,he),console.log("  "),S(ce.success),setTimeout(()=>{q()},1e3)}catch(he){console.error("  :",he),K(`  : ${he.message}`)}finally{O(!1)}},D=async(te,be)=>{let he="";switch(be){case"approved":he=ce.confirmApprove;break;case"rejected":he=ce.confirmReject;break;case"virtual_selected":he=ce.confirmVirtualSelect;break;case"pending":he=ce.confirmCancelVirtualSelect;break;default:return}confirm(he)&&await le(te.id,be)},H=te=>{ee(te);const be=x.find(he=>he.id===te.campaign_id);F({google_drive_url:te.google_drive_url||"",google_slides_url:te.google_slides_url||"",notes:te.additional_info||"",campaign:be}),U(!0)},b=async te=>{try{O(!0),K(""),S(""),console.log("   :",v.id,te);const be={google_drive_url:te.google_drive_url.trim()||null,google_slides_url:te.google_slides_url.trim()||null,additional_info:te.notes.trim()||null,updated_at:new Date().toISOString()};await Se.applications.update(v.id,be),console.log("   "),S("     ."),U(!1),setTimeout(()=>{q()},1e3)}catch(be){console.error("   :",be),K(`   : ${be.message}`)}finally{O(!1)}},W=te=>{ee(te),A(!0)},B=te=>{const be={pending:{color:"bg-yellow-100 text-yellow-800",text:ce.pending,icon:Yt},virtual_selected:{color:"bg-purple-100 text-purple-800",text:ce.virtualSelected,icon:Os},approved:{color:"bg-green-100 text-green-800",text:ce.approved,icon:He},rejected:{color:"bg-red-100 text-red-800",text:ce.rejected,icon:Ht}},he=be[te]||be.pending,Ce=he.icon;return e.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${he.color}`,children:[e.jsx(Ce,{className:"h-3 w-3 mr-1"}),he.text]})},de=te=>te?new Date(te).toLocaleDateString(d==="ko"?"ko-KR":"ja-JP"):"-",me=c.filter(te=>{var Qe,Z;const be=!p||te.campaign_id===p,he=T===""||te.status===T,Ce=k===""||((Qe=te.user_name)==null?void 0:Qe.toLowerCase().includes(k.toLowerCase()))||((Z=te.campaign_title)==null?void 0:Z.toLowerCase().includes(k.toLowerCase()));return be&&he&&Ce}),xe={total:me.length,pending:me.filter(te=>te.status==="pending").length,virtualSelected:me.filter(te=>te.status==="virtual_selected").length,approved:me.filter(te=>te.status==="approved").length,rejected:me.filter(te=>te.status==="rejected").length};return f?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Dt,{}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(We,{className:"h-6 w-6 animate-spin"}),e.jsx("span",{children:ce.loading})]})})})]}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Dt,{}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:ce.title}),e.jsx("p",{className:"text-gray-600 mt-2",children:ce.subtitle})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:q,disabled:f,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[e.jsx(rl,{className:"h-4 w-4 mr-2"}),""]}),e.jsxs("button",{onClick:()=>{},className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[e.jsx(Ys,{className:"h-4 w-4 mr-2"}),ce.exportExcel]})]})]})}),w&&e.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-md p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx(Qt,{className:"h-5 w-5 text-red-400"}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-red-800",children:w})})]})}),Q&&e.jsx("div",{className:"mb-6 bg-green-50 border border-green-200 rounded-md p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx(He,{className:"h-5 w-5 text-green-400"}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-green-800",children:Q})})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-8",children:[e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(ns,{className:"h-6 w-6 text-gray-400"})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:ce.totalApplications}),e.jsx("dd",{className:"text-lg font-medium text-gray-900",children:xe.total})]})})]})})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(Yt,{className:"h-6 w-6 text-yellow-400"})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:ce.pendingApplications}),e.jsx("dd",{className:"text-lg font-medium text-gray-900",children:xe.pending})]})})]})})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(Os,{className:"h-6 w-6 text-purple-400"})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:ce.virtuallySelected}),e.jsx("dd",{className:"text-lg font-medium text-gray-900",children:xe.virtualSelected})]})})]})})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(He,{className:"h-6 w-6 text-green-400"})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:ce.approvedApplications}),e.jsx("dd",{className:"text-lg font-medium text-gray-900",children:xe.approved})]})})]})})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(Ht,{className:"h-6 w-6 text-red-400"})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:ce.rejectedApplications}),e.jsx("dd",{className:"text-lg font-medium text-gray-900",children:xe.rejected})]})})]})})})]}),e.jsx("div",{className:"bg-white shadow px-4 py-5 sm:rounded-lg sm:p-6 mb-8",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"campaign",className:"block text-sm font-medium text-gray-700",children:ce.filterByCampaign}),e.jsxs("select",{id:"campaign",value:p,onChange:te=>C(te.target.value),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",children:[e.jsx("option",{value:"",children:ce.allCampaigns}),x.map(te=>e.jsx("option",{value:te.id,children:te.title||te.brand||" "},te.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700",children:ce.filterByStatus}),e.jsxs("select",{id:"status",value:T,onChange:te=>z(te.target.value),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",children:[e.jsx("option",{value:"",children:ce.allStatuses}),e.jsx("option",{value:"pending",children:ce.pending}),e.jsx("option",{value:"virtual_selected",children:ce.virtualSelected}),e.jsx("option",{value:"approved",children:ce.approved}),e.jsx("option",{value:"rejected",children:ce.rejected})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"search",className:"block text-sm font-medium text-gray-700",children:""}),e.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(Zl,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"text",id:"search",value:k,onChange:te=>$(te.target.value),className:"focus:ring-indigo-500 focus:border-indigo-500 block w-full pl-10 sm:text-sm border-gray-300 rounded-md",placeholder:ce.searchPlaceholder})]})]})]})}),e.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:e.jsxs("ul",{className:"divide-y divide-gray-200",children:[me.map(te=>{var he;const be=x.find(Ce=>Ce.id===te.campaign_id)||{};return e.jsx("li",{children:e.jsx("div",{className:"px-4 py-4 sm:px-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-200 flex items-center justify-center",children:e.jsx("span",{className:"text-gray-500 font-medium",children:((he=te.user_name)==null?void 0:he.charAt(0))||"?"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("p",{className:"text-sm font-medium text-indigo-600 truncate",children:te.user_name||" "}),e.jsx("div",{className:"ml-2",children:B(te.status)})]}),e.jsx("div",{className:"mt-1",children:e.jsx("p",{className:"text-sm text-gray-500",children:te.user_email||" "})}),e.jsx("div",{className:"mt-1",children:e.jsxs("p",{className:"text-sm text-gray-500",children:[": ",be.title||be.brand||"  "]})})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:()=>W(te),className:"inline-flex items-center px-3 py-1 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:[e.jsx(Os,{className:"h-4 w-4 mr-1"}),ce.viewDetails]}),te.status==="pending"&&e.jsxs("button",{onClick:()=>D(te,"virtual_selected"),disabled:j,className:"inline-flex items-center px-3 py-1 border border-purple-300 shadow-sm text-sm leading-4 font-medium rounded-md text-purple-700 bg-purple-50 hover:bg-purple-100",children:[e.jsx(Os,{className:"h-4 w-4 mr-1"}),ce.virtualSelect]}),te.status==="virtual_selected"&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>D(te,"pending"),disabled:j,className:"inline-flex items-center px-3 py-1 border border-yellow-300 shadow-sm text-sm leading-4 font-medium rounded-md text-yellow-700 bg-yellow-50 hover:bg-yellow-100",children:[e.jsx(Yt,{className:"h-4 w-4 mr-1"}),ce.cancelVirtualSelect]}),e.jsxs("button",{onClick:()=>D(te,"approved"),disabled:j,className:"inline-flex items-center px-3 py-1 border border-green-300 shadow-sm text-sm leading-4 font-medium rounded-md text-green-700 bg-green-50 hover:bg-green-100",children:[e.jsx(He,{className:"h-4 w-4 mr-1"}),ce.approve]})]}),te.status==="approved"&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>D(te,"pending"),disabled:j,className:"inline-flex items-center px-3 py-1 border border-yellow-300 shadow-sm text-sm leading-4 font-medium rounded-md text-yellow-700 bg-yellow-50 hover:bg-yellow-100",children:[e.jsx(Yt,{className:"h-4 w-4 mr-1"}),""]}),e.jsxs("button",{onClick:()=>H(te),disabled:j,className:"inline-flex items-center px-3 py-1 border border-blue-300 shadow-sm text-sm leading-4 font-medium rounded-md text-blue-700 bg-blue-50 hover:bg-blue-100",children:[e.jsx(Wd,{className:"h-4 w-4 mr-1"}),ce.provideDriveAccess]})]}),(te.status==="pending"||te.status==="virtual_selected")&&e.jsxs("button",{onClick:()=>D(te,"rejected"),disabled:j,className:"inline-flex items-center px-3 py-1 border border-red-300 shadow-sm text-sm leading-4 font-medium rounded-md text-red-700 bg-red-50 hover:bg-red-100",children:[e.jsx(Ht,{className:"h-4 w-4 mr-1"}),ce.reject]})]})]})})},te.id)}),me.length===0&&e.jsx("li",{children:e.jsx("div",{className:"px-4 py-8 text-center",children:e.jsx("p",{className:"text-gray-500",children:ce.noApplications})})})]})}),G&&v&&e.jsx("div",{className:"fixed inset-0 z-[99999] overflow-y-auto",children:e.jsxs("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[e.jsx("div",{className:"fixed inset-0 transition-opacity z-[99998]","aria-hidden":"true",children:e.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),e.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:""}),e.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full sm:p-6 z-[99999] relative",children:e.jsx("div",{className:"sm:flex sm:items-start",children:e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:ce.applicationDetails}),e.jsx("button",{onClick:()=>A(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(Xt,{className:"h-6 w-6"})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-md font-semibold mb-3",children:ce.campaignInfo}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:":"}),e.jsx("p",{className:"font-medium",children:v.campaign_title||"  "})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:":"}),e.jsx("p",{className:"font-medium",children:v.campaign_brand||"  "})]})]})})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-md font-semibold mb-3",children:ce.applicantInfo}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-gray-600",children:[ce.name,":"]}),e.jsx("p",{className:"font-medium",children:v.user_name||"-"})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-gray-600",children:[ce.email,":"]}),e.jsx("p",{className:"font-medium",children:v.user_email||"-"})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-gray-600",children:[ce.age,":"]}),e.jsx("p",{className:"font-medium",children:v.user_age||"-"})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-gray-600",children:[ce.skinType,":"]}),e.jsx("p",{className:"font-medium",children:v.user_skin_type||"-"})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("p",{className:"text-gray-600 mb-1",children:[ce.bio,":"]}),e.jsx("p",{className:"text-gray-800",children:v.user_bio||"-"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("p",{className:"text-gray-600 mb-2",children:[ce.socialMedia,":"]}),e.jsxs("div",{className:"space-y-2",children:[v.user_instagram_url&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ra,{className:"h-4 w-4 text-pink-500 mr-2"}),e.jsxs("a",{href:v.user_instagram_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline flex items-center",children:[v.user_instagram_url,e.jsx(vt,{className:"h-3 w-3 ml-1"})]})]}),v.user_tiktok_url&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ah,{className:"h-4 w-4 text-black mr-2"}),e.jsxs("a",{href:v.user_tiktok_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline flex items-center",children:[v.user_tiktok_url,e.jsx(vt,{className:"h-3 w-3 ml-1"})]})]}),v.user_youtube_url&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(ll,{className:"h-4 w-4 text-red-500 mr-2"}),e.jsxs("a",{href:v.user_youtube_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline flex items-center",children:[v.user_youtube_url,e.jsx(vt,{className:"h-3 w-3 ml-1"})]})]}),!v.user_instagram_url&&!v.user_tiktok_url&&!v.user_youtube_url&&e.jsx("p",{className:"text-gray-500",children:"-"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-md font-semibold mb-3",children:"   "}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-gray-600",children:[ce.status,":"]}),e.jsx("div",{className:"mt-1",children:B(v.status)})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-gray-600",children:[ce.appliedAt,":"]}),e.jsx("p",{className:"font-medium",children:de(v.created_at)})]}),v.virtual_selected_at&&e.jsxs("div",{children:[e.jsxs("p",{className:"text-gray-600",children:[ce.virtualSelectedAt,":"]}),e.jsx("p",{className:"font-medium",children:de(v.virtual_selected_at)})]}),v.approved_at&&e.jsxs("div",{children:[e.jsxs("p",{className:"text-gray-600",children:[ce.approvedAt,":"]}),e.jsx("p",{className:"font-medium",children:de(v.approved_at)})]}),v.rejected_at&&e.jsxs("div",{children:[e.jsxs("p",{className:"text-gray-600",children:[ce.rejectedAt,":"]}),e.jsx("p",{className:"font-medium",children:de(v.rejected_at)})]})]})})]}),v.status==="approved"&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-md font-semibold mb-3",children:"  "}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 mb-1",children:"  URL:"}),v.google_drive_url?e.jsxs("a",{href:v.google_drive_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline flex items-center",children:[e.jsx(Wd,{className:"h-4 w-4 mr-1"}),v.google_drive_url,e.jsx(vt,{className:"h-3 w-3 ml-1"})]}):e.jsx("p",{className:"text-gray-500",children:""})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 mb-1",children:"  URL:"}),v.google_slides_url?e.jsxs("a",{href:v.google_slides_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline flex items-center",children:[e.jsx(Vr,{className:"h-4 w-4 mr-1"}),v.google_slides_url,e.jsx(vt,{className:"h-3 w-3 ml-1"})]}):e.jsx("p",{className:"text-gray-500",children:""})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 mb-1",children:" :"}),e.jsx("p",{className:"text-gray-800",children:v.additional_info||"-"})]})]}),e.jsx("div",{className:"mt-4",children:e.jsxs("button",{onClick:()=>{A(!1),setTimeout(()=>H(v),100)},className:"inline-flex items-center px-3 py-2 border border-blue-300 shadow-sm text-sm leading-4 font-medium rounded-md text-blue-700 bg-blue-50 hover:bg-blue-100",children:[e.jsx(Th,{className:"h-4 w-4 mr-1"}),"  "]})})]})]})]}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsx("button",{onClick:()=>A(!1),className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:ce.close})})]})})})]})}),e.jsx(hj,{isOpen:L,onClose:()=>U(!1),application:v,campaign:oe.campaign,onSave:b,processing:j,error:w,success:Q,texts:ce})]})]})},fj=()=>{const[d,m]=g.useState([]),[i,c]=g.useState([]),[u,x]=g.useState(!0),[y,f]=g.useState(""),[N,j]=g.useState(""),[O,w]=g.useState("");g.useEffect(()=>{K()},[]);const K=async()=>{try{x(!0);const{data:p,error:C}=await ne.from("campaigns").select("id, title").order("created_at",{ascending:!1});if(C)throw C;c(p||[]);const{data:T,error:z}=await ne.from("applications").select(`
          *,
          campaigns!inner(id, title),
          user_profiles(name, email, phone, instagram_url, age, skin_type)
        `).eq("status","approved").order("updated_at",{ascending:!1});if(z)throw z;m(T||[])}catch(p){console.error("  :",p)}finally{x(!1)}},Q=async(p,C)=>{try{const{error:T}=await ne.from("applications").update({tracking_number:C}).eq("id",p);if(T)throw T;m(z=>z.map(k=>k.id===p?{...k,tracking_number:C}:k)),alert(" .")}catch(T){console.error("  :",T),alert("  .")}},S=d.filter(p=>{var k,$;const C=!y||p.campaign_id===y,T=!N||(((k=p.user_profiles)==null?void 0:k.name)||p.applicant_name||"").toLowerCase().includes(N.toLowerCase())||((($=p.user_profiles)==null?void 0:$.email)||"").toLowerCase().includes(N.toLowerCase()),z=!O||O==="shipped"&&p.tracking_number||O==="pending"&&!p.tracking_number;return C&&T&&z});return u?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Id,{}),e.jsxs("div",{className:"flex",children:[e.jsx(Dt,{}),e.jsx("div",{className:"flex-1 p-8",children:e.jsx("div",{className:"text-center",children:" ..."})})]})]}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Id,{}),e.jsxs("div",{className:"flex",children:[e.jsx(Dt,{}),e.jsxs("div",{className:"flex-1 p-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"  "}),e.jsx("p",{className:"text-gray-600",children:"    ."})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),e.jsxs("select",{value:y,onChange:p=>f(p.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:" "}),i.map(p=>e.jsx("option",{value:p.id,children:p.title},p.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),e.jsxs("select",{value:O,onChange:p=>w(p.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:" "}),e.jsx("option",{value:"pending",children:" "}),e.jsx("option",{value:"shipped",children:" "})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),e.jsx("input",{type:"text",placeholder:"   ",value:N,onChange:p=>j(p.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsx("div",{className:"flex items-end",children:e.jsx("button",{onClick:K,className:"w-full px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:""})})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 rounded-full bg-blue-100 text-blue-600",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"  "}),e.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:[S.length,""]})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 rounded-full bg-green-100 text-green-600",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:" "}),e.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:[S.filter(p=>p.tracking_number).length,""]})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 rounded-full bg-yellow-100 text-yellow-600",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:" "}),e.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:[S.filter(p=>!p.tracking_number).length,""]})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:" "})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:" "}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:" "}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:S.map(p=>{var C,T,z,k;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"flex items-center",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:((C=p.user_profiles)==null?void 0:C.name)||p.applicant_name||"N/A"}),e.jsx("div",{className:"text-sm text-gray-500",children:((T=p.user_profiles)==null?void 0:T.email)||"N/A"}),e.jsxs("div",{className:"text-sm text-gray-500",children:[" ",((z=p.user_profiles)==null?void 0:z.phone)||p.phone||"N/A"]})]})})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:((k=p.campaigns)==null?void 0:k.title)||"N/A"})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"text-sm text-gray-900",children:[e.jsxs("div",{children:[" ",p.postal_code||"N/A"]}),e.jsx("div",{className:"mt-1 text-gray-600",children:p.address||"N/A"})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx("input",{type:"text",placeholder:" ",defaultValue:p.tracking_number||"",className:"px-3 py-1 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",onBlur:$=>{$.target.value!==(p.tracking_number||"")&&Q(p.id,$.target.value)}})})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:p.tracking_number?e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:" "}):e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:" "})})]},p.id)})})]})}),S.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2M4 13h2m13-8l-4 4-4-4m0 0l-4 4-4-4"})}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"  "}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"  ."})]})]})]})]})]})},gj={ko:{title:"  ",subtitle:"       ",backToDashboard:" ",confirmedCreators:" ",name:"",email:"",phone:"",address:"",trackingNumber:"",enterTracking:" ",saveTracking:" ",viewDetails:"",editAddress:" ",loading:"  ...",error:" ",success:" ",noCreators:"  ",campaign:"",status:"",approved:"",completed:"",shipped:"",delivered:"",postalCode:"",fullAddress:"",trackingInfo:" ",updateAddress:" ",updateTracking:" "},ja:{title:"",subtitle:"",backToDashboard:"",confirmedCreators:"",name:"",email:"",phone:"",address:"",trackingNumber:"",enterTracking:"",saveTracking:"",viewDetails:"",editAddress:"",loading:"...",error:"",success:"",noCreators:"",campaign:"",status:"",approved:"",completed:"",shipped:"",delivered:"",postalCode:"",fullAddress:"",trackingInfo:"",updateAddress:"",updateTracking:""},en:{title:"Confirmed Creators Management",subtitle:"Address verification and tracking number input for confirmed creators",backToDashboard:"Back to Dashboard",confirmedCreators:"Confirmed Creators",name:"Name",email:"Email",phone:"Phone",address:"Address",trackingNumber:"Tracking Number",enterTracking:"Enter Tracking Number",saveTracking:"Save Tracking Number",viewDetails:"View Details",editAddress:"Edit Address",loading:"Loading data...",error:"An error occurred",success:"Successfully saved",noCreators:"No confirmed creators",campaign:"Campaign",status:"Status",approved:"Approved",completed:"Completed",shipped:"Shipped",delivered:"Delivered",postalCode:"Postal Code",fullAddress:"Full Address",trackingInfo:"Shipping Information",updateAddress:"Update Address",updateTracking:"Update Tracking"}},pj=()=>{var D,H;const{campaignId:d}=Kr(),m=os(),[i,c]=g.useState(null),[u,x]=g.useState([]),[y,f]=g.useState(!0),[N,j]=g.useState(!1),[O,w]=g.useState(""),[K,Q]=g.useState(""),[S,p]=g.useState("ko"),[C,T]=g.useState(null),[z,k]=g.useState(!1),[$,v]=g.useState(!1),[ee,G]=g.useState(""),[A,L]=g.useState({postal_code:"",address:"",phone:""}),U=gj[S];g.useEffect(()=>{oe()},[d]);const oe=async()=>{try{if(f(!0),w(""),console.log("    , campaignId:",d),d&&d!=="undefined"){const{data:de,error:me}=await ne.from("campaigns").select("*").eq("id",d).single();if(me)throw new Error(`  : ${me.message}`);c(de),console.log(" :",de)}let b=ne.from("applications").select(`
          *,
          campaigns (
            id,
            title,
            brand,
            reward_amount
          ),
          user_profiles (
            name,
            email,
            phone,
            age,
            skin_type,
            instagram_url
          )
        `).eq("status","approved").order("updated_at",{ascending:!1});d&&d!=="undefined"&&(b=b.eq("campaign_id",d));const{data:W,error:B}=await b;B?(console.error("   :",B),x([])):(x(W||[]),console.log("  :",(W==null?void 0:W.length)||0,""))}catch(b){console.error("  :",b),w(b.message||"  .")}finally{f(!1)}},F=async()=>{if(!C||!ee.trim()){w(" .");return}try{j(!0),w("");const{error:b}=await ne.from("applications").update({tracking_number:ee.trim(),shipping_status:"shipped",updated_at:new Date().toISOString()}).eq("id",C.id);if(b)throw new Error(`  : ${b.message}`);x(W=>W.map(B=>B.id===C.id?{...B,tracking_number:ee.trim(),shipping_status:"shipped"}:B)),Q("  ."),k(!1),G(""),T(null),setTimeout(()=>Q(""),3e3)}catch(b){console.error("  :",b),w(b.message||"  .")}finally{j(!1)}},X=async()=>{if(C)try{j(!0),w("");const{error:b}=await ne.from("user_profiles").update({postal_code:A.postal_code,address:A.address,phone:A.phone,updated_at:new Date().toISOString()}).eq("id",C.user_profiles.id);if(b)throw new Error(`  : ${b.message}`);x(W=>W.map(B=>B.id===C.id?{...B,user_profiles:{...B.user_profiles,postal_code:A.postal_code,address:A.address,phone:A.phone}}:B)),Q("  ."),v(!1),T(null),setTimeout(()=>Q(""),3e3)}catch(b){console.error("  :",b),w(b.message||"  .")}finally{j(!1)}},ce=b=>{T(b),G(b.tracking_number||""),k(!0)},ue=b=>{var W,B,de;T(b),L({postal_code:((W=b.user_profiles)==null?void 0:W.postal_code)||"",address:((B=b.user_profiles)==null?void 0:B.address)||"",phone:((de=b.user_profiles)==null?void 0:de.phone)||""}),v(!0)},q=b=>b.shipping_status==="shipped"?e.jsx(Ut,{className:"bg-blue-100 text-blue-800",children:U.shipped}):b.shipping_status==="delivered"?e.jsx(Ut,{className:"bg-green-100 text-green-800",children:U.delivered}):b.status==="completed"?e.jsx(Ut,{className:"bg-green-100 text-green-800",children:U.completed}):e.jsx(Ut,{className:"bg-yellow-100 text-yellow-800",children:U.approved}),le=()=>{const b=u.map(te=>{var be,he,Ce,Qe,Z,ge,ae;return{:((be=te.user_profiles)==null?void 0:be.name)||"",:((he=te.user_profiles)==null?void 0:he.email)||"",:((Ce=te.user_profiles)==null?void 0:Ce.phone)||"",:((Qe=te.user_profiles)==null?void 0:Qe.postal_code)||"",:((Z=te.user_profiles)==null?void 0:Z.address)||"",:((ge=te.campaigns)==null?void 0:ge.title)||"",:((ae=te.campaigns)==null?void 0:ae.brand)||"",:te.status,:te.tracking_number||"",:te.shipping_status||"",:te.approved_at?new Date(te.approved_at).toLocaleDateString():"",:te.shipped_at?new Date(te.shipped_at).toLocaleDateString():""}}),W=`confirmed_creators_${d||"all"}_${new Date().toISOString().split("T")[0]}.csv`,B=Object.keys(b[0]||{}),de=[B.join(","),...b.map(te=>B.map(be=>`"${te[be]||""}"`).join(","))].join(`
`),me=new Blob([de],{type:"text/csv;charset=utf-8;"}),xe=document.createElement("a");xe.href=URL.createObjectURL(me),xe.download=W,xe.click()};return y?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(We,{className:"h-12 w-12 animate-spin text-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:U.loading})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 py-8",children:e.jsxs("div",{className:"container mx-auto px-4 max-w-7xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs(Ne,{variant:"outline",onClick:()=>m("/admin"),className:"flex items-center space-x-2",children:[e.jsx(oa,{className:"h-4 w-4"}),e.jsx("span",{children:U.backToDashboard})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:U.title}),e.jsx("p",{className:"text-gray-600",children:i?`${i.title} - ${U.subtitle}`:U.subtitle})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(Ni,{value:S,onValueChange:p,children:[e.jsx(_i,{className:"w-32",children:e.jsx(wi,{})}),e.jsxs(Si,{children:[e.jsx(rs,{value:"ko",children:""}),e.jsx(rs,{value:"ja",children:""}),e.jsx(rs,{value:"en",children:"English"})]})]}),e.jsxs(Ne,{variant:"outline",onClick:le,disabled:u.length===0,children:[e.jsx(Ys,{className:"h-4 w-4 mr-2"}),"Excel "]})]})]}),O&&e.jsxs(is,{className:"mb-6 border-red-200 bg-red-50",children:[e.jsx(Qt,{className:"h-4 w-4 text-red-600"}),e.jsx(cs,{className:"text-red-800",children:O})]}),K&&e.jsxs(is,{className:"mb-6 border-green-200 bg-green-50",children:[e.jsx(He,{className:"h-4 w-4 text-green-600"}),e.jsx(cs,{className:"text-green-800",children:K})]}),e.jsxs(mt,{children:[e.jsx(ht,{children:e.jsxs(ft,{className:"flex items-center space-x-2",children:[e.jsx(ds,{className:"h-5 w-5 text-blue-600"}),e.jsx("span",{children:U.confirmedCreators}),e.jsxs(Ut,{variant:"secondary",children:[u.length,""]})]})}),e.jsx(gt,{children:u.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(ds,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:U.noCreators})]}):e.jsx("div",{className:"space-y-4",children:u.map(b=>{var W;return e.jsxs("div",{className:"border rounded-lg p-6 bg-white shadow-sm",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800",children:b.applicant_name||" "}),q(b)]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:[e.jsxs("h4",{className:"font-semibold text-blue-800 mb-3 flex items-center",children:[e.jsx(Eh,{className:"h-4 w-4 mr-2"})," "]}),e.jsx("div",{className:"space-y-2 text-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600",children:":"}),e.jsx("span",{className:"font-medium",children:b.phone_number||" "})]})})]}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200",children:[e.jsxs("h4",{className:"font-semibold text-green-800 mb-3 flex items-center",children:[e.jsx(ah,{className:"h-4 w-4 mr-2"})," "]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600",children:":"}),e.jsx("span",{className:"font-medium",children:b.postal_code||""})]}),e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsx("span",{className:"text-gray-600",children:":"}),e.jsx("span",{className:"font-medium text-right max-w-48 break-words",children:b.address||"  "})]})]})]}),!d&&e.jsxs("div",{className:"bg-purple-50 rounded-lg p-4 border border-purple-200",children:[e.jsxs("h4",{className:"font-semibold text-purple-800 mb-3 flex items-center",children:[e.jsx(ns,{className:"h-4 w-4 mr-2"})," "]}),e.jsx("div",{className:"text-sm",children:e.jsx("span",{className:"font-medium",children:((W=b.campaigns)==null?void 0:W.title)||"  "})})]}),e.jsxs("div",{className:"bg-orange-50 rounded-lg p-4 border border-orange-200",children:[e.jsxs("h4",{className:"font-semibold text-orange-800 mb-3 flex items-center",children:[e.jsx(Wg,{className:"h-4 w-4 mr-2"}),""]}),e.jsx("div",{className:"text-sm",children:e.jsx("span",{className:"font-medium",children:b.tracking_number||" "})})]})]})]}),e.jsxs("div",{className:"flex space-x-2 ml-4",children:[e.jsxs(Ne,{variant:"outline",size:"sm",onClick:()=>ue(b),children:[e.jsx(ah,{className:"h-4 w-4 mr-2"}),U.editAddress]}),e.jsxs(Ne,{size:"sm",onClick:()=>ce(b),className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Ig,{className:"h-4 w-4 mr-2"}),b.tracking_number?U.updateTracking:U.enterTracking]})]})]}),e.jsxs("div",{className:"text-xs text-gray-500 border-t pt-2 mt-4",children:[": ",b.approved_at?new Date(b.approved_at).toLocaleString():" ",b.shipped_at&&e.jsxs("span",{className:"ml-4",children:[": ",new Date(b.shipped_at).toLocaleString()]})]})]},b.id)})})})]}),e.jsx(fi,{open:z,onOpenChange:k,children:e.jsxs(gi,{children:[e.jsxs(pi,{children:[e.jsx(ji,{children:U.trackingInfo}),e.jsxs(bi,{children:[(D=C==null?void 0:C.user_profiles)==null?void 0:D.name,"  ."]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(Me,{htmlFor:"tracking",children:U.trackingNumber}),e.jsx(rt,{id:"tracking",value:ee,onChange:b=>G(b.target.value),placeholder:" "})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(Ne,{variant:"outline",onClick:()=>k(!1),children:""}),e.jsxs(Ne,{onClick:F,disabled:N||!ee.trim(),children:[N?e.jsx(We,{className:"h-4 w-4 animate-spin mr-2"}):e.jsx(nl,{className:"h-4 w-4 mr-2"}),U.saveTracking]})]})]})]})}),e.jsx(fi,{open:$,onOpenChange:v,children:e.jsxs(gi,{children:[e.jsxs(pi,{children:[e.jsx(ji,{children:U.updateAddress}),e.jsxs(bi,{children:[(H=C==null?void 0:C.user_profiles)==null?void 0:H.name,"   ."]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(Me,{htmlFor:"postal_code",children:U.postalCode}),e.jsx(rt,{id:"postal_code",value:A.postal_code,onChange:b=>L(W=>({...W,postal_code:b.target.value})),placeholder:""})]}),e.jsxs("div",{children:[e.jsx(Me,{htmlFor:"address",children:U.fullAddress}),e.jsx(rt,{id:"address",value:A.address,onChange:b=>L(W=>({...W,address:b.target.value})),placeholder:""})]}),e.jsxs("div",{children:[e.jsx(Me,{htmlFor:"phone",children:U.phone}),e.jsx(rt,{id:"phone",value:A.phone,onChange:b=>L(W=>({...W,phone:b.target.value})),placeholder:""})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(Ne,{variant:"outline",onClick:()=>v(!1),children:""}),e.jsxs(Ne,{onClick:X,disabled:N,children:[N?e.jsx(We,{className:"h-4 w-4 animate-spin mr-2"}):e.jsx(nl,{className:"h-4 w-4 mr-2"}),U.updateAddress]})]})]})]})})]})})},jj={ko:{title:"SNS  ",subtitle:"  SNS    ",backToDashboard:" ",completedCreators:" ",name:"",campaign:"",snsLinks:"SNS ",uploadStatus:" ",viewPost:" ",markCompleted:" ",addFeedback:" ",loading:"  ...",error:" ",success:" ",noUploads:" SNS ",status:"",completed:"",pending:"",approved:"",instagram:"",tiktok:"",youtube:"",twitter:"",uploadDate:" ",feedback:"",approvePoints:" ",pointsApproved:"  ",pointsPending:"  ",approvePointsConfirm:" ?",pointsAmount:" ",saveFeedback:" ",performance:"",likes:"",comments:"",shares:"",views:""},ja:{title:"SNS",subtitle:"SNS",backToDashboard:"",completedCreators:"",name:"",campaign:"",snsLinks:"SNS",uploadStatus:"",viewPost:"",markCompleted:"",addFeedback:"",loading:"...",error:"",success:"",noUploads:"SNS",status:"",completed:"",pending:"",approved:"",instagram:"Instagram",tiktok:"TikTok",youtube:"YouTube",twitter:"Twitter",uploadDate:"",feedback:"",saveFeedback:"",performance:"",likes:"",comments:"",shares:"",views:""},en:{title:"SNS Upload Verification",subtitle:"Verify that final report SNS has been uploaded",backToDashboard:"Back to Dashboard",completedCreators:"Completed Creators",name:"Name",campaign:"Campaign",snsLinks:"SNS Links",uploadStatus:"Upload Status",viewPost:"View Post",markCompleted:"Mark Completed",addFeedback:"Add Feedback",loading:"Loading data...",error:"An error occurred",success:"Successfully saved",noUploads:"No SNS uploads",status:"Status",completed:"Completed",pending:"Pending",approved:"Approved",instagram:"Instagram",tiktok:"TikTok",youtube:"YouTube",twitter:"Twitter",uploadDate:"Upload Date",feedback:"Feedback",saveFeedback:"Save Feedback",performance:"Performance",likes:"Likes",comments:"Comments",shares:"Shares",views:"Views"}},Nh=()=>{var F;const{campaignId:d}=Kr();os();const[m,i]=g.useState(null),[c,u]=g.useState([]),[x,y]=g.useState(!0),[f,N]=g.useState(!1),[j,O]=g.useState(""),[w,K]=g.useState(""),[Q,S]=g.useState("ko"),[p,C]=g.useState(null),[T,z]=g.useState(!1),[k,$]=g.useState(""),v=jj[Q];g.useEffect(()=>{ee()},[d]);const ee=async()=>{try{if(y(!0),O(""),console.log("SNS    , campaignId:",d),d&&d!=="undefined"){const{data:q,error:le}=await ne.from("campaigns").select("*").eq("id",d).single();if(le)throw new Error(`  : ${le.message}`);i(q),console.log(" :",q)}let X=ne.from("applications").select(`
          *,
          campaigns (
            id,
            title,
            brand,
            reward_amount
          ),
          user_profiles (
            user_id,
            name,
            email,
            phone,
            instagram_url,
            tiktok_url,
            youtube_url,
            instagram_followers,
            tiktok_followers,
            youtube_subscribers
          )
        `).eq("status","approved").not("video_links","is",null).neq("video_links","").order("updated_at",{ascending:!1});d&&d!=="undefined"&&(X=X.eq("campaign_id",d));const{data:ce,error:ue}=await X;ue?(console.error("   :",ue),u([])):(u(ce||[]),console.log("  :",(ce==null?void 0:ce.length)||0,""))}catch(X){console.error("  :",X),O(X.message||"  .")}finally{y(!1)}},G=async()=>{if(p)try{N(!0),O("");const{error:X}=await ne.from("applications").update({admin_feedback:k,feedback_updated_at:new Date().toISOString(),updated_at:new Date().toISOString()}).eq("id",p.id);if(X)throw new Error(`  : ${X.message}`);u(ce=>ce.map(ue=>ue.id===p.id?{...ue,admin_feedback:k,feedback_updated_at:new Date().toISOString()}:ue)),K("  ."),z(!1),$(""),C(null),setTimeout(()=>K(""),3e3)}catch(X){console.error("  :",X),O(X.message||"  .")}finally{N(!1)}},A=async X=>{var q,le;if(!((q=X.campaigns)!=null&&q.reward_amount)){O("    .");return}const ce=((le=X.user_profiles)==null?void 0:le.name)||X.applicant_name||"",ue=`${ce} ${X.campaigns.reward_amount.toLocaleString()}P ?`;if(window.confirm(ue))try{N(!0),O("");const{error:D}=await ne.from("point_transactions").insert({user_id:X.user_id,campaign_id:X.campaign_id,application_id:X.id,transaction_type:"campaign_reward",amount:X.campaigns.reward_amount,description:`  : ${X.campaigns.title}`,status:"completed",created_at:new Date().toISOString()});if(D)throw new Error(`  : ${D.message}`);const{error:H}=await ne.from("point_transactions").update({status:"approved",amount:X.campaigns.reward_amount,updated_at:new Date().toISOString()}).eq("application_id",X.id).eq("transaction_type","pending_reward");H&&console.warn("    :",H),u(b=>b.map(W=>W.id===X.id?{...W,point_request_status:"approved",points_awarded_at:new Date().toISOString()}:W)),K(`${ce} ${X.campaigns.reward_amount.toLocaleString()}P .`),setTimeout(()=>K(""),5e3)}catch(D){console.error("  :",D),O(D.message||"  .")}finally{N(!1)}},L=X=>{C(X),$(X.admin_feedback||""),z(!0)},U=X=>X.status==="completed"?e.jsx(Ut,{className:"bg-green-100 text-green-800",children:v.completed}):e.jsx(Ut,{className:"bg-yellow-100 text-yellow-800",children:v.pending}),oe=()=>{const X=c.map(H=>{var b,W,B,de,me,xe,te;return{:((b=H.user_profiles)==null?void 0:b.name)||H.applicant_name||"",:((W=H.user_profiles)==null?void 0:W.email)||"",:((B=H.user_profiles)==null?void 0:B.phone)||""," URL":((de=H.user_profiles)==null?void 0:de.instagram_url)||""," ":((me=H.user_profiles)==null?void 0:me.instagram_followers)||"",:((xe=H.campaigns)==null?void 0:xe.title)||"",:((te=H.campaigns)==null?void 0:te.brand)||"",:H.status,"Instagram URL":H.instagram_url||"","TikTok URL":H.tiktok_url||"","YouTube URL":H.youtube_url||"","SNS  URL":H.video_links||""," ":H.admin_feedback||"",:H.completed_at?new Date(H.completed_at).toLocaleDateString():""," ":H.feedback_updated_at?new Date(H.feedback_updated_at).toLocaleDateString():""}}),ce=`sns_uploads_${d||"all"}_${new Date().toISOString().split("T")[0]}.csv`,ue=Object.keys(X[0]||{}),q=[ue.join(","),...X.map(H=>ue.map(b=>`"${H[b]||""}"`).join(","))].join(`
`),le=new Blob([q],{type:"text/csv;charset=utf-8;"}),D=document.createElement("a");D.href=URL.createObjectURL(le),D.download=ce,D.click()};return x?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(We,{className:"h-12 w-12 animate-spin text-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:v.loading})]})}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Dt,{}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:v.title}),e.jsx("p",{className:"text-gray-600 mt-2",children:m?`${m.title} - ${v.subtitle}`:v.subtitle})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(Ni,{value:Q,onValueChange:S,children:[e.jsx(_i,{className:"w-32",children:e.jsx(wi,{})}),e.jsxs(Si,{children:[e.jsx(rs,{value:"ko",children:""}),e.jsx(rs,{value:"ja",children:""}),e.jsx(rs,{value:"en",children:"English"})]})]}),e.jsxs(Ne,{variant:"outline",onClick:oe,disabled:c.length===0,children:[e.jsx(Ys,{className:"h-4 w-4 mr-2"}),"Excel "]})]})]}),j&&e.jsxs(is,{className:"mb-6 border-red-200 bg-red-50",children:[e.jsx(Qt,{className:"h-4 w-4 text-red-600"}),e.jsx(cs,{className:"text-red-800",children:j})]}),w&&e.jsxs(is,{className:"mb-6 border-green-200 bg-green-50",children:[e.jsx(He,{className:"h-4 w-4 text-green-600"}),e.jsx(cs,{className:"text-green-800",children:w})]}),e.jsxs(mt,{children:[e.jsx(ht,{children:e.jsxs(ft,{className:"flex items-center space-x-2",children:[e.jsx(oi,{className:"h-5 w-5 text-blue-600"}),e.jsx("span",{children:v.completedCreators}),e.jsxs(Ut,{variant:"secondary",children:[c.length,""]})]})}),e.jsx(gt,{children:c.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(oi,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:v.noUploads})]}):e.jsx("div",{className:"space-y-6",children:c.map(X=>{var ce,ue;return e.jsxs("div",{className:"border rounded-lg p-6 bg-white",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:((ce=X.user_profiles)==null?void 0:ce.name)||X.applicant_name||" "}),U(X)]}),X.user_profiles&&e.jsx("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-sm",children:[X.user_profiles.email&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Oa,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{children:X.user_profiles.email})]}),X.user_profiles.phone&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Eh,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{children:X.user_profiles.phone})]}),X.user_profiles.instagram_url&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ra,{className:"h-4 w-4 text-pink-500"}),e.jsx("span",{children:"Instagram"})]}),X.user_profiles.instagram_followers&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ds,{className:"h-4 w-4 text-blue-500"}),e.jsxs("span",{children:[X.user_profiles.instagram_followers.toLocaleString()," "]})]})]})}),!d&&e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[e.jsx(ns,{className:"h-4 w-4"}),e.jsx("span",{children:((ue=X.campaigns)==null?void 0:ue.title)||"  "})]})}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:v.snsLinks}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:[X.instagram_url&&e.jsxs("a",{href:X.instagram_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-2 text-pink-600 hover:text-pink-800 p-2 border rounded",children:[e.jsx(Ra,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:"Instagram"}),e.jsx(vt,{className:"h-3 w-3"})]}),X.tiktok_url&&e.jsxs("a",{href:X.tiktok_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-2 text-black hover:text-gray-700 p-2 border rounded",children:[e.jsx(vi,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:"TikTok"}),e.jsx(vt,{className:"h-3 w-3"})]}),X.youtube_url&&e.jsxs("a",{href:X.youtube_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-2 text-red-600 hover:text-red-800 p-2 border rounded",children:[e.jsx(ll,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:"YouTube"}),e.jsx(vt,{className:"h-3 w-3"})]})]})]}),X.video_links&&e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:" "}),e.jsxs("a",{href:X.video_links,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-2 text-blue-600 hover:text-blue-800 p-2 border rounded bg-blue-50",children:[e.jsx(oi,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:"  "}),e.jsx(vt,{className:"h-3 w-3"})]})]}),X.admin_feedback&&e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:v.feedback}),e.jsx("div",{className:"bg-gray-50 p-3 rounded",children:e.jsx("p",{className:"text-sm text-gray-800",children:X.admin_feedback})})]})]}),e.jsxs("div",{className:"flex flex-col space-y-2 ml-4",children:[e.jsxs(Ne,{variant:"outline",size:"sm",onClick:()=>L(X),children:[e.jsx(Pg,{className:"h-4 w-4 mr-2"}),X.admin_feedback?" ":v.addFeedback]}),X.point_request_status==="pending"&&X.sns_upload_url&&e.jsxs(Ne,{size:"sm",onClick:()=>A(X),disabled:f,className:"bg-green-600 hover:bg-green-700 text-white",children:[e.jsx(Xr,{className:"h-4 w-4 mr-2"}),v.approvePoints]}),X.point_request_status==="approved"&&e.jsxs("div",{className:"flex items-center space-x-2 text-green-600 text-sm",children:[e.jsx(He,{className:"h-4 w-4"}),e.jsx("span",{children:v.pointsApproved})]})]})]}),e.jsxs("div",{className:"text-xs text-gray-500 border-t pt-2 mt-4",children:[": ",X.completed_at?new Date(X.completed_at).toLocaleString():" ",X.feedback_updated_at&&e.jsxs("span",{className:"ml-4",children:[" : ",new Date(X.feedback_updated_at).toLocaleString()]})]})]},X.id)})})})]}),e.jsx(fi,{open:T,onOpenChange:z,children:e.jsxs(gi,{className:"max-w-2xl",children:[e.jsxs(pi,{children:[e.jsx(ji,{children:v.addFeedback}),e.jsxs(bi,{children:[(F=p==null?void 0:p.user_profiles)==null?void 0:F.name,"    ."]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(Me,{htmlFor:"feedback",children:v.feedback}),e.jsx(sl,{id:"feedback",value:k,onChange:X=>$(X.target.value),placeholder:"   ...",rows:6})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(Ne,{variant:"outline",onClick:()=>z(!1),children:""}),e.jsxs(Ne,{onClick:G,disabled:f,children:[f?e.jsx(We,{className:"h-4 w-4 animate-spin mr-2"}):e.jsx(nl,{className:"h-4 w-4 mr-2"}),v.saveFeedback]})]})]})]})})]})]})},bj=()=>{const{campaignId:d}=Kr(),m=os(),[i,c]=g.useState(null),[u,x]=g.useState([]),[y,f]=g.useState([]),[N,j]=g.useState(!0),[O,w]=g.useState(!1),[K,Q]=g.useState(""),[S,p]=g.useState(""),[C,T]=g.useState("all"),[z,k]=g.useState(""),[$,v]=g.useState([]);g.useEffect(()=>{ee()},[d]),g.useEffect(()=>{G()},[u,C,z]);const ee=async()=>{try{j(!0),Q("");const B=await Se.campaigns.getById(d);c(B);const de=await Se.applications.getByCampaign(d);x(de||[])}catch(B){console.error("   :",B),Q("   .")}finally{j(!1)}},G=()=>{let B=u;if(C!=="all"&&(B=B.filter(de=>de.status===C)),z){const de=z.toLowerCase();B=B.filter(me=>{var xe;return(me.applicant_name||"").toLowerCase().includes(de)||(((xe=me.user_profiles)==null?void 0:xe.email)||"").toLowerCase().includes(de)})}f(B)},A=async B=>{try{w(!0),await Se.applications.updateStatus(B,"virtual_selected"),x(de=>de.map(me=>me.id===B?{...me,status:"virtual_selected",virtual_selected_at:new Date().toISOString()}:me)),p("  ."),setTimeout(()=>p(""),3e3)}catch(de){console.error("   :",de),Q("     ."),setTimeout(()=>Q(""),3e3)}finally{w(!1)}},L=async B=>{try{w(!0),await Se.applications.updateStatus(B,"pending"),x(de=>de.map(me=>me.id===B?{...me,status:"pending",virtual_selected_at:null}:me)),p("  ."),setTimeout(()=>p(""),3e3)}catch(de){console.error("    :",de),Q("      ."),setTimeout(()=>Q(""),3e3)}finally{w(!1)}},U=async()=>{if($.length===0){Q("  .");return}try{w(!0);const B=$.map(de=>Se.applications.updateStatus(de,"virtual_selected"));await Promise.all(B),x(de=>de.map(me=>$.includes(me.id)?{...me,status:"virtual_selected",virtual_selected_at:new Date().toISOString()}:me)),v([]),p(`${$.length}   .`),setTimeout(()=>p(""),3e3)}catch(B){console.error("   :",B),Q("      ."),setTimeout(()=>Q(""),3e3)}finally{w(!1)}},oe=()=>{const B=y.filter(de=>de.status==="pending").map(de=>de.id);$.length===B.length?v([]):v(B)},F=B=>B?new Date(B).toLocaleDateString("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"-",X=B=>{switch(B){case"pending":return"";case"virtual_selected":return"";case"approved":return"";case"rejected":return"";default:return B}},ce=B=>{switch(B){case"pending":return"bg-yellow-100 text-yellow-800";case"virtual_selected":return"bg-blue-100 text-blue-800";case"approved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},ue=B=>{switch(B){case"pending":return e.jsx(Yt,{className:"h-4 w-4"});case"virtual_selected":return e.jsx(Os,{className:"h-4 w-4"});case"approved":return e.jsx(He,{className:"h-4 w-4"});case"rejected":return e.jsx(Ht,{className:"h-4 w-4"});default:return e.jsx(Yt,{className:"h-4 w-4"})}},q=()=>{const B=["","","","Instagram","TikTok","YouTube"," SNS","Q1 ","Q2 ","Q3 ","Q4 ","",""],de=y.map(he=>[he.applicant_name||"-",he.age||"-",he.skin_type||"-",he.instagram_url||"-",he.tiktok_url||"-",he.youtube_url||"-",he.other_sns_url||"-",he.question1_answer||"-",he.question2_answer||"-",he.question3_answer||"-",he.question4_answer||"-",F(he.created_at),X(he.status)]),me=[B,...de].map(he=>he.map(Ce=>`"${Ce}"`).join(",")).join(`
`),xe=new Blob([me],{type:"text/csv;charset=utf-8;"}),te=document.createElement("a"),be=URL.createObjectURL(xe);te.setAttribute("href",be),te.setAttribute("download",`campaign_${d}_report.csv`),te.style.visibility="hidden",document.body.appendChild(te),te.click(),document.body.removeChild(te)};if(N)return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Dt,{}),e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),e.jsx("span",{children:"  ..."})]})})]});if(K&&!i)return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Dt,{}),e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx(bs,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:" "}),e.jsx("p",{className:"text-gray-600",children:K}),e.jsx("button",{onClick:()=>m("/applications-manage"),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"  "})]})})]});const le=u.length,D=u.filter(B=>B.status==="pending").length,H=u.filter(B=>B.status==="virtual_selected").length,b=u.filter(B=>B.status==="approved").length,W=u.filter(B=>B.status==="rejected").length;return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Dt,{}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("button",{onClick:()=>m("/applications-manage"),className:"mr-4 p-2 text-gray-600 hover:text-gray-900",children:e.jsx(oa,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:" "}),e.jsx("p",{className:"text-gray-600 mt-1",children:(i==null?void 0:i.title)||" "})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:ee,disabled:N,className:"flex items-center px-4 py-2 border border-gray-300 rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:[e.jsx(rl,{className:"h-4 w-4 mr-2"}),""]}),e.jsxs("button",{onClick:q,className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700",children:[e.jsx(Ys,{className:"h-4 w-4 mr-2"}),"CSV "]})]})]})}),K&&e.jsx("div",{className:"mb-6 p-4 bg-red-50 border-l-4 border-red-400 rounded-md",children:e.jsxs("div",{className:"flex",children:[e.jsx(bs,{className:"h-5 w-5 text-red-400 mr-2"}),e.jsx("p",{className:"text-red-700",children:K})]})}),S&&e.jsx("div",{className:"mb-6 p-4 bg-green-50 border-l-4 border-green-400 rounded-md",children:e.jsxs("div",{className:"flex",children:[e.jsx(He,{className:"h-5 w-5 text-green-400 mr-2"}),e.jsx("p",{className:"text-green-700",children:S})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-8",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ds,{className:"h-8 w-8 text-blue-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:" "}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:le})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Yt,{className:"h-8 w-8 text-yellow-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:""}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:D})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Os,{className:"h-8 w-8 text-blue-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:""}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:H})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(He,{className:"h-8 w-8 text-green-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:""}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:b})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ht,{className:"h-8 w-8 text-red-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:""}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:W})]})]})})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Dh,{className:"h-4 w-4 text-gray-500 mr-2"}),e.jsxs("select",{value:C,onChange:B=>T(B.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm",children:[e.jsx("option",{value:"all",children:" "}),e.jsx("option",{value:"pending",children:""}),e.jsx("option",{value:"virtual_selected",children:""}),e.jsx("option",{value:"approved",children:""}),e.jsx("option",{value:"rejected",children:""})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Zl,{className:"h-4 w-4 text-gray-500 mr-2"}),e.jsx("input",{type:"text",placeholder:",  ...",value:z,onChange:B=>k(B.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm w-64"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[$.length>0&&e.jsxs("button",{onClick:U,disabled:O,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50",children:[e.jsx(Os,{className:"h-4 w-4 mr-2"})," ",$.length," "]}),e.jsx("button",{onClick:oe,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50",children:$.length===y.filter(B=>B.status==="pending").length?" ":" "})]})]})}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["  (",y.length,")"]})}),y.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left",children:e.jsx("input",{type:"checkbox",checked:$.length===y.filter(B=>B.status==="pending").length&&y.filter(B=>B.status==="pending").length>0,onChange:oe,className:"rounded border-gray-300"})}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"SNS "}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:" "}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:y.map(B=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:B.status==="pending"&&e.jsx("input",{type:"checkbox",checked:$.includes(B.id),onChange:de=>{de.target.checked?v(me=>[...me,B.id]):v(me=>me.filter(xe=>xe!==B.id))},className:"rounded border-gray-300"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:B.applicant_name||"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:B.age||"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:B.skin_type||"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.jsxs("div",{className:"flex space-x-2",children:[B.instagram_url&&e.jsx("a",{href:B.instagram_url,target:"_blank",rel:"noopener noreferrer",className:"text-pink-600 hover:text-pink-800",title:"Instagram",children:e.jsx(Ra,{className:"h-4 w-4"})}),B.tiktok_url&&e.jsx("a",{href:B.tiktok_url,target:"_blank",rel:"noopener noreferrer",className:"text-black hover:text-gray-800",title:"TikTok",children:e.jsx(Ah,{className:"h-4 w-4"})}),B.youtube_url&&e.jsx("a",{href:B.youtube_url,target:"_blank",rel:"noopener noreferrer",className:"text-red-600 hover:text-red-800",title:"YouTube",children:e.jsx(ll,{className:"h-4 w-4"})}),B.other_sns_url&&e.jsx("a",{href:B.other_sns_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800",title:" SNS",children:e.jsx(vt,{className:"h-4 w-4"})})]})}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 max-w-xs",children:e.jsxs("div",{className:"space-y-1",children:[[1,2,3,4].map(de=>{const me=B[`question${de}_answer`];return me?e.jsxs("div",{className:"text-xs",children:[e.jsxs("span",{className:"font-medium",children:["Q",de,":"]})," ",me.substring(0,50),me.length>50?"...":""]},de):null}),B.additional_info&&e.jsxs("div",{className:"text-xs border-t pt-1 mt-1",children:[e.jsx("span",{className:"font-medium text-blue-600",children:" :"})," ",B.additional_info.substring(0,50),B.additional_info.length>50?"...":""]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:F(B.created_at)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[ue(B.status),e.jsx("span",{className:`ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${ce(B.status)}`,children:X(B.status)})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex space-x-2",children:[B.status==="pending"&&e.jsxs("button",{onClick:()=>A(B.id),disabled:O,className:"inline-flex items-center px-3 py-1 border border-transparent text-xs font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 disabled:opacity-50",children:[e.jsx(Os,{className:"h-3 w-3 mr-1"})," "]}),B.status==="virtual_selected"&&e.jsxs("button",{onClick:()=>L(B.id),disabled:O,className:"inline-flex items-center px-3 py-1 border border-gray-300 text-xs font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:[e.jsx(Ht,{className:"h-3 w-3 mr-1"})," "]})]})})]},B.id))})]})}):e.jsxs("div",{className:"px-6 py-12 text-center",children:[e.jsx(ns,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:" "}),e.jsx("p",{className:"text-gray-600",children:C!=="all"||z?"    .":"     ."})]})]})]})]})},yj=()=>{var G;const{language:d}=Zt(),[m,i]=g.useState([]),[c,u]=g.useState(null),[x,y]=g.useState(!1),[f,N]=g.useState(!0),[j,O]=g.useState(!1),[w,K]=g.useState(""),Q=[{id:"welcome",name:d==="ja"?"":"  ",subject:d==="ja"?"CNEC Japan ":"CNEC Japan   !",content:d==="ja"?` {{name}} 

CNEC Japan 


K-Beauty



CNEC Japan `:` {{name}},

CNEC Japan  !

  .
 K-Beauty       .

    .

CNEC Japan `,variables:["name","email"],category:"user"},{id:"campaign_approved",name:d==="ja"?"":"  ",subject:d==="ja"?" ":"  !",content:d==="ja"?` {{name}} 

{{campaign_title}}

:
- : {{brand_name}}
- : {{reward_amount}}
- : {{deadline}}

:
1. 
2. 
3. 

: {{guidelines_url}}
: {{upload_folder}}



CNEC Japan `:` {{name}}!

{{campaign_title}}  !

 :
- : {{brand_name}}
- : {{reward_amount}}
- : {{deadline}}

 :
1.   
2.   
3.    

: {{guidelines_url}}
 : {{upload_folder}}

!

CNEC Japan `,variables:["name","campaign_title","brand_name","reward_amount","deadline","guidelines_url","upload_folder"],category:"campaign"},{id:"campaign_rejected",name:d==="ja"?"":"  ",subject:d==="ja"?"":"   ",content:d==="ja"?`{{name}} 

{{campaign_title}}







CNEC Japan `:`{{name}},

{{campaign_title}}   .

  ,     .

    ,         .

   .

CNEC Japan `,variables:["name","campaign_title"],category:"campaign"},{id:"withdrawal_approved",name:d==="ja"?"":"  ",subject:d==="ja"?" ":"   ",content:d==="ja"?`{{name}} 



:
- : {{amount}}
- : {{bank_info}}
- : {{process_date}}

 3-5



CNEC Japan `:`{{name}},

  !

 :
- : {{amount}}
-  : {{bank_info}}
- : {{process_date}}

   3-5     .

    .

CNEC Japan `,variables:["name","amount","bank_info","process_date"],category:"financial"},{id:"campaign_deadline_3days",name:d==="ja"?"3":"  3 ",subject:d==="ja"?" 3":"   3 ",content:d==="ja"?`{{name}} 

{{campaign_title}}3

: {{deadline}}
: {{brand_name}}
: {{reward_amount}}



:
{{requirements}}

: {{upload_folder}}
: {{guidelines_url}}



CNEC Japan `:`{{name}},

{{campaign_title}}   3 .

: {{deadline}}
: {{brand_name}}
: {{reward_amount}}

   ,   .

 :
{{requirements}}

 : {{upload_folder}}
: {{guidelines_url}}

    .

CNEC Japan `,variables:["name","campaign_title","deadline","brand_name","reward_amount","requirements","upload_folder","guidelines_url"],category:"reminder"},{id:"campaign_deadline_2days",name:d==="ja"?"2":"  2 ",subject:d==="ja"?" 2":"   2 ",content:d==="ja"?`{{name}} 

{{campaign_title}}2

: {{deadline}}
: {{brand_name}}
: {{reward_amount}}

 : 

:
{{requirements}}

: {{upload_folder}}
: {{guidelines_url}}





CNEC Japan `:`{{name}},

{{campaign_title}}   2 .

: {{deadline}}
: {{brand_name}}
: {{reward_amount}}

 :    ,    .

 :
{{requirements}}

 : {{upload_folder}}
: {{guidelines_url}}

      .

    .

CNEC Japan `,variables:["name","campaign_title","deadline","brand_name","reward_amount","requirements","upload_folder","guidelines_url"],category:"reminder"},{id:"campaign_deadline_1day",name:d==="ja"?"1":"  1 ",subject:d==="ja"?" 1":"   1 !",content:d==="ja"?`{{name}} 

{{campaign_title}}1

: {{deadline}}
: {{brand_name}}
: {{reward_amount}}

 : 

:
{{requirements}}

: {{upload_folder}}
: {{guidelines_url}}





CNEC Japan `:`{{name}},

{{campaign_title}}   1 !

: {{deadline}}
: {{brand_name}}
: {{reward_amount}}

 :    ,    !

 :
{{requirements}}

 : {{upload_folder}}
: {{guidelines_url}}

 .           .

    .

CNEC Japan `,variables:["name","campaign_title","deadline","brand_name","reward_amount","requirements","upload_folder","guidelines_url"],category:"reminder"},{id:"campaign_deadline_today",name:d==="ja"?"":"   ",subject:d==="ja"?" ":"   !",content:d==="ja"?`{{name}} 

{{campaign_title}}

: {{deadline}}
: {{brand_name}}
: {{reward_amount}}

 : 

:
{{requirements}}

: {{upload_folder}}
: {{guidelines_url}}






CNEC Japan `:`{{name}},

{{campaign_title}}  !

: {{deadline}}
: {{brand_name}}
: {{reward_amount}}

  :    ,   !

 :
{{requirements}}

 : {{upload_folder}}
: {{guidelines_url}}

        .
    !

    .

CNEC Japan `,variables:["name","campaign_title","deadline","brand_name","reward_amount","requirements","upload_folder","guidelines_url"],category:"reminder"},{id:"campaign_deadline",name:d==="ja"?"":"  ",subject:d==="ja"?" ":"   ",content:d==="ja"?`{{name}} 

{{campaign_title}}

: {{deadline}}
: {{time_remaining}}



:
{{requirements}}



CNEC Japan `:`{{name}},

{{campaign_title}}   .

: {{deadline}}
 : {{time_remaining}}

   ,   .

 :
{{requirements}}

    .

CNEC Japan `,variables:["name","campaign_title","deadline","time_remaining","requirements"],category:"reminder"}],S={ko:{title:"  ",description:"    .",templateList:" ",editTemplate:" ",templateName:" ",subject:"",content:"",variables:"  ",category:"",save:"",cancel:"",edit:"",preview:"",reset:" ",categories:{user:"",campaign:"",financial:"",reminder:""},messages:{saved:" .",error:"   .",reset:" ."}},ja:{title:"",description:"",templateList:"",editTemplate:"",templateName:"",subject:"",content:"",variables:"",category:"",save:"",cancel:"",edit:"",preview:"",reset:"",categories:{user:"",campaign:"",financial:"",reminder:""},messages:{saved:"",error:"",reset:""}}},p=S[d]||S.ko;g.useEffect(()=>{C()},[]);const C=async()=>{var A,L;try{N(!0);const U=await((L=(A=ne.emailTemplates)==null?void 0:A.getAll)==null?void 0:L.call(A))||[];U.length===0?(i(Q),await T()):i(U)}catch(U){console.error("  :",U),i(Q)}finally{N(!1)}},T=async()=>{var A,L;try{for(const U of Q)await((L=(A=ne.emailTemplates)==null?void 0:A.create)==null?void 0:L.call(A,U))}catch(U){console.error("   :",U)}},z=A=>{u({...A}),y(!0)},k=async()=>{var A,L;if(c)try{O(!0),await((L=(A=ne.emailTemplates)==null?void 0:A.upsert)==null?void 0:L.call(A,c)),i(U=>U.map(oe=>oe.id===c.id?c:oe)),K(p.messages.saved),y(!1),u(null),setTimeout(()=>K(""),3e3)}catch(U){console.error("  :",U),K(p.messages.error),setTimeout(()=>K(""),3e3)}finally{O(!1)}},$=A=>{const L=Q.find(U=>U.id===A);L&&(u({...L}),K(p.messages.reset),setTimeout(()=>K(""),3e3))},v=()=>{y(!1),u(null)},ee=A=>({user:"bg-blue-100 text-blue-800",campaign:"bg-green-100 text-green-800",financial:"bg-yellow-100 text-yellow-800",reminder:"bg-purple-100 text-purple-800"})[A]||"bg-gray-100 text-gray-800";return f?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Dt,{}),e.jsx("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})})})]}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Dt,{}),e.jsx("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"px-4 py-6 sm:px-0",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:p.title}),e.jsx("p",{className:"mt-2 text-gray-600",children:p.description})]}),w&&e.jsx("div",{className:"mb-6 p-4 bg-green-100 border border-green-400 text-green-700 rounded",children:w}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-white shadow rounded-lg",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:p.templateList})}),e.jsx("div",{className:"divide-y divide-gray-200",children:m.map(A=>e.jsx("div",{className:"p-6 hover:bg-gray-50",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:A.name}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:A.subject}),e.jsx("div",{className:"mt-2",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${ee(A.category)}`,children:p.categories[A.category]})})]}),e.jsx("div",{className:"ml-4",children:e.jsx("button",{onClick:()=>z(A),className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500",children:p.edit})})]})},A.id))})]}),x&&c&&e.jsxs("div",{className:"bg-white shadow rounded-lg",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:p.editTemplate})}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:p.templateName}),e.jsx("input",{type:"text",value:c.name,onChange:A=>u(L=>({...L,name:A.target.value})),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-purple-500 focus:border-purple-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:p.subject}),e.jsx("input",{type:"text",value:c.subject,onChange:A=>u(L=>({...L,subject:A.target.value})),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-purple-500 focus:border-purple-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:p.content}),e.jsx("textarea",{rows:12,value:c.content,onChange:A=>u(L=>({...L,content:A.target.value})),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-purple-500 focus:border-purple-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:p.variables}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(G=c.variables)==null?void 0:G.map(A=>e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800 cursor-pointer hover:bg-gray-200",onClick:()=>{const U=document.querySelector("textarea").selectionStart,oe=c.content.substring(0,U),F=c.content.substring(U),X=oe+`{{${A}}}`+F;u(ce=>({...ce,content:X}))},children:`{{${A}}}`},A))})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("button",{onClick:()=>$(c.id),className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500",children:p.reset}),e.jsxs("div",{className:"space-x-3",children:[e.jsx("button",{onClick:v,className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500",children:p.cancel}),e.jsx("button",{onClick:k,disabled:j,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 disabled:opacity-50",children:j?" ...":p.save})]})]})]})]})]})]})})]})},wh=()=>{var Z,ge;const{language:d}=Zt(),[m,i]=g.useState([]),[c,u]=g.useState([]),[x,y]=g.useState(!0),[f,N]=g.useState(!1),[j,O]=g.useState(""),[w,K]=g.useState(""),[Q,S]=g.useState(""),[p,C]=g.useState(""),[T,z]=g.useState(""),[k,$]=g.useState(null),[v,ee]=g.useState(!1),[G,A]=g.useState(!1),[L,U]=g.useState(!1),[oe,F]=g.useState(!1),[X,ce]=g.useState(""),[ue,q]=g.useState(""),[le,D]=g.useState(""),H={ko:{title:"  ",subtitle:"   ",totalUsers:" ",pendingUsers:" ",approvedUsers:"",rejectedUsers:"",adminUsers:"",vipUsers:"VIP ",managerUsers:"",withdrawalRequests:" ",filterByStatus:" ",filterByRole:" ",searchPlaceholder:",  ...",allStatuses:" ",allRoles:" ",pending:" ",approved:"",rejected:"",user:" ",vip:"VIP ",manager:"",admin:"",viewDetails:" ",approve:"",reject:"",changeRole:" ",addPoints:" ",subtractPoints:" ",viewWithdrawals:"  ",refresh:"",joinDate:"",lastLogin:" ",points:"",status:"",role:"",actions:"",userDetails:"  ",roleChange:" ",pointManagement:" ",withdrawalManagement:"  ",selectNewRole:"  ",pointAmount:" ",description:"",reason:"",save:"",cancel:"",close:"",confirm:"",processing:" ...",noUsers:" ",noWithdrawals:"  ",messages:{approved:" .",rejected:" .",roleChanged:"  .",pointsAdded:" .",pointsSubtracted:" .",withdrawalProcessed:"  .",error:" ."}},ja:{title:"",subtitle:"",totalUsers:"",pendingUsers:"",approvedUsers:"",rejectedUsers:"",adminUsers:"",vipUsers:"VIP",managerUsers:"",withdrawalRequests:"",filterByStatus:"",filterByRole:"",searchPlaceholder:"...",allStatuses:"",allRoles:"",pending:"",approved:"",rejected:"",user:"",vip:"VIP",manager:"",admin:"",viewDetails:"",approve:"",reject:"",changeRole:"",addPoints:"",subtractPoints:"",viewWithdrawals:"",refresh:"",joinDate:"",lastLogin:"",points:"",status:"",role:"",actions:"",userDetails:"",roleChange:"",pointManagement:"",withdrawalManagement:"",selectNewRole:"",pointAmount:"",description:"",reason:"",save:"",cancel:"",close:"",confirm:"",processing:"...",noUsers:"",noWithdrawals:"",messages:{approved:"",rejected:"",roleChanged:"",pointsAdded:"",pointsSubtracted:"",withdrawalProcessed:"",error:""}}},b=H[d]||H.ko;g.useEffect(()=>{W(),B()},[]);const W=async()=>{try{y(!0);const ae=await Se.users.getAll();i(ae||[])}catch(ae){console.error("  :",ae),O(b.messages.error)}finally{y(!1)}},B=async()=>{try{const{data:ae,error:I}=await ne.from("withdrawal_requests").select("*").order("created_at",{ascending:!1});if(I){console.error("   :",I),u([]);return}if(ae&&ae.length>0){const ke=ae.map(_t=>_t.user_id),{data:Ee,error:_e}=await ne.from("user_profiles").select("user_id, name, email").in("user_id",ke);_e&&console.error("   :",_e);const pt=ae.map(_t=>({..._t,user_profiles:(Ee==null?void 0:Ee.find(Jt=>Jt.user_id===_t.user_id))||{name:"  ",email:"  "}}));u(pt)}else u([])}catch(ae){console.error("   :",ae),u([])}},de=async(ae,I)=>{try{N(!0),await Se.users.updateApprovalStatus(ae,I),await W(),K(I==="approved"?b.messages.approved:b.messages.rejected),setTimeout(()=>K(""),3e3)}catch(ke){console.error("  :",ke),O(b.messages.error),setTimeout(()=>O(""),3e3)}finally{N(!1)}},me=async()=>{if(!(!k||!le))try{N(!0);const{error:ae}=await ne.rpc("change_user_role",{target_user_id:k.user_id,new_role:le});if(ae)throw ae;await W(),K(b.messages.roleChanged),A(!1),$(null),D(""),setTimeout(()=>K(""),3e3)}catch(ae){console.error("  :",ae),O(b.messages.error),setTimeout(()=>O(""),3e3)}finally{N(!1)}},xe=async ae=>{if(!(!k||!X))try{N(!0);const I=parseInt(X);if(isNaN(I)||I<=0){O(d==="ko"?"   .":"");return}const ke=ae?I:-I,Ee=ue||(ae?d==="ko"?"  ":"":d==="ko"?"  ":""),{error:_e}=await ne.from("point_transactions").insert({user_id:k.user_id,amount:ke,transaction_type:ae?"admin_add":"admin_subtract",description:Ee,created_at:new Date().toISOString()});if(_e)throw _e;const{error:pt}=await ne.from("user_profiles").update({points:k.points+ke}).eq("user_id",k.user_id);if(pt)throw pt;await W(),K(ae?b.messages.pointsAdded:b.messages.pointsSubtracted),U(!1),$(null),ce(""),q(""),setTimeout(()=>K(""),3e3)}catch(I){console.error("  :",I),O(d==="ko"?"    .":""),setTimeout(()=>O(""),3e3)}finally{N(!1)}},te=async(ae,I,ke="")=>{try{N(!0);const{error:Ee}=await ne.from("withdrawal_requests").update({status:I,processed_at:new Date().toISOString(),admin_notes:ke}).eq("id",ae);if(Ee)throw Ee;await B(),K(b.messages.withdrawalProcessed),setTimeout(()=>K(""),3e3)}catch(Ee){console.error("   :",Ee),O(b.messages.error),setTimeout(()=>O(""),3e3)}finally{N(!1)}},be=m.filter(ae=>{var _e,pt;const I=!Q||ae.approval_status===Q,ke=!p||ae.user_role===p,Ee=!T||((_e=ae.name)==null?void 0:_e.toLowerCase().includes(T.toLowerCase()))||((pt=ae.email)==null?void 0:pt.toLowerCase().includes(T.toLowerCase()));return I&&ke&&Ee}),he=ae=>{const I={pending:{icon:Yt,color:"bg-yellow-100 text-yellow-800",text:b.pending},approved:{icon:He,color:"bg-green-100 text-green-800",text:b.approved},rejected:{icon:Ht,color:"bg-red-100 text-red-800",text:b.rejected}},ke=I[ae]||I.pending,Ee=ke.icon;return e.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${ke.color}`,children:[e.jsx(Ee,{className:"w-3 h-3 mr-1"}),ke.text]})},Ce=ae=>{const I={user:{icon:ca,color:"bg-gray-100 text-gray-800",text:b.user},vip:{icon:lh,color:"bg-purple-100 text-purple-800",text:b.vip},manager:{icon:Ls,color:"bg-blue-100 text-blue-800",text:b.manager},admin:{icon:rh,color:"bg-red-100 text-red-800",text:b.admin}},ke=I[ae]||I.user,Ee=ke.icon;return e.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${ke.color}`,children:[e.jsx(Ee,{className:"w-3 h-3 mr-1"}),ke.text]})},Qe={total:m.length,pending:m.filter(ae=>ae.approval_status==="pending").length,approved:m.filter(ae=>ae.approval_status==="approved").length,rejected:m.filter(ae=>ae.approval_status==="rejected").length,admin:m.filter(ae=>ae.user_role==="admin").length,vip:m.filter(ae=>ae.user_role==="vip").length,manager:m.filter(ae=>ae.user_role==="manager").length,withdrawals:c.filter(ae=>ae.status==="pending").length};return x?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Dt,{}),e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(We,{className:"w-8 h-8 animate-spin text-purple-600"})})]}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Dt,{}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:b.title}),e.jsx("p",{className:"mt-2 text-gray-600",children:b.subtitle})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("button",{onClick:()=>F(!0),className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[e.jsx(Fd,{className:"w-4 h-4 mr-2"}),b.viewWithdrawals,Qe.withdrawals>0&&e.jsx("span",{className:"ml-2 bg-red-500 text-white text-xs rounded-full px-2 py-1",children:Qe.withdrawals})]}),e.jsxs("button",{onClick:W,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-purple-600 hover:bg-purple-700",children:[e.jsx(rl,{className:"w-4 h-4 mr-2"}),b.refresh]})]})]})}),j&&e.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-md p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx(Qt,{className:"h-5 w-5 text-red-400"}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-red-800",children:j})})]})}),w&&e.jsx("div",{className:"mb-6 bg-green-50 border border-green-200 rounded-md p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx(He,{className:"h-5 w-5 text-green-400"}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-green-800",children:w})})]})}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-8 gap-4 mb-8",children:[e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ds,{className:"h-8 w-8 text-blue-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:b.totalUsers}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Qe.total})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Yt,{className:"h-8 w-8 text-yellow-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:b.pendingUsers}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Qe.pending})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ch,{className:"h-8 w-8 text-green-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:b.approvedUsers}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Qe.approved})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(kh,{className:"h-8 w-8 text-red-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:b.rejectedUsers}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Qe.rejected})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(lh,{className:"h-8 w-8 text-purple-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:b.vipUsers}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Qe.vip})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ls,{className:"h-8 w-8 text-blue-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:b.managerUsers}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Qe.manager})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(rh,{className:"h-8 w-8 text-red-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:b.adminUsers}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Qe.admin})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Fd,{className:"h-8 w-8 text-orange-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:b.withdrawalRequests}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Qe.withdrawals})]})]})})]}),e.jsx("div",{className:"bg-white rounded-lg shadow mb-6 p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:b.filterByStatus}),e.jsxs("select",{value:Q,onChange:ae=>S(ae.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500",children:[e.jsx("option",{value:"",children:b.allStatuses}),e.jsx("option",{value:"pending",children:b.pending}),e.jsx("option",{value:"approved",children:b.approved}),e.jsx("option",{value:"rejected",children:b.rejected})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:b.filterByRole}),e.jsxs("select",{value:p,onChange:ae=>C(ae.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500",children:[e.jsx("option",{value:"",children:b.allRoles}),e.jsx("option",{value:"user",children:b.user}),e.jsx("option",{value:"vip",children:b.vip}),e.jsx("option",{value:"manager",children:b.manager}),e.jsx("option",{value:"admin",children:b.admin})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:b.searchPlaceholder}),e.jsxs("div",{className:"relative",children:[e.jsx(Zl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",value:T,onChange:ae=>z(ae.target.value),placeholder:b.searchPlaceholder,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500"})]})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:b.status}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:b.role}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:b.points}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:b.joinDate}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:b.actions})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:be.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"px-6 py-12 text-center text-gray-500",children:b.noUsers})}):be.map(ae=>{var I;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:e.jsx("div",{className:"h-10 w-10 rounded-full bg-purple-100 flex items-center justify-center",children:e.jsx(ca,{className:"h-5 w-5 text-purple-600"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:ae.name||" "}),e.jsx("div",{className:"text-sm text-gray-500",children:ae.email})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:he(ae.approval_status)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:Ce(ae.user_role)}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[((I=ae.points)==null?void 0:I.toLocaleString())||0,"P"]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:ae.created_at?new Date(ae.created_at).toLocaleDateString("ko-KR"):"-"}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:[e.jsx("button",{onClick:()=>{$(ae),ee(!0)},className:"text-purple-600 hover:text-purple-900",children:e.jsx(Os,{className:"w-4 h-4"})}),ae.approval_status==="pending"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>de(ae.user_id,"approved"),disabled:f,className:"text-green-600 hover:text-green-900",children:e.jsx(He,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>de(ae.user_id,"rejected"),disabled:f,className:"text-red-600 hover:text-red-900",children:e.jsx(Ht,{className:"w-4 h-4"})})]}),e.jsx("button",{onClick:()=>{$(ae),D(ae.user_role),A(!0)},className:"text-blue-600 hover:text-blue-900",children:e.jsx(da,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>{$(ae),U(!0)},className:"text-orange-600 hover:text-orange-900",children:e.jsx(nh,{className:"w-4 h-4"})})]})]},ae.user_id)})})]})})}),v&&k&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:e.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:e.jsxs("div",{className:"mt-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:b.userDetails}),e.jsx("button",{onClick:()=>ee(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(Ht,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:""}),e.jsx("p",{className:"text-sm text-gray-900",children:k.name||" "})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:""}),e.jsx("p",{className:"text-sm text-gray-900",children:k.email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:b.status}),e.jsx("div",{className:"mt-1",children:he(k.approval_status)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:b.role}),e.jsx("div",{className:"mt-1",children:Ce(k.user_role)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:b.points}),e.jsxs("p",{className:"text-sm text-gray-900",children:[((Z=k.points)==null?void 0:Z.toLocaleString())||0,"P"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:b.joinDate}),e.jsx("p",{className:"text-sm text-gray-900",children:k.created_at?new Date(k.created_at).toLocaleDateString("ko-KR"):"-"})]})]}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsx("button",{onClick:()=>ee(!1),className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400",children:b.close})})]})})}),G&&k&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:e.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:e.jsxs("div",{className:"mt-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:b.roleChange}),e.jsx("button",{onClick:()=>A(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(Ht,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:b.selectNewRole}),e.jsxs("select",{value:le,onChange:ae=>D(ae.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500",children:[e.jsx("option",{value:"user",children:b.user}),e.jsx("option",{value:"vip",children:b.vip}),e.jsx("option",{value:"manager",children:b.manager}),e.jsx("option",{value:"admin",children:b.admin})]})]})}),e.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>A(!1),className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400",children:b.cancel}),e.jsx("button",{onClick:me,disabled:f,className:"px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 disabled:opacity-50",children:f?b.processing:b.save})]})]})})}),L&&k&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:e.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:e.jsxs("div",{className:"mt-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:b.pointManagement}),e.jsx("button",{onClick:()=>U(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(Ht,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{children:e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[" : ",((ge=k.points)==null?void 0:ge.toLocaleString())||0,"P"]})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:b.pointAmount}),e.jsx("input",{type:"number",value:X,onChange:ae=>ce(ae.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"  "})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:b.description}),e.jsx("textarea",{value:ue,onChange:ae=>q(ae.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:" / "})]})]}),e.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>U(!1),className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400",children:b.cancel}),e.jsxs("button",{onClick:()=>xe(!1),disabled:f||!X,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 disabled:opacity-50",children:[e.jsx(ep,{className:"w-4 h-4 mr-1 inline"}),b.subtractPoints]}),e.jsxs("button",{onClick:()=>xe(!0),disabled:f||!X,className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50",children:[e.jsx(nh,{className:"w-4 h-4 mr-1 inline"}),b.addPoints]})]})]})})}),oe&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:e.jsx("div",{className:"relative top-10 mx-auto p-5 border w-4/5 max-w-4xl shadow-lg rounded-md bg-white",children:e.jsxs("div",{className:"mt-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:b.withdrawalManagement}),e.jsx("button",{onClick:()=>F(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(Ht,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:b.reason}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:b.status}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:b.actions})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:c.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"px-6 py-12 text-center text-gray-500",children:b.noWithdrawals})}):c.map(ae=>{var I,ke;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:((I=ae.user_profiles)==null?void 0:I.name)||" "}),e.jsx("div",{className:"text-sm text-gray-500",children:(ke=ae.user_profiles)==null?void 0:ke.email})]}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"text-sm text-gray-900 max-w-xs truncate",children:ae.reason||" "})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(ae.created_at).toLocaleDateString("ko-KR")}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:he(ae.status)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:ae.status==="pending"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>te(ae.id,"approved"),disabled:f,className:"text-green-600 hover:text-green-900",children:e.jsx(He,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>te(ae.id,"rejected"),disabled:f,className:"text-red-600 hover:text-red-900",children:e.jsx(Ht,{className:"w-4 h-4"})})]})})]},ae.id)})})]})}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsx("button",{onClick:()=>F(!1),className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400",children:b.close})})]})})})]})]})},_h=d=>{if(!d)return"No PayPal info";const m=d.match(/PayPal:\s*([^)]+)\)/);if(m)return m[1].trim();const i=d.match(/PayPal:\s*([^\s,)]+)/);if(i)return i[1].trim();const c=d.match(/([a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,})/);return c?c[1]:"No PayPal info"},vj=()=>{var Qe;const{language:d}=Zt(),[m,i]=g.useState([]),[c,u]=g.useState([]),[x,y]=g.useState(!0),[f,N]=g.useState(!1),[j,O]=g.useState(""),[w,K]=g.useState(""),[Q,S]=g.useState("withdrawals"),[p,C]=g.useState(""),[T,z]=g.useState(""),[k,$]=g.useState(null),[v,ee]=g.useState([]),[G,A]=g.useState(!1),[L,U]=g.useState(!1),[oe,F]=g.useState({withdrawalId:null,reason:"",customReason:"",userEmail:"",userName:"",amount:0}),[X,ce]=g.useState(!1),[ue,q]=g.useState(!1),[le,D]=g.useState({status:"",admin_notes:"",transaction_id:""}),H={ko:{title:" ",subtitle:"   ",withdrawalRequests:" ",bankTransfers:" ",totalRequests:" ",pending:"",approved:"",rejected:"",completed:"",statusFilter:" ",allStatuses:" ",search:"",searchPlaceholder:",  ...",refresh:"",export:"Excel ",viewDetails:"",process:"",approve:"",reject:"",complete:"",bulkApprove:"  ",bulkComplete:"  ",selectAll:" ",selected:" ",rejectWithReason:"  ",rejectReason:" ",selectReason:" ",customReason:" ",customReasonPlaceholder:"   ...",sendRejectEmail:"  ",cancel:"",emailSent:"  ",emailSendFailed:"  "},ja:{title:"",subtitle:"",withdrawalRequests:"",bankTransfers:"",totalRequests:"",pending:"",approved:"",rejected:"",completed:"",statusFilter:"",allStatuses:"",search:"",searchPlaceholder:"...",refresh:"",export:"Excel ",viewDetails:"",process:"",approve:"",reject:"",complete:"",bulkApprove:"",bulkComplete:"",selectAll:"",selected:"",rejectWithReason:"",rejectReason:"",selectReason:"",customReason:"",customReasonPlaceholder:"...",sendRejectEmail:"",cancel:"",emailSent:"",emailSendFailed:""}},b=H[d]||H.ko,W=async()=>{var Z;try{y(!0),O(""),console.log("1:   ...");const{data:ge,error:ae}=await ne.from("point_transactions").select("*").lt("amount",0).order("created_at",{ascending:!1});if(ae)throw console.error("   :",ae),ae;const I=await Promise.all((ge||[]).map(async _e=>{const pt=_h(_e.description||"");let _t={name:"-",email:"-",phone:"-"};try{const{data:us}=await ne.from("user_profiles").select("name, email, phone").eq("id",_e.user_id).single();us&&(_t=us)}catch(us){console.warn("   :",us)}let Jt="pending";return _e.description&&_e.description.includes("[:]")?Jt="approved":_e.description&&_e.description.includes("[:]")?Jt="rejected":_e.description&&_e.description.includes("[:]")&&(Jt="completed"),{id:_e.id,user_id:_e.user_id,amount:Math.abs(_e.amount),method:"PayPal",paypal_email:pt,status:Jt,created_at:_e.created_at,user_profiles:_t,description:_e.description}})),ke=[],Ee=new Set;for(const _e of I){const pt=`${_e.user_id}-${_e.amount}-${_e.created_at.split("T")[0]}`;Ee.has(pt)||(Ee.add(pt),ke.push(_e))}i(ke),console.log("   :",ke.length),console.log("2:    ...");try{const _e=await((Z=database.bankTransfers)==null?void 0:Z.getAll())||[];u(_e),console.log("    :",_e.length)}catch(_e){console.warn("    :",_e),u([])}}catch(ge){console.error("  :",ge),O(`${b.error}: ${ge.message}`)}finally{y(!1),console.log("  ")}},B=async(Z,ge,ae="",I="")=>{try{N(!0),O(""),K(""),console.log("   :",Z,ge);const{data:ke,error:Ee}=await ne.from("point_transactions").select("*").eq("id",Z).single();if(Ee)throw console.error("  :",Ee),new Error(`   : ${Ee.message}`);console.log(" :",ke);let _e=ke.description||"";ge==="approved"?(_e=_e.replace(/\[:.*?\]/g,"")+" [:]",console.log("  ...")):ge==="rejected"?(_e=_e.replace(/\[:.*?\]/g,"")+` [:] [:${ae}]`,console.log("  ...")):ge==="completed"&&(_e=_e.replace(/\[:.*?\]/g,"")+" [:]",console.log("  ..."));const{data:pt,error:_t}=await ne.from("point_transactions").update({description:_e.trim()}).eq("id",Z).select();if(_t)throw console.error(" :",_t),_t;console.log(" :",pt),K(` ${ge==="approved"?"":ge==="rejected"?"":""}.`),setTimeout(()=>{W(),K("")},1500)}catch(ke){console.error("  :",ke),O(`  : ${ke.message}`)}finally{N(!1)}},de=Z=>{var ge,ae;F({withdrawalId:Z.id,reason:"",customReason:"",userEmail:((ge=Z.user_profiles)==null?void 0:ge.email)||"",userName:((ae=Z.user_profiles)==null?void 0:ae.name)||"",amount:Z.amount}),U(!0)},me=async()=>{try{N(!0);const Z=oe.reason==="custom"?oe.customReason:oe.reason;if(!Z){O("   .");return}await B(oe.withdrawalId,"rejected",Z);const ge={to:oe.userEmail,subject:"   ",template:"withdrawal_rejected",data:{userName:oe.userName,amount:oe.amount,reason:Z,date:new Date().toLocaleDateString("ko-KR")}};if((await fetch("/.netlify/functions/send-gmail",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ge)})).ok)K(b.emailSent),U(!1),F({withdrawalId:null,reason:"",customReason:"",userEmail:"",userName:"",amount:0});else throw new Error("  ")}catch(Z){console.error("   :",Z),O(b.emailSendFailed+": "+Z.message)}finally{N(!1)}},xe=async Z=>{if(v.length===0){O("  .");return}A(!0),O(""),K("");try{const ge=v.map(ae=>B(ae,Z));await Promise.all(ge),K(`${v.length}  ${Z==="approved"?"":""}.`),ee([])}catch(ge){O(`    : ${ge.message}`)}finally{A(!1)}},te=()=>{v.length===he.length?ee([]):ee(he.map(Z=>Z.id))},be=Z=>{ee(ge=>ge.includes(Z)?ge.filter(ae=>ae!==Z):[...ge,Z])},he=m.filter(Z=>{var I,ke,Ee,_e;const ge=!p||Z.status===p,ae=!T||((ke=(I=Z.user_profiles)==null?void 0:I.name)==null?void 0:ke.toLowerCase().includes(T.toLowerCase()))||((_e=(Ee=Z.user_profiles)==null?void 0:Ee.email)==null?void 0:_e.toLowerCase().includes(T.toLowerCase()));return ge&&ae}),Ce={total:m.length,pending:m.filter(Z=>Z.status==="pending").length,approved:m.filter(Z=>Z.status==="approved").length,rejected:m.filter(Z=>Z.status==="rejected").length,completed:m.filter(Z=>Z.status==="completed").length};return g.useEffect(()=>{W()},[]),x?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"  ..."})]})}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Dt,{}),e.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:b.title}),e.jsx("p",{className:"text-gray-600",children:b.subtitle})]}),j&&e.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:e.jsx("p",{className:"text-red-800",children:j})}),w&&e.jsx("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-lg",children:e.jsx("p",{className:"text-green-800",children:w})}),e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("nav",{className:"-mb-px flex space-x-8",children:[e.jsx("button",{onClick:()=>S("withdrawals"),className:`py-2 px-1 border-b-2 font-medium text-sm ${Q==="withdrawals"?"border-red-500 text-red-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:b.withdrawalRequests}),e.jsx("button",{onClick:()=>S("transfers"),className:`py-2 px-1 border-b-2 font-medium text-sm ${Q==="transfers"?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:b.bankTransfers})]})})}),Q==="withdrawals"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6",children:[e.jsx("div",{className:"bg-white p-4 rounded-lg shadow border",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(Yr,{className:"h-6 w-6 text-blue-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:b.totalRequests}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Ce.total})]})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg shadow border",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:e.jsx(rl,{className:"h-6 w-6 text-yellow-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:b.pending}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Ce.pending})]})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg shadow border",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(Zd,{className:"h-6 w-6 text-blue-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:b.approved}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Ce.approved})]})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg shadow border",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:e.jsx(Xt,{className:"h-6 w-6 text-red-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:b.rejected}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Ce.rejected})]})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg shadow border",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(Zd,{className:"h-6 w-6 text-green-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:b.completed}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Ce.completed})]})]})})]}),e.jsx("div",{className:"bg-white p-4 rounded-lg shadow border mb-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Dh,{className:"h-5 w-5 text-gray-400"}),e.jsx("label",{className:"text-sm font-medium text-gray-700",children:b.statusFilter}),e.jsxs("select",{value:p,onChange:Z=>C(Z.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:b.allStatuses}),e.jsx("option",{value:"pending",children:b.pending}),e.jsx("option",{value:"approved",children:b.approved}),e.jsx("option",{value:"rejected",children:b.rejected}),e.jsx("option",{value:"completed",children:b.completed})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Zl,{className:"h-5 w-5 text-gray-400"}),e.jsx("label",{className:"text-sm font-medium text-gray-700",children:b.search}),e.jsx("input",{type:"text",placeholder:b.searchPlaceholder,value:T,onChange:Z=>z(Z.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:W,disabled:x,className:"flex items-center gap-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 disabled:opacity-50",children:[e.jsx(rl,{className:`h-4 w-4 ${x?"animate-spin":""}`}),b.refresh]}),e.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700",children:[e.jsx(Ys,{className:"h-4 w-4"}),b.export]})]})]})}),v.length>0&&e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("span",{className:"text-sm font-medium text-blue-800",children:[v.length,b.selected]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>xe("approved"),disabled:G,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 text-sm",children:G?"...":b.bulkApprove}),e.jsx("button",{onClick:()=>xe("completed"),disabled:G,className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50 text-sm",children:G?"...":b.bulkComplete})]})]})}),e.jsxs("div",{className:"bg-white rounded-lg shadow border overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left",children:e.jsxs("button",{onClick:te,className:"flex items-center gap-2",children:[v.length===he.length&&he.length>0?e.jsx(ih,{className:"h-4 w-4 text-blue-600"}):e.jsx(ch,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:b.selectAll})]})}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:""})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:he.map(Z=>{var ge,ae,I,ke,Ee;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsx("button",{onClick:()=>be(Z.id),className:"flex items-center",children:v.includes(Z.id)?e.jsx(ih,{className:"h-4 w-4 text-blue-600"}):e.jsx(ch,{className:"h-4 w-4 text-gray-400"})})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:e.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-300 flex items-center justify-center",children:e.jsx("span",{className:"text-sm font-medium text-gray-700",children:((ae=(ge=Z.user_profiles)==null?void 0:ge.name)==null?void 0:ae.charAt(0))||"U"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:((I=Z.user_profiles)==null?void 0:I.name)||"Unknown User"}),e.jsx("div",{className:"text-sm text-gray-500",children:((ke=Z.user_profiles)==null?void 0:ke.email)||"No email"})]})]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-900",children:"PayPal"}),e.jsx("div",{className:"text-sm text-gray-500",children:_h(Z.description)})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["",(Ee=Z.amount)==null?void 0:Ee.toLocaleString()]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${Z.status==="pending"?"bg-yellow-100 text-yellow-800":Z.status==="approved"?"bg-blue-100 text-blue-800":Z.status==="rejected"?"bg-red-100 text-red-800":Z.status==="completed"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:Z.status==="pending"?b.pending:Z.status==="approved"?b.approved:Z.status==="rejected"?b.rejected:Z.status==="completed"?b.completed:Z.status})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(Z.created_at).toLocaleDateString("ko-KR")}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx("button",{onClick:()=>$(Z),className:"text-blue-600 hover:text-blue-900",children:e.jsx(Os,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>{$(Z),q(!0)},className:"text-gray-600 hover:text-gray-900",children:e.jsx(Th,{className:"h-4 w-4"})}),Z.status==="pending"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>B(Z.id,"approved"),disabled:f,className:"px-3 py-1 bg-blue-600 text-white rounded text-xs hover:bg-blue-700 disabled:opacity-50",children:b.approve}),e.jsx("button",{onClick:()=>de(Z),disabled:f,className:"px-3 py-1 bg-red-600 text-white rounded text-xs hover:bg-red-700 disabled:opacity-50",children:b.reject})]}),Z.status==="approved"&&e.jsx("button",{onClick:()=>B(Z.id,"completed"),disabled:f,className:"px-3 py-1 bg-green-600 text-white rounded text-xs hover:bg-green-700 disabled:opacity-50",children:b.complete})]})})]},Z.id)})})]})}),he.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-gray-400 mb-4",children:e.jsx(Yr,{className:"h-12 w-12 mx-auto"})}),e.jsx("p",{className:"text-gray-500",children:"  "})]})]})]}),Q==="transfers"&&e.jsx("div",{className:"bg-white rounded-lg shadow border p-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-gray-400 mb-4",children:e.jsx(Yr,{className:"h-12 w-12 mx-auto"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"  "}),e.jsx("p",{className:"text-gray-500",children:"    ."})]})}),L&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:b.rejectWithReason}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("strong",{children:":"})," ",oe.userName," (",oe.userEmail,")"]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("strong",{children:" :"})," ",(Qe=oe.amount)==null?void 0:Qe.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:b.rejectReason}),e.jsxs("select",{value:oe.reason,onChange:Z=>F(ge=>({...ge,reason:Z.target.value})),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:b.selectReason}),e.jsx("option",{value:"  ",children:"  "}),e.jsx("option",{value:"   ",children:"   "}),e.jsx("option",{value:"PayPal  ",children:"PayPal  "}),e.jsx("option",{value:" ",children:"  "}),e.jsx("option",{value:" ",children:" "}),e.jsx("option",{value:" ",children:"  "}),e.jsx("option",{value:"  ",children:"  "}),e.jsx("option",{value:"custom",children:b.customReason})]})]}),oe.reason==="custom"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),e.jsx("textarea",{value:oe.customReason,onChange:Z=>F(ge=>({...ge,customReason:Z.target.value})),placeholder:b.customReasonPlaceholder,rows:3,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[e.jsx("button",{onClick:()=>{U(!1),F({withdrawalId:null,reason:"",customReason:"",userEmail:"",userName:"",amount:0})},className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-md hover:bg-gray-50",children:b.cancel}),e.jsx("button",{onClick:me,disabled:f||!oe.reason||oe.reason==="custom"&&!oe.customReason,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 disabled:opacity-50",children:f?"...":b.sendRejectEmail})]})]})})]})]})},Nj=()=>{const{language:d}=Zt(),[m,i]=g.useState(!1),[c,u]=g.useState(!1),[x,y]=g.useState(""),[f,N]=g.useState(""),[j,O]=g.useState({smtpHost:"",smtpPort:"587",smtpSecure:!1,smtpUser:"",smtpPass:"",fromEmail:"",fromName:"CNEC Japan",replyToEmail:"",testEmail:""}),[w,K]=g.useState({siteName:"CNEC Japan",siteDescription:"K-Beauty  ",siteKeywords:"K-Beauty, , , , ",ogTitle:"CNEC Japan - K-Beauty  ",ogDescription:"",ogImage:"",twitterCard:"summary_large_image",twitterSite:"@cnecjapan",canonicalUrl:"https://cnec.jp",robotsTxt:`User-agent: *
Allow: /`,sitemapUrl:"https://cnec.jp/sitemap.xml",googleAnalyticsId:"",googleTagManagerId:"",facebookPixelId:"",metaAuthor:"CNEC Japan",metaViewport:"width=device-width, initial-scale=1.0",metaCharset:"UTF-8",favicon:"/favicon.ico",appleTouchIcon:"/apple-touch-icon.png"}),Q={ko:{title:" ",subtitle:"SEO,      ",emailSettings:" ",smtpSettings:"SMTP  ",emailGeneral:"  ",testEmail:" ",smtpHost:"SMTP ",smtpPort:"SMTP ",smtpSecure:"SSL/TLS ",smtpUser:"SMTP ",smtpPass:"SMTP ",fromEmail:" ",fromName:" ",replyToEmail:" ",testEmailAddress:"  ",sendTestEmail:"  ",seoSettings:"SEO ",basicSeo:" SEO ",socialMedia:"  ",analytics:"  ",technical:" ",siteName:" ",siteDescription:" ",siteKeywords:" ",ogTitle:"Open Graph ",ogDescription:"Open Graph ",ogImage:"Open Graph  URL",twitterCard:"Twitter  ",twitterSite:"Twitter  ",canonicalUrl:" URL",robotsTxt:"robots.txt ",sitemapUrl:" URL",googleAnalyticsId:"Google Analytics ID",googleTagManagerId:"Google Tag Manager ID",facebookPixelId:"Facebook Pixel ID",metaAuthor:"",metaViewport:"Viewport ",metaCharset:" ",favicon:"Favicon URL",appleTouchIcon:"Apple Touch Icon URL",save:"",cancel:"",loading:" ...",saving:" ...",error:" .",success:"  .",preview:"",reset:"",export:"",import:""},ja:{title:"",subtitle:"SEO",emailSettings:"",smtpSettings:"SMTP",emailGeneral:"",testEmail:"",smtpHost:"SMTP",smtpPort:"SMTP",smtpSecure:"SSL/TLS",smtpUser:"SMTP",smtpPass:"SMTP",fromEmail:"",fromName:"",replyToEmail:"",testEmailAddress:"",sendTestEmail:"",seoSettings:"SEO",basicSeo:"SEO",socialMedia:"",analytics:"",technical:"",siteName:"",siteDescription:"",siteKeywords:"",ogTitle:"Open Graph",ogDescription:"Open Graph",ogImage:"Open GraphURL",twitterCard:"Twitter",twitterSite:"Twitter",canonicalUrl:"URL",robotsTxt:"robots.txt",sitemapUrl:"URL",googleAnalyticsId:"Google Analytics ID",googleTagManagerId:"Google Tag Manager ID",facebookPixelId:"Facebook Pixel ID",metaAuthor:"",metaViewport:"Viewport",metaCharset:"",favicon:"Favicon URL",appleTouchIcon:"Apple Touch Icon URL",save:"",cancel:"",loading:"...",saving:"...",error:"",success:"",preview:"",reset:"",export:"",import:""}},S=Q[d]||Q.ko;g.useEffect(()=>{console.log("SystemSettings "),p()},[]);const p=async()=>{try{i(!0),y("");const G=localStorage.getItem("cnec_seo_settings");G&&K(JSON.parse(G));const A=localStorage.getItem("cnec_email_settings");A&&O(JSON.parse(A))}catch(G){console.error("  :",G),y(`${S.error}: ${G.message}`)}finally{i(!1)}},C=async()=>{try{u(!0),y(""),N(""),localStorage.setItem("cnec_seo_settings",JSON.stringify(w)),localStorage.setItem("cnec_email_settings",JSON.stringify(j)),N(S.success)}catch(G){console.error("  :",G),y(`  : ${G.message}`)}finally{u(!1)}},T=(G,A)=>{K(L=>({...L,[G]:A}))},z=(G,A)=>{O(L=>({...L,[G]:A}))},k=async()=>{try{if(!j.testEmail){y("   .");return}if(!j.smtpHost||!j.smtpUser||!j.smtpPass){y("SMTP   .");return}u(!0),y(""),N("");const G=`
        <div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;">
          <h2 style="color: #333;">CNEC Japan -  </h2>
          <p>!</p>
          <p>  CNEC Japan  SMTP       .</p>
          <div style="background-color: #f8f9fa; padding: 20px; border-radius: 8px; margin: 20px 0;">
            <h3 style="color: #28a745; margin-top: 0;">   !</h3>
            <p>SMTP      .</p>
          </div>
          <p><strong> :</strong> ${new Date().toLocaleString("ko-KR")}</p>
          <p><strong>:</strong> ${j.fromName||"CNEC Japan"}</p>
          <hr style="margin: 30px 0; border: none; border-top: 1px solid #eee;">
          <p style="color: #666; font-size: 12px;">
              CNEC Japan    .<br>
              ${j.replyToEmail||"support@cnec.jp"} .
          </p>
        </div>
      `;console.log(" Gmail SMTP   :",{to:j.testEmail,from:j.fromEmail,smtp:`${j.smtpHost}:${j.smtpPort}`,secure:j.smtpSecure});const A=await fetch("/.netlify/functions/send-gmail",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({emailSettings:{smtpHost:j.smtpHost,smtpPort:j.smtpPort,smtpUser:j.smtpUser,smtpPass:j.smtpPass,smtpSecure:j.smtpSecure,senderEmail:j.fromEmail,senderName:j.fromName,replyEmail:j.replyToEmail},testEmail:j.testEmail,subject:"CNEC Japan - Gmail  ",message:G})});if(!A.ok){const U=await A.json();throw new Error(U.details||U.error||"  .")}const L=await A.json();if(L.success)N(` Gmail    !
        
 : ${j.testEmail}
  ID: ${L.messageId}
  : ${L.service||"Gmail SMTP"}
  : ${new Date().toLocaleString("ko-KR")}

   ( ,   )  .
Gmail  : 500/,  100/`),console.log(" Gmail   :",L);else throw new Error(L.error||"Gmail  ")}catch(G){console.error("   :",G),y(`    : ${G.message}`)}finally{u(!1)}},$=()=>{confirm("   ?")&&K({siteName:"CNEC Japan",siteDescription:"K-Beauty  ",siteKeywords:"K-Beauty, , , , ",ogTitle:"CNEC Japan - K-Beauty  ",ogDescription:"",ogImage:"",twitterCard:"summary_large_image",twitterSite:"@cnecjapan",canonicalUrl:"https://cnec.jp",robotsTxt:`User-agent: *
Allow: /`,sitemapUrl:"https://cnec.jp/sitemap.xml",googleAnalyticsId:"",googleTagManagerId:"",facebookPixelId:"",metaAuthor:"CNEC Japan",metaViewport:"width=device-width, initial-scale=1.0",metaCharset:"UTF-8",favicon:"/favicon.ico",appleTouchIcon:"/apple-touch-icon.png"})},v=()=>{const G=JSON.stringify(w,null,2),A="data:application/json;charset=utf-8,"+encodeURIComponent(G),L="cnec_seo_settings.json",U=document.createElement("a");U.setAttribute("href",A),U.setAttribute("download",L),U.click()},ee=G=>{const A=G.target.files[0];if(A){const L=new FileReader;L.onload=U=>{try{const oe=JSON.parse(U.target.result);K(oe),N("  .")}catch{y("     .")}},L.readAsText(A)}};return m?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Dt,{}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(We,{className:"h-6 w-6 animate-spin"}),e.jsx("span",{children:S.loading})]})})})]}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Dt,{}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:S.title}),e.jsx("p",{className:"text-gray-600 mt-2",children:S.subtitle})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"file",accept:".json",onChange:ee,className:"hidden",id:"import-settings"}),e.jsxs("label",{htmlFor:"import-settings",className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 cursor-pointer",children:[e.jsx(ns,{className:"h-4 w-4 mr-2"}),S.import]}),e.jsxs("button",{onClick:v,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[e.jsx(ns,{className:"h-4 w-4 mr-2"}),S.export]}),e.jsxs("button",{onClick:$,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[e.jsx(rl,{className:"h-4 w-4 mr-2"}),S.reset]})]})]})}),x&&e.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-md p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx(Qt,{className:"h-5 w-5 text-red-400"}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-red-800",children:x})})]})}),f&&e.jsx("div",{className:"mb-6 bg-green-50 border border-green-200 rounded-md p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx(He,{className:"h-5 w-5 text-green-400"}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-green-800",children:f})})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(Oa,{className:"h-5 w-5 text-gray-400 mr-2"}),e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:S.emailSettings})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"text-md font-medium text-gray-800 mb-3",children:S.smtpSettings}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:S.smtpHost}),e.jsx("input",{type:"text",value:j.smtpHost,onChange:G=>z("smtpHost",G.target.value),placeholder:"smtp.gmail.com",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:S.smtpPort}),e.jsx("input",{type:"number",value:j.smtpPort,onChange:G=>z("smtpPort",G.target.value),placeholder:"587",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:S.smtpUser}),e.jsx("input",{type:"email",value:j.smtpUser,onChange:G=>z("smtpUser",G.target.value),placeholder:"your-email@gmail.com",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:S.smtpPass}),e.jsx("input",{type:"password",value:j.smtpPass,onChange:G=>z("smtpPass",G.target.value),placeholder:" ",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]})]}),e.jsx("div",{className:"mt-4",children:e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:j.smtpSecure,onChange:G=>z("smtpSecure",G.target.checked),className:"rounded border-gray-300 text-indigo-600 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:S.smtpSecure})]})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"text-md font-medium text-gray-800 mb-3",children:S.emailGeneral}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:S.fromEmail}),e.jsx("input",{type:"email",value:j.fromEmail,onChange:G=>z("fromEmail",G.target.value),placeholder:"noreply@cnec.jp",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:S.fromName}),e.jsx("input",{type:"text",value:j.fromName,onChange:G=>z("fromName",G.target.value),placeholder:"CNEC Japan",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:S.replyToEmail}),e.jsx("input",{type:"email",value:j.replyToEmail,onChange:G=>z("replyToEmail",G.target.value),placeholder:"support@cnec.jp",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-md font-medium text-gray-800 mb-3",children:S.testEmail}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("div",{className:"flex-1",children:e.jsx("input",{type:"email",value:j.testEmail,onChange:G=>z("testEmail",G.target.value),placeholder:"test@example.com",className:"block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})}),e.jsx("button",{onClick:k,disabled:c||!j.testEmail,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:c?e.jsxs(e.Fragment,{children:[e.jsx(We,{className:"h-4 w-4 mr-2 animate-spin"})," ..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Oa,{className:"h-4 w-4 mr-2"}),S.sendTestEmail]})})]})]})]})}),e.jsx("div",{className:"bg-white shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(Zl,{className:"h-5 w-5 text-gray-400 mr-2"}),e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:S.basicSeo})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:S.siteName}),e.jsx("input",{type:"text",value:w.siteName,onChange:G=>T("siteName",G.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:S.siteDescription}),e.jsx("textarea",{rows:3,value:w.siteDescription,onChange:G=>T("siteDescription",G.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:S.siteKeywords}),e.jsx("input",{type:"text",value:w.siteKeywords,onChange:G=>T("siteKeywords",G.target.value),placeholder:"1, 2, 3",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:S.canonicalUrl}),e.jsx("input",{type:"url",value:w.canonicalUrl,onChange:G=>T("canonicalUrl",G.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]})]})]})}),e.jsx("div",{className:"bg-white shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(so,{className:"h-5 w-5 text-gray-400 mr-2"}),e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:S.socialMedia})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:S.ogTitle}),e.jsx("input",{type:"text",value:w.ogTitle,onChange:G=>T("ogTitle",G.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:S.ogDescription}),e.jsx("textarea",{rows:3,value:w.ogDescription,onChange:G=>T("ogDescription",G.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:S.ogImage}),e.jsx("input",{type:"url",value:w.ogImage,onChange:G=>T("ogImage",G.target.value),placeholder:"https://example.com/image.jpg",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:S.twitterCard}),e.jsxs("select",{value:w.twitterCard,onChange:G=>T("twitterCard",G.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",children:[e.jsx("option",{value:"summary",children:"Summary"}),e.jsx("option",{value:"summary_large_image",children:"Summary Large Image"}),e.jsx("option",{value:"app",children:"App"}),e.jsx("option",{value:"player",children:"Player"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:S.twitterSite}),e.jsx("input",{type:"text",value:w.twitterSite,onChange:G=>T("twitterSite",G.target.value),placeholder:"@username",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]})]})]})]})}),e.jsx("div",{className:"bg-white shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(tp,{className:"h-5 w-5 text-gray-400 mr-2"}),e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:S.analytics})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:S.googleAnalyticsId}),e.jsx("input",{type:"text",value:w.googleAnalyticsId,onChange:G=>T("googleAnalyticsId",G.target.value),placeholder:"GA_MEASUREMENT_ID",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:S.googleTagManagerId}),e.jsx("input",{type:"text",value:w.googleTagManagerId,onChange:G=>T("googleTagManagerId",G.target.value),placeholder:"GTM-XXXXXXX",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:S.facebookPixelId}),e.jsx("input",{type:"text",value:w.facebookPixelId,onChange:G=>T("facebookPixelId",G.target.value),placeholder:"123456789012345",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]})]})]})}),e.jsx("div",{className:"bg-white shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(sp,{className:"h-5 w-5 text-gray-400 mr-2"}),e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:S.technical})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:S.robotsTxt}),e.jsx("textarea",{rows:4,value:w.robotsTxt,onChange:G=>T("robotsTxt",G.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm font-mono"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:S.sitemapUrl}),e.jsx("input",{type:"url",value:w.sitemapUrl,onChange:G=>T("sitemapUrl",G.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:S.favicon}),e.jsx("input",{type:"text",value:w.favicon,onChange:G=>T("favicon",G.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:S.appleTouchIcon}),e.jsx("input",{type:"text",value:w.appleTouchIcon,onChange:G=>T("appleTouchIcon",G.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:S.metaAuthor}),e.jsx("input",{type:"text",value:w.metaAuthor,onChange:G=>T("metaAuthor",G.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:S.metaViewport}),e.jsx("input",{type:"text",value:w.metaViewport,onChange:G=>T("metaViewport",G.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:S.metaCharset}),e.jsx("input",{type:"text",value:w.metaCharset,onChange:G=>T("metaCharset",G.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]})]})]})]})}),e.jsx("div",{className:"flex justify-end space-x-3",children:e.jsxs("button",{onClick:C,disabled:c,className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:[c?e.jsx(We,{className:"h-5 w-5 animate-spin mr-2"}):e.jsx(nl,{className:"h-5 w-5 mr-2"}),c?S.saving:S.save]})})]})]})]})},wj=async d=>{try{const{to:m,subject:i,text:c,html:u,template:x,templateData:y}=d;if(!m)throw new Error("   .");if(!c&&!u&&!x)throw new Error(" (text, html)   .");const f=await fetch("/.netlify/functions/send-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({to:m,subject:i,text:c,html:u,template:x,templateData:y})});if(!f.ok){const N=await f.json();throw new Error(N.error||"  .")}return await f.json()}catch(m){throw console.error("  :",m),m}},_j=()=>{const[d,m]=g.useState(!0),[i,c]=g.useState(!1),[u,x]=g.useState(!1),[y,f]=g.useState(""),[N,j]=g.useState(""),[O,w]=g.useState({email_user:"",email_from_name:"CNEC",email_templates:{welcome:"",applicationConfirmation:"",applicationApproved:"",applicationRejected:""}}),[K,Q]=g.useState({to:"",subject:" ",text:" CNEC    ."});g.useEffect(()=>{S()},[]);const S=async()=>{try{m(!0),f("");const T=await Se.system.getSettings();T&&w({email_user:T.email_user||"",email_from_name:T.email_from_name||"CNEC",email_templates:T.email_templates||{welcome:"",applicationConfirmation:"",applicationApproved:"",applicationRejected:""}})}catch(T){console.error("   :",T),f("     .")}finally{m(!1)}},p=async()=>{try{c(!0),f(""),j(""),await Se.system.updateSettings({email_user:O.email_user,email_from_name:O.email_from_name,email_templates:O.email_templates}),j("   .")}catch(T){console.error("   :",T),f("     .")}finally{c(!1)}},C=async()=>{try{if(x(!0),f(""),j(""),!K.to){f("   .");return}await wj({to:K.to,subject:K.subject,text:K.text}),j(`  ${K.to}  .`)}catch(T){console.error("   :",T),f(`   : ${T.message}`)}finally{x(!1)}};return d?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx(We,{className:"h-12 w-12 animate-spin text-purple-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"   ..."})]})}):e.jsx("div",{className:"space-y-6",children:e.jsxs(mt,{children:[e.jsxs(ht,{children:[e.jsxs(ft,{className:"text-2xl flex items-center",children:[e.jsx(Oa,{className:"h-6 w-6 mr-2"})," "]}),e.jsx(Vt,{children:"    "})]}),e.jsxs(gt,{children:[e.jsxs(Lh,{defaultValue:"settings",className:"space-y-6",children:[e.jsxs(Bh,{children:[e.jsx(Ql,{value:"settings",children:" "}),e.jsx(Ql,{value:"templates",children:" "}),e.jsx(Ql,{value:"test",children:" "})]}),e.jsx(Xd,{value:"settings",className:"space-y-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Me,{htmlFor:"email_user",children:" "}),e.jsx(rt,{id:"email_user",value:O.email_user,onChange:T=>w({...O,email_user:T.target.value}),placeholder:"example@gmail.com"}),e.jsx("p",{className:"text-sm text-gray-500",children:"   Gmail ."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Me,{htmlFor:"email_from_name",children:" "}),e.jsx(rt,{id:"email_from_name",value:O.email_from_name,onChange:T=>w({...O,email_from_name:T.target.value}),placeholder:"CNEC"}),e.jsx("p",{className:"text-sm text-gray-500",children:"   ."})]}),e.jsx("div",{className:"pt-4",children:e.jsxs(is,{className:"bg-amber-50 text-amber-800 border-amber-200",children:[e.jsx(Qt,{className:"h-4 w-4"}),e.jsxs(cs,{children:["Gmail  ,    Netlify    .",e.jsx("br",{})," : EMAIL_USER, EMAIL_PASS"]})]})})]})}),e.jsx(Xd,{value:"templates",className:"space-y-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Me,{htmlFor:"welcome_template",children:"  "}),e.jsx(sl,{id:"welcome_template",value:O.email_templates.welcome,onChange:T=>w({...O,email_templates:{...O.email_templates,welcome:T.target.value}}),placeholder:"  HTML ",rows:10}),e.jsxs("p",{className:"text-sm text-gray-500",children:["  : ",{name},", ",{loginUrl}]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Me,{htmlFor:"application_confirmation_template",children:"    "}),e.jsx(sl,{id:"application_confirmation_template",value:O.email_templates.applicationConfirmation,onChange:T=>w({...O,email_templates:{...O.email_templates,applicationConfirmation:T.target.value}}),placeholder:"    HTML ",rows:10}),e.jsxs("p",{className:"text-sm text-gray-500",children:["  : ",{name},", ",{campaignTitle},", ",{applicationDate},", ",{mypageUrl}]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Me,{htmlFor:"application_approved_template",children:"   "}),e.jsx(sl,{id:"application_approved_template",value:O.email_templates.applicationApproved,onChange:T=>w({...O,email_templates:{...O.email_templates,applicationApproved:T.target.value}}),placeholder:"   HTML ",rows:10}),e.jsxs("p",{className:"text-sm text-gray-500",children:["  : ",{name},", ",{campaignTitle},", ",{approvalDate},", ",{mypageUrl}]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Me,{htmlFor:"application_rejected_template",children:"   "}),e.jsx(sl,{id:"application_rejected_template",value:O.email_templates.applicationRejected,onChange:T=>w({...O,email_templates:{...O.email_templates,applicationRejected:T.target.value}}),placeholder:"   HTML ",rows:10}),e.jsxs("p",{className:"text-sm text-gray-500",children:["  : ",{name},", ",{campaignTitle},", ",{rejectionDate},", ",{rejectionReason},", ",{campaignsUrl}]})]})]})}),e.jsx(Xd,{value:"test",className:"space-y-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Me,{htmlFor:"test_email",children:"  "}),e.jsx(rt,{id:"test_email",value:K.to,onChange:T=>Q({...K,to:T.target.value}),placeholder:"test@example.com"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Me,{htmlFor:"test_subject",children:"  "}),e.jsx(rt,{id:"test_subject",value:K.subject,onChange:T=>Q({...K,subject:T.target.value}),placeholder:" "})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Me,{htmlFor:"test_content",children:"  "}),e.jsx(sl,{id:"test_content",value:K.text,onChange:T=>Q({...K,text:T.target.value}),placeholder:"  ",rows:5})]}),e.jsxs(Ne,{onClick:C,disabled:u||!K.to,children:[u&&e.jsx(We,{className:"h-4 w-4 mr-2 animate-spin"}),e.jsx(ap,{className:"h-4 w-4 mr-2"}),"  "]})]})})]}),N&&e.jsxs(is,{className:"mt-6 bg-green-50 text-green-800 border-green-200",children:[e.jsx(He,{className:"h-4 w-4"}),e.jsx(cs,{children:N})]}),y&&e.jsxs(is,{className:"mt-6",variant:"destructive",children:[e.jsx(Qt,{className:"h-4 w-4"}),e.jsx(cs,{children:y})]}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsxs(Ne,{onClick:p,disabled:i,children:[i&&e.jsx(We,{className:"h-4 w-4 mr-2 animate-spin"}),e.jsx(nl,{className:"h-4 w-4 mr-2"})," "]})})]})]})})};function Sj(){return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-12",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs(Fe,{to:"/",className:"inline-flex items-center text-purple-600 hover:text-purple-700 mb-6",children:[e.jsx(oa,{className:"w-4 h-4 mr-2"}),""]}),e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:""}),e.jsx("p",{className:"text-gray-600",children:": 2025114"})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 space-y-8",children:[e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"1. "}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:"CNEC Japan"})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"2. "}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"2.1 "}),e.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-4",children:[e.jsx("li",{children:""}),e.jsx("li",{children:"SNSInstagramYouTubeTikTok"}),e.jsx("li",{children:""}),e.jsx("li",{children:""}),e.jsx("li",{children:""})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"2.2 "}),e.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-4",children:[e.jsx("li",{children:"IP"}),e.jsx("li",{children:"Cookie"}),e.jsx("li",{children:""})]})]})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"3. "}),e.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-4",children:[e.jsx("li",{children:""}),e.jsx("li",{children:""}),e.jsx("li",{children:""}),e.jsx("li",{children:""}),e.jsx("li",{children:""}),e.jsx("li",{children:""}),e.jsx("li",{children:""})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"4. "}),e.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:""}),e.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-4",children:[e.jsx("li",{children:""}),e.jsx("li",{children:""}),e.jsx("li",{children:""}),e.jsx("li",{children:""})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"5. "}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:"SSL/TLS"})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"6. Cookie"}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:"CookieCookie"})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"7. "}),e.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:""}),e.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-4",children:[e.jsx("li",{children:""}),e.jsx("li",{children:""}),e.jsx("li",{children:""}),e.jsx("li",{children:""})]}),e.jsx("p",{className:"text-gray-700 leading-relaxed mt-4",children:""})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"8. "}),e.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:""}),e.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-4",children:[e.jsx("li",{children:"Google Analytics"}),e.jsx("li",{children:"Google OAuth"}),e.jsx("li",{children:"Supabase"}),e.jsx("li",{children:"Netlify"})]}),e.jsx("p",{className:"text-gray-700 leading-relaxed mt-4",children:""})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"9. "}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:"1818"})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"10. "}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:""})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"11. "}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[e.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:""}),e.jsxs("div",{className:"space-y-2 text-gray-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:":"})," CNEC Japan"]}),e.jsxs("p",{children:[e.jsx("strong",{children:":"})," privacy@cnec.jp"]}),e.jsxs("p",{children:[e.jsx("strong",{children:":"})," ",e.jsx("a",{href:"https://cnec.jp",className:"text-purple-600 hover:underline",children:"https://cnec.jp"})]})]})]})]})]}),e.jsx("div",{className:"mt-8 text-center",children:e.jsxs(Fe,{to:"/",className:"inline-flex items-center text-purple-600 hover:text-purple-700",children:[e.jsx(oa,{className:"w-4 h-4 mr-2"}),""]})})]})})}function kj(){return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-12",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs(Fe,{to:"/",className:"inline-flex items-center text-purple-600 hover:text-purple-700 mb-6",children:[e.jsx(oa,{className:"w-4 h-4 mr-2"}),""]}),e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:""}),e.jsx("p",{className:"text-gray-600",children:": 202518"})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 space-y-8",children:[e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"1"}),e.jsxs("div",{className:"text-gray-700 leading-relaxed space-y-3",children:[e.jsx("p",{children:"CNEC KoreaCNEC Japan"}),e.jsx("p",{children:""})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"2"}),e.jsxs("div",{className:"text-gray-700 leading-relaxed space-y-2",children:[e.jsx("p",{children:""}),e.jsxs("ul",{className:"list-disc list-inside ml-4 space-y-2",children:[e.jsx("li",{children:"K-Beauty"}),e.jsx("li",{children:""}),e.jsx("li",{children:"SNS"}),e.jsx("li",{children:""})]})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"3"}),e.jsxs("div",{className:"text-gray-700 leading-relaxed space-y-3",children:[e.jsx("p",{children:""}),e.jsx("p",{children:""}),e.jsxs("ul",{className:"list-disc list-inside ml-4 space-y-2",children:[e.jsx("li",{children:""}),e.jsx("li",{children:""}),e.jsx("li",{children:"18"}),e.jsx("li",{children:""})]})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"4"}),e.jsxs("div",{className:"text-gray-700 leading-relaxed space-y-3",children:[e.jsx("p",{children:""}),e.jsx("p",{children:""})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"5"}),e.jsxs("div",{className:"text-gray-700 leading-relaxed space-y-3",children:[e.jsx("p",{children:""}),e.jsxs("ul",{className:"list-disc list-inside ml-4 space-y-2",children:[e.jsx("li",{children:"K-Beauty"}),e.jsx("li",{children:""}),e.jsx("li",{children:"SNS"}),e.jsx("li",{children:""}),e.jsx("li",{children:""})]})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"6"}),e.jsxs("div",{className:"text-gray-700 leading-relaxed space-y-3",children:[e.jsx("p",{children:""}),e.jsx("p",{children:""}),e.jsxs("ul",{className:"list-disc list-inside ml-4 space-y-2",children:[e.jsx("li",{children:""}),e.jsx("li",{children:""}),e.jsx("li",{children:""}),e.jsx("li",{children:"PR"})]})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"7"}),e.jsxs("div",{className:"text-gray-700 leading-relaxed space-y-3",children:[e.jsx("p",{children:""}),e.jsx("p",{children:""}),e.jsx("p",{children:""})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"8"}),e.jsxs("div",{className:"text-gray-700 leading-relaxed space-y-3",children:[e.jsx("p",{children:""}),e.jsxs("ul",{className:"list-disc list-inside ml-4 space-y-2",children:[e.jsx("li",{children:""}),e.jsx("li",{children:"LINE"}),e.jsx("li",{children:""})]}),e.jsx("p",{className:"mt-3",children:"LINELINE"}),e.jsx("p",{children:"LINELINE"})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"9"}),e.jsxs("div",{className:"text-gray-700 leading-relaxed space-y-3",children:[e.jsx("p",{children:""}),e.jsxs("ul",{className:"list-disc list-inside ml-4 space-y-2",children:[e.jsx("li",{children:""}),e.jsx("li",{children:""}),e.jsx("li",{children:""}),e.jsx("li",{children:""}),e.jsx("li",{children:""}),e.jsx("li",{children:""}),e.jsx("li",{children:""}),e.jsx("li",{children:""}),e.jsx("li",{children:""})]})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"10"}),e.jsxs("div",{className:"text-gray-700 leading-relaxed space-y-3",children:[e.jsx("p",{children:""}),e.jsxs("ul",{className:"list-disc list-inside ml-4 space-y-2",children:[e.jsx("li",{children:""}),e.jsx("li",{children:""}),e.jsx("li",{children:""})]}),e.jsx("p",{className:"mt-3",children:""})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"11"}),e.jsxs("div",{className:"text-gray-700 leading-relaxed space-y-3",children:[e.jsx("p",{children:""}),e.jsx("p",{children:""})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"12"}),e.jsxs("div",{className:"text-gray-700 leading-relaxed space-y-3",children:[e.jsx("p",{children:""}),e.jsx("p",{children:""})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"13"}),e.jsxs("div",{className:"text-gray-700 leading-relaxed space-y-3",children:[e.jsx("p",{children:""}),e.jsx("p",{children:""}),e.jsx("p",{children:""})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"14"}),e.jsxs("div",{className:"text-gray-700 leading-relaxed space-y-3",children:[e.jsx("p",{children:""}),e.jsx("p",{children:""}),e.jsx("p",{children:""})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"15"}),e.jsxs("div",{className:"text-gray-700 leading-relaxed space-y-3",children:[e.jsx("p",{children:""}),e.jsx("p",{children:""})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"16"}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-6",children:e.jsxs("div",{className:"space-y-3 text-gray-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:":"})," CNEC Korea"]}),e.jsxs("p",{children:[e.jsx("strong",{children:":"})," CNEC Japan"]}),e.jsxs("p",{children:[e.jsx("strong",{children:":"})," mkt_biz@cnec.co.kr"]}),e.jsxs("p",{children:[e.jsx("strong",{children:":"})," ",e.jsx("a",{href:"https://cnec.jp",className:"text-purple-600 hover:underline",children:"https://cnec.jp"})]}),e.jsxs("p",{children:[e.jsx("strong",{children:":"})," K-Beauty"]}),e.jsxs("p",{children:[e.jsx("strong",{children:":"})," "]})]})})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:""}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[e.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:""}),e.jsxs("div",{className:"space-y-2 text-gray-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:":"})," CNEC KoreaCNEC Japan"]}),e.jsxs("p",{children:[e.jsx("strong",{children:":"})," mkt_biz@cnec.co.kr"]}),e.jsxs("p",{children:[e.jsx("strong",{children:":"})," ",e.jsx("a",{href:"https://cnec.jp",className:"text-purple-600 hover:underline",children:"https://cnec.jp"})]})]})]})]}),e.jsx("section",{children:e.jsxs("div",{className:"border-t border-gray-200 pt-6 text-gray-600 text-sm",children:[e.jsx("p",{children:""}),e.jsx("p",{children:"202518"})]})})]}),e.jsx("div",{className:"mt-8 text-center",children:e.jsxs(Fe,{to:"/",className:"inline-flex items-center text-purple-600 hover:text-purple-700",children:[e.jsx(oa,{className:"w-4 h-4 mr-2"}),""]})})]})})}const Cj=()=>{const{signInWithEmail:d,signInWithGoogle:m,user:i,loading:c}=ys(),u=os(),[x,y]=g.useState({email:"",password:""}),[f,N]=g.useState(""),[j,O]=g.useState(!1),[w,K]=g.useState(!1);g.useEffect(()=>{(async()=>{if(i)try{const{data:T}=await ne.from("user_profiles").select("role").eq("user_id",i.id).single();console.log("  :",T),(T==null?void 0:T.role)==="admin"||(T==null?void 0:T.role)==="manager"?(console.log("  ,   "),u("/dashboard")):console.log("  :",T==null?void 0:T.role)}catch(T){console.error("Admin access check error:",T)}})()},[i,u]);const Q=C=>{const{name:T,value:z}=C.target;y(k=>({...k,[T]:z}))},S=async()=>{try{O(!0),N(""),await m(),u("/dashboard")}catch(C){console.error("Google admin login error:",C),N("Google  .   .")}finally{O(!1)}},p=async C=>{if(C.preventDefault(),!x.email||!x.password){N("  .");return}try{O(!0),N("");const T=await d(x.email,x.password);console.log(" :",T),setTimeout(()=>{u("/dashboard")},1e3)}catch(T){console.error("Admin login error:",T),N(" .    .")}finally{O(!1)}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-purple-900 to-gray-900 flex items-center justify-center p-4",children:e.jsx("div",{className:"w-full max-w-md",children:e.jsxs(mt,{className:"shadow-2xl border-0 bg-white/10 backdrop-blur-md",children:[e.jsxs(ht,{className:"text-center pb-8",children:[e.jsx("div",{className:"w-16 h-16 bg-purple-600/20 rounded-full flex items-center justify-center mx-auto mb-4 backdrop-blur-sm",children:e.jsx(Jr,{className:"h-8 w-8 text-purple-300"})}),e.jsx(ft,{className:"text-2xl font-bold text-white",children:" "}),e.jsx(Vt,{className:"text-purple-200",children:"CNEC    "})]}),e.jsxs(gt,{className:"space-y-6",children:[e.jsxs("form",{onSubmit:p,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Me,{htmlFor:"email",className:"text-purple-200",children:" "}),e.jsxs("div",{className:"relative",children:[e.jsx(Oa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-purple-300"}),e.jsx(rt,{id:"email",name:"email",type:"email",placeholder:"admin@cnec.test",value:x.email,onChange:Q,className:"pl-10 bg-white/10 border-purple-300/30 text-white placeholder:text-purple-200/60 focus:border-purple-400",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Me,{htmlFor:"password",className:"text-purple-200",children:" "}),e.jsxs("div",{className:"relative",children:[e.jsx(Jl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-purple-300"}),e.jsx(rt,{id:"password",name:"password",type:w?"text":"password",placeholder:"",value:x.password,onChange:Q,className:"pl-10 pr-10 bg-white/10 border-purple-300/30 text-white placeholder:text-purple-200/60 focus:border-purple-400",required:!0}),e.jsx("button",{type:"button",onClick:()=>K(!w),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-purple-300 hover:text-purple-200",children:w?e.jsx(lp,{className:"h-4 w-4"}):e.jsx(Os,{className:"h-4 w-4"})})]})]}),f&&e.jsx(is,{variant:"destructive",className:"bg-red-500/20 border-red-400/30",children:e.jsx(cs,{className:"text-red-200",children:f})}),e.jsxs(Ne,{type:"submit",disabled:j||c,className:"w-full bg-purple-600 hover:bg-purple-700 text-white border-0",size:"lg",children:[j?e.jsx(We,{className:"h-4 w-4 animate-spin mr-2"}):e.jsx(Jr,{className:"h-4 w-4 mr-2"})," "]})]}),e.jsxs("div",{className:"relative my-6",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-purple-300/30"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-2 bg-gray-900 text-purple-200",children:""})})]}),e.jsxs(Ne,{onClick:S,disabled:j||c,variant:"outline",className:"w-full bg-white/10 border-purple-300/30 text-white hover:bg-white/20",size:"lg",children:[e.jsxs("svg",{className:"h-5 w-5 mr-2",viewBox:"0 0 24 24",children:[e.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google"]}),e.jsxs("div",{className:"text-center text-xs text-purple-300/60",children:[e.jsx("p",{children:"   ."}),e.jsx("p",{children:"       ."})]})]})]})})})},Aj=()=>{var ce,ue,q,le;const{id:d}=Kr(),[m]=yi(),i=os(),{user:c}=ys(),{language:u}=Zt(),x=d||m.get("campaign_id"),y=`campaign_application_draft_${x}`,[f,N]=g.useState(null),[j,O]=g.useState(null),[w,K]=g.useState(null),[Q,S]=g.useState(!0),[p,C]=g.useState(!1),[T,z]=g.useState(""),[k,$]=g.useState(""),[v,ee]=g.useState({answer_1:"",answer_2:"",answer_3:"",answer_4:"",additional_info:"",applicant_name:"",age:"",skin_type:"",postal_code:"",address:"",phone_number:"",instagram_url:"",youtube_url:"",tiktok_url:"",offline_visit_available:!1,offline_visit_notes:""}),G={ko:{title:" ",backToCampaigns:" ",campaignInfo:" ",applicationForm:" ",personalInfo:"",contactInfo:"   ",snsInfo:"SNS ",questions:" ",additionalInfo:" ",submit:"",submitting:" ...",alreadyApplied:"  ",applicationSuccess:"  !",requiredField:" ",optionalField:" ",reward:"",participants:" ",deadline:" ",period:" ",requirements:" ",description:" ",brand:"",category:"",profileIncomplete:"  ",goToProfile:" ",campaignNotFound:"   ",loginRequired:" ",name:"",email:"",age:"",skinType:"",postalCode:"",address:"",phoneNumber:"",instagramUrl:" URL",youtubeUrl:" URL",tiktokUrl:" URL",postalCodePlaceholder:": 123-4567",addressPlaceholder:"  ",phoneNumberPlaceholder:": 010-1234-5678",instagramPlaceholder:"https://instagram.com/username",youtubePlaceholder:"https://youtube.com/@username",tiktokPlaceholder:"https://tiktok.com/@username",postalCodeRequired:" ",addressRequired:" ",phoneRequired:" ",instagramRequired:" URL "},ja:{title:"",backToCampaigns:"",campaignInfo:"",applicationForm:"",personalInfo:"",contactInfo:"",snsInfo:"SNS",questions:"",additionalInfo:"",submit:"",submitting:"...",alreadyApplied:"",applicationSuccess:"",requiredField:"",optionalField:"",reward:"",participants:"",deadline:"",period:"",requirements:"",description:"",brand:"",category:"",profileIncomplete:"",goToProfile:"",campaignNotFound:"",loginRequired:"",name:"",email:"",age:"",skinType:"",postalCode:"",address:"",phoneNumber:"",instagramUrl:"Instagram URL",youtubeUrl:"YouTube URL",tiktokUrl:"TikTok URL",postalCodePlaceholder:": 123-4567",addressPlaceholder:"",phoneNumberPlaceholder:": 090-1234-5678",instagramPlaceholder:"https://instagram.com/username",youtubePlaceholder:"https://youtube.com/@username",tiktokPlaceholder:"https://tiktok.com/@username",postalCodeRequired:"",addressRequired:"",phoneRequired:"",instagramRequired:"Instagram URL",portraitRightsRequired:"",portraitRightsTitle:"",portraitRightsConsent:"CNEC1",portraitRightsConsentShort:"1"}},A=G[u]||G.ko;g.useEffect(()=>{if(!c){z(A.loginRequired),S(!1);return}if(!x){z(A.campaignNotFound),S(!1);return}L()},[c,x]),g.useEffect(()=>{if(x&&!Q&&!k&&Object.values(v).some(H=>H!==""&&H!==!1&&H!==null))try{localStorage.setItem(y,JSON.stringify({data:v,savedAt:new Date().toISOString()}))}catch(H){console.error("localStorage  :",H)}},[v,x,Q,k,y]);const L=async()=>{try{S(!0),z(""),console.log("  ");const D=await Se.campaigns.getById(x);if(console.log(" :",D),!D)throw new Error(A.campaignNotFound);N(D);const H=await Se.userProfiles.get(c.id);if(console.log(" :",H),O(H),H){const W=H.name||"",B=W&&W.includes("@")&&W.includes(".");ee(de=>({...de,applicant_name:B?"":W,age:H.age||"",skin_type:H.skin_type||"",instagram_url:H.instagram_url||"",youtube_url:H.youtube_url||"",tiktok_url:H.tiktok_url||""}))}const b=await Se.applications.getByUserAndCampaign(c.id,x);if(console.log(" :",b),K(b),b){const W=b.applicant_name||(H==null?void 0:H.name)||"",B=W&&W.includes("@")&&W.includes(".");ee(de=>({...de,applicant_name:B?"":W,answer_1:b.answer_1||"",answer_2:b.answer_2||"",answer_3:b.answer_3||"",answer_4:b.answer_4||"",additional_info:b.additional_info||"",age:b.age||(H==null?void 0:H.age)||"",skin_type:b.skin_type||(H==null?void 0:H.skin_type)||"",postal_code:b.postal_code||"",address:b.address||"",phone_number:b.phone_number||"",instagram_url:b.instagram_url||(H==null?void 0:H.instagram_url)||"",youtube_url:b.youtube_url||(H==null?void 0:H.youtube_url)||"",tiktok_url:b.tiktok_url||(H==null?void 0:H.tiktok_url)||"",offline_visit_available:b.offline_visit_available||!1,offline_visit_notes:b.offline_visit_notes||""}))}try{const W=localStorage.getItem(y);if(W){const{data:B,savedAt:de}=JSON.parse(W),me=new Date(de).getTime();(new Date().getTime()-me)/(1e3*60*60)<24&&B?(console.log("  :",B),ee(be=>({...be,...B}))):localStorage.removeItem(y)}}catch(W){console.error("localStorage  :",W)}}catch(D){console.error("  :",D),z(D.message||"    .")}finally{S(!1)}},U=()=>{var H,b,W,B;const D=[];return(!v.age||v.age.toString().trim()===""||v.age<1)&&D.push(""),(!v.skin_type||v.skin_type.trim()==="")&&D.push(""),v.postal_code.trim()||D.push(A.postalCodeRequired),v.address.trim()||D.push(A.addressRequired),v.phone_number.trim()||D.push(A.phoneRequired),v.instagram_url.trim()||D.push(A.instagramRequired),f!=null&&f.question1&&!((H=v.answer_1)!=null&&H.trim())&&D.push(u==="ja"?" 1":" 1 "),f!=null&&f.question2&&!((b=v.answer_2)!=null&&b.trim())&&D.push(u==="ja"?" 2":" 2 "),f!=null&&f.question3&&!((W=v.answer_3)!=null&&W.trim())&&D.push(u==="ja"?" 3":" 3 "),f!=null&&f.question4&&!((B=v.answer_4)!=null&&B.trim())&&D.push(u==="ja"?" 4":" 4 "),D},oe=async D=>{D.preventDefault();const H=U();if(H.length>0){z(H.join(`
`));return}try{C(!0),z("");const b={user_id:c.id,campaign_id:x,applicant_name:v.applicant_name,age:parseInt(v.age)||null,skin_type:v.skin_type,postal_code:v.postal_code,address:v.address,phone_number:v.phone_number,instagram_url:v.instagram_url,youtube_url:v.youtube_url||null,tiktok_url:v.tiktok_url||null,answer_1:v.answer_1||null,answer_2:v.answer_2||null,answer_3:v.answer_3||null,answer_4:v.answer_4||null,additional_info:v.additional_info||null,offline_visit_available:v.offline_visit_available||!1,offline_visit_notes:v.offline_visit_notes||null,status:"pending",created_at:new Date().toISOString(),updated_at:new Date().toISOString()};console.log(":",b),w?(console.log(":",w.id),await Se.applications.update(w.id,b)):(console.log(""),await Se.applications.create(b)),$(A.applicationSuccess);try{localStorage.removeItem(y)}catch(W){console.error("localStorage  :",W)}setTimeout(()=>{i("/")},3e3)}catch(b){console.error("  :",b),z("    .  .")}finally{C(!1)}},F=D=>D?new Date(D).toLocaleDateString(u==="ja"?"ja-JP":"ko-KR"):"",X=D=>D?`${D.toLocaleString()}`:"0";return Q?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"..."})]})}):T&&!f?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 flex items-center justify-center",children:e.jsxs("div",{className:"max-w-md mx-auto text-center",children:[e.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:T}),e.jsx("button",{onClick:()=>i("/"),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-purple-600 hover:bg-purple-700",children:A.backToCampaigns})]})}):k?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 flex items-center justify-center",children:e.jsxs("div",{className:"max-w-md mx-auto text-center",children:[e.jsxs("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4",children:[e.jsx("div",{className:"flex items-center justify-center mb-2",children:e.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),k]}),e.jsx("p",{className:"text-gray-600",children:"3    ..."})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("button",{onClick:()=>i("/"),className:"inline-flex items-center text-purple-600 hover:text-purple-800 mb-4",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})}),A.backToCampaigns]}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:A.title})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),A.campaignInfo]}),f&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:f.title}),e.jsxs("div",{className:"flex items-center mt-1 space-x-2",children:[e.jsxs("span",{className:"text-sm text-gray-500",children:[A.brand,":"]}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:f.brand}),f.category&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-gray-300",children:"|"}),e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:f.category})]})]})]}),f.description&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:A.description}),e.jsx("p",{className:"text-sm text-gray-600 whitespace-pre-wrap",children:f.description})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 text-green-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:A.reward}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:X(f.reward_amount)})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 text-blue-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:A.participants}),e.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[f.max_participants,""]})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 text-red-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3a4 4 0 118 0v4m-4 6v6m-4-6h8m-8 0H4a2 2 0 00-2 2v6a2 2 0 002 2h16a2 2 0 002-2v-6a2 2 0 00-2-2h-4"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:A.deadline}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:F(f.application_deadline)})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 text-purple-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3a4 4 0 118 0v4m-4 6v6m-4-6h8m-8 0H4a2 2 0 00-2 2v6a2 2 0 002 2h16a2 2 0 002-2v-6a2 2 0 00-2-2h-4"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:A.period}),e.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[F(f.start_date)," ~ ",F(f.end_date)]})]})]})]}),f.target_platforms&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:" SNS "}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(()=>{if(typeof f.target_platforms=="object"){const D=[];return f.target_platforms.instagram&&D.push("Instagram"),f.target_platforms.youtube&&D.push("YouTube"),f.target_platforms.tiktok&&D.push("TikTok"),D}return f.target_platforms||[]})().map(D=>e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:D},D))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:A.requirements}),e.jsxs("div",{className:"space-y-2",children:[f.requirements&&e.jsx("p",{className:"text-sm text-gray-600 whitespace-pre-wrap",children:f.requirements}),f.age_requirement&&e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx("span",{className:"font-medium mr-2",children:":"}),e.jsx("span",{children:f.age_requirement})]}),f.skin_type_requirement&&e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx("span",{className:"font-medium mr-2",children:":"}),e.jsx("span",{children:f.skin_type_requirement})]}),f.offline_visit_requirement&&e.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[e.jsxs("div",{className:"flex items-center text-sm text-blue-800 mb-1",children:[e.jsxs("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),e.jsx("span",{className:"font-medium",children:"  "})]}),e.jsx("p",{className:"text-sm text-blue-700 whitespace-pre-wrap",children:f.offline_visit_requirement})]})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),A.applicationForm]}),w&&e.jsx("div",{className:"bg-blue-100 border border-blue-400 text-blue-700 px-4 py-3 rounded mb-6",children:A.alreadyApplied}),T&&e.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6 whitespace-pre-wrap",children:T}),e.jsxs("form",{onSubmit:oe,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:A.personalInfo}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[A.name," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:v.applicant_name||(()=>{const D=(j==null?void 0:j.name)||"";return D.includes("@")&&D.includes(".")?"":D})(),onChange:D=>ee(H=>({...H,applicant_name:D.target.value})),placeholder:"",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-purple-500 focus:border-purple-500",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[A.email," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"email",value:(j==null?void 0:j.email)||(c==null?void 0:c.email)||"",disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[A.age," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",value:v.age||(j==null?void 0:j.age)||"",onChange:D=>ee(H=>({...H,age:D.target.value})),placeholder:"",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-purple-500 focus:border-purple-500",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[A.skinType," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:v.skin_type||(j==null?void 0:j.skin_type)||"",onChange:D=>ee(H=>({...H,skin_type:D.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-purple-500 focus:border-purple-500",required:!0,children:[e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"dry",children:""}),e.jsx("option",{value:"oily",children:""}),e.jsx("option",{value:"combination",children:""}),e.jsx("option",{value:"sensitive",children:""}),e.jsx("option",{value:"normal",children:""})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:A.contactInfo}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[A.postalCode," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:v.postal_code,onChange:D=>ee(H=>({...H,postal_code:D.target.value})),placeholder:A.postalCodePlaceholder,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-purple-500 focus:border-purple-500",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[A.phoneNumber," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"tel",value:v.phone_number,onChange:D=>ee(H=>({...H,phone_number:D.target.value})),placeholder:A.phoneNumberPlaceholder,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-purple-500 focus:border-purple-500",required:!0})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[A.address," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{value:v.address,onChange:D=>ee(H=>({...H,address:D.target.value})),placeholder:A.addressPlaceholder,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-purple-500 focus:border-purple-500",required:!0})]}),(f==null?void 0:f.offline_visit_requirement)&&e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"  "}),e.jsx("p",{className:"text-blue-800 text-sm mb-3",children:f.offline_visit_requirement}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{children:e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:v.offline_visit_available||!1,onChange:D=>ee(H=>({...H,offline_visit_available:D.target.checked})),className:"mr-2"}),e.jsx("span",{className:"text-sm",children:"     "})]})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:u==="ja"?"":"   "}),e.jsx("textarea",{value:v.offline_visit_notes||"",onChange:D=>ee(H=>({...H,offline_visit_notes:D.target.value})),placeholder:"",rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-purple-500 focus:border-purple-500"})]})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:A.snsInfo}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[A.instagramUrl," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"url",value:v.instagram_url,onChange:D=>ee(H=>({...H,instagram_url:D.target.value})),placeholder:A.instagramPlaceholder,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-purple-500 focus:border-purple-500",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:A.youtubeUrl}),e.jsx("input",{type:"url",value:v.youtube_url,onChange:D=>ee(H=>({...H,youtube_url:D.target.value})),placeholder:A.youtubePlaceholder,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-purple-500 focus:border-purple-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:A.tiktokUrl}),e.jsx("input",{type:"url",value:v.tiktok_url,onChange:D=>ee(H=>({...H,tiktok_url:D.target.value})),placeholder:A.tiktokPlaceholder,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-purple-500 focus:border-purple-500"})]})]})]})]}),((f==null?void 0:f.question1)||(f==null?void 0:f.question2)||(f==null?void 0:f.question3)||(f==null?void 0:f.question4))&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:A.questions}),e.jsxs("div",{className:"space-y-4",children:[(f==null?void 0:f.question1)&&e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[f.question1," ",e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),f.question1_type==="checkbox"?e.jsx("div",{className:"space-y-2",children:(ce=f.question1_options)==null?void 0:ce.split(",").map((D,H)=>{var b;return e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",value:D.trim(),checked:((b=v.answer_1)==null?void 0:b.includes(D.trim()))||!1,onChange:W=>{var me;const B=((me=v.answer_1)==null?void 0:me.split(",").map(xe=>xe.trim()).filter(Boolean))||[],de=W.target.checked?[...B,D.trim()]:B.filter(xe=>xe!==D.trim());ee(xe=>({...xe,answer_1:de.join(", ")}))},className:"mr-2"}),D.trim()]},H)})}):e.jsx("textarea",{value:v.answer_1||"",onChange:D=>ee(H=>({...H,answer_1:D.target.value})),rows:f.question1_type==="long"?5:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-purple-500 focus:border-purple-500",placeholder:"",required:!0})]}),(f==null?void 0:f.question2)&&e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[f.question2," ",e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),f.question2_type==="checkbox"?e.jsx("div",{className:"space-y-2",children:(ue=f.question2_options)==null?void 0:ue.split(",").map((D,H)=>{var b;return e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",value:D.trim(),checked:((b=v.answer_2)==null?void 0:b.includes(D.trim()))||!1,onChange:W=>{var me;const B=((me=v.answer_2)==null?void 0:me.split(",").map(xe=>xe.trim()).filter(Boolean))||[],de=W.target.checked?[...B,D.trim()]:B.filter(xe=>xe!==D.trim());ee(xe=>({...xe,answer_2:de.join(", ")}))},className:"mr-2"}),D.trim()]},H)})}):e.jsx("textarea",{value:v.answer_2||"",onChange:D=>ee(H=>({...H,answer_2:D.target.value})),rows:f.question2_type==="long"?5:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-purple-500 focus:border-purple-500",placeholder:"",required:!0})]}),(f==null?void 0:f.question3)&&e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[f.question3," ",e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),f.question3_type==="checkbox"?e.jsx("div",{className:"space-y-2",children:(q=f.question3_options)==null?void 0:q.split(",").map((D,H)=>{var b;return e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",value:D.trim(),checked:((b=v.answer_3)==null?void 0:b.includes(D.trim()))||!1,onChange:W=>{var me;const B=((me=v.answer_3)==null?void 0:me.split(",").map(xe=>xe.trim()).filter(Boolean))||[],de=W.target.checked?[...B,D.trim()]:B.filter(xe=>xe!==D.trim());ee(xe=>({...xe,answer_3:de.join(", ")}))},className:"mr-2"}),D.trim()]},H)})}):e.jsx("textarea",{value:v.answer_3||"",onChange:D=>ee(H=>({...H,answer_3:D.target.value})),rows:f.question3_type==="long"?5:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"",required:!0})]}),(f==null?void 0:f.question4)&&e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[f.question4," ",e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),f.question4_type==="checkbox"?e.jsx("div",{className:"space-y-2",children:(le=f.question4_options)==null?void 0:le.split(",").map((D,H)=>{var b;return e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",value:D.trim(),checked:((b=v.answer_4)==null?void 0:b.includes(D.trim()))||!1,onChange:W=>{var me;const B=((me=v.answer_4)==null?void 0:me.split(",").map(xe=>xe.trim()).filter(Boolean))||[],de=W.target.checked?[...B,D.trim()]:B.filter(xe=>xe!==D.trim());ee(xe=>({...xe,answer_4:de.join(", ")}))},className:"mr-2"}),D.trim()]},H)})}):e.jsx("textarea",{value:v.answer_4||"",onChange:D=>ee(H=>({...H,answer_4:D.target.value})),rows:f.question4_type==="long"?5:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-purple-500 focus:border-purple-500",placeholder:"",required:!0})]})]})]}),e.jsxs("div",{className:"bg-yellow-50 border-2 border-yellow-300 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-3",children:A.portraitRightsTitle}),e.jsx("div",{className:"bg-white rounded p-4 mb-4 text-sm text-gray-700 leading-relaxed",children:A.portraitRightsConsent}),e.jsxs("label",{className:"flex items-start cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:v.portrait_rights_consent,onChange:D=>ee(H=>({...H,portrait_rights_consent:D.target.checked})),className:"mt-1 mr-3 h-5 w-5 text-purple-600 focus:ring-purple-500 border-gray-300 rounded",required:!0}),e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[A.portraitRightsConsentShort," ",e.jsx("span",{className:"text-red-500",children:"*"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:A.additionalInfo}),e.jsx("textarea",{value:v.additional_info,onChange:D=>ee(H=>({...H,additional_info:D.target.value})),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-purple-500 focus:border-purple-500",placeholder:""})]}),e.jsx("div",{className:"pt-4",children:e.jsx("button",{type:"submit",disabled:p,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 disabled:opacity-50 disabled:cursor-not-allowed",children:p?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),A.submitting]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})}),A.submit]})})})]})]})]})]})})},Gt=({children:d,requireAdmin:m=!1})=>{var w;const{user:i,userProfile:c,loading:u}=ys(),[x,y]=g.useState(!0),[f,N]=g.useState(!1),[j,O]=g.useState(null);return g.useEffect(()=>{(async()=>{if(u){console.log("AuthContext  ...");return}if(!i){console.log("  -  "),y(!1);return}if(!m){console.log("   -  "),y(!1);return}console.log("===     ==="),console.log("User authenticated");try{if(c&&(console.log("AuthContext userProfile :",c),c.role==="admin"||c.is_admin===!0)){console.log(" AuthContext  "),N(!0),y(!1);return}console.log(" Supabase  ...");let{data:Q,error:S}=await ne.from("user_profiles").select("*").eq("user_id",i.id).maybeSingle();if(S)console.error("user_id  :",S);else if(Q&&(console.log("user_id  :",Q),Q.role==="admin"||Q.is_admin===!0)){console.log(" user_id   "),N(!0),y(!1);return}if(!Q){console.log("email ");const{data:p,error:C}=await ne.from("user_profiles").select("*").eq("email",i.email).maybeSingle();if(C)console.error("email  :",C);else if(p&&(console.log("email  :",p),p.role==="admin"||p.is_admin===!0)){console.log(" email   "),N(!0),y(!1);return}Q=p}if(Q){console.log("    :",{role:Q.role,is_admin:Q.is_admin}),N(!1),y(!1);return}console.warn("     -   "),N(!1),y(!1)}catch(Q){console.error("     :",Q),O(Q.message),N(!1),y(!1)}})()},[i,c,u,m]),u||x?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-purple-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 text-lg",children:"Loading..."}),m&&e.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Checking admin permissions..."})]})}):i?m&&!f?(console.log("    - Access Denied "),e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"max-w-md w-full bg-white shadow-lg rounded-lg p-8 text-center",children:[e.jsx("div",{className:"mb-4",children:e.jsx("svg",{className:"mx-auto h-12 w-12 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Denied"}),e.jsx("p",{className:"text-gray-600 mb-2",children:"You do not have permission to access this page. This page is only available to administrators."}),j&&e.jsxs("p",{className:"text-red-500 text-sm mb-4 font-mono bg-red-50 p-2 rounded",children:["Error: ",j]}),e.jsxs("div",{className:"text-xs text-gray-500 mb-6 bg-gray-50 p-3 rounded",children:[e.jsx("p",{className:"font-semibold mb-1",children:"Debug Info:"}),e.jsxs("p",{children:["Email: ",i==null?void 0:i.email]}),e.jsxs("p",{children:["User ID: ",(w=i==null?void 0:i.id)==null?void 0:w.substring(0,8),"..."]}),e.jsxs("p",{children:["Profile Loaded: ",c?"Yes":"No"]}),c&&e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:["Role: ",c.role||"none"]}),e.jsxs("p",{children:["Is Admin: ",c.is_admin?"true":"false"]})]})]}),e.jsx("button",{onClick:()=>window.location.href="/",className:"bg-purple-600 text-white px-6 py-2 rounded-lg hover:bg-purple-700 transition-colors",children:"Go to Home"})]})})):(console.log("   -  "),d):(console.log("   - /login "),e.jsx(Mg,{to:"/login",replace:!0}))},Tj=()=>{const{user:d}=ys();return g.useEffect(()=>(xh.start(),()=>{xh.stop()}),[]),e.jsx("div",{className:"App",children:e.jsxs(Og,{children:[e.jsx($e,{path:"/",element:e.jsx(Dp,{})}),e.jsx($e,{path:"/login",element:e.jsx(Op,{})}),e.jsx($e,{path:"/signup",element:e.jsx(Lp,{})}),e.jsx($e,{path:"/auth/callback",element:e.jsx(oj,{})}),e.jsx($e,{path:"/campaign-application",element:e.jsx(Aj,{})}),e.jsx($e,{path:"/mypage",element:e.jsx(cj,{})}),e.jsx($e,{path:"/profile",element:e.jsx(yh,{})}),e.jsx($e,{path:"/paypal-withdrawal",element:e.jsx(dj,{})}),e.jsx($e,{path:"/company-report/:campaignId",element:e.jsx(Fp,{})}),e.jsx($e,{path:"/profile-settings",element:e.jsx(yh,{})}),e.jsx($e,{path:"/secret-admin-login",element:e.jsx(Cj,{})}),e.jsx($e,{path:"/dashboard",element:e.jsx(Gt,{requireAdmin:!0,children:e.jsx(uj,{})})}),e.jsx($e,{path:"/campaigns-manage",element:e.jsx(Gt,{requireAdmin:!0,children:e.jsx(mj,{})})}),e.jsx($e,{path:"/campaign-create",element:e.jsx(Gt,{requireAdmin:!0,children:e.jsx(xj,{})})}),e.jsx($e,{path:"/applications-manage",element:e.jsx(Gt,{requireAdmin:!0,children:e.jsx(vh,{})})}),e.jsx($e,{path:"/applications-report",element:e.jsx(Gt,{requireAdmin:!0,children:e.jsx(vh,{})})}),e.jsx($e,{path:"/confirmed-creators",element:e.jsx(Gt,{requireAdmin:!0,children:e.jsx(fj,{})})}),e.jsx($e,{path:"/confirmed-creators/:campaignId",element:e.jsx(Gt,{requireAdmin:!0,children:e.jsx(pj,{})})}),e.jsx($e,{path:"/sns-uploads",element:e.jsx(Gt,{requireAdmin:!0,children:e.jsx(Nh,{})})}),e.jsx($e,{path:"/sns-uploads/:campaignId",element:e.jsx(Gt,{requireAdmin:!0,children:e.jsx(Nh,{})})}),e.jsx($e,{path:"/campaign-report/:campaignId",element:e.jsx(Gt,{requireAdmin:!0,children:e.jsx(bj,{})})}),e.jsx($e,{path:"/email-templates",element:e.jsx(Gt,{requireAdmin:!0,children:e.jsx(yj,{})})}),e.jsx($e,{path:"/users-manage",element:e.jsx(Gt,{requireAdmin:!0,children:e.jsx(wh,{})})}),e.jsx($e,{path:"/user-approval",element:e.jsx(Gt,{requireAdmin:!0,children:e.jsx(wh,{})})}),e.jsx($e,{path:"/withdrawals-manage",element:e.jsx(Gt,{requireAdmin:!0,children:e.jsx(vj,{})})}),e.jsx($e,{path:"/system-settings",element:e.jsx(Gt,{requireAdmin:!0,children:e.jsx(Nj,{})})}),e.jsx($e,{path:"/email-settings",element:e.jsx(Gt,{requireAdmin:!0,children:e.jsx(_j,{})})}),e.jsx($e,{path:"/privacy",element:e.jsx(Sj,{})}),e.jsx($e,{path:"/terms",element:e.jsx(kj,{})})]})})},Ej=()=>e.jsx(Rg,{children:e.jsx(hp,{children:e.jsx(gp,{children:e.jsx(Tj,{})})})});dp.createRoot(document.getElementById("root")).render(e.jsx(g.StrictMode,{children:e.jsx(Ej,{})}));
