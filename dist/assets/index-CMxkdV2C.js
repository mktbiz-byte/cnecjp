import{j as e,c as gp,R as bp,C as jp,a as vp,T as yp,D as Np,P as _p,O as wp,b as Sp,L as kp,d as Cp,e as Ap,f as Ep,g as Tp,I as Dp,V as qp,h as zp,i as Up,k as Mp,l as Rp,m as Lp,n as Op,S as Bp,o as Hp,p as Gp,q as Vp,r as Yp,s as Kp,t as Jp,u as Qp}from"./ui-Uwq7k8sq.js";import{d as Xp,e as $p,r as b,R as Zp,u as ws,L as Ye,f as Qh,g as _n,h as Qi,c as Fp,N as Ip,B as Wp,i as Pp,j as rt}from"./vendor-BN7lJaCf.js";import{c as eg}from"./supabase-BlVsaoIH.js";import{t as tg,c as sg,a as _o}from"./utils-CxhptImP.js";import{X as Et,M as Xi,S as wo,U as Fs,C as He,A as ho,T as Bi,P as xn,a as Dl,W as mn,L as st,D as gn,b as fo,c as os,Y as Aa,I as na,d as Kt,F as ds,e as lg,H as $i,f as ol,g as ia,h as fr,i as pr,j as po,k as So,B as ag,E as vt,l as Xh,m as $h,n as hr,o as Gi,p as as,q as rg,r as go,s as ng,t as hn,u as io,v as ql,w as ra,x as vs,y as ig,z as cs,G as Ms,J as Ca,K as ts,N as Vi,O as Yi,Q as cg,R as dg,V as cl,Z as Ki,_ as bo,$ as fn,a0 as Ea,a1 as ko,a2 as zl,a3 as og,a4 as co,a5 as jo,a6 as Hi,a7 as yh,a8 as Co,a9 as gr,aa as pn,ab as vo,ac as sl,ad as Zh,ae as Fh,af as Ih,ag as Nh,ah as ug,ai as mg,aj as xg,ak as Wh,al as _h,am as wh,an as hg,ao as Sh,ap as kh,aq as fg,ar as pg,as as gg}from"./icons-DFs47VHI.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const m of document.querySelectorAll('link[rel="modulepreload"]'))i(m);new MutationObserver(m=>{for(const x of m)if(x.type==="childList")for(const j of x.addedNodes)j.tagName==="LINK"&&j.rel==="modulepreload"&&i(j)}).observe(document,{childList:!0,subtree:!0});function n(m){const x={};return m.integrity&&(x.integrity=m.integrity),m.referrerPolicy&&(x.referrerPolicy=m.referrerPolicy),m.crossOrigin==="use-credentials"?x.credentials="include":m.crossOrigin==="anonymous"?x.credentials="omit":x.credentials="same-origin",x}function i(m){if(m.ep)return;m.ep=!0;const x=n(m);fetch(m.href,x)}})();var oo={exports:{}},on={},uo={exports:{}},mo={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ch;function bg(){return Ch||(Ch=1,(function(d){function o(G,W){var z=G.length;G.push(W);e:for(;0<z;){var D=z-1>>>1,g=G[D];if(0<m(g,W))G[D]=W,G[z]=g,z=D;else break e}}function n(G){return G.length===0?null:G[0]}function i(G){if(G.length===0)return null;var W=G[0],z=G.pop();if(z!==W){G[0]=z;e:for(var D=0,g=G.length,O=g>>>1;D<O;){var U=2*(D+1)-1,ie=G[U],A=U+1,re=G[A];if(0>m(ie,z))A<g&&0>m(re,ie)?(G[D]=re,G[A]=z,D=A):(G[D]=ie,G[U]=z,D=U);else if(A<g&&0>m(re,z))G[D]=re,G[A]=z,D=A;else break e}}return W}function m(G,W){var z=G.sortIndex-W.sortIndex;return z!==0?z:G.id-W.id}if(d.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var x=performance;d.unstable_now=function(){return x.now()}}else{var j=Date,h=j.now();d.unstable_now=function(){return j.now()-h}}var S=[],y=[],M=1,q=null,K=3,v=!1,C=!1,N=!1,Q=!1,k=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function $(G){for(var W=n(y);W!==null;){if(W.callback===null)i(y);else if(W.startTime<=G)i(y),W.sortIndex=W.expirationTime,o(S,W);else break;W=n(y)}}function _(G){if(N=!1,$(G),!C)if(n(S)!==null)C=!0,H||(H=!0,B());else{var W=n(y);W!==null&&ge(_,W.startTime-G)}}var H=!1,Y=-1,J=5,ne=-1;function X(){return Q?!0:!(d.unstable_now()-ne<J)}function he(){if(Q=!1,H){var G=d.unstable_now();ne=G;var W=!0;try{e:{C=!1,N&&(N=!1,T(Y),Y=-1),v=!0;var z=K;try{t:{for($(G),q=n(S);q!==null&&!(q.expirationTime>G&&X());){var D=q.callback;if(typeof D=="function"){q.callback=null,K=q.priorityLevel;var g=D(q.expirationTime<=G);if(G=d.unstable_now(),typeof g=="function"){q.callback=g,$(G),W=!0;break t}q===n(S)&&i(S),$(G)}else i(S);q=n(S)}if(q!==null)W=!0;else{var O=n(y);O!==null&&ge(_,O.startTime-G),W=!1}}break e}finally{q=null,K=z,v=!1}W=void 0}}finally{W?B():H=!1}}}var B;if(typeof w=="function")B=function(){w(he)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,ee=L.port2;L.port1.onmessage=he,B=function(){ee.postMessage(null)}}else B=function(){k(he,0)};function ge(G,W){Y=k(function(){G(d.unstable_now())},W)}d.unstable_IdlePriority=5,d.unstable_ImmediatePriority=1,d.unstable_LowPriority=4,d.unstable_NormalPriority=3,d.unstable_Profiling=null,d.unstable_UserBlockingPriority=2,d.unstable_cancelCallback=function(G){G.callback=null},d.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<G?Math.floor(1e3/G):5},d.unstable_getCurrentPriorityLevel=function(){return K},d.unstable_next=function(G){switch(K){case 1:case 2:case 3:var W=3;break;default:W=K}var z=K;K=W;try{return G()}finally{K=z}},d.unstable_requestPaint=function(){Q=!0},d.unstable_runWithPriority=function(G,W){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var z=K;K=G;try{return W()}finally{K=z}},d.unstable_scheduleCallback=function(G,W,z){var D=d.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?D+z:D):z=D,G){case 1:var g=-1;break;case 2:g=250;break;case 5:g=1073741823;break;case 4:g=1e4;break;default:g=5e3}return g=z+g,G={id:M++,callback:W,priorityLevel:G,startTime:z,expirationTime:g,sortIndex:-1},z>D?(G.sortIndex=z,o(y,G),n(S)===null&&G===n(y)&&(N?(T(Y),Y=-1):N=!0,ge(_,z-D))):(G.sortIndex=g,o(S,G),C||v||(C=!0,H||(H=!0,B()))),G},d.unstable_shouldYield=X,d.unstable_wrapCallback=function(G){var W=K;return function(){var z=K;K=W;try{return G.apply(this,arguments)}finally{K=z}}}})(mo)),mo}var Ah;function jg(){return Ah||(Ah=1,uo.exports=bg()),uo.exports}var Eh;function vg(){if(Eh)return on;Eh=1;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d=jg(),o=Xp(),n=$p();function i(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function m(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function x(t){var s=t,l=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(l=s.return),t=s.return;while(t)}return s.tag===3?l:null}function j(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function h(t){if(t.tag===31){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function S(t){if(x(t)!==t)throw Error(i(188))}function y(t){var s=t.alternate;if(!s){if(s=x(t),s===null)throw Error(i(188));return s!==t?null:t}for(var l=t,a=s;;){var r=l.return;if(r===null)break;var c=r.alternate;if(c===null){if(a=r.return,a!==null){l=a;continue}break}if(r.child===c.child){for(c=r.child;c;){if(c===l)return S(r),t;if(c===a)return S(r),s;c=c.sibling}throw Error(i(188))}if(l.return!==a.return)l=r,a=c;else{for(var u=!1,f=r.child;f;){if(f===l){u=!0,l=r,a=c;break}if(f===a){u=!0,a=r,l=c;break}f=f.sibling}if(!u){for(f=c.child;f;){if(f===l){u=!0,l=c,a=r;break}if(f===a){u=!0,a=c,l=r;break}f=f.sibling}if(!u)throw Error(i(189))}}if(l.alternate!==a)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?t:s}function M(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=M(t),s!==null)return s;t=t.sibling}return null}var q=Object.assign,K=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),Q=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),T=Symbol.for("react.consumer"),w=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),ne=Symbol.for("react.activity"),X=Symbol.for("react.memo_cache_sentinel"),he=Symbol.iterator;function B(t){return t===null||typeof t!="object"?null:(t=he&&t[he]||t["@@iterator"],typeof t=="function"?t:null)}var L=Symbol.for("react.client.reference");function ee(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===L?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case N:return"Fragment";case k:return"Profiler";case Q:return"StrictMode";case _:return"Suspense";case H:return"SuspenseList";case ne:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case C:return"Portal";case w:return t.displayName||"Context";case T:return(t._context.displayName||"Context")+".Consumer";case $:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Y:return s=t.displayName||null,s!==null?s:ee(t.type)||"Memo";case J:s=t._payload,t=t._init;try{return ee(t(s))}catch{}}return null}var ge=Array.isArray,G=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z={pending:!1,data:null,method:null,action:null},D=[],g=-1;function O(t){return{current:t}}function U(t){0>g||(t.current=D[g],D[g]=null,g--)}function ie(t,s){g++,D[g]=t.current,t.current=s}var A=O(null),re=O(null),I=O(null),ye=O(null);function fe(t,s){switch(ie(I,s),ie(re,t),ie(A,null),s.nodeType){case 9:case 11:t=(t=s.documentElement)&&(t=t.namespaceURI)?Kx(t):0;break;default:if(t=s.tagName,s=s.namespaceURI)s=Kx(s),t=Jx(s,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}U(A),ie(A,t)}function De(){U(A),U(re),U(I)}function Ge(t){t.memoizedState!==null&&ie(ye,t);var s=A.current,l=Jx(s,t.type);s!==l&&(ie(re,t),ie(A,l))}function oe(t){re.current===t&&(U(A),U(re)),ye.current===t&&(U(ye),rn._currentValue=z)}var Ne,te;function _e(t){if(Ne===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);Ne=s&&s[1]||"",te=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ne+t+te}var qe=!1;function Me(t,s){if(!t||qe)return"";qe=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(s){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(le){var P=le}Reflect.construct(t,[],ue)}else{try{ue.call()}catch(le){P=le}t.call(ue.prototype)}}else{try{throw Error()}catch(le){P=le}(ue=t())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(le){if(le&&P&&typeof le.stack=="string")return[le.stack,P.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var c=a.DetermineComponentFrameRoot(),u=c[0],f=c[1];if(u&&f){var E=u.split(`
`),F=f.split(`
`);for(r=a=0;a<E.length&&!E[a].includes("DetermineComponentFrameRoot");)a++;for(;r<F.length&&!F[r].includes("DetermineComponentFrameRoot");)r++;if(a===E.length||r===F.length)for(a=E.length-1,r=F.length-1;1<=a&&0<=r&&E[a]!==F[r];)r--;for(;1<=a&&0<=r;a--,r--)if(E[a]!==F[r]){if(a!==1||r!==1)do if(a--,r--,0>r||E[a]!==F[r]){var ce=`
`+E[a].replace(" at new "," at ");return t.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",t.displayName)),ce}while(1<=a&&0<=r);break}}}finally{qe=!1,Error.prepareStackTrace=l}return(l=t?t.displayName||t.name:"")?_e(l):""}function we(t,s){switch(t.tag){case 26:case 27:case 5:return _e(t.type);case 16:return _e("Lazy");case 13:return t.child!==s&&s!==null?_e("Suspense Fallback"):_e("Suspense");case 19:return _e("SuspenseList");case 0:case 15:return Me(t.type,!1);case 11:return Me(t.type.render,!1);case 1:return Me(t.type,!0);case 31:return _e("Activity");default:return""}}function ct(t){try{var s="",l=null;do s+=we(t,l),l=t,t=t.return;while(t);return s}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var je=Object.prototype.hasOwnProperty,bt=d.unstable_scheduleCallback,me=d.unstable_cancelCallback,Ve=d.unstable_shouldYield,Rs=d.unstable_requestPaint,se=d.unstable_now,$t=d.unstable_getCurrentPriorityLevel,Ul=d.unstable_ImmediatePriority,ll=d.unstable_UserBlockingPriority,xe=d.unstable_NormalPriority,Se=d.unstable_LowPriority,Ce=d.unstable_IdlePriority,zt=d.log,Ut=d.unstable_setDisableYieldValue,ze=null,Re=null;function Ze(t){if(typeof zt=="function"&&Ut(t),Re&&typeof Re.setStrictMode=="function")try{Re.setStrictMode(ze,t)}catch{}}var mt=Math.clz32?Math.clz32:us,Is=Math.log,Ls=Math.LN2;function us(t){return t>>>=0,t===0?32:31-(Is(t)/Ls|0)|0}var ms=256,ul=262144,Ml=4194304;function Os(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ks(t,s,l){var a=t.pendingLanes;if(a===0)return 0;var r=0,c=t.suspendedLanes,u=t.pingedLanes;t=t.warmLanes;var f=a&134217727;return f!==0?(a=f&~c,a!==0?r=Os(a):(u&=f,u!==0?r=Os(u):l||(l=f&~t,l!==0&&(r=Os(l))))):(f=a&~c,f!==0?r=Os(f):u!==0?r=Os(u):l||(l=a&~t,l!==0&&(r=Os(l)))),r===0?0:s!==0&&s!==r&&(s&c)===0&&(c=r&-r,l=s&-s,c>=l||c===32&&(l&4194048)!==0)?s:r}function xs(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function Ta(t,s){switch(t){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function br(){var t=Ml;return Ml<<=1,(Ml&62914560)===0&&(Ml=4194304),t}function p(t){for(var s=[],l=0;31>l;l++)s.push(t);return s}function pe(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function yt(t,s,l,a,r,c){var u=t.pendingLanes;t.pendingLanes=l,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=l,t.entangledLanes&=l,t.errorRecoveryDisabledLanes&=l,t.shellSuspendCounter=0;var f=t.entanglements,E=t.expirationTimes,F=t.hiddenUpdates;for(l=u&~l;0<l;){var ce=31-mt(l),ue=1<<ce;f[ce]=0,E[ce]=-1;var P=F[ce];if(P!==null)for(F[ce]=null,ce=0;ce<P.length;ce++){var le=P[ce];le!==null&&(le.lane&=-536870913)}l&=~ue}a!==0&&Fe(t,a,0),c!==0&&r===0&&t.tag!==0&&(t.suspendedLanes|=c&~(u&~s))}function Fe(t,s,l){t.pendingLanes|=s,t.suspendedLanes&=~s;var a=31-mt(s);t.entangledLanes|=s,t.entanglements[a]=t.entanglements[a]|1073741824|l&261930}function ft(t,s){var l=t.entangledLanes|=s;for(t=t.entanglements;l;){var a=31-mt(l),r=1<<a;r&s|t[a]&s&&(t[a]|=s),l&=~r}}function ss(t,s){var l=s&-s;return l=(l&42)!==0?1:Zt(l),(l&(t.suspendedLanes|s))!==0?0:l}function Zt(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ht(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ie(){var t=W.p;return t!==0?t:(t=window.event,t===void 0?32:hh(t.type))}function Ft(t,s){var l=W.p;try{return W.p=t,s()}finally{W.p=l}}var Nt=Math.random().toString(36).slice(2),Ue="__reactFiber$"+Nt,Jt="__reactProps$"+Nt,Bs="__reactContainer$"+Nt,Tt="__reactEvents$"+Nt,ml="__reactListeners$"+Nt,jr="__reactHandles$"+Nt,Do="__reactResources$"+Nt,vr="__reactMarker$"+Nt;function Pi(t){delete t[Ue],delete t[Jt],delete t[Tt],delete t[ml],delete t[jr]}function Da(t){var s=t[Ue];if(s)return s;for(var l=t.parentNode;l;){if(s=l[Bs]||l[Ue]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(t=Wx(t);t!==null;){if(l=t[Ue])return l;t=Wx(t)}return s}t=l,l=t.parentNode}return null}function qa(t){if(t=t[Ue]||t[Bs]){var s=t.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return t}return null}function yr(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(i(33))}function za(t){var s=t[Do];return s||(s=t[Do]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Qt(t){t[vr]=!0}var qo=new Set,zo={};function ca(t,s){Ua(t,s),Ua(t+"Capture",s)}function Ua(t,s){for(zo[t]=s,t=0;t<s.length;t++)qo.add(s[t])}var i0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Uo={},Mo={};function c0(t){return je.call(Mo,t)?!0:je.call(Uo,t)?!1:i0.test(t)?Mo[t]=!0:(Uo[t]=!0,!1)}function wn(t,s,l){if(c0(s))if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var a=s.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+l)}}function Sn(t,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+l)}}function xl(t,s,l,a){if(a===null)t.removeAttribute(l);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(l);return}t.setAttributeNS(s,l,""+a)}}function Hs(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ro(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function d0(t,s,l){var a=Object.getOwnPropertyDescriptor(t.constructor.prototype,s);if(!t.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var r=a.get,c=a.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return r.call(this)},set:function(u){l=""+u,c.call(this,u)}}),Object.defineProperty(t,s,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(u){l=""+u},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function ec(t){if(!t._valueTracker){var s=Ro(t)?"checked":"value";t._valueTracker=d0(t,s,""+t[s])}}function Lo(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var l=s.getValue(),a="";return t&&(a=Ro(t)?t.checked?"true":"false":t.value),t=a,t!==l?(s.setValue(t),!0):!1}function kn(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var o0=/[\n"\\]/g;function Gs(t){return t.replace(o0,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function tc(t,s,l,a,r,c,u,f){t.name="",u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"?t.type=u:t.removeAttribute("type"),s!=null?u==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+Hs(s)):t.value!==""+Hs(s)&&(t.value=""+Hs(s)):u!=="submit"&&u!=="reset"||t.removeAttribute("value"),s!=null?sc(t,u,Hs(s)):l!=null?sc(t,u,Hs(l)):a!=null&&t.removeAttribute("value"),r==null&&c!=null&&(t.defaultChecked=!!c),r!=null&&(t.checked=r&&typeof r!="function"&&typeof r!="symbol"),f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"?t.name=""+Hs(f):t.removeAttribute("name")}function Oo(t,s,l,a,r,c,u,f){if(c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(t.type=c),s!=null||l!=null){if(!(c!=="submit"&&c!=="reset"||s!=null)){ec(t);return}l=l!=null?""+Hs(l):"",s=s!=null?""+Hs(s):l,f||s===t.value||(t.value=s),t.defaultValue=s}a=a??r,a=typeof a!="function"&&typeof a!="symbol"&&!!a,t.checked=f?t.checked:!!a,t.defaultChecked=!!a,u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(t.name=u),ec(t)}function sc(t,s,l){s==="number"&&kn(t.ownerDocument)===t||t.defaultValue===""+l||(t.defaultValue=""+l)}function Ma(t,s,l,a){if(t=t.options,s){s={};for(var r=0;r<l.length;r++)s["$"+l[r]]=!0;for(l=0;l<t.length;l++)r=s.hasOwnProperty("$"+t[l].value),t[l].selected!==r&&(t[l].selected=r),r&&a&&(t[l].defaultSelected=!0)}else{for(l=""+Hs(l),s=null,r=0;r<t.length;r++){if(t[r].value===l){t[r].selected=!0,a&&(t[r].defaultSelected=!0);return}s!==null||t[r].disabled||(s=t[r])}s!==null&&(s.selected=!0)}}function Bo(t,s,l){if(s!=null&&(s=""+Hs(s),s!==t.value&&(t.value=s),l==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=l!=null?""+Hs(l):""}function Ho(t,s,l,a){if(s==null){if(a!=null){if(l!=null)throw Error(i(92));if(ge(a)){if(1<a.length)throw Error(i(93));a=a[0]}l=a}l==null&&(l=""),s=l}l=Hs(s),t.defaultValue=l,a=t.textContent,a===l&&a!==""&&a!==null&&(t.value=a),ec(t)}function Ra(t,s){if(s){var l=t.firstChild;if(l&&l===t.lastChild&&l.nodeType===3){l.nodeValue=s;return}}t.textContent=s}var u0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Go(t,s,l){var a=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?a?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":a?t.setProperty(s,l):typeof l!="number"||l===0||u0.has(s)?s==="float"?t.cssFloat=l:t[s]=(""+l).trim():t[s]=l+"px"}function Vo(t,s,l){if(s!=null&&typeof s!="object")throw Error(i(62));if(t=t.style,l!=null){for(var a in l)!l.hasOwnProperty(a)||s!=null&&s.hasOwnProperty(a)||(a.indexOf("--")===0?t.setProperty(a,""):a==="float"?t.cssFloat="":t[a]="");for(var r in s)a=s[r],s.hasOwnProperty(r)&&l[r]!==a&&Go(t,r,a)}else for(var c in s)s.hasOwnProperty(c)&&Go(t,c,s[c])}function lc(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var m0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),x0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Cn(t){return x0.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function hl(){}var ac=null;function rc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var La=null,Oa=null;function Yo(t){var s=qa(t);if(s&&(t=s.stateNode)){var l=t[Jt]||null;e:switch(t=s.stateNode,s.type){case"input":if(tc(t,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=t;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Gs(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var a=l[s];if(a!==t&&a.form===t.form){var r=a[Jt]||null;if(!r)throw Error(i(90));tc(a,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(s=0;s<l.length;s++)a=l[s],a.form===t.form&&Lo(a)}break e;case"textarea":Bo(t,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&Ma(t,!!l.multiple,s,!1)}}}var nc=!1;function Ko(t,s,l){if(nc)return t(s,l);nc=!0;try{var a=t(s);return a}finally{if(nc=!1,(La!==null||Oa!==null)&&(hi(),La&&(s=La,t=Oa,Oa=La=null,Yo(s),t)))for(s=0;s<t.length;s++)Yo(t[s])}}function Nr(t,s){var l=t.stateNode;if(l===null)return null;var a=l[Jt]||null;if(a===null)return null;l=a[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(t=t.type,a=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!a;break e;default:t=!1}if(t)return null;if(l&&typeof l!="function")throw Error(i(231,s,typeof l));return l}var fl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ic=!1;if(fl)try{var _r={};Object.defineProperty(_r,"passive",{get:function(){ic=!0}}),window.addEventListener("test",_r,_r),window.removeEventListener("test",_r,_r)}catch{ic=!1}var Rl=null,cc=null,An=null;function Jo(){if(An)return An;var t,s=cc,l=s.length,a,r="value"in Rl?Rl.value:Rl.textContent,c=r.length;for(t=0;t<l&&s[t]===r[t];t++);var u=l-t;for(a=1;a<=u&&s[l-a]===r[c-a];a++);return An=r.slice(t,1<a?1-a:void 0)}function En(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function Tn(){return!0}function Qo(){return!1}function hs(t){function s(l,a,r,c,u){this._reactName=l,this._targetInst=r,this.type=a,this.nativeEvent=c,this.target=u,this.currentTarget=null;for(var f in t)t.hasOwnProperty(f)&&(l=t[f],this[f]=l?l(c):c[f]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?Tn:Qo,this.isPropagationStopped=Qo,this}return q(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Tn)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Tn)},persist:function(){},isPersistent:Tn}),s}var da={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dn=hs(da),wr=q({},da,{view:0,detail:0}),h0=hs(wr),dc,oc,Sr,qn=q({},wr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Sr&&(Sr&&t.type==="mousemove"?(dc=t.screenX-Sr.screenX,oc=t.screenY-Sr.screenY):oc=dc=0,Sr=t),dc)},movementY:function(t){return"movementY"in t?t.movementY:oc}}),Xo=hs(qn),f0=q({},qn,{dataTransfer:0}),p0=hs(f0),g0=q({},wr,{relatedTarget:0}),uc=hs(g0),b0=q({},da,{animationName:0,elapsedTime:0,pseudoElement:0}),j0=hs(b0),v0=q({},da,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),y0=hs(v0),N0=q({},da,{data:0}),$o=hs(N0),_0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},w0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},S0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function k0(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=S0[t])?!!s[t]:!1}function mc(){return k0}var C0=q({},wr,{key:function(t){if(t.key){var s=_0[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=En(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?w0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mc,charCode:function(t){return t.type==="keypress"?En(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?En(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),A0=hs(C0),E0=q({},qn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zo=hs(E0),T0=q({},wr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mc}),D0=hs(T0),q0=q({},da,{propertyName:0,elapsedTime:0,pseudoElement:0}),z0=hs(q0),U0=q({},qn,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),M0=hs(U0),R0=q({},da,{newState:0,oldState:0}),L0=hs(R0),O0=[9,13,27,32],xc=fl&&"CompositionEvent"in window,kr=null;fl&&"documentMode"in document&&(kr=document.documentMode);var B0=fl&&"TextEvent"in window&&!kr,Fo=fl&&(!xc||kr&&8<kr&&11>=kr),Io=" ",Wo=!1;function Po(t,s){switch(t){case"keyup":return O0.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function eu(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ba=!1;function H0(t,s){switch(t){case"compositionend":return eu(s);case"keypress":return s.which!==32?null:(Wo=!0,Io);case"textInput":return t=s.data,t===Io&&Wo?null:t;default:return null}}function G0(t,s){if(Ba)return t==="compositionend"||!xc&&Po(t,s)?(t=Jo(),An=cc=Rl=null,Ba=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Fo&&s.locale!=="ko"?null:s.data;default:return null}}var V0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tu(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!V0[t.type]:s==="textarea"}function su(t,s,l,a){La?Oa?Oa.push(a):Oa=[a]:La=a,s=yi(s,"onChange"),0<s.length&&(l=new Dn("onChange","change",null,l,a),t.push({event:l,listeners:s}))}var Cr=null,Ar=null;function Y0(t){Ox(t,0)}function zn(t){var s=yr(t);if(Lo(s))return t}function lu(t,s){if(t==="change")return s}var au=!1;if(fl){var hc;if(fl){var fc="oninput"in document;if(!fc){var ru=document.createElement("div");ru.setAttribute("oninput","return;"),fc=typeof ru.oninput=="function"}hc=fc}else hc=!1;au=hc&&(!document.documentMode||9<document.documentMode)}function nu(){Cr&&(Cr.detachEvent("onpropertychange",iu),Ar=Cr=null)}function iu(t){if(t.propertyName==="value"&&zn(Ar)){var s=[];su(s,Ar,t,rc(t)),Ko(Y0,s)}}function K0(t,s,l){t==="focusin"?(nu(),Cr=s,Ar=l,Cr.attachEvent("onpropertychange",iu)):t==="focusout"&&nu()}function J0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return zn(Ar)}function Q0(t,s){if(t==="click")return zn(s)}function X0(t,s){if(t==="input"||t==="change")return zn(s)}function $0(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var Cs=typeof Object.is=="function"?Object.is:$0;function Er(t,s){if(Cs(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var l=Object.keys(t),a=Object.keys(s);if(l.length!==a.length)return!1;for(a=0;a<l.length;a++){var r=l[a];if(!je.call(s,r)||!Cs(t[r],s[r]))return!1}return!0}function cu(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function du(t,s){var l=cu(t);t=0;for(var a;l;){if(l.nodeType===3){if(a=t+l.textContent.length,t<=s&&a>=s)return{node:l,offset:s-t};t=a}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=cu(l)}}function ou(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?ou(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function uu(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=kn(t.document);s instanceof t.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)t=s.contentWindow;else break;s=kn(t.document)}return s}function pc(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}var Z0=fl&&"documentMode"in document&&11>=document.documentMode,Ha=null,gc=null,Tr=null,bc=!1;function mu(t,s,l){var a=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;bc||Ha==null||Ha!==kn(a)||(a=Ha,"selectionStart"in a&&pc(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Tr&&Er(Tr,a)||(Tr=a,a=yi(gc,"onSelect"),0<a.length&&(s=new Dn("onSelect","select",null,s,l),t.push({event:s,listeners:a}),s.target=Ha)))}function oa(t,s){var l={};return l[t.toLowerCase()]=s.toLowerCase(),l["Webkit"+t]="webkit"+s,l["Moz"+t]="moz"+s,l}var Ga={animationend:oa("Animation","AnimationEnd"),animationiteration:oa("Animation","AnimationIteration"),animationstart:oa("Animation","AnimationStart"),transitionrun:oa("Transition","TransitionRun"),transitionstart:oa("Transition","TransitionStart"),transitioncancel:oa("Transition","TransitionCancel"),transitionend:oa("Transition","TransitionEnd")},jc={},xu={};fl&&(xu=document.createElement("div").style,"AnimationEvent"in window||(delete Ga.animationend.animation,delete Ga.animationiteration.animation,delete Ga.animationstart.animation),"TransitionEvent"in window||delete Ga.transitionend.transition);function ua(t){if(jc[t])return jc[t];if(!Ga[t])return t;var s=Ga[t],l;for(l in s)if(s.hasOwnProperty(l)&&l in xu)return jc[t]=s[l];return t}var hu=ua("animationend"),fu=ua("animationiteration"),pu=ua("animationstart"),F0=ua("transitionrun"),I0=ua("transitionstart"),W0=ua("transitioncancel"),gu=ua("transitionend"),bu=new Map,vc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");vc.push("scrollEnd");function Ws(t,s){bu.set(t,s),ca(s,[t])}var Un=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Vs=[],Va=0,yc=0;function Mn(){for(var t=Va,s=yc=Va=0;s<t;){var l=Vs[s];Vs[s++]=null;var a=Vs[s];Vs[s++]=null;var r=Vs[s];Vs[s++]=null;var c=Vs[s];if(Vs[s++]=null,a!==null&&r!==null){var u=a.pending;u===null?r.next=r:(r.next=u.next,u.next=r),a.pending=r}c!==0&&ju(l,r,c)}}function Rn(t,s,l,a){Vs[Va++]=t,Vs[Va++]=s,Vs[Va++]=l,Vs[Va++]=a,yc|=a,t.lanes|=a,t=t.alternate,t!==null&&(t.lanes|=a)}function Nc(t,s,l,a){return Rn(t,s,l,a),Ln(t)}function ma(t,s){return Rn(t,null,null,s),Ln(t)}function ju(t,s,l){t.lanes|=l;var a=t.alternate;a!==null&&(a.lanes|=l);for(var r=!1,c=t.return;c!==null;)c.childLanes|=l,a=c.alternate,a!==null&&(a.childLanes|=l),c.tag===22&&(t=c.stateNode,t===null||t._visibility&1||(r=!0)),t=c,c=c.return;return t.tag===3?(c=t.stateNode,r&&s!==null&&(r=31-mt(l),t=c.hiddenUpdates,a=t[r],a===null?t[r]=[s]:a.push(s),s.lane=l|536870912),c):null}function Ln(t){if(50<Wr)throw Wr=0,Dd=null,Error(i(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var Ya={};function P0(t,s,l,a){this.tag=t,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function As(t,s,l,a){return new P0(t,s,l,a)}function _c(t){return t=t.prototype,!(!t||!t.isReactComponent)}function pl(t,s){var l=t.alternate;return l===null?(l=As(t.tag,s,t.key,t.mode),l.elementType=t.elementType,l.type=t.type,l.stateNode=t.stateNode,l.alternate=t,t.alternate=l):(l.pendingProps=s,l.type=t.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=t.flags&65011712,l.childLanes=t.childLanes,l.lanes=t.lanes,l.child=t.child,l.memoizedProps=t.memoizedProps,l.memoizedState=t.memoizedState,l.updateQueue=t.updateQueue,s=t.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=t.sibling,l.index=t.index,l.ref=t.ref,l.refCleanup=t.refCleanup,l}function vu(t,s){t.flags&=65011714;var l=t.alternate;return l===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=l.childLanes,t.lanes=l.lanes,t.child=l.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=l.memoizedProps,t.memoizedState=l.memoizedState,t.updateQueue=l.updateQueue,t.type=l.type,s=l.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function On(t,s,l,a,r,c){var u=0;if(a=t,typeof t=="function")_c(t)&&(u=1);else if(typeof t=="string")u=rp(t,l,A.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case ne:return t=As(31,l,s,r),t.elementType=ne,t.lanes=c,t;case N:return xa(l.children,r,c,s);case Q:u=8,r|=24;break;case k:return t=As(12,l,s,r|2),t.elementType=k,t.lanes=c,t;case _:return t=As(13,l,s,r),t.elementType=_,t.lanes=c,t;case H:return t=As(19,l,s,r),t.elementType=H,t.lanes=c,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case w:u=10;break e;case T:u=9;break e;case $:u=11;break e;case Y:u=14;break e;case J:u=16,a=null;break e}u=29,l=Error(i(130,t===null?"null":typeof t,"")),a=null}return s=As(u,l,s,r),s.elementType=t,s.type=a,s.lanes=c,s}function xa(t,s,l,a){return t=As(7,t,a,s),t.lanes=l,t}function wc(t,s,l){return t=As(6,t,null,s),t.lanes=l,t}function yu(t){var s=As(18,null,null,0);return s.stateNode=t,s}function Sc(t,s,l){return s=As(4,t.children!==null?t.children:[],t.key,s),s.lanes=l,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}var Nu=new WeakMap;function Ys(t,s){if(typeof t=="object"&&t!==null){var l=Nu.get(t);return l!==void 0?l:(s={value:t,source:s,stack:ct(s)},Nu.set(t,s),s)}return{value:t,source:s,stack:ct(s)}}var Ka=[],Ja=0,Bn=null,Dr=0,Ks=[],Js=0,Ll=null,al=1,rl="";function gl(t,s){Ka[Ja++]=Dr,Ka[Ja++]=Bn,Bn=t,Dr=s}function _u(t,s,l){Ks[Js++]=al,Ks[Js++]=rl,Ks[Js++]=Ll,Ll=t;var a=al;t=rl;var r=32-mt(a)-1;a&=~(1<<r),l+=1;var c=32-mt(s)+r;if(30<c){var u=r-r%5;c=(a&(1<<u)-1).toString(32),a>>=u,r-=u,al=1<<32-mt(s)+r|l<<r|a,rl=c+t}else al=1<<c|l<<r|a,rl=t}function kc(t){t.return!==null&&(gl(t,1),_u(t,1,0))}function Cc(t){for(;t===Bn;)Bn=Ka[--Ja],Ka[Ja]=null,Dr=Ka[--Ja],Ka[Ja]=null;for(;t===Ll;)Ll=Ks[--Js],Ks[Js]=null,rl=Ks[--Js],Ks[Js]=null,al=Ks[--Js],Ks[Js]=null}function wu(t,s){Ks[Js++]=al,Ks[Js++]=rl,Ks[Js++]=Ll,al=s.id,rl=s.overflow,Ll=t}var It=null,pt=null,We=!1,Ol=null,Qs=!1,Ac=Error(i(519));function Bl(t){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw qr(Ys(s,t)),Ac}function Su(t){var s=t.stateNode,l=t.type,a=t.memoizedProps;switch(s[Ue]=t,s[Jt]=a,l){case"dialog":Je("cancel",s),Je("close",s);break;case"iframe":case"object":case"embed":Je("load",s);break;case"video":case"audio":for(l=0;l<en.length;l++)Je(en[l],s);break;case"source":Je("error",s);break;case"img":case"image":case"link":Je("error",s),Je("load",s);break;case"details":Je("toggle",s);break;case"input":Je("invalid",s),Oo(s,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":Je("invalid",s);break;case"textarea":Je("invalid",s),Ho(s,a.value,a.defaultValue,a.children)}l=a.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||a.suppressHydrationWarning===!0||Vx(s.textContent,l)?(a.popover!=null&&(Je("beforetoggle",s),Je("toggle",s)),a.onScroll!=null&&Je("scroll",s),a.onScrollEnd!=null&&Je("scrollend",s),a.onClick!=null&&(s.onclick=hl),s=!0):s=!1,s||Bl(t,!0)}function ku(t){for(It=t.return;It;)switch(It.tag){case 5:case 31:case 13:Qs=!1;return;case 27:case 3:Qs=!0;return;default:It=It.return}}function Qa(t){if(t!==It)return!1;if(!We)return ku(t),We=!0,!1;var s=t.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=t.type,l=!(l!=="form"&&l!=="button")||Qd(t.type,t.memoizedProps)),l=!l),l&&pt&&Bl(t),ku(t),s===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));pt=Ix(t)}else if(s===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));pt=Ix(t)}else s===27?(s=pt,Pl(t.type)?(t=Id,Id=null,pt=t):pt=s):pt=It?$s(t.stateNode.nextSibling):null;return!0}function ha(){pt=It=null,We=!1}function Ec(){var t=Ol;return t!==null&&(bs===null?bs=t:bs.push.apply(bs,t),Ol=null),t}function qr(t){Ol===null?Ol=[t]:Ol.push(t)}var Tc=O(null),fa=null,bl=null;function Hl(t,s,l){ie(Tc,s._currentValue),s._currentValue=l}function jl(t){t._currentValue=Tc.current,U(Tc)}function Dc(t,s,l){for(;t!==null;){var a=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,a!==null&&(a.childLanes|=s)):a!==null&&(a.childLanes&s)!==s&&(a.childLanes|=s),t===l)break;t=t.return}}function qc(t,s,l,a){var r=t.child;for(r!==null&&(r.return=t);r!==null;){var c=r.dependencies;if(c!==null){var u=r.child;c=c.firstContext;e:for(;c!==null;){var f=c;c=r;for(var E=0;E<s.length;E++)if(f.context===s[E]){c.lanes|=l,f=c.alternate,f!==null&&(f.lanes|=l),Dc(c.return,l,t),a||(u=null);break e}c=f.next}}else if(r.tag===18){if(u=r.return,u===null)throw Error(i(341));u.lanes|=l,c=u.alternate,c!==null&&(c.lanes|=l),Dc(u,l,t),u=null}else u=r.child;if(u!==null)u.return=r;else for(u=r;u!==null;){if(u===t){u=null;break}if(r=u.sibling,r!==null){r.return=u.return,u=r;break}u=u.return}r=u}}function Xa(t,s,l,a){t=null;for(var r=s,c=!1;r!==null;){if(!c){if((r.flags&524288)!==0)c=!0;else if((r.flags&262144)!==0)break}if(r.tag===10){var u=r.alternate;if(u===null)throw Error(i(387));if(u=u.memoizedProps,u!==null){var f=r.type;Cs(r.pendingProps.value,u.value)||(t!==null?t.push(f):t=[f])}}else if(r===ye.current){if(u=r.alternate,u===null)throw Error(i(387));u.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(t!==null?t.push(rn):t=[rn])}r=r.return}t!==null&&qc(s,t,l,a),s.flags|=262144}function Hn(t){for(t=t.firstContext;t!==null;){if(!Cs(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function pa(t){fa=t,bl=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Wt(t){return Cu(fa,t)}function Gn(t,s){return fa===null&&pa(t),Cu(t,s)}function Cu(t,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},bl===null){if(t===null)throw Error(i(308));bl=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else bl=bl.next=s;return l}var ef=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(l,a){t.push(a)}};this.abort=function(){s.aborted=!0,t.forEach(function(l){return l()})}},tf=d.unstable_scheduleCallback,sf=d.unstable_NormalPriority,Mt={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zc(){return{controller:new ef,data:new Map,refCount:0}}function zr(t){t.refCount--,t.refCount===0&&tf(sf,function(){t.controller.abort()})}var Ur=null,Uc=0,$a=0,Za=null;function lf(t,s){if(Ur===null){var l=Ur=[];Uc=0,$a=Ld(),Za={status:"pending",value:void 0,then:function(a){l.push(a)}}}return Uc++,s.then(Au,Au),s}function Au(){if(--Uc===0&&Ur!==null){Za!==null&&(Za.status="fulfilled");var t=Ur;Ur=null,$a=0,Za=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function af(t,s){var l=[],a={status:"pending",value:null,reason:null,then:function(r){l.push(r)}};return t.then(function(){a.status="fulfilled",a.value=s;for(var r=0;r<l.length;r++)(0,l[r])(s)},function(r){for(a.status="rejected",a.reason=r,r=0;r<l.length;r++)(0,l[r])(void 0)}),a}var Eu=G.S;G.S=function(t,s){mx=se(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&lf(t,s),Eu!==null&&Eu(t,s)};var ga=O(null);function Mc(){var t=ga.current;return t!==null?t:xt.pooledCache}function Vn(t,s){s===null?ie(ga,ga.current):ie(ga,s.pool)}function Tu(){var t=Mc();return t===null?null:{parent:Mt._currentValue,pool:t}}var Fa=Error(i(460)),Rc=Error(i(474)),Yn=Error(i(542)),Kn={then:function(){}};function Du(t){return t=t.status,t==="fulfilled"||t==="rejected"}function qu(t,s,l){switch(l=t[l],l===void 0?t.push(s):l!==s&&(s.then(hl,hl),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,Uu(t),t;default:if(typeof s.status=="string")s.then(hl,hl);else{if(t=xt,t!==null&&100<t.shellSuspendCounter)throw Error(i(482));t=s,t.status="pending",t.then(function(a){if(s.status==="pending"){var r=s;r.status="fulfilled",r.value=a}},function(a){if(s.status==="pending"){var r=s;r.status="rejected",r.reason=a}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,Uu(t),t}throw ja=s,Fa}}function ba(t){try{var s=t._init;return s(t._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(ja=l,Fa):l}}var ja=null;function zu(){if(ja===null)throw Error(i(459));var t=ja;return ja=null,t}function Uu(t){if(t===Fa||t===Yn)throw Error(i(483))}var Ia=null,Mr=0;function Jn(t){var s=Mr;return Mr+=1,Ia===null&&(Ia=[]),qu(Ia,t,s)}function Rr(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function Qn(t,s){throw s.$$typeof===K?Error(i(525)):(t=Object.prototype.toString.call(s),Error(i(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function Mu(t){function s(V,R){if(t){var Z=V.deletions;Z===null?(V.deletions=[R],V.flags|=16):Z.push(R)}}function l(V,R){if(!t)return null;for(;R!==null;)s(V,R),R=R.sibling;return null}function a(V){for(var R=new Map;V!==null;)V.key!==null?R.set(V.key,V):R.set(V.index,V),V=V.sibling;return R}function r(V,R){return V=pl(V,R),V.index=0,V.sibling=null,V}function c(V,R,Z){return V.index=Z,t?(Z=V.alternate,Z!==null?(Z=Z.index,Z<R?(V.flags|=67108866,R):Z):(V.flags|=67108866,R)):(V.flags|=1048576,R)}function u(V){return t&&V.alternate===null&&(V.flags|=67108866),V}function f(V,R,Z,de){return R===null||R.tag!==6?(R=wc(Z,V.mode,de),R.return=V,R):(R=r(R,Z),R.return=V,R)}function E(V,R,Z,de){var ke=Z.type;return ke===N?ce(V,R,Z.props.children,de,Z.key):R!==null&&(R.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===J&&ba(ke)===R.type)?(R=r(R,Z.props),Rr(R,Z),R.return=V,R):(R=On(Z.type,Z.key,Z.props,null,V.mode,de),Rr(R,Z),R.return=V,R)}function F(V,R,Z,de){return R===null||R.tag!==4||R.stateNode.containerInfo!==Z.containerInfo||R.stateNode.implementation!==Z.implementation?(R=Sc(Z,V.mode,de),R.return=V,R):(R=r(R,Z.children||[]),R.return=V,R)}function ce(V,R,Z,de,ke){return R===null||R.tag!==7?(R=xa(Z,V.mode,de,ke),R.return=V,R):(R=r(R,Z),R.return=V,R)}function ue(V,R,Z){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=wc(""+R,V.mode,Z),R.return=V,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case v:return Z=On(R.type,R.key,R.props,null,V.mode,Z),Rr(Z,R),Z.return=V,Z;case C:return R=Sc(R,V.mode,Z),R.return=V,R;case J:return R=ba(R),ue(V,R,Z)}if(ge(R)||B(R))return R=xa(R,V.mode,Z,null),R.return=V,R;if(typeof R.then=="function")return ue(V,Jn(R),Z);if(R.$$typeof===w)return ue(V,Gn(V,R),Z);Qn(V,R)}return null}function P(V,R,Z,de){var ke=R!==null?R.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return ke!==null?null:f(V,R,""+Z,de);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case v:return Z.key===ke?E(V,R,Z,de):null;case C:return Z.key===ke?F(V,R,Z,de):null;case J:return Z=ba(Z),P(V,R,Z,de)}if(ge(Z)||B(Z))return ke!==null?null:ce(V,R,Z,de,null);if(typeof Z.then=="function")return P(V,R,Jn(Z),de);if(Z.$$typeof===w)return P(V,R,Gn(V,Z),de);Qn(V,Z)}return null}function le(V,R,Z,de,ke){if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return V=V.get(Z)||null,f(R,V,""+de,ke);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case v:return V=V.get(de.key===null?Z:de.key)||null,E(R,V,de,ke);case C:return V=V.get(de.key===null?Z:de.key)||null,F(R,V,de,ke);case J:return de=ba(de),le(V,R,Z,de,ke)}if(ge(de)||B(de))return V=V.get(Z)||null,ce(R,V,de,ke,null);if(typeof de.then=="function")return le(V,R,Z,Jn(de),ke);if(de.$$typeof===w)return le(V,R,Z,Gn(R,de),ke);Qn(R,de)}return null}function be(V,R,Z,de){for(var ke=null,et=null,ve=R,Oe=R=0,Xe=null;ve!==null&&Oe<Z.length;Oe++){ve.index>Oe?(Xe=ve,ve=null):Xe=ve.sibling;var tt=P(V,ve,Z[Oe],de);if(tt===null){ve===null&&(ve=Xe);break}t&&ve&&tt.alternate===null&&s(V,ve),R=c(tt,R,Oe),et===null?ke=tt:et.sibling=tt,et=tt,ve=Xe}if(Oe===Z.length)return l(V,ve),We&&gl(V,Oe),ke;if(ve===null){for(;Oe<Z.length;Oe++)ve=ue(V,Z[Oe],de),ve!==null&&(R=c(ve,R,Oe),et===null?ke=ve:et.sibling=ve,et=ve);return We&&gl(V,Oe),ke}for(ve=a(ve);Oe<Z.length;Oe++)Xe=le(ve,V,Oe,Z[Oe],de),Xe!==null&&(t&&Xe.alternate!==null&&ve.delete(Xe.key===null?Oe:Xe.key),R=c(Xe,R,Oe),et===null?ke=Xe:et.sibling=Xe,et=Xe);return t&&ve.forEach(function(aa){return s(V,aa)}),We&&gl(V,Oe),ke}function Ae(V,R,Z,de){if(Z==null)throw Error(i(151));for(var ke=null,et=null,ve=R,Oe=R=0,Xe=null,tt=Z.next();ve!==null&&!tt.done;Oe++,tt=Z.next()){ve.index>Oe?(Xe=ve,ve=null):Xe=ve.sibling;var aa=P(V,ve,tt.value,de);if(aa===null){ve===null&&(ve=Xe);break}t&&ve&&aa.alternate===null&&s(V,ve),R=c(aa,R,Oe),et===null?ke=aa:et.sibling=aa,et=aa,ve=Xe}if(tt.done)return l(V,ve),We&&gl(V,Oe),ke;if(ve===null){for(;!tt.done;Oe++,tt=Z.next())tt=ue(V,tt.value,de),tt!==null&&(R=c(tt,R,Oe),et===null?ke=tt:et.sibling=tt,et=tt);return We&&gl(V,Oe),ke}for(ve=a(ve);!tt.done;Oe++,tt=Z.next())tt=le(ve,V,Oe,tt.value,de),tt!==null&&(t&&tt.alternate!==null&&ve.delete(tt.key===null?Oe:tt.key),R=c(tt,R,Oe),et===null?ke=tt:et.sibling=tt,et=tt);return t&&ve.forEach(function(pp){return s(V,pp)}),We&&gl(V,Oe),ke}function ut(V,R,Z,de){if(typeof Z=="object"&&Z!==null&&Z.type===N&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case v:e:{for(var ke=Z.key;R!==null;){if(R.key===ke){if(ke=Z.type,ke===N){if(R.tag===7){l(V,R.sibling),de=r(R,Z.props.children),de.return=V,V=de;break e}}else if(R.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===J&&ba(ke)===R.type){l(V,R.sibling),de=r(R,Z.props),Rr(de,Z),de.return=V,V=de;break e}l(V,R);break}else s(V,R);R=R.sibling}Z.type===N?(de=xa(Z.props.children,V.mode,de,Z.key),de.return=V,V=de):(de=On(Z.type,Z.key,Z.props,null,V.mode,de),Rr(de,Z),de.return=V,V=de)}return u(V);case C:e:{for(ke=Z.key;R!==null;){if(R.key===ke)if(R.tag===4&&R.stateNode.containerInfo===Z.containerInfo&&R.stateNode.implementation===Z.implementation){l(V,R.sibling),de=r(R,Z.children||[]),de.return=V,V=de;break e}else{l(V,R);break}else s(V,R);R=R.sibling}de=Sc(Z,V.mode,de),de.return=V,V=de}return u(V);case J:return Z=ba(Z),ut(V,R,Z,de)}if(ge(Z))return be(V,R,Z,de);if(B(Z)){if(ke=B(Z),typeof ke!="function")throw Error(i(150));return Z=ke.call(Z),Ae(V,R,Z,de)}if(typeof Z.then=="function")return ut(V,R,Jn(Z),de);if(Z.$$typeof===w)return ut(V,R,Gn(V,Z),de);Qn(V,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,R!==null&&R.tag===6?(l(V,R.sibling),de=r(R,Z),de.return=V,V=de):(l(V,R),de=wc(Z,V.mode,de),de.return=V,V=de),u(V)):l(V,R)}return function(V,R,Z,de){try{Mr=0;var ke=ut(V,R,Z,de);return Ia=null,ke}catch(ve){if(ve===Fa||ve===Yn)throw ve;var et=As(29,ve,null,V.mode);return et.lanes=de,et.return=V,et}finally{}}}var va=Mu(!0),Ru=Mu(!1),Gl=!1;function Lc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Oc(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Vl(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Yl(t,s,l){var a=t.updateQueue;if(a===null)return null;if(a=a.shared,(lt&2)!==0){var r=a.pending;return r===null?s.next=s:(s.next=r.next,r.next=s),a.pending=s,s=Ln(t),ju(t,null,l),s}return Rn(t,a,s,l),Ln(t)}function Lr(t,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var a=s.lanes;a&=t.pendingLanes,l|=a,s.lanes=l,ft(t,l)}}function Bc(t,s){var l=t.updateQueue,a=t.alternate;if(a!==null&&(a=a.updateQueue,l===a)){var r=null,c=null;if(l=l.firstBaseUpdate,l!==null){do{var u={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};c===null?r=c=u:c=c.next=u,l=l.next}while(l!==null);c===null?r=c=s:c=c.next=s}else r=c=s;l={baseState:a.baseState,firstBaseUpdate:r,lastBaseUpdate:c,shared:a.shared,callbacks:a.callbacks},t.updateQueue=l;return}t=l.lastBaseUpdate,t===null?l.firstBaseUpdate=s:t.next=s,l.lastBaseUpdate=s}var Hc=!1;function Or(){if(Hc){var t=Za;if(t!==null)throw t}}function Br(t,s,l,a){Hc=!1;var r=t.updateQueue;Gl=!1;var c=r.firstBaseUpdate,u=r.lastBaseUpdate,f=r.shared.pending;if(f!==null){r.shared.pending=null;var E=f,F=E.next;E.next=null,u===null?c=F:u.next=F,u=E;var ce=t.alternate;ce!==null&&(ce=ce.updateQueue,f=ce.lastBaseUpdate,f!==u&&(f===null?ce.firstBaseUpdate=F:f.next=F,ce.lastBaseUpdate=E))}if(c!==null){var ue=r.baseState;u=0,ce=F=E=null,f=c;do{var P=f.lane&-536870913,le=P!==f.lane;if(le?(Qe&P)===P:(a&P)===P){P!==0&&P===$a&&(Hc=!0),ce!==null&&(ce=ce.next={lane:0,tag:f.tag,payload:f.payload,callback:null,next:null});e:{var be=t,Ae=f;P=s;var ut=l;switch(Ae.tag){case 1:if(be=Ae.payload,typeof be=="function"){ue=be.call(ut,ue,P);break e}ue=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=Ae.payload,P=typeof be=="function"?be.call(ut,ue,P):be,P==null)break e;ue=q({},ue,P);break e;case 2:Gl=!0}}P=f.callback,P!==null&&(t.flags|=64,le&&(t.flags|=8192),le=r.callbacks,le===null?r.callbacks=[P]:le.push(P))}else le={lane:P,tag:f.tag,payload:f.payload,callback:f.callback,next:null},ce===null?(F=ce=le,E=ue):ce=ce.next=le,u|=P;if(f=f.next,f===null){if(f=r.shared.pending,f===null)break;le=f,f=le.next,le.next=null,r.lastBaseUpdate=le,r.shared.pending=null}}while(!0);ce===null&&(E=ue),r.baseState=E,r.firstBaseUpdate=F,r.lastBaseUpdate=ce,c===null&&(r.shared.lanes=0),$l|=u,t.lanes=u,t.memoizedState=ue}}function Lu(t,s){if(typeof t!="function")throw Error(i(191,t));t.call(s)}function Ou(t,s){var l=t.callbacks;if(l!==null)for(t.callbacks=null,t=0;t<l.length;t++)Lu(l[t],s)}var Wa=O(null),Xn=O(0);function Bu(t,s){t=Al,ie(Xn,t),ie(Wa,s),Al=t|s.baseLanes}function Gc(){ie(Xn,Al),ie(Wa,Wa.current)}function Vc(){Al=Xn.current,U(Wa),U(Xn)}var Es=O(null),Xs=null;function Kl(t){var s=t.alternate;ie(Dt,Dt.current&1),ie(Es,t),Xs===null&&(s===null||Wa.current!==null||s.memoizedState!==null)&&(Xs=t)}function Yc(t){ie(Dt,Dt.current),ie(Es,t),Xs===null&&(Xs=t)}function Hu(t){t.tag===22?(ie(Dt,Dt.current),ie(Es,t),Xs===null&&(Xs=t)):Jl()}function Jl(){ie(Dt,Dt.current),ie(Es,Es.current)}function Ts(t){U(Es),Xs===t&&(Xs=null),U(Dt)}var Dt=O(0);function $n(t){for(var s=t;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Zd(l)||Fd(l)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var vl=0,Le=null,dt=null,Rt=null,Zn=!1,Pa=!1,ya=!1,Fn=0,Hr=0,er=null,rf=0;function wt(){throw Error(i(321))}function Kc(t,s){if(s===null)return!1;for(var l=0;l<s.length&&l<t.length;l++)if(!Cs(t[l],s[l]))return!1;return!0}function Jc(t,s,l,a,r,c){return vl=c,Le=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,G.H=t===null||t.memoizedState===null?_m:nd,ya=!1,c=l(a,r),ya=!1,Pa&&(c=Vu(s,l,a,r)),Gu(t),c}function Gu(t){G.H=Yr;var s=dt!==null&&dt.next!==null;if(vl=0,Rt=dt=Le=null,Zn=!1,Hr=0,er=null,s)throw Error(i(300));t===null||Lt||(t=t.dependencies,t!==null&&Hn(t)&&(Lt=!0))}function Vu(t,s,l,a){Le=t;var r=0;do{if(Pa&&(er=null),Hr=0,Pa=!1,25<=r)throw Error(i(301));if(r+=1,Rt=dt=null,t.updateQueue!=null){var c=t.updateQueue;c.lastEffect=null,c.events=null,c.stores=null,c.memoCache!=null&&(c.memoCache.index=0)}G.H=wm,c=s(l,a)}while(Pa);return c}function nf(){var t=G.H,s=t.useState()[0];return s=typeof s.then=="function"?Gr(s):s,t=t.useState()[0],(dt!==null?dt.memoizedState:null)!==t&&(Le.flags|=1024),s}function Qc(){var t=Fn!==0;return Fn=0,t}function Xc(t,s,l){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~l}function $c(t){if(Zn){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}Zn=!1}vl=0,Rt=dt=Le=null,Pa=!1,Hr=Fn=0,er=null}function ns(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?Le.memoizedState=Rt=t:Rt=Rt.next=t,Rt}function qt(){if(dt===null){var t=Le.alternate;t=t!==null?t.memoizedState:null}else t=dt.next;var s=Rt===null?Le.memoizedState:Rt.next;if(s!==null)Rt=s,dt=t;else{if(t===null)throw Le.alternate===null?Error(i(467)):Error(i(310));dt=t,t={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},Rt===null?Le.memoizedState=Rt=t:Rt=Rt.next=t}return Rt}function In(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Gr(t){var s=Hr;return Hr+=1,er===null&&(er=[]),t=qu(er,t,s),s=Le,(Rt===null?s.memoizedState:Rt.next)===null&&(s=s.alternate,G.H=s===null||s.memoizedState===null?_m:nd),t}function Wn(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Gr(t);if(t.$$typeof===w)return Wt(t)}throw Error(i(438,String(t)))}function Zc(t){var s=null,l=Le.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var a=Le.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(s={data:a.data.map(function(r){return r.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=In(),Le.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(t),a=0;a<t;a++)l[a]=X;return s.index++,l}function yl(t,s){return typeof s=="function"?s(t):s}function Pn(t){var s=qt();return Fc(s,dt,t)}function Fc(t,s,l){var a=t.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=l;var r=t.baseQueue,c=a.pending;if(c!==null){if(r!==null){var u=r.next;r.next=c.next,c.next=u}s.baseQueue=r=c,a.pending=null}if(c=t.baseState,r===null)t.memoizedState=c;else{s=r.next;var f=u=null,E=null,F=s,ce=!1;do{var ue=F.lane&-536870913;if(ue!==F.lane?(Qe&ue)===ue:(vl&ue)===ue){var P=F.revertLane;if(P===0)E!==null&&(E=E.next={lane:0,revertLane:0,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),ue===$a&&(ce=!0);else if((vl&P)===P){F=F.next,P===$a&&(ce=!0);continue}else ue={lane:0,revertLane:F.revertLane,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},E===null?(f=E=ue,u=c):E=E.next=ue,Le.lanes|=P,$l|=P;ue=F.action,ya&&l(c,ue),c=F.hasEagerState?F.eagerState:l(c,ue)}else P={lane:ue,revertLane:F.revertLane,gesture:F.gesture,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},E===null?(f=E=P,u=c):E=E.next=P,Le.lanes|=ue,$l|=ue;F=F.next}while(F!==null&&F!==s);if(E===null?u=c:E.next=f,!Cs(c,t.memoizedState)&&(Lt=!0,ce&&(l=Za,l!==null)))throw l;t.memoizedState=c,t.baseState=u,t.baseQueue=E,a.lastRenderedState=c}return r===null&&(a.lanes=0),[t.memoizedState,a.dispatch]}function Ic(t){var s=qt(),l=s.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=t;var a=l.dispatch,r=l.pending,c=s.memoizedState;if(r!==null){l.pending=null;var u=r=r.next;do c=t(c,u.action),u=u.next;while(u!==r);Cs(c,s.memoizedState)||(Lt=!0),s.memoizedState=c,s.baseQueue===null&&(s.baseState=c),l.lastRenderedState=c}return[c,a]}function Yu(t,s,l){var a=Le,r=qt(),c=We;if(c){if(l===void 0)throw Error(i(407));l=l()}else l=s();var u=!Cs((dt||r).memoizedState,l);if(u&&(r.memoizedState=l,Lt=!0),r=r.queue,ed(Qu.bind(null,a,r,t),[t]),r.getSnapshot!==s||u||Rt!==null&&Rt.memoizedState.tag&1){if(a.flags|=2048,tr(9,{destroy:void 0},Ju.bind(null,a,r,l,s),null),xt===null)throw Error(i(349));c||(vl&127)!==0||Ku(a,s,l)}return l}function Ku(t,s,l){t.flags|=16384,t={getSnapshot:s,value:l},s=Le.updateQueue,s===null?(s=In(),Le.updateQueue=s,s.stores=[t]):(l=s.stores,l===null?s.stores=[t]:l.push(t))}function Ju(t,s,l,a){s.value=l,s.getSnapshot=a,Xu(s)&&$u(t)}function Qu(t,s,l){return l(function(){Xu(s)&&$u(t)})}function Xu(t){var s=t.getSnapshot;t=t.value;try{var l=s();return!Cs(t,l)}catch{return!0}}function $u(t){var s=ma(t,2);s!==null&&js(s,t,2)}function Wc(t){var s=ns();if(typeof t=="function"){var l=t;if(t=l(),ya){Ze(!0);try{l()}finally{Ze(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yl,lastRenderedState:t},s}function Zu(t,s,l,a){return t.baseState=l,Fc(t,dt,typeof a=="function"?a:yl)}function cf(t,s,l,a,r){if(si(t))throw Error(i(485));if(t=s.action,t!==null){var c={payload:r,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(u){c.listeners.push(u)}};G.T!==null?l(!0):c.isTransition=!1,a(c),l=s.pending,l===null?(c.next=s.pending=c,Fu(s,c)):(c.next=l.next,s.pending=l.next=c)}}function Fu(t,s){var l=s.action,a=s.payload,r=t.state;if(s.isTransition){var c=G.T,u={};G.T=u;try{var f=l(r,a),E=G.S;E!==null&&E(u,f),Iu(t,s,f)}catch(F){Pc(t,s,F)}finally{c!==null&&u.types!==null&&(c.types=u.types),G.T=c}}else try{c=l(r,a),Iu(t,s,c)}catch(F){Pc(t,s,F)}}function Iu(t,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(a){Wu(t,s,a)},function(a){return Pc(t,s,a)}):Wu(t,s,l)}function Wu(t,s,l){s.status="fulfilled",s.value=l,Pu(s),t.state=l,s=t.pending,s!==null&&(l=s.next,l===s?t.pending=null:(l=l.next,s.next=l,Fu(t,l)))}function Pc(t,s,l){var a=t.pending;if(t.pending=null,a!==null){a=a.next;do s.status="rejected",s.reason=l,Pu(s),s=s.next;while(s!==a)}t.action=null}function Pu(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function em(t,s){return s}function tm(t,s){if(We){var l=xt.formState;if(l!==null){e:{var a=Le;if(We){if(pt){t:{for(var r=pt,c=Qs;r.nodeType!==8;){if(!c){r=null;break t}if(r=$s(r.nextSibling),r===null){r=null;break t}}c=r.data,r=c==="F!"||c==="F"?r:null}if(r){pt=$s(r.nextSibling),a=r.data==="F!";break e}}Bl(a)}a=!1}a&&(s=l[0])}}return l=ns(),l.memoizedState=l.baseState=s,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:em,lastRenderedState:s},l.queue=a,l=vm.bind(null,Le,a),a.dispatch=l,a=Wc(!1),c=rd.bind(null,Le,!1,a.queue),a=ns(),r={state:s,dispatch:null,action:t,pending:null},a.queue=r,l=cf.bind(null,Le,r,c,l),r.dispatch=l,a.memoizedState=t,[s,l,!1]}function sm(t){var s=qt();return lm(s,dt,t)}function lm(t,s,l){if(s=Fc(t,s,em)[0],t=Pn(yl)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var a=Gr(s)}catch(u){throw u===Fa?Yn:u}else a=s;s=qt();var r=s.queue,c=r.dispatch;return l!==s.memoizedState&&(Le.flags|=2048,tr(9,{destroy:void 0},df.bind(null,r,l),null)),[a,c,t]}function df(t,s){t.action=s}function am(t){var s=qt(),l=dt;if(l!==null)return lm(s,l,t);qt(),s=s.memoizedState,l=qt();var a=l.queue.dispatch;return l.memoizedState=t,[s,a,!1]}function tr(t,s,l,a){return t={tag:t,create:l,deps:a,inst:s,next:null},s=Le.updateQueue,s===null&&(s=In(),Le.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=t.next=t:(a=l.next,l.next=t,t.next=a,s.lastEffect=t),t}function rm(){return qt().memoizedState}function ei(t,s,l,a){var r=ns();Le.flags|=t,r.memoizedState=tr(1|s,{destroy:void 0},l,a===void 0?null:a)}function ti(t,s,l,a){var r=qt();a=a===void 0?null:a;var c=r.memoizedState.inst;dt!==null&&a!==null&&Kc(a,dt.memoizedState.deps)?r.memoizedState=tr(s,c,l,a):(Le.flags|=t,r.memoizedState=tr(1|s,c,l,a))}function nm(t,s){ei(8390656,8,t,s)}function ed(t,s){ti(2048,8,t,s)}function of(t){Le.flags|=4;var s=Le.updateQueue;if(s===null)s=In(),Le.updateQueue=s,s.events=[t];else{var l=s.events;l===null?s.events=[t]:l.push(t)}}function im(t){var s=qt().memoizedState;return of({ref:s,nextImpl:t}),function(){if((lt&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function cm(t,s){return ti(4,2,t,s)}function dm(t,s){return ti(4,4,t,s)}function om(t,s){if(typeof s=="function"){t=t();var l=s(t);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function um(t,s,l){l=l!=null?l.concat([t]):null,ti(4,4,om.bind(null,s,t),l)}function td(){}function mm(t,s){var l=qt();s=s===void 0?null:s;var a=l.memoizedState;return s!==null&&Kc(s,a[1])?a[0]:(l.memoizedState=[t,s],t)}function xm(t,s){var l=qt();s=s===void 0?null:s;var a=l.memoizedState;if(s!==null&&Kc(s,a[1]))return a[0];if(a=t(),ya){Ze(!0);try{t()}finally{Ze(!1)}}return l.memoizedState=[a,s],a}function sd(t,s,l){return l===void 0||(vl&1073741824)!==0&&(Qe&261930)===0?t.memoizedState=s:(t.memoizedState=l,t=hx(),Le.lanes|=t,$l|=t,l)}function hm(t,s,l,a){return Cs(l,s)?l:Wa.current!==null?(t=sd(t,l,a),Cs(t,s)||(Lt=!0),t):(vl&42)===0||(vl&1073741824)!==0&&(Qe&261930)===0?(Lt=!0,t.memoizedState=l):(t=hx(),Le.lanes|=t,$l|=t,s)}function fm(t,s,l,a,r){var c=W.p;W.p=c!==0&&8>c?c:8;var u=G.T,f={};G.T=f,rd(t,!1,s,l);try{var E=r(),F=G.S;if(F!==null&&F(f,E),E!==null&&typeof E=="object"&&typeof E.then=="function"){var ce=af(E,a);Vr(t,s,ce,zs(t))}else Vr(t,s,a,zs(t))}catch(ue){Vr(t,s,{then:function(){},status:"rejected",reason:ue},zs())}finally{W.p=c,u!==null&&f.types!==null&&(u.types=f.types),G.T=u}}function uf(){}function ld(t,s,l,a){if(t.tag!==5)throw Error(i(476));var r=pm(t).queue;fm(t,r,s,z,l===null?uf:function(){return gm(t),l(a)})}function pm(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:z,baseState:z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yl,lastRenderedState:z},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yl,lastRenderedState:l},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function gm(t){var s=pm(t);s.next===null&&(s=t.alternate.memoizedState),Vr(t,s.next.queue,{},zs())}function ad(){return Wt(rn)}function bm(){return qt().memoizedState}function jm(){return qt().memoizedState}function mf(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var l=zs();t=Vl(l);var a=Yl(s,t,l);a!==null&&(js(a,s,l),Lr(a,s,l)),s={cache:zc()},t.payload=s;return}s=s.return}}function xf(t,s,l){var a=zs();l={lane:a,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},si(t)?ym(s,l):(l=Nc(t,s,l,a),l!==null&&(js(l,t,a),Nm(l,s,a)))}function vm(t,s,l){var a=zs();Vr(t,s,l,a)}function Vr(t,s,l,a){var r={lane:a,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(si(t))ym(s,r);else{var c=t.alternate;if(t.lanes===0&&(c===null||c.lanes===0)&&(c=s.lastRenderedReducer,c!==null))try{var u=s.lastRenderedState,f=c(u,l);if(r.hasEagerState=!0,r.eagerState=f,Cs(f,u))return Rn(t,s,r,0),xt===null&&Mn(),!1}catch{}finally{}if(l=Nc(t,s,r,a),l!==null)return js(l,t,a),Nm(l,s,a),!0}return!1}function rd(t,s,l,a){if(a={lane:2,revertLane:Ld(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},si(t)){if(s)throw Error(i(479))}else s=Nc(t,l,a,2),s!==null&&js(s,t,2)}function si(t){var s=t.alternate;return t===Le||s!==null&&s===Le}function ym(t,s){Pa=Zn=!0;var l=t.pending;l===null?s.next=s:(s.next=l.next,l.next=s),t.pending=s}function Nm(t,s,l){if((l&4194048)!==0){var a=s.lanes;a&=t.pendingLanes,l|=a,s.lanes=l,ft(t,l)}}var Yr={readContext:Wt,use:Wn,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useLayoutEffect:wt,useInsertionEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useSyncExternalStore:wt,useId:wt,useHostTransitionStatus:wt,useFormState:wt,useActionState:wt,useOptimistic:wt,useMemoCache:wt,useCacheRefresh:wt};Yr.useEffectEvent=wt;var _m={readContext:Wt,use:Wn,useCallback:function(t,s){return ns().memoizedState=[t,s===void 0?null:s],t},useContext:Wt,useEffect:nm,useImperativeHandle:function(t,s,l){l=l!=null?l.concat([t]):null,ei(4194308,4,om.bind(null,s,t),l)},useLayoutEffect:function(t,s){return ei(4194308,4,t,s)},useInsertionEffect:function(t,s){ei(4,2,t,s)},useMemo:function(t,s){var l=ns();s=s===void 0?null:s;var a=t();if(ya){Ze(!0);try{t()}finally{Ze(!1)}}return l.memoizedState=[a,s],a},useReducer:function(t,s,l){var a=ns();if(l!==void 0){var r=l(s);if(ya){Ze(!0);try{l(s)}finally{Ze(!1)}}}else r=s;return a.memoizedState=a.baseState=r,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},a.queue=t,t=t.dispatch=xf.bind(null,Le,t),[a.memoizedState,t]},useRef:function(t){var s=ns();return t={current:t},s.memoizedState=t},useState:function(t){t=Wc(t);var s=t.queue,l=vm.bind(null,Le,s);return s.dispatch=l,[t.memoizedState,l]},useDebugValue:td,useDeferredValue:function(t,s){var l=ns();return sd(l,t,s)},useTransition:function(){var t=Wc(!1);return t=fm.bind(null,Le,t.queue,!0,!1),ns().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,l){var a=Le,r=ns();if(We){if(l===void 0)throw Error(i(407));l=l()}else{if(l=s(),xt===null)throw Error(i(349));(Qe&127)!==0||Ku(a,s,l)}r.memoizedState=l;var c={value:l,getSnapshot:s};return r.queue=c,nm(Qu.bind(null,a,c,t),[t]),a.flags|=2048,tr(9,{destroy:void 0},Ju.bind(null,a,c,l,s),null),l},useId:function(){var t=ns(),s=xt.identifierPrefix;if(We){var l=rl,a=al;l=(a&~(1<<32-mt(a)-1)).toString(32)+l,s="_"+s+"R_"+l,l=Fn++,0<l&&(s+="H"+l.toString(32)),s+="_"}else l=rf++,s="_"+s+"r_"+l.toString(32)+"_";return t.memoizedState=s},useHostTransitionStatus:ad,useFormState:tm,useActionState:tm,useOptimistic:function(t){var s=ns();s.memoizedState=s.baseState=t;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=rd.bind(null,Le,!0,l),l.dispatch=s,[t,s]},useMemoCache:Zc,useCacheRefresh:function(){return ns().memoizedState=mf.bind(null,Le)},useEffectEvent:function(t){var s=ns(),l={impl:t};return s.memoizedState=l,function(){if((lt&2)!==0)throw Error(i(440));return l.impl.apply(void 0,arguments)}}},nd={readContext:Wt,use:Wn,useCallback:mm,useContext:Wt,useEffect:ed,useImperativeHandle:um,useInsertionEffect:cm,useLayoutEffect:dm,useMemo:xm,useReducer:Pn,useRef:rm,useState:function(){return Pn(yl)},useDebugValue:td,useDeferredValue:function(t,s){var l=qt();return hm(l,dt.memoizedState,t,s)},useTransition:function(){var t=Pn(yl)[0],s=qt().memoizedState;return[typeof t=="boolean"?t:Gr(t),s]},useSyncExternalStore:Yu,useId:bm,useHostTransitionStatus:ad,useFormState:sm,useActionState:sm,useOptimistic:function(t,s){var l=qt();return Zu(l,dt,t,s)},useMemoCache:Zc,useCacheRefresh:jm};nd.useEffectEvent=im;var wm={readContext:Wt,use:Wn,useCallback:mm,useContext:Wt,useEffect:ed,useImperativeHandle:um,useInsertionEffect:cm,useLayoutEffect:dm,useMemo:xm,useReducer:Ic,useRef:rm,useState:function(){return Ic(yl)},useDebugValue:td,useDeferredValue:function(t,s){var l=qt();return dt===null?sd(l,t,s):hm(l,dt.memoizedState,t,s)},useTransition:function(){var t=Ic(yl)[0],s=qt().memoizedState;return[typeof t=="boolean"?t:Gr(t),s]},useSyncExternalStore:Yu,useId:bm,useHostTransitionStatus:ad,useFormState:am,useActionState:am,useOptimistic:function(t,s){var l=qt();return dt!==null?Zu(l,dt,t,s):(l.baseState=t,[t,l.queue.dispatch])},useMemoCache:Zc,useCacheRefresh:jm};wm.useEffectEvent=im;function id(t,s,l,a){s=t.memoizedState,l=l(a,s),l=l==null?s:q({},s,l),t.memoizedState=l,t.lanes===0&&(t.updateQueue.baseState=l)}var cd={enqueueSetState:function(t,s,l){t=t._reactInternals;var a=zs(),r=Vl(a);r.payload=s,l!=null&&(r.callback=l),s=Yl(t,r,a),s!==null&&(js(s,t,a),Lr(s,t,a))},enqueueReplaceState:function(t,s,l){t=t._reactInternals;var a=zs(),r=Vl(a);r.tag=1,r.payload=s,l!=null&&(r.callback=l),s=Yl(t,r,a),s!==null&&(js(s,t,a),Lr(s,t,a))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var l=zs(),a=Vl(l);a.tag=2,s!=null&&(a.callback=s),s=Yl(t,a,l),s!==null&&(js(s,t,l),Lr(s,t,l))}};function Sm(t,s,l,a,r,c,u){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(a,c,u):s.prototype&&s.prototype.isPureReactComponent?!Er(l,a)||!Er(r,c):!0}function km(t,s,l,a){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,a),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,a),s.state!==t&&cd.enqueueReplaceState(s,s.state,null)}function Na(t,s){var l=s;if("ref"in s){l={};for(var a in s)a!=="ref"&&(l[a]=s[a])}if(t=t.defaultProps){l===s&&(l=q({},l));for(var r in t)l[r]===void 0&&(l[r]=t[r])}return l}function Cm(t){Un(t)}function Am(t){console.error(t)}function Em(t){Un(t)}function li(t,s){try{var l=t.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(a){setTimeout(function(){throw a})}}function Tm(t,s,l){try{var a=t.onCaughtError;a(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function dd(t,s,l){return l=Vl(l),l.tag=3,l.payload={element:null},l.callback=function(){li(t,s)},l}function Dm(t){return t=Vl(t),t.tag=3,t}function qm(t,s,l,a){var r=l.type.getDerivedStateFromError;if(typeof r=="function"){var c=a.value;t.payload=function(){return r(c)},t.callback=function(){Tm(s,l,a)}}var u=l.stateNode;u!==null&&typeof u.componentDidCatch=="function"&&(t.callback=function(){Tm(s,l,a),typeof r!="function"&&(Zl===null?Zl=new Set([this]):Zl.add(this));var f=a.stack;this.componentDidCatch(a.value,{componentStack:f!==null?f:""})})}function hf(t,s,l,a,r){if(l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(s=l.alternate,s!==null&&Xa(s,l,r,!0),l=Es.current,l!==null){switch(l.tag){case 31:case 13:return Xs===null?fi():l.alternate===null&&St===0&&(St=3),l.flags&=-257,l.flags|=65536,l.lanes=r,a===Kn?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([a]):s.add(a),Ud(t,a,r)),!1;case 22:return l.flags|=65536,a===Kn?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([a])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([a]):l.add(a)),Ud(t,a,r)),!1}throw Error(i(435,l.tag))}return Ud(t,a,r),fi(),!1}if(We)return s=Es.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=r,a!==Ac&&(t=Error(i(422),{cause:a}),qr(Ys(t,l)))):(a!==Ac&&(s=Error(i(423),{cause:a}),qr(Ys(s,l))),t=t.current.alternate,t.flags|=65536,r&=-r,t.lanes|=r,a=Ys(a,l),r=dd(t.stateNode,a,r),Bc(t,r),St!==4&&(St=2)),!1;var c=Error(i(520),{cause:a});if(c=Ys(c,l),Ir===null?Ir=[c]:Ir.push(c),St!==4&&(St=2),s===null)return!0;a=Ys(a,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,t=r&-r,l.lanes|=t,t=dd(l.stateNode,a,t),Bc(l,t),!1;case 1:if(s=l.type,c=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||c!==null&&typeof c.componentDidCatch=="function"&&(Zl===null||!Zl.has(c))))return l.flags|=65536,r&=-r,l.lanes|=r,r=Dm(r),qm(r,t,l,a),Bc(l,r),!1}l=l.return}while(l!==null);return!1}var od=Error(i(461)),Lt=!1;function Pt(t,s,l,a){s.child=t===null?Ru(s,null,l,a):va(s,t.child,l,a)}function zm(t,s,l,a,r){l=l.render;var c=s.ref;if("ref"in a){var u={};for(var f in a)f!=="ref"&&(u[f]=a[f])}else u=a;return pa(s),a=Jc(t,s,l,u,c,r),f=Qc(),t!==null&&!Lt?(Xc(t,s,r),Nl(t,s,r)):(We&&f&&kc(s),s.flags|=1,Pt(t,s,a,r),s.child)}function Um(t,s,l,a,r){if(t===null){var c=l.type;return typeof c=="function"&&!_c(c)&&c.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=c,Mm(t,s,c,a,r)):(t=On(l.type,null,a,s,s.mode,r),t.ref=s.ref,t.return=s,s.child=t)}if(c=t.child,!bd(t,r)){var u=c.memoizedProps;if(l=l.compare,l=l!==null?l:Er,l(u,a)&&t.ref===s.ref)return Nl(t,s,r)}return s.flags|=1,t=pl(c,a),t.ref=s.ref,t.return=s,s.child=t}function Mm(t,s,l,a,r){if(t!==null){var c=t.memoizedProps;if(Er(c,a)&&t.ref===s.ref)if(Lt=!1,s.pendingProps=a=c,bd(t,r))(t.flags&131072)!==0&&(Lt=!0);else return s.lanes=t.lanes,Nl(t,s,r)}return ud(t,s,l,a,r)}function Rm(t,s,l,a){var r=a.children,c=t!==null?t.memoizedState:null;if(t===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((s.flags&128)!==0){if(c=c!==null?c.baseLanes|l:l,t!==null){for(a=s.child=t.child,r=0;a!==null;)r=r|a.lanes|a.childLanes,a=a.sibling;a=r&~c}else a=0,s.child=null;return Lm(t,s,c,l,a)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&Vn(s,c!==null?c.cachePool:null),c!==null?Bu(s,c):Gc(),Hu(s);else return a=s.lanes=536870912,Lm(t,s,c!==null?c.baseLanes|l:l,l,a)}else c!==null?(Vn(s,c.cachePool),Bu(s,c),Jl(),s.memoizedState=null):(t!==null&&Vn(s,null),Gc(),Jl());return Pt(t,s,r,l),s.child}function Kr(t,s){return t!==null&&t.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Lm(t,s,l,a,r){var c=Mc();return c=c===null?null:{parent:Mt._currentValue,pool:c},s.memoizedState={baseLanes:l,cachePool:c},t!==null&&Vn(s,null),Gc(),Hu(s),t!==null&&Xa(t,s,a,!0),s.childLanes=r,null}function ai(t,s){return s=ni({mode:s.mode,children:s.children},t.mode),s.ref=t.ref,t.child=s,s.return=t,s}function Om(t,s,l){return va(s,t.child,null,l),t=ai(s,s.pendingProps),t.flags|=2,Ts(s),s.memoizedState=null,t}function ff(t,s,l){var a=s.pendingProps,r=(s.flags&128)!==0;if(s.flags&=-129,t===null){if(We){if(a.mode==="hidden")return t=ai(s,a),s.lanes=536870912,Kr(null,t);if(Yc(s),(t=pt)?(t=Fx(t,Qs),t=t!==null&&t.data==="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:Ll!==null?{id:al,overflow:rl}:null,retryLane:536870912,hydrationErrors:null},l=yu(t),l.return=s,s.child=l,It=s,pt=null)):t=null,t===null)throw Bl(s);return s.lanes=536870912,null}return ai(s,a)}var c=t.memoizedState;if(c!==null){var u=c.dehydrated;if(Yc(s),r)if(s.flags&256)s.flags&=-257,s=Om(t,s,l);else if(s.memoizedState!==null)s.child=t.child,s.flags|=128,s=null;else throw Error(i(558));else if(Lt||Xa(t,s,l,!1),r=(l&t.childLanes)!==0,Lt||r){if(a=xt,a!==null&&(u=ss(a,l),u!==0&&u!==c.retryLane))throw c.retryLane=u,ma(t,u),js(a,t,u),od;fi(),s=Om(t,s,l)}else t=c.treeContext,pt=$s(u.nextSibling),It=s,We=!0,Ol=null,Qs=!1,t!==null&&wu(s,t),s=ai(s,a),s.flags|=4096;return s}return t=pl(t.child,{mode:a.mode,children:a.children}),t.ref=s.ref,s.child=t,t.return=s,t}function ri(t,s){var l=s.ref;if(l===null)t!==null&&t.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(t===null||t.ref!==l)&&(s.flags|=4194816)}}function ud(t,s,l,a,r){return pa(s),l=Jc(t,s,l,a,void 0,r),a=Qc(),t!==null&&!Lt?(Xc(t,s,r),Nl(t,s,r)):(We&&a&&kc(s),s.flags|=1,Pt(t,s,l,r),s.child)}function Bm(t,s,l,a,r,c){return pa(s),s.updateQueue=null,l=Vu(s,a,l,r),Gu(t),a=Qc(),t!==null&&!Lt?(Xc(t,s,c),Nl(t,s,c)):(We&&a&&kc(s),s.flags|=1,Pt(t,s,l,c),s.child)}function Hm(t,s,l,a,r){if(pa(s),s.stateNode===null){var c=Ya,u=l.contextType;typeof u=="object"&&u!==null&&(c=Wt(u)),c=new l(a,c),s.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=cd,s.stateNode=c,c._reactInternals=s,c=s.stateNode,c.props=a,c.state=s.memoizedState,c.refs={},Lc(s),u=l.contextType,c.context=typeof u=="object"&&u!==null?Wt(u):Ya,c.state=s.memoizedState,u=l.getDerivedStateFromProps,typeof u=="function"&&(id(s,l,u,a),c.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(u=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),u!==c.state&&cd.enqueueReplaceState(c,c.state,null),Br(s,a,c,r),Or(),c.state=s.memoizedState),typeof c.componentDidMount=="function"&&(s.flags|=4194308),a=!0}else if(t===null){c=s.stateNode;var f=s.memoizedProps,E=Na(l,f);c.props=E;var F=c.context,ce=l.contextType;u=Ya,typeof ce=="object"&&ce!==null&&(u=Wt(ce));var ue=l.getDerivedStateFromProps;ce=typeof ue=="function"||typeof c.getSnapshotBeforeUpdate=="function",f=s.pendingProps!==f,ce||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(f||F!==u)&&km(s,c,a,u),Gl=!1;var P=s.memoizedState;c.state=P,Br(s,a,c,r),Or(),F=s.memoizedState,f||P!==F||Gl?(typeof ue=="function"&&(id(s,l,ue,a),F=s.memoizedState),(E=Gl||Sm(s,l,E,a,P,F,u))?(ce||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(s.flags|=4194308)):(typeof c.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=a,s.memoizedState=F),c.props=a,c.state=F,c.context=u,a=E):(typeof c.componentDidMount=="function"&&(s.flags|=4194308),a=!1)}else{c=s.stateNode,Oc(t,s),u=s.memoizedProps,ce=Na(l,u),c.props=ce,ue=s.pendingProps,P=c.context,F=l.contextType,E=Ya,typeof F=="object"&&F!==null&&(E=Wt(F)),f=l.getDerivedStateFromProps,(F=typeof f=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(u!==ue||P!==E)&&km(s,c,a,E),Gl=!1,P=s.memoizedState,c.state=P,Br(s,a,c,r),Or();var le=s.memoizedState;u!==ue||P!==le||Gl||t!==null&&t.dependencies!==null&&Hn(t.dependencies)?(typeof f=="function"&&(id(s,l,f,a),le=s.memoizedState),(ce=Gl||Sm(s,l,ce,a,P,le,E)||t!==null&&t.dependencies!==null&&Hn(t.dependencies))?(F||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(a,le,E),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(a,le,E)),typeof c.componentDidUpdate=="function"&&(s.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof c.componentDidUpdate!="function"||u===t.memoizedProps&&P===t.memoizedState||(s.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&P===t.memoizedState||(s.flags|=1024),s.memoizedProps=a,s.memoizedState=le),c.props=a,c.state=le,c.context=E,a=ce):(typeof c.componentDidUpdate!="function"||u===t.memoizedProps&&P===t.memoizedState||(s.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&P===t.memoizedState||(s.flags|=1024),a=!1)}return c=a,ri(t,s),a=(s.flags&128)!==0,c||a?(c=s.stateNode,l=a&&typeof l.getDerivedStateFromError!="function"?null:c.render(),s.flags|=1,t!==null&&a?(s.child=va(s,t.child,null,r),s.child=va(s,null,l,r)):Pt(t,s,l,r),s.memoizedState=c.state,t=s.child):t=Nl(t,s,r),t}function Gm(t,s,l,a){return ha(),s.flags|=256,Pt(t,s,l,a),s.child}var md={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xd(t){return{baseLanes:t,cachePool:Tu()}}function hd(t,s,l){return t=t!==null?t.childLanes&~l:0,s&&(t|=qs),t}function Vm(t,s,l){var a=s.pendingProps,r=!1,c=(s.flags&128)!==0,u;if((u=c)||(u=t!==null&&t.memoizedState===null?!1:(Dt.current&2)!==0),u&&(r=!0,s.flags&=-129),u=(s.flags&32)!==0,s.flags&=-33,t===null){if(We){if(r?Kl(s):Jl(),(t=pt)?(t=Fx(t,Qs),t=t!==null&&t.data!=="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:Ll!==null?{id:al,overflow:rl}:null,retryLane:536870912,hydrationErrors:null},l=yu(t),l.return=s,s.child=l,It=s,pt=null)):t=null,t===null)throw Bl(s);return Fd(t)?s.lanes=32:s.lanes=536870912,null}var f=a.children;return a=a.fallback,r?(Jl(),r=s.mode,f=ni({mode:"hidden",children:f},r),a=xa(a,r,l,null),f.return=s,a.return=s,f.sibling=a,s.child=f,a=s.child,a.memoizedState=xd(l),a.childLanes=hd(t,u,l),s.memoizedState=md,Kr(null,a)):(Kl(s),fd(s,f))}var E=t.memoizedState;if(E!==null&&(f=E.dehydrated,f!==null)){if(c)s.flags&256?(Kl(s),s.flags&=-257,s=pd(t,s,l)):s.memoizedState!==null?(Jl(),s.child=t.child,s.flags|=128,s=null):(Jl(),f=a.fallback,r=s.mode,a=ni({mode:"visible",children:a.children},r),f=xa(f,r,l,null),f.flags|=2,a.return=s,f.return=s,a.sibling=f,s.child=a,va(s,t.child,null,l),a=s.child,a.memoizedState=xd(l),a.childLanes=hd(t,u,l),s.memoizedState=md,s=Kr(null,a));else if(Kl(s),Fd(f)){if(u=f.nextSibling&&f.nextSibling.dataset,u)var F=u.dgst;u=F,a=Error(i(419)),a.stack="",a.digest=u,qr({value:a,source:null,stack:null}),s=pd(t,s,l)}else if(Lt||Xa(t,s,l,!1),u=(l&t.childLanes)!==0,Lt||u){if(u=xt,u!==null&&(a=ss(u,l),a!==0&&a!==E.retryLane))throw E.retryLane=a,ma(t,a),js(u,t,a),od;Zd(f)||fi(),s=pd(t,s,l)}else Zd(f)?(s.flags|=192,s.child=t.child,s=null):(t=E.treeContext,pt=$s(f.nextSibling),It=s,We=!0,Ol=null,Qs=!1,t!==null&&wu(s,t),s=fd(s,a.children),s.flags|=4096);return s}return r?(Jl(),f=a.fallback,r=s.mode,E=t.child,F=E.sibling,a=pl(E,{mode:"hidden",children:a.children}),a.subtreeFlags=E.subtreeFlags&65011712,F!==null?f=pl(F,f):(f=xa(f,r,l,null),f.flags|=2),f.return=s,a.return=s,a.sibling=f,s.child=a,Kr(null,a),a=s.child,f=t.child.memoizedState,f===null?f=xd(l):(r=f.cachePool,r!==null?(E=Mt._currentValue,r=r.parent!==E?{parent:E,pool:E}:r):r=Tu(),f={baseLanes:f.baseLanes|l,cachePool:r}),a.memoizedState=f,a.childLanes=hd(t,u,l),s.memoizedState=md,Kr(t.child,a)):(Kl(s),l=t.child,t=l.sibling,l=pl(l,{mode:"visible",children:a.children}),l.return=s,l.sibling=null,t!==null&&(u=s.deletions,u===null?(s.deletions=[t],s.flags|=16):u.push(t)),s.child=l,s.memoizedState=null,l)}function fd(t,s){return s=ni({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function ni(t,s){return t=As(22,t,null,s),t.lanes=0,t}function pd(t,s,l){return va(s,t.child,null,l),t=fd(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function Ym(t,s,l){t.lanes|=s;var a=t.alternate;a!==null&&(a.lanes|=s),Dc(t.return,s,l)}function gd(t,s,l,a,r,c){var u=t.memoizedState;u===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:a,tail:l,tailMode:r,treeForkCount:c}:(u.isBackwards=s,u.rendering=null,u.renderingStartTime=0,u.last=a,u.tail=l,u.tailMode=r,u.treeForkCount=c)}function Km(t,s,l){var a=s.pendingProps,r=a.revealOrder,c=a.tail;a=a.children;var u=Dt.current,f=(u&2)!==0;if(f?(u=u&1|2,s.flags|=128):u&=1,ie(Dt,u),Pt(t,s,a,l),a=We?Dr:0,!f&&t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ym(t,l,s);else if(t.tag===19)Ym(t,l,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(r){case"forwards":for(l=s.child,r=null;l!==null;)t=l.alternate,t!==null&&$n(t)===null&&(r=l),l=l.sibling;l=r,l===null?(r=s.child,s.child=null):(r=l.sibling,l.sibling=null),gd(s,!1,r,l,c,a);break;case"backwards":case"unstable_legacy-backwards":for(l=null,r=s.child,s.child=null;r!==null;){if(t=r.alternate,t!==null&&$n(t)===null){s.child=r;break}t=r.sibling,r.sibling=l,l=r,r=t}gd(s,!0,l,null,c,a);break;case"together":gd(s,!1,null,null,void 0,a);break;default:s.memoizedState=null}return s.child}function Nl(t,s,l){if(t!==null&&(s.dependencies=t.dependencies),$l|=s.lanes,(l&s.childLanes)===0)if(t!==null){if(Xa(t,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(i(153));if(s.child!==null){for(t=s.child,l=pl(t,t.pendingProps),s.child=l,l.return=s;t.sibling!==null;)t=t.sibling,l=l.sibling=pl(t,t.pendingProps),l.return=s;l.sibling=null}return s.child}function bd(t,s){return(t.lanes&s)!==0?!0:(t=t.dependencies,!!(t!==null&&Hn(t)))}function pf(t,s,l){switch(s.tag){case 3:fe(s,s.stateNode.containerInfo),Hl(s,Mt,t.memoizedState.cache),ha();break;case 27:case 5:Ge(s);break;case 4:fe(s,s.stateNode.containerInfo);break;case 10:Hl(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Yc(s),null;break;case 13:var a=s.memoizedState;if(a!==null)return a.dehydrated!==null?(Kl(s),s.flags|=128,null):(l&s.child.childLanes)!==0?Vm(t,s,l):(Kl(s),t=Nl(t,s,l),t!==null?t.sibling:null);Kl(s);break;case 19:var r=(t.flags&128)!==0;if(a=(l&s.childLanes)!==0,a||(Xa(t,s,l,!1),a=(l&s.childLanes)!==0),r){if(a)return Km(t,s,l);s.flags|=128}if(r=s.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),ie(Dt,Dt.current),a)break;return null;case 22:return s.lanes=0,Rm(t,s,l,s.pendingProps);case 24:Hl(s,Mt,t.memoizedState.cache)}return Nl(t,s,l)}function Jm(t,s,l){if(t!==null)if(t.memoizedProps!==s.pendingProps)Lt=!0;else{if(!bd(t,l)&&(s.flags&128)===0)return Lt=!1,pf(t,s,l);Lt=(t.flags&131072)!==0}else Lt=!1,We&&(s.flags&1048576)!==0&&_u(s,Dr,s.index);switch(s.lanes=0,s.tag){case 16:e:{var a=s.pendingProps;if(t=ba(s.elementType),s.type=t,typeof t=="function")_c(t)?(a=Na(t,a),s.tag=1,s=Hm(null,s,t,a,l)):(s.tag=0,s=ud(null,s,t,a,l));else{if(t!=null){var r=t.$$typeof;if(r===$){s.tag=11,s=zm(null,s,t,a,l);break e}else if(r===Y){s.tag=14,s=Um(null,s,t,a,l);break e}}throw s=ee(t)||t,Error(i(306,s,""))}}return s;case 0:return ud(t,s,s.type,s.pendingProps,l);case 1:return a=s.type,r=Na(a,s.pendingProps),Hm(t,s,a,r,l);case 3:e:{if(fe(s,s.stateNode.containerInfo),t===null)throw Error(i(387));a=s.pendingProps;var c=s.memoizedState;r=c.element,Oc(t,s),Br(s,a,null,l);var u=s.memoizedState;if(a=u.cache,Hl(s,Mt,a),a!==c.cache&&qc(s,[Mt],l,!0),Or(),a=u.element,c.isDehydrated)if(c={element:a,isDehydrated:!1,cache:u.cache},s.updateQueue.baseState=c,s.memoizedState=c,s.flags&256){s=Gm(t,s,a,l);break e}else if(a!==r){r=Ys(Error(i(424)),s),qr(r),s=Gm(t,s,a,l);break e}else{switch(t=s.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(pt=$s(t.firstChild),It=s,We=!0,Ol=null,Qs=!0,l=Ru(s,null,a,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(ha(),a===r){s=Nl(t,s,l);break e}Pt(t,s,a,l)}s=s.child}return s;case 26:return ri(t,s),t===null?(l=sh(s.type,null,s.pendingProps,null))?s.memoizedState=l:We||(l=s.type,t=s.pendingProps,a=Ni(I.current).createElement(l),a[Ue]=s,a[Jt]=t,es(a,l,t),Qt(a),s.stateNode=a):s.memoizedState=sh(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return Ge(s),t===null&&We&&(a=s.stateNode=Px(s.type,s.pendingProps,I.current),It=s,Qs=!0,r=pt,Pl(s.type)?(Id=r,pt=$s(a.firstChild)):pt=r),Pt(t,s,s.pendingProps.children,l),ri(t,s),t===null&&(s.flags|=4194304),s.child;case 5:return t===null&&We&&((r=a=pt)&&(a=Qf(a,s.type,s.pendingProps,Qs),a!==null?(s.stateNode=a,It=s,pt=$s(a.firstChild),Qs=!1,r=!0):r=!1),r||Bl(s)),Ge(s),r=s.type,c=s.pendingProps,u=t!==null?t.memoizedProps:null,a=c.children,Qd(r,c)?a=null:u!==null&&Qd(r,u)&&(s.flags|=32),s.memoizedState!==null&&(r=Jc(t,s,nf,null,null,l),rn._currentValue=r),ri(t,s),Pt(t,s,a,l),s.child;case 6:return t===null&&We&&((t=l=pt)&&(l=Xf(l,s.pendingProps,Qs),l!==null?(s.stateNode=l,It=s,pt=null,t=!0):t=!1),t||Bl(s)),null;case 13:return Vm(t,s,l);case 4:return fe(s,s.stateNode.containerInfo),a=s.pendingProps,t===null?s.child=va(s,null,a,l):Pt(t,s,a,l),s.child;case 11:return zm(t,s,s.type,s.pendingProps,l);case 7:return Pt(t,s,s.pendingProps,l),s.child;case 8:return Pt(t,s,s.pendingProps.children,l),s.child;case 12:return Pt(t,s,s.pendingProps.children,l),s.child;case 10:return a=s.pendingProps,Hl(s,s.type,a.value),Pt(t,s,a.children,l),s.child;case 9:return r=s.type._context,a=s.pendingProps.children,pa(s),r=Wt(r),a=a(r),s.flags|=1,Pt(t,s,a,l),s.child;case 14:return Um(t,s,s.type,s.pendingProps,l);case 15:return Mm(t,s,s.type,s.pendingProps,l);case 19:return Km(t,s,l);case 31:return ff(t,s,l);case 22:return Rm(t,s,l,s.pendingProps);case 24:return pa(s),a=Wt(Mt),t===null?(r=Mc(),r===null&&(r=xt,c=zc(),r.pooledCache=c,c.refCount++,c!==null&&(r.pooledCacheLanes|=l),r=c),s.memoizedState={parent:a,cache:r},Lc(s),Hl(s,Mt,r)):((t.lanes&l)!==0&&(Oc(t,s),Br(s,null,null,l),Or()),r=t.memoizedState,c=s.memoizedState,r.parent!==a?(r={parent:a,cache:a},s.memoizedState=r,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=r),Hl(s,Mt,a)):(a=c.cache,Hl(s,Mt,a),a!==r.cache&&qc(s,[Mt],l,!0))),Pt(t,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function _l(t){t.flags|=4}function jd(t,s,l,a,r){if((s=(t.mode&32)!==0)&&(s=!1),s){if(t.flags|=16777216,(r&335544128)===r)if(t.stateNode.complete)t.flags|=8192;else if(bx())t.flags|=8192;else throw ja=Kn,Rc}else t.flags&=-16777217}function Qm(t,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!ih(s))if(bx())t.flags|=8192;else throw ja=Kn,Rc}function ii(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?br():536870912,t.lanes|=s,rr|=s)}function Jr(t,s){if(!We)switch(t.tailMode){case"hidden":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?t.tail=null:l.sibling=null;break;case"collapsed":l=t.tail;for(var a=null;l!==null;)l.alternate!==null&&(a=l),l=l.sibling;a===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:a.sibling=null}}function gt(t){var s=t.alternate!==null&&t.alternate.child===t.child,l=0,a=0;if(s)for(var r=t.child;r!==null;)l|=r.lanes|r.childLanes,a|=r.subtreeFlags&65011712,a|=r.flags&65011712,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)l|=r.lanes|r.childLanes,a|=r.subtreeFlags,a|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=a,t.childLanes=l,s}function gf(t,s,l){var a=s.pendingProps;switch(Cc(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(s),null;case 1:return gt(s),null;case 3:return l=s.stateNode,a=null,t!==null&&(a=t.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),jl(Mt),De(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(t===null||t.child===null)&&(Qa(s)?_l(s):t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Ec())),gt(s),null;case 26:var r=s.type,c=s.memoizedState;return t===null?(_l(s),c!==null?(gt(s),Qm(s,c)):(gt(s),jd(s,r,null,a,l))):c?c!==t.memoizedState?(_l(s),gt(s),Qm(s,c)):(gt(s),s.flags&=-16777217):(t=t.memoizedProps,t!==a&&_l(s),gt(s),jd(s,r,t,a,l)),null;case 27:if(oe(s),l=I.current,r=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==a&&_l(s);else{if(!a){if(s.stateNode===null)throw Error(i(166));return gt(s),null}t=A.current,Qa(s)?Su(s):(t=Px(r,a,l),s.stateNode=t,_l(s))}return gt(s),null;case 5:if(oe(s),r=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==a&&_l(s);else{if(!a){if(s.stateNode===null)throw Error(i(166));return gt(s),null}if(c=A.current,Qa(s))Su(s);else{var u=Ni(I.current);switch(c){case 1:c=u.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:c=u.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":c=u.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":c=u.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":c=u.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild);break;case"select":c=typeof a.is=="string"?u.createElement("select",{is:a.is}):u.createElement("select"),a.multiple?c.multiple=!0:a.size&&(c.size=a.size);break;default:c=typeof a.is=="string"?u.createElement(r,{is:a.is}):u.createElement(r)}}c[Ue]=s,c[Jt]=a;e:for(u=s.child;u!==null;){if(u.tag===5||u.tag===6)c.appendChild(u.stateNode);else if(u.tag!==4&&u.tag!==27&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===s)break e;for(;u.sibling===null;){if(u.return===null||u.return===s)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}s.stateNode=c;e:switch(es(c,r,a),r){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&_l(s)}}return gt(s),jd(s,s.type,t===null?null:t.memoizedProps,s.pendingProps,l),null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==a&&_l(s);else{if(typeof a!="string"&&s.stateNode===null)throw Error(i(166));if(t=I.current,Qa(s)){if(t=s.stateNode,l=s.memoizedProps,a=null,r=It,r!==null)switch(r.tag){case 27:case 5:a=r.memoizedProps}t[Ue]=s,t=!!(t.nodeValue===l||a!==null&&a.suppressHydrationWarning===!0||Vx(t.nodeValue,l)),t||Bl(s,!0)}else t=Ni(t).createTextNode(a),t[Ue]=s,s.stateNode=t}return gt(s),null;case 31:if(l=s.memoizedState,t===null||t.memoizedState!==null){if(a=Qa(s),l!==null){if(t===null){if(!a)throw Error(i(318));if(t=s.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(557));t[Ue]=s}else ha(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;gt(s),t=!1}else l=Ec(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=l),t=!0;if(!t)return s.flags&256?(Ts(s),s):(Ts(s),null);if((s.flags&128)!==0)throw Error(i(558))}return gt(s),null;case 13:if(a=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(r=Qa(s),a!==null&&a.dehydrated!==null){if(t===null){if(!r)throw Error(i(318));if(r=s.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));r[Ue]=s}else ha(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;gt(s),r=!1}else r=Ec(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),r=!0;if(!r)return s.flags&256?(Ts(s),s):(Ts(s),null)}return Ts(s),(s.flags&128)!==0?(s.lanes=l,s):(l=a!==null,t=t!==null&&t.memoizedState!==null,l&&(a=s.child,r=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(r=a.alternate.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==r&&(a.flags|=2048)),l!==t&&l&&(s.child.flags|=8192),ii(s,s.updateQueue),gt(s),null);case 4:return De(),t===null&&Gd(s.stateNode.containerInfo),gt(s),null;case 10:return jl(s.type),gt(s),null;case 19:if(U(Dt),a=s.memoizedState,a===null)return gt(s),null;if(r=(s.flags&128)!==0,c=a.rendering,c===null)if(r)Jr(a,!1);else{if(St!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(c=$n(t),c!==null){for(s.flags|=128,Jr(a,!1),t=c.updateQueue,s.updateQueue=t,ii(s,t),s.subtreeFlags=0,t=l,l=s.child;l!==null;)vu(l,t),l=l.sibling;return ie(Dt,Dt.current&1|2),We&&gl(s,a.treeForkCount),s.child}t=t.sibling}a.tail!==null&&se()>mi&&(s.flags|=128,r=!0,Jr(a,!1),s.lanes=4194304)}else{if(!r)if(t=$n(c),t!==null){if(s.flags|=128,r=!0,t=t.updateQueue,s.updateQueue=t,ii(s,t),Jr(a,!0),a.tail===null&&a.tailMode==="hidden"&&!c.alternate&&!We)return gt(s),null}else 2*se()-a.renderingStartTime>mi&&l!==536870912&&(s.flags|=128,r=!0,Jr(a,!1),s.lanes=4194304);a.isBackwards?(c.sibling=s.child,s.child=c):(t=a.last,t!==null?t.sibling=c:s.child=c,a.last=c)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=se(),t.sibling=null,l=Dt.current,ie(Dt,r?l&1|2:l&1),We&&gl(s,a.treeForkCount),t):(gt(s),null);case 22:case 23:return Ts(s),Vc(),a=s.memoizedState!==null,t!==null?t.memoizedState!==null!==a&&(s.flags|=8192):a&&(s.flags|=8192),a?(l&536870912)!==0&&(s.flags&128)===0&&(gt(s),s.subtreeFlags&6&&(s.flags|=8192)):gt(s),l=s.updateQueue,l!==null&&ii(s,l.retryQueue),l=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),a=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(a=s.memoizedState.cachePool.pool),a!==l&&(s.flags|=2048),t!==null&&U(ga),null;case 24:return l=null,t!==null&&(l=t.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),jl(Mt),gt(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function bf(t,s){switch(Cc(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return jl(Mt),De(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return oe(s),null;case 31:if(s.memoizedState!==null){if(Ts(s),s.alternate===null)throw Error(i(340));ha()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 13:if(Ts(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(i(340));ha()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return U(Dt),null;case 4:return De(),null;case 10:return jl(s.type),null;case 22:case 23:return Ts(s),Vc(),t!==null&&U(ga),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return jl(Mt),null;case 25:return null;default:return null}}function Xm(t,s){switch(Cc(s),s.tag){case 3:jl(Mt),De();break;case 26:case 27:case 5:oe(s);break;case 4:De();break;case 31:s.memoizedState!==null&&Ts(s);break;case 13:Ts(s);break;case 19:U(Dt);break;case 10:jl(s.type);break;case 22:case 23:Ts(s),Vc(),t!==null&&U(ga);break;case 24:jl(Mt)}}function Qr(t,s){try{var l=s.updateQueue,a=l!==null?l.lastEffect:null;if(a!==null){var r=a.next;l=r;do{if((l.tag&t)===t){a=void 0;var c=l.create,u=l.inst;a=c(),u.destroy=a}l=l.next}while(l!==r)}}catch(f){it(s,s.return,f)}}function Ql(t,s,l){try{var a=s.updateQueue,r=a!==null?a.lastEffect:null;if(r!==null){var c=r.next;a=c;do{if((a.tag&t)===t){var u=a.inst,f=u.destroy;if(f!==void 0){u.destroy=void 0,r=s;var E=l,F=f;try{F()}catch(ce){it(r,E,ce)}}}a=a.next}while(a!==c)}}catch(ce){it(s,s.return,ce)}}function $m(t){var s=t.updateQueue;if(s!==null){var l=t.stateNode;try{Ou(s,l)}catch(a){it(t,t.return,a)}}}function Zm(t,s,l){l.props=Na(t.type,t.memoizedProps),l.state=t.memoizedState;try{l.componentWillUnmount()}catch(a){it(t,s,a)}}function Xr(t,s){try{var l=t.ref;if(l!==null){switch(t.tag){case 26:case 27:case 5:var a=t.stateNode;break;case 30:a=t.stateNode;break;default:a=t.stateNode}typeof l=="function"?t.refCleanup=l(a):l.current=a}}catch(r){it(t,s,r)}}function nl(t,s){var l=t.ref,a=t.refCleanup;if(l!==null)if(typeof a=="function")try{a()}catch(r){it(t,s,r)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(r){it(t,s,r)}else l.current=null}function Fm(t){var s=t.type,l=t.memoizedProps,a=t.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&a.focus();break e;case"img":l.src?a.src=l.src:l.srcSet&&(a.srcset=l.srcSet)}}catch(r){it(t,t.return,r)}}function vd(t,s,l){try{var a=t.stateNode;Hf(a,t.type,l,s),a[Jt]=s}catch(r){it(t,t.return,r)}}function Im(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Pl(t.type)||t.tag===4}function yd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Im(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Pl(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Nd(t,s,l){var a=t.tag;if(a===5||a===6)t=t.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(t,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(t),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=hl));else if(a!==4&&(a===27&&Pl(t.type)&&(l=t.stateNode,s=null),t=t.child,t!==null))for(Nd(t,s,l),t=t.sibling;t!==null;)Nd(t,s,l),t=t.sibling}function ci(t,s,l){var a=t.tag;if(a===5||a===6)t=t.stateNode,s?l.insertBefore(t,s):l.appendChild(t);else if(a!==4&&(a===27&&Pl(t.type)&&(l=t.stateNode),t=t.child,t!==null))for(ci(t,s,l),t=t.sibling;t!==null;)ci(t,s,l),t=t.sibling}function Wm(t){var s=t.stateNode,l=t.memoizedProps;try{for(var a=t.type,r=s.attributes;r.length;)s.removeAttributeNode(r[0]);es(s,a,l),s[Ue]=t,s[Jt]=l}catch(c){it(t,t.return,c)}}var wl=!1,Ot=!1,_d=!1,Pm=typeof WeakSet=="function"?WeakSet:Set,Xt=null;function jf(t,s){if(t=t.containerInfo,Kd=Ei,t=uu(t),pc(t)){if("selectionStart"in t)var l={start:t.selectionStart,end:t.selectionEnd};else e:{l=(l=t.ownerDocument)&&l.defaultView||window;var a=l.getSelection&&l.getSelection();if(a&&a.rangeCount!==0){l=a.anchorNode;var r=a.anchorOffset,c=a.focusNode;a=a.focusOffset;try{l.nodeType,c.nodeType}catch{l=null;break e}var u=0,f=-1,E=-1,F=0,ce=0,ue=t,P=null;t:for(;;){for(var le;ue!==l||r!==0&&ue.nodeType!==3||(f=u+r),ue!==c||a!==0&&ue.nodeType!==3||(E=u+a),ue.nodeType===3&&(u+=ue.nodeValue.length),(le=ue.firstChild)!==null;)P=ue,ue=le;for(;;){if(ue===t)break t;if(P===l&&++F===r&&(f=u),P===c&&++ce===a&&(E=u),(le=ue.nextSibling)!==null)break;ue=P,P=ue.parentNode}ue=le}l=f===-1||E===-1?null:{start:f,end:E}}else l=null}l=l||{start:0,end:0}}else l=null;for(Jd={focusedElem:t,selectionRange:l},Ei=!1,Xt=s;Xt!==null;)if(s=Xt,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,Xt=t;else for(;Xt!==null;){switch(s=Xt,c=s.alternate,t=s.flags,s.tag){case 0:if((t&4)!==0&&(t=s.updateQueue,t=t!==null?t.events:null,t!==null))for(l=0;l<t.length;l++)r=t[l],r.ref.impl=r.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&c!==null){t=void 0,l=s,r=c.memoizedProps,c=c.memoizedState,a=l.stateNode;try{var be=Na(l.type,r);t=a.getSnapshotBeforeUpdate(be,c),a.__reactInternalSnapshotBeforeUpdate=t}catch(Ae){it(l,l.return,Ae)}}break;case 3:if((t&1024)!==0){if(t=s.stateNode.containerInfo,l=t.nodeType,l===9)$d(t);else if(l===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":$d(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(i(163))}if(t=s.sibling,t!==null){t.return=s.return,Xt=t;break}Xt=s.return}}function ex(t,s,l){var a=l.flags;switch(l.tag){case 0:case 11:case 15:kl(t,l),a&4&&Qr(5,l);break;case 1:if(kl(t,l),a&4)if(t=l.stateNode,s===null)try{t.componentDidMount()}catch(u){it(l,l.return,u)}else{var r=Na(l.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(r,s,t.__reactInternalSnapshotBeforeUpdate)}catch(u){it(l,l.return,u)}}a&64&&$m(l),a&512&&Xr(l,l.return);break;case 3:if(kl(t,l),a&64&&(t=l.updateQueue,t!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{Ou(t,s)}catch(u){it(l,l.return,u)}}break;case 27:s===null&&a&4&&Wm(l);case 26:case 5:kl(t,l),s===null&&a&4&&Fm(l),a&512&&Xr(l,l.return);break;case 12:kl(t,l);break;case 31:kl(t,l),a&4&&lx(t,l);break;case 13:kl(t,l),a&4&&ax(t,l),a&64&&(t=l.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(l=Af.bind(null,l),$f(t,l))));break;case 22:if(a=l.memoizedState!==null||wl,!a){s=s!==null&&s.memoizedState!==null||Ot,r=wl;var c=Ot;wl=a,(Ot=s)&&!c?Cl(t,l,(l.subtreeFlags&8772)!==0):kl(t,l),wl=r,Ot=c}break;case 30:break;default:kl(t,l)}}function tx(t){var s=t.alternate;s!==null&&(t.alternate=null,tx(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&Pi(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var jt=null,fs=!1;function Sl(t,s,l){for(l=l.child;l!==null;)sx(t,s,l),l=l.sibling}function sx(t,s,l){if(Re&&typeof Re.onCommitFiberUnmount=="function")try{Re.onCommitFiberUnmount(ze,l)}catch{}switch(l.tag){case 26:Ot||nl(l,s),Sl(t,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Ot||nl(l,s);var a=jt,r=fs;Pl(l.type)&&(jt=l.stateNode,fs=!1),Sl(t,s,l),sn(l.stateNode),jt=a,fs=r;break;case 5:Ot||nl(l,s);case 6:if(a=jt,r=fs,jt=null,Sl(t,s,l),jt=a,fs=r,jt!==null)if(fs)try{(jt.nodeType===9?jt.body:jt.nodeName==="HTML"?jt.ownerDocument.body:jt).removeChild(l.stateNode)}catch(c){it(l,s,c)}else try{jt.removeChild(l.stateNode)}catch(c){it(l,s,c)}break;case 18:jt!==null&&(fs?(t=jt,$x(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,l.stateNode),xr(t)):$x(jt,l.stateNode));break;case 4:a=jt,r=fs,jt=l.stateNode.containerInfo,fs=!0,Sl(t,s,l),jt=a,fs=r;break;case 0:case 11:case 14:case 15:Ql(2,l,s),Ot||Ql(4,l,s),Sl(t,s,l);break;case 1:Ot||(nl(l,s),a=l.stateNode,typeof a.componentWillUnmount=="function"&&Zm(l,s,a)),Sl(t,s,l);break;case 21:Sl(t,s,l);break;case 22:Ot=(a=Ot)||l.memoizedState!==null,Sl(t,s,l),Ot=a;break;default:Sl(t,s,l)}}function lx(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{xr(t)}catch(l){it(s,s.return,l)}}}function ax(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{xr(t)}catch(l){it(s,s.return,l)}}function vf(t){switch(t.tag){case 31:case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new Pm),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new Pm),s;default:throw Error(i(435,t.tag))}}function di(t,s){var l=vf(t);s.forEach(function(a){if(!l.has(a)){l.add(a);var r=Ef.bind(null,t,a);a.then(r,r)}})}function ps(t,s){var l=s.deletions;if(l!==null)for(var a=0;a<l.length;a++){var r=l[a],c=t,u=s,f=u;e:for(;f!==null;){switch(f.tag){case 27:if(Pl(f.type)){jt=f.stateNode,fs=!1;break e}break;case 5:jt=f.stateNode,fs=!1;break e;case 3:case 4:jt=f.stateNode.containerInfo,fs=!0;break e}f=f.return}if(jt===null)throw Error(i(160));sx(c,u,r),jt=null,fs=!1,c=r.alternate,c!==null&&(c.return=null),r.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)rx(s,t),s=s.sibling}var Ps=null;function rx(t,s){var l=t.alternate,a=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ps(s,t),gs(t),a&4&&(Ql(3,t,t.return),Qr(3,t),Ql(5,t,t.return));break;case 1:ps(s,t),gs(t),a&512&&(Ot||l===null||nl(l,l.return)),a&64&&wl&&(t=t.updateQueue,t!==null&&(a=t.callbacks,a!==null&&(l=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=l===null?a:l.concat(a))));break;case 26:var r=Ps;if(ps(s,t),gs(t),a&512&&(Ot||l===null||nl(l,l.return)),a&4){var c=l!==null?l.memoizedState:null;if(a=t.memoizedState,l===null)if(a===null)if(t.stateNode===null){e:{a=t.type,l=t.memoizedProps,r=r.ownerDocument||r;t:switch(a){case"title":c=r.getElementsByTagName("title")[0],(!c||c[vr]||c[Ue]||c.namespaceURI==="http://www.w3.org/2000/svg"||c.hasAttribute("itemprop"))&&(c=r.createElement(a),r.head.insertBefore(c,r.querySelector("head > title"))),es(c,a,l),c[Ue]=t,Qt(c),a=c;break e;case"link":var u=rh("link","href",r).get(a+(l.href||""));if(u){for(var f=0;f<u.length;f++)if(c=u[f],c.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&c.getAttribute("rel")===(l.rel==null?null:l.rel)&&c.getAttribute("title")===(l.title==null?null:l.title)&&c.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){u.splice(f,1);break t}}c=r.createElement(a),es(c,a,l),r.head.appendChild(c);break;case"meta":if(u=rh("meta","content",r).get(a+(l.content||""))){for(f=0;f<u.length;f++)if(c=u[f],c.getAttribute("content")===(l.content==null?null:""+l.content)&&c.getAttribute("name")===(l.name==null?null:l.name)&&c.getAttribute("property")===(l.property==null?null:l.property)&&c.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&c.getAttribute("charset")===(l.charSet==null?null:l.charSet)){u.splice(f,1);break t}}c=r.createElement(a),es(c,a,l),r.head.appendChild(c);break;default:throw Error(i(468,a))}c[Ue]=t,Qt(c),a=c}t.stateNode=a}else nh(r,t.type,t.stateNode);else t.stateNode=ah(r,a,t.memoizedProps);else c!==a?(c===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):c.count--,a===null?nh(r,t.type,t.stateNode):ah(r,a,t.memoizedProps)):a===null&&t.stateNode!==null&&vd(t,t.memoizedProps,l.memoizedProps)}break;case 27:ps(s,t),gs(t),a&512&&(Ot||l===null||nl(l,l.return)),l!==null&&a&4&&vd(t,t.memoizedProps,l.memoizedProps);break;case 5:if(ps(s,t),gs(t),a&512&&(Ot||l===null||nl(l,l.return)),t.flags&32){r=t.stateNode;try{Ra(r,"")}catch(be){it(t,t.return,be)}}a&4&&t.stateNode!=null&&(r=t.memoizedProps,vd(t,r,l!==null?l.memoizedProps:r)),a&1024&&(_d=!0);break;case 6:if(ps(s,t),gs(t),a&4){if(t.stateNode===null)throw Error(i(162));a=t.memoizedProps,l=t.stateNode;try{l.nodeValue=a}catch(be){it(t,t.return,be)}}break;case 3:if(Si=null,r=Ps,Ps=_i(s.containerInfo),ps(s,t),Ps=r,gs(t),a&4&&l!==null&&l.memoizedState.isDehydrated)try{xr(s.containerInfo)}catch(be){it(t,t.return,be)}_d&&(_d=!1,nx(t));break;case 4:a=Ps,Ps=_i(t.stateNode.containerInfo),ps(s,t),gs(t),Ps=a;break;case 12:ps(s,t),gs(t);break;case 31:ps(s,t),gs(t),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,di(t,a)));break;case 13:ps(s,t),gs(t),t.child.flags&8192&&t.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(ui=se()),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,di(t,a)));break;case 22:r=t.memoizedState!==null;var E=l!==null&&l.memoizedState!==null,F=wl,ce=Ot;if(wl=F||r,Ot=ce||E,ps(s,t),Ot=ce,wl=F,gs(t),a&8192)e:for(s=t.stateNode,s._visibility=r?s._visibility&-2:s._visibility|1,r&&(l===null||E||wl||Ot||_a(t)),l=null,s=t;;){if(s.tag===5||s.tag===26){if(l===null){E=l=s;try{if(c=E.stateNode,r)u=c.style,typeof u.setProperty=="function"?u.setProperty("display","none","important"):u.display="none";else{f=E.stateNode;var ue=E.memoizedProps.style,P=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;f.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(be){it(E,E.return,be)}}}else if(s.tag===6){if(l===null){E=s;try{E.stateNode.nodeValue=r?"":E.memoizedProps}catch(be){it(E,E.return,be)}}}else if(s.tag===18){if(l===null){E=s;try{var le=E.stateNode;r?Zx(le,!0):Zx(E.stateNode,!1)}catch(be){it(E,E.return,be)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}a&4&&(a=t.updateQueue,a!==null&&(l=a.retryQueue,l!==null&&(a.retryQueue=null,di(t,l))));break;case 19:ps(s,t),gs(t),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,di(t,a)));break;case 30:break;case 21:break;default:ps(s,t),gs(t)}}function gs(t){var s=t.flags;if(s&2){try{for(var l,a=t.return;a!==null;){if(Im(a)){l=a;break}a=a.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var r=l.stateNode,c=yd(t);ci(t,c,r);break;case 5:var u=l.stateNode;l.flags&32&&(Ra(u,""),l.flags&=-33);var f=yd(t);ci(t,f,u);break;case 3:case 4:var E=l.stateNode.containerInfo,F=yd(t);Nd(t,F,E);break;default:throw Error(i(161))}}catch(ce){it(t,t.return,ce)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function nx(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;nx(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function kl(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)ex(t,s.alternate,s),s=s.sibling}function _a(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:Ql(4,s,s.return),_a(s);break;case 1:nl(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&Zm(s,s.return,l),_a(s);break;case 27:sn(s.stateNode);case 26:case 5:nl(s,s.return),_a(s);break;case 22:s.memoizedState===null&&_a(s);break;case 30:_a(s);break;default:_a(s)}t=t.sibling}}function Cl(t,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var a=s.alternate,r=t,c=s,u=c.flags;switch(c.tag){case 0:case 11:case 15:Cl(r,c,l),Qr(4,c);break;case 1:if(Cl(r,c,l),a=c,r=a.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(F){it(a,a.return,F)}if(a=c,r=a.updateQueue,r!==null){var f=a.stateNode;try{var E=r.shared.hiddenCallbacks;if(E!==null)for(r.shared.hiddenCallbacks=null,r=0;r<E.length;r++)Lu(E[r],f)}catch(F){it(a,a.return,F)}}l&&u&64&&$m(c),Xr(c,c.return);break;case 27:Wm(c);case 26:case 5:Cl(r,c,l),l&&a===null&&u&4&&Fm(c),Xr(c,c.return);break;case 12:Cl(r,c,l);break;case 31:Cl(r,c,l),l&&u&4&&lx(r,c);break;case 13:Cl(r,c,l),l&&u&4&&ax(r,c);break;case 22:c.memoizedState===null&&Cl(r,c,l),Xr(c,c.return);break;case 30:break;default:Cl(r,c,l)}s=s.sibling}}function wd(t,s){var l=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==l&&(t!=null&&t.refCount++,l!=null&&zr(l))}function Sd(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&zr(t))}function el(t,s,l,a){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)ix(t,s,l,a),s=s.sibling}function ix(t,s,l,a){var r=s.flags;switch(s.tag){case 0:case 11:case 15:el(t,s,l,a),r&2048&&Qr(9,s);break;case 1:el(t,s,l,a);break;case 3:el(t,s,l,a),r&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&zr(t)));break;case 12:if(r&2048){el(t,s,l,a),t=s.stateNode;try{var c=s.memoizedProps,u=c.id,f=c.onPostCommit;typeof f=="function"&&f(u,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(E){it(s,s.return,E)}}else el(t,s,l,a);break;case 31:el(t,s,l,a);break;case 13:el(t,s,l,a);break;case 23:break;case 22:c=s.stateNode,u=s.alternate,s.memoizedState!==null?c._visibility&2?el(t,s,l,a):$r(t,s):c._visibility&2?el(t,s,l,a):(c._visibility|=2,sr(t,s,l,a,(s.subtreeFlags&10256)!==0||!1)),r&2048&&wd(u,s);break;case 24:el(t,s,l,a),r&2048&&Sd(s.alternate,s);break;default:el(t,s,l,a)}}function sr(t,s,l,a,r){for(r=r&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var c=t,u=s,f=l,E=a,F=u.flags;switch(u.tag){case 0:case 11:case 15:sr(c,u,f,E,r),Qr(8,u);break;case 23:break;case 22:var ce=u.stateNode;u.memoizedState!==null?ce._visibility&2?sr(c,u,f,E,r):$r(c,u):(ce._visibility|=2,sr(c,u,f,E,r)),r&&F&2048&&wd(u.alternate,u);break;case 24:sr(c,u,f,E,r),r&&F&2048&&Sd(u.alternate,u);break;default:sr(c,u,f,E,r)}s=s.sibling}}function $r(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=t,a=s,r=a.flags;switch(a.tag){case 22:$r(l,a),r&2048&&wd(a.alternate,a);break;case 24:$r(l,a),r&2048&&Sd(a.alternate,a);break;default:$r(l,a)}s=s.sibling}}var Zr=8192;function lr(t,s,l){if(t.subtreeFlags&Zr)for(t=t.child;t!==null;)cx(t,s,l),t=t.sibling}function cx(t,s,l){switch(t.tag){case 26:lr(t,s,l),t.flags&Zr&&t.memoizedState!==null&&np(l,Ps,t.memoizedState,t.memoizedProps);break;case 5:lr(t,s,l);break;case 3:case 4:var a=Ps;Ps=_i(t.stateNode.containerInfo),lr(t,s,l),Ps=a;break;case 22:t.memoizedState===null&&(a=t.alternate,a!==null&&a.memoizedState!==null?(a=Zr,Zr=16777216,lr(t,s,l),Zr=a):lr(t,s,l));break;default:lr(t,s,l)}}function dx(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function Fr(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var a=s[l];Xt=a,ux(a,t)}dx(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ox(t),t=t.sibling}function ox(t){switch(t.tag){case 0:case 11:case 15:Fr(t),t.flags&2048&&Ql(9,t,t.return);break;case 3:Fr(t);break;case 12:Fr(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&2&&(t.return===null||t.return.tag!==13)?(s._visibility&=-3,oi(t)):Fr(t);break;default:Fr(t)}}function oi(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var a=s[l];Xt=a,ux(a,t)}dx(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:Ql(8,s,s.return),oi(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,oi(s));break;default:oi(s)}t=t.sibling}}function ux(t,s){for(;Xt!==null;){var l=Xt;switch(l.tag){case 0:case 11:case 15:Ql(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var a=l.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:zr(l.memoizedState.cache)}if(a=l.child,a!==null)a.return=l,Xt=a;else e:for(l=t;Xt!==null;){a=Xt;var r=a.sibling,c=a.return;if(tx(a),a===l){Xt=null;break e}if(r!==null){r.return=c,Xt=r;break e}Xt=c}}}var yf={getCacheForType:function(t){var s=Wt(Mt),l=s.data.get(t);return l===void 0&&(l=t(),s.data.set(t,l)),l},cacheSignal:function(){return Wt(Mt).controller.signal}},Nf=typeof WeakMap=="function"?WeakMap:Map,lt=0,xt=null,Ke=null,Qe=0,nt=0,Ds=null,Xl=!1,ar=!1,kd=!1,Al=0,St=0,$l=0,wa=0,Cd=0,qs=0,rr=0,Ir=null,bs=null,Ad=!1,ui=0,mx=0,mi=1/0,xi=null,Zl=null,Gt=0,Fl=null,nr=null,El=0,Ed=0,Td=null,xx=null,Wr=0,Dd=null;function zs(){return(lt&2)!==0&&Qe!==0?Qe&-Qe:G.T!==null?Ld():Ie()}function hx(){if(qs===0)if((Qe&536870912)===0||We){var t=ul;ul<<=1,(ul&3932160)===0&&(ul=262144),qs=t}else qs=536870912;return t=Es.current,t!==null&&(t.flags|=32),qs}function js(t,s,l){(t===xt&&(nt===2||nt===9)||t.cancelPendingCommit!==null)&&(ir(t,0),Il(t,Qe,qs,!1)),pe(t,l),((lt&2)===0||t!==xt)&&(t===xt&&((lt&2)===0&&(wa|=l),St===4&&Il(t,Qe,qs,!1)),il(t))}function fx(t,s,l){if((lt&6)!==0)throw Error(i(327));var a=!l&&(s&127)===0&&(s&t.expiredLanes)===0||xs(t,s),r=a?Sf(t,s):zd(t,s,!0),c=a;do{if(r===0){ar&&!a&&Il(t,s,0,!1);break}else{if(l=t.current.alternate,c&&!_f(l)){r=zd(t,s,!1),c=!1;continue}if(r===2){if(c=s,t.errorRecoveryDisabledLanes&c)var u=0;else u=t.pendingLanes&-536870913,u=u!==0?u:u&536870912?536870912:0;if(u!==0){s=u;e:{var f=t;r=Ir;var E=f.current.memoizedState.isDehydrated;if(E&&(ir(f,u).flags|=256),u=zd(f,u,!1),u!==2){if(kd&&!E){f.errorRecoveryDisabledLanes|=c,wa|=c,r=4;break e}c=bs,bs=r,c!==null&&(bs===null?bs=c:bs.push.apply(bs,c))}r=u}if(c=!1,r!==2)continue}}if(r===1){ir(t,0),Il(t,s,0,!0);break}e:{switch(a=t,c=r,c){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:Il(a,s,qs,!Xl);break e;case 2:bs=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(r=ui+300-se(),10<r)){if(Il(a,s,qs,!Xl),ks(a,0,!0)!==0)break e;El=s,a.timeoutHandle=Qx(px.bind(null,a,l,bs,xi,Ad,s,qs,wa,rr,Xl,c,"Throttled",-0,0),r);break e}px(a,l,bs,xi,Ad,s,qs,wa,rr,Xl,c,null,-0,0)}}break}while(!0);il(t)}function px(t,s,l,a,r,c,u,f,E,F,ce,ue,P,le){if(t.timeoutHandle=-1,ue=s.subtreeFlags,ue&8192||(ue&16785408)===16785408){ue={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:hl},cx(s,c,ue);var be=(c&62914560)===c?ui-se():(c&4194048)===c?mx-se():0;if(be=ip(ue,be),be!==null){El=c,t.cancelPendingCommit=be(wx.bind(null,t,s,c,l,a,r,u,f,E,ce,ue,null,P,le)),Il(t,c,u,!F);return}}wx(t,s,c,l,a,r,u,f,E)}function _f(t){for(var s=t;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var a=0;a<l.length;a++){var r=l[a],c=r.getSnapshot;r=r.value;try{if(!Cs(c(),r))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Il(t,s,l,a){s&=~Cd,s&=~wa,t.suspendedLanes|=s,t.pingedLanes&=~s,a&&(t.warmLanes|=s),a=t.expirationTimes;for(var r=s;0<r;){var c=31-mt(r),u=1<<c;a[c]=-1,r&=~u}l!==0&&Fe(t,l,s)}function hi(){return(lt&6)===0?(Pr(0),!1):!0}function qd(){if(Ke!==null){if(nt===0)var t=Ke.return;else t=Ke,bl=fa=null,$c(t),Ia=null,Mr=0,t=Ke;for(;t!==null;)Xm(t.alternate,t),t=t.return;Ke=null}}function ir(t,s){var l=t.timeoutHandle;l!==-1&&(t.timeoutHandle=-1,Yf(l)),l=t.cancelPendingCommit,l!==null&&(t.cancelPendingCommit=null,l()),El=0,qd(),xt=t,Ke=l=pl(t.current,null),Qe=s,nt=0,Ds=null,Xl=!1,ar=xs(t,s),kd=!1,rr=qs=Cd=wa=$l=St=0,bs=Ir=null,Ad=!1,(s&8)!==0&&(s|=s&32);var a=t.entangledLanes;if(a!==0)for(t=t.entanglements,a&=s;0<a;){var r=31-mt(a),c=1<<r;s|=t[r],a&=~c}return Al=s,Mn(),l}function gx(t,s){Le=null,G.H=Yr,s===Fa||s===Yn?(s=zu(),nt=3):s===Rc?(s=zu(),nt=4):nt=s===od?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Ds=s,Ke===null&&(St=1,li(t,Ys(s,t.current)))}function bx(){var t=Es.current;return t===null?!0:(Qe&4194048)===Qe?Xs===null:(Qe&62914560)===Qe||(Qe&536870912)!==0?t===Xs:!1}function jx(){var t=G.H;return G.H=Yr,t===null?Yr:t}function vx(){var t=G.A;return G.A=yf,t}function fi(){St=4,Xl||(Qe&4194048)!==Qe&&Es.current!==null||(ar=!0),($l&134217727)===0&&(wa&134217727)===0||xt===null||Il(xt,Qe,qs,!1)}function zd(t,s,l){var a=lt;lt|=2;var r=jx(),c=vx();(xt!==t||Qe!==s)&&(xi=null,ir(t,s)),s=!1;var u=St;e:do try{if(nt!==0&&Ke!==null){var f=Ke,E=Ds;switch(nt){case 8:qd(),u=6;break e;case 3:case 2:case 9:case 6:Es.current===null&&(s=!0);var F=nt;if(nt=0,Ds=null,cr(t,f,E,F),l&&ar){u=0;break e}break;default:F=nt,nt=0,Ds=null,cr(t,f,E,F)}}wf(),u=St;break}catch(ce){gx(t,ce)}while(!0);return s&&t.shellSuspendCounter++,bl=fa=null,lt=a,G.H=r,G.A=c,Ke===null&&(xt=null,Qe=0,Mn()),u}function wf(){for(;Ke!==null;)yx(Ke)}function Sf(t,s){var l=lt;lt|=2;var a=jx(),r=vx();xt!==t||Qe!==s?(xi=null,mi=se()+500,ir(t,s)):ar=xs(t,s);e:do try{if(nt!==0&&Ke!==null){s=Ke;var c=Ds;t:switch(nt){case 1:nt=0,Ds=null,cr(t,s,c,1);break;case 2:case 9:if(Du(c)){nt=0,Ds=null,Nx(s);break}s=function(){nt!==2&&nt!==9||xt!==t||(nt=7),il(t)},c.then(s,s);break e;case 3:nt=7;break e;case 4:nt=5;break e;case 7:Du(c)?(nt=0,Ds=null,Nx(s)):(nt=0,Ds=null,cr(t,s,c,7));break;case 5:var u=null;switch(Ke.tag){case 26:u=Ke.memoizedState;case 5:case 27:var f=Ke;if(u?ih(u):f.stateNode.complete){nt=0,Ds=null;var E=f.sibling;if(E!==null)Ke=E;else{var F=f.return;F!==null?(Ke=F,pi(F)):Ke=null}break t}}nt=0,Ds=null,cr(t,s,c,5);break;case 6:nt=0,Ds=null,cr(t,s,c,6);break;case 8:qd(),St=6;break e;default:throw Error(i(462))}}kf();break}catch(ce){gx(t,ce)}while(!0);return bl=fa=null,G.H=a,G.A=r,lt=l,Ke!==null?0:(xt=null,Qe=0,Mn(),St)}function kf(){for(;Ke!==null&&!Ve();)yx(Ke)}function yx(t){var s=Jm(t.alternate,t,Al);t.memoizedProps=t.pendingProps,s===null?pi(t):Ke=s}function Nx(t){var s=t,l=s.alternate;switch(s.tag){case 15:case 0:s=Bm(l,s,s.pendingProps,s.type,void 0,Qe);break;case 11:s=Bm(l,s,s.pendingProps,s.type.render,s.ref,Qe);break;case 5:$c(s);default:Xm(l,s),s=Ke=vu(s,Al),s=Jm(l,s,Al)}t.memoizedProps=t.pendingProps,s===null?pi(t):Ke=s}function cr(t,s,l,a){bl=fa=null,$c(s),Ia=null,Mr=0;var r=s.return;try{if(hf(t,r,s,l,Qe)){St=1,li(t,Ys(l,t.current)),Ke=null;return}}catch(c){if(r!==null)throw Ke=r,c;St=1,li(t,Ys(l,t.current)),Ke=null;return}s.flags&32768?(We||a===1?t=!0:ar||(Qe&536870912)!==0?t=!1:(Xl=t=!0,(a===2||a===9||a===3||a===6)&&(a=Es.current,a!==null&&a.tag===13&&(a.flags|=16384))),_x(s,t)):pi(s)}function pi(t){var s=t;do{if((s.flags&32768)!==0){_x(s,Xl);return}t=s.return;var l=gf(s.alternate,s,Al);if(l!==null){Ke=l;return}if(s=s.sibling,s!==null){Ke=s;return}Ke=s=t}while(s!==null);St===0&&(St=5)}function _x(t,s){do{var l=bf(t.alternate,t);if(l!==null){l.flags&=32767,Ke=l;return}if(l=t.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(t=t.sibling,t!==null)){Ke=t;return}Ke=t=l}while(t!==null);St=6,Ke=null}function wx(t,s,l,a,r,c,u,f,E){t.cancelPendingCommit=null;do gi();while(Gt!==0);if((lt&6)!==0)throw Error(i(327));if(s!==null){if(s===t.current)throw Error(i(177));if(c=s.lanes|s.childLanes,c|=yc,yt(t,l,c,u,f,E),t===xt&&(Ke=xt=null,Qe=0),nr=s,Fl=t,El=l,Ed=c,Td=r,xx=a,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Tf(xe,function(){return Ex(),null})):(t.callbackNode=null,t.callbackPriority=0),a=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||a){a=G.T,G.T=null,r=W.p,W.p=2,u=lt,lt|=4;try{jf(t,s,l)}finally{lt=u,W.p=r,G.T=a}}Gt=1,Sx(),kx(),Cx()}}function Sx(){if(Gt===1){Gt=0;var t=Fl,s=nr,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=G.T,G.T=null;var a=W.p;W.p=2;var r=lt;lt|=4;try{rx(s,t);var c=Jd,u=uu(t.containerInfo),f=c.focusedElem,E=c.selectionRange;if(u!==f&&f&&f.ownerDocument&&ou(f.ownerDocument.documentElement,f)){if(E!==null&&pc(f)){var F=E.start,ce=E.end;if(ce===void 0&&(ce=F),"selectionStart"in f)f.selectionStart=F,f.selectionEnd=Math.min(ce,f.value.length);else{var ue=f.ownerDocument||document,P=ue&&ue.defaultView||window;if(P.getSelection){var le=P.getSelection(),be=f.textContent.length,Ae=Math.min(E.start,be),ut=E.end===void 0?Ae:Math.min(E.end,be);!le.extend&&Ae>ut&&(u=ut,ut=Ae,Ae=u);var V=du(f,Ae),R=du(f,ut);if(V&&R&&(le.rangeCount!==1||le.anchorNode!==V.node||le.anchorOffset!==V.offset||le.focusNode!==R.node||le.focusOffset!==R.offset)){var Z=ue.createRange();Z.setStart(V.node,V.offset),le.removeAllRanges(),Ae>ut?(le.addRange(Z),le.extend(R.node,R.offset)):(Z.setEnd(R.node,R.offset),le.addRange(Z))}}}}for(ue=[],le=f;le=le.parentNode;)le.nodeType===1&&ue.push({element:le,left:le.scrollLeft,top:le.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<ue.length;f++){var de=ue[f];de.element.scrollLeft=de.left,de.element.scrollTop=de.top}}Ei=!!Kd,Jd=Kd=null}finally{lt=r,W.p=a,G.T=l}}t.current=s,Gt=2}}function kx(){if(Gt===2){Gt=0;var t=Fl,s=nr,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=G.T,G.T=null;var a=W.p;W.p=2;var r=lt;lt|=4;try{ex(t,s.alternate,s)}finally{lt=r,W.p=a,G.T=l}}Gt=3}}function Cx(){if(Gt===4||Gt===3){Gt=0,Rs();var t=Fl,s=nr,l=El,a=xx;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Gt=5:(Gt=0,nr=Fl=null,Ax(t,t.pendingLanes));var r=t.pendingLanes;if(r===0&&(Zl=null),Ht(l),s=s.stateNode,Re&&typeof Re.onCommitFiberRoot=="function")try{Re.onCommitFiberRoot(ze,s,void 0,(s.current.flags&128)===128)}catch{}if(a!==null){s=G.T,r=W.p,W.p=2,G.T=null;try{for(var c=t.onRecoverableError,u=0;u<a.length;u++){var f=a[u];c(f.value,{componentStack:f.stack})}}finally{G.T=s,W.p=r}}(El&3)!==0&&gi(),il(t),r=t.pendingLanes,(l&261930)!==0&&(r&42)!==0?t===Dd?Wr++:(Wr=0,Dd=t):Wr=0,Pr(0)}}function Ax(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,zr(s)))}function gi(){return Sx(),kx(),Cx(),Ex()}function Ex(){if(Gt!==5)return!1;var t=Fl,s=Ed;Ed=0;var l=Ht(El),a=G.T,r=W.p;try{W.p=32>l?32:l,G.T=null,l=Td,Td=null;var c=Fl,u=El;if(Gt=0,nr=Fl=null,El=0,(lt&6)!==0)throw Error(i(331));var f=lt;if(lt|=4,ox(c.current),ix(c,c.current,u,l),lt=f,Pr(0,!1),Re&&typeof Re.onPostCommitFiberRoot=="function")try{Re.onPostCommitFiberRoot(ze,c)}catch{}return!0}finally{W.p=r,G.T=a,Ax(t,s)}}function Tx(t,s,l){s=Ys(l,s),s=dd(t.stateNode,s,2),t=Yl(t,s,2),t!==null&&(pe(t,2),il(t))}function it(t,s,l){if(t.tag===3)Tx(t,t,l);else for(;s!==null;){if(s.tag===3){Tx(s,t,l);break}else if(s.tag===1){var a=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Zl===null||!Zl.has(a))){t=Ys(l,t),l=Dm(2),a=Yl(s,l,2),a!==null&&(qm(l,a,s,t),pe(a,2),il(a));break}}s=s.return}}function Ud(t,s,l){var a=t.pingCache;if(a===null){a=t.pingCache=new Nf;var r=new Set;a.set(s,r)}else r=a.get(s),r===void 0&&(r=new Set,a.set(s,r));r.has(l)||(kd=!0,r.add(l),t=Cf.bind(null,t,s,l),s.then(t,t))}function Cf(t,s,l){var a=t.pingCache;a!==null&&a.delete(s),t.pingedLanes|=t.suspendedLanes&l,t.warmLanes&=~l,xt===t&&(Qe&l)===l&&(St===4||St===3&&(Qe&62914560)===Qe&&300>se()-ui?(lt&2)===0&&ir(t,0):Cd|=l,rr===Qe&&(rr=0)),il(t)}function Dx(t,s){s===0&&(s=br()),t=ma(t,s),t!==null&&(pe(t,s),il(t))}function Af(t){var s=t.memoizedState,l=0;s!==null&&(l=s.retryLane),Dx(t,l)}function Ef(t,s){var l=0;switch(t.tag){case 31:case 13:var a=t.stateNode,r=t.memoizedState;r!==null&&(l=r.retryLane);break;case 19:a=t.stateNode;break;case 22:a=t.stateNode._retryCache;break;default:throw Error(i(314))}a!==null&&a.delete(s),Dx(t,l)}function Tf(t,s){return bt(t,s)}var bi=null,dr=null,Md=!1,ji=!1,Rd=!1,Wl=0;function il(t){t!==dr&&t.next===null&&(dr===null?bi=dr=t:dr=dr.next=t),ji=!0,Md||(Md=!0,qf())}function Pr(t,s){if(!Rd&&ji){Rd=!0;do for(var l=!1,a=bi;a!==null;){if(t!==0){var r=a.pendingLanes;if(r===0)var c=0;else{var u=a.suspendedLanes,f=a.pingedLanes;c=(1<<31-mt(42|t)+1)-1,c&=r&~(u&~f),c=c&201326741?c&201326741|1:c?c|2:0}c!==0&&(l=!0,Mx(a,c))}else c=Qe,c=ks(a,a===xt?c:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(c&3)===0||xs(a,c)||(l=!0,Mx(a,c));a=a.next}while(l);Rd=!1}}function Df(){qx()}function qx(){ji=Md=!1;var t=0;Wl!==0&&Vf()&&(t=Wl);for(var s=se(),l=null,a=bi;a!==null;){var r=a.next,c=zx(a,s);c===0?(a.next=null,l===null?bi=r:l.next=r,r===null&&(dr=l)):(l=a,(t!==0||(c&3)!==0)&&(ji=!0)),a=r}Gt!==0&&Gt!==5||Pr(t),Wl!==0&&(Wl=0)}function zx(t,s){for(var l=t.suspendedLanes,a=t.pingedLanes,r=t.expirationTimes,c=t.pendingLanes&-62914561;0<c;){var u=31-mt(c),f=1<<u,E=r[u];E===-1?((f&l)===0||(f&a)!==0)&&(r[u]=Ta(f,s)):E<=s&&(t.expiredLanes|=f),c&=~f}if(s=xt,l=Qe,l=ks(t,t===s?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),a=t.callbackNode,l===0||t===s&&(nt===2||nt===9)||t.cancelPendingCommit!==null)return a!==null&&a!==null&&me(a),t.callbackNode=null,t.callbackPriority=0;if((l&3)===0||xs(t,l)){if(s=l&-l,s===t.callbackPriority)return s;switch(a!==null&&me(a),Ht(l)){case 2:case 8:l=ll;break;case 32:l=xe;break;case 268435456:l=Ce;break;default:l=xe}return a=Ux.bind(null,t),l=bt(l,a),t.callbackPriority=s,t.callbackNode=l,s}return a!==null&&a!==null&&me(a),t.callbackPriority=2,t.callbackNode=null,2}function Ux(t,s){if(Gt!==0&&Gt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var l=t.callbackNode;if(gi()&&t.callbackNode!==l)return null;var a=Qe;return a=ks(t,t===xt?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),a===0?null:(fx(t,a,s),zx(t,se()),t.callbackNode!=null&&t.callbackNode===l?Ux.bind(null,t):null)}function Mx(t,s){if(gi())return null;fx(t,s,!0)}function qf(){Kf(function(){(lt&6)!==0?bt(Ul,Df):qx()})}function Ld(){if(Wl===0){var t=$a;t===0&&(t=ms,ms<<=1,(ms&261888)===0&&(ms=256)),Wl=t}return Wl}function Rx(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Cn(""+t)}function Lx(t,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,t.id&&l.setAttribute("form",t.id),s.parentNode.insertBefore(l,s),t=new FormData(t),l.parentNode.removeChild(l),t}function zf(t,s,l,a,r){if(s==="submit"&&l&&l.stateNode===r){var c=Rx((r[Jt]||null).action),u=a.submitter;u&&(s=(s=u[Jt]||null)?Rx(s.formAction):u.getAttribute("formAction"),s!==null&&(c=s,u=null));var f=new Dn("action","action",null,a,r);t.push({event:f,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Wl!==0){var E=u?Lx(r,u):new FormData(r);ld(l,{pending:!0,data:E,method:r.method,action:c},null,E)}}else typeof c=="function"&&(f.preventDefault(),E=u?Lx(r,u):new FormData(r),ld(l,{pending:!0,data:E,method:r.method,action:c},c,E))},currentTarget:r}]})}}for(var Od=0;Od<vc.length;Od++){var Bd=vc[Od],Uf=Bd.toLowerCase(),Mf=Bd[0].toUpperCase()+Bd.slice(1);Ws(Uf,"on"+Mf)}Ws(hu,"onAnimationEnd"),Ws(fu,"onAnimationIteration"),Ws(pu,"onAnimationStart"),Ws("dblclick","onDoubleClick"),Ws("focusin","onFocus"),Ws("focusout","onBlur"),Ws(F0,"onTransitionRun"),Ws(I0,"onTransitionStart"),Ws(W0,"onTransitionCancel"),Ws(gu,"onTransitionEnd"),Ua("onMouseEnter",["mouseout","mouseover"]),Ua("onMouseLeave",["mouseout","mouseover"]),Ua("onPointerEnter",["pointerout","pointerover"]),Ua("onPointerLeave",["pointerout","pointerover"]),ca("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ca("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ca("onBeforeInput",["compositionend","keypress","textInput","paste"]),ca("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ca("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ca("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var en="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rf=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(en));function Ox(t,s){s=(s&4)!==0;for(var l=0;l<t.length;l++){var a=t[l],r=a.event;a=a.listeners;e:{var c=void 0;if(s)for(var u=a.length-1;0<=u;u--){var f=a[u],E=f.instance,F=f.currentTarget;if(f=f.listener,E!==c&&r.isPropagationStopped())break e;c=f,r.currentTarget=F;try{c(r)}catch(ce){Un(ce)}r.currentTarget=null,c=E}else for(u=0;u<a.length;u++){if(f=a[u],E=f.instance,F=f.currentTarget,f=f.listener,E!==c&&r.isPropagationStopped())break e;c=f,r.currentTarget=F;try{c(r)}catch(ce){Un(ce)}r.currentTarget=null,c=E}}}}function Je(t,s){var l=s[Tt];l===void 0&&(l=s[Tt]=new Set);var a=t+"__bubble";l.has(a)||(Bx(s,t,2,!1),l.add(a))}function Hd(t,s,l){var a=0;s&&(a|=4),Bx(l,t,a,s)}var vi="_reactListening"+Math.random().toString(36).slice(2);function Gd(t){if(!t[vi]){t[vi]=!0,qo.forEach(function(l){l!=="selectionchange"&&(Rf.has(l)||Hd(l,!1,t),Hd(l,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[vi]||(s[vi]=!0,Hd("selectionchange",!1,s))}}function Bx(t,s,l,a){switch(hh(s)){case 2:var r=op;break;case 8:r=up;break;default:r=so}l=r.bind(null,s,l,t),r=void 0,!ic||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(r=!0),a?r!==void 0?t.addEventListener(s,l,{capture:!0,passive:r}):t.addEventListener(s,l,!0):r!==void 0?t.addEventListener(s,l,{passive:r}):t.addEventListener(s,l,!1)}function Vd(t,s,l,a,r){var c=a;if((s&1)===0&&(s&2)===0&&a!==null)e:for(;;){if(a===null)return;var u=a.tag;if(u===3||u===4){var f=a.stateNode.containerInfo;if(f===r)break;if(u===4)for(u=a.return;u!==null;){var E=u.tag;if((E===3||E===4)&&u.stateNode.containerInfo===r)return;u=u.return}for(;f!==null;){if(u=Da(f),u===null)return;if(E=u.tag,E===5||E===6||E===26||E===27){a=c=u;continue e}f=f.parentNode}}a=a.return}Ko(function(){var F=c,ce=rc(l),ue=[];e:{var P=bu.get(t);if(P!==void 0){var le=Dn,be=t;switch(t){case"keypress":if(En(l)===0)break e;case"keydown":case"keyup":le=A0;break;case"focusin":be="focus",le=uc;break;case"focusout":be="blur",le=uc;break;case"beforeblur":case"afterblur":le=uc;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=Xo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=p0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=D0;break;case hu:case fu:case pu:le=j0;break;case gu:le=z0;break;case"scroll":case"scrollend":le=h0;break;case"wheel":le=M0;break;case"copy":case"cut":case"paste":le=y0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=Zo;break;case"toggle":case"beforetoggle":le=L0}var Ae=(s&4)!==0,ut=!Ae&&(t==="scroll"||t==="scrollend"),V=Ae?P!==null?P+"Capture":null:P;Ae=[];for(var R=F,Z;R!==null;){var de=R;if(Z=de.stateNode,de=de.tag,de!==5&&de!==26&&de!==27||Z===null||V===null||(de=Nr(R,V),de!=null&&Ae.push(tn(R,de,Z))),ut)break;R=R.return}0<Ae.length&&(P=new le(P,be,null,l,ce),ue.push({event:P,listeners:Ae}))}}if((s&7)===0){e:{if(P=t==="mouseover"||t==="pointerover",le=t==="mouseout"||t==="pointerout",P&&l!==ac&&(be=l.relatedTarget||l.fromElement)&&(Da(be)||be[Bs]))break e;if((le||P)&&(P=ce.window===ce?ce:(P=ce.ownerDocument)?P.defaultView||P.parentWindow:window,le?(be=l.relatedTarget||l.toElement,le=F,be=be?Da(be):null,be!==null&&(ut=x(be),Ae=be.tag,be!==ut||Ae!==5&&Ae!==27&&Ae!==6)&&(be=null)):(le=null,be=F),le!==be)){if(Ae=Xo,de="onMouseLeave",V="onMouseEnter",R="mouse",(t==="pointerout"||t==="pointerover")&&(Ae=Zo,de="onPointerLeave",V="onPointerEnter",R="pointer"),ut=le==null?P:yr(le),Z=be==null?P:yr(be),P=new Ae(de,R+"leave",le,l,ce),P.target=ut,P.relatedTarget=Z,de=null,Da(ce)===F&&(Ae=new Ae(V,R+"enter",be,l,ce),Ae.target=Z,Ae.relatedTarget=ut,de=Ae),ut=de,le&&be)t:{for(Ae=Lf,V=le,R=be,Z=0,de=V;de;de=Ae(de))Z++;de=0;for(var ke=R;ke;ke=Ae(ke))de++;for(;0<Z-de;)V=Ae(V),Z--;for(;0<de-Z;)R=Ae(R),de--;for(;Z--;){if(V===R||R!==null&&V===R.alternate){Ae=V;break t}V=Ae(V),R=Ae(R)}Ae=null}else Ae=null;le!==null&&Hx(ue,P,le,Ae,!1),be!==null&&ut!==null&&Hx(ue,ut,be,Ae,!0)}}e:{if(P=F?yr(F):window,le=P.nodeName&&P.nodeName.toLowerCase(),le==="select"||le==="input"&&P.type==="file")var et=lu;else if(tu(P))if(au)et=X0;else{et=J0;var ve=K0}else le=P.nodeName,!le||le.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?F&&lc(F.elementType)&&(et=lu):et=Q0;if(et&&(et=et(t,F))){su(ue,et,l,ce);break e}ve&&ve(t,P,F),t==="focusout"&&F&&P.type==="number"&&F.memoizedProps.value!=null&&sc(P,"number",P.value)}switch(ve=F?yr(F):window,t){case"focusin":(tu(ve)||ve.contentEditable==="true")&&(Ha=ve,gc=F,Tr=null);break;case"focusout":Tr=gc=Ha=null;break;case"mousedown":bc=!0;break;case"contextmenu":case"mouseup":case"dragend":bc=!1,mu(ue,l,ce);break;case"selectionchange":if(Z0)break;case"keydown":case"keyup":mu(ue,l,ce)}var Oe;if(xc)e:{switch(t){case"compositionstart":var Xe="onCompositionStart";break e;case"compositionend":Xe="onCompositionEnd";break e;case"compositionupdate":Xe="onCompositionUpdate";break e}Xe=void 0}else Ba?Po(t,l)&&(Xe="onCompositionEnd"):t==="keydown"&&l.keyCode===229&&(Xe="onCompositionStart");Xe&&(Fo&&l.locale!=="ko"&&(Ba||Xe!=="onCompositionStart"?Xe==="onCompositionEnd"&&Ba&&(Oe=Jo()):(Rl=ce,cc="value"in Rl?Rl.value:Rl.textContent,Ba=!0)),ve=yi(F,Xe),0<ve.length&&(Xe=new $o(Xe,t,null,l,ce),ue.push({event:Xe,listeners:ve}),Oe?Xe.data=Oe:(Oe=eu(l),Oe!==null&&(Xe.data=Oe)))),(Oe=B0?H0(t,l):G0(t,l))&&(Xe=yi(F,"onBeforeInput"),0<Xe.length&&(ve=new $o("onBeforeInput","beforeinput",null,l,ce),ue.push({event:ve,listeners:Xe}),ve.data=Oe)),zf(ue,t,F,l,ce)}Ox(ue,s)})}function tn(t,s,l){return{instance:t,listener:s,currentTarget:l}}function yi(t,s){for(var l=s+"Capture",a=[];t!==null;){var r=t,c=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||c===null||(r=Nr(t,l),r!=null&&a.unshift(tn(t,r,c)),r=Nr(t,s),r!=null&&a.push(tn(t,r,c))),t.tag===3)return a;t=t.return}return[]}function Lf(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Hx(t,s,l,a,r){for(var c=s._reactName,u=[];l!==null&&l!==a;){var f=l,E=f.alternate,F=f.stateNode;if(f=f.tag,E!==null&&E===a)break;f!==5&&f!==26&&f!==27||F===null||(E=F,r?(F=Nr(l,c),F!=null&&u.unshift(tn(l,F,E))):r||(F=Nr(l,c),F!=null&&u.push(tn(l,F,E)))),l=l.return}u.length!==0&&t.push({event:s,listeners:u})}var Of=/\r\n?/g,Bf=/\u0000|\uFFFD/g;function Gx(t){return(typeof t=="string"?t:""+t).replace(Of,`
`).replace(Bf,"")}function Vx(t,s){return s=Gx(s),Gx(t)===s}function ot(t,s,l,a,r,c){switch(l){case"children":typeof a=="string"?s==="body"||s==="textarea"&&a===""||Ra(t,a):(typeof a=="number"||typeof a=="bigint")&&s!=="body"&&Ra(t,""+a);break;case"className":Sn(t,"class",a);break;case"tabIndex":Sn(t,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":Sn(t,l,a);break;case"style":Vo(t,a,c);break;case"data":if(s!=="object"){Sn(t,"data",a);break}case"src":case"href":if(a===""&&(s!=="a"||l!=="href")){t.removeAttribute(l);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){t.removeAttribute(l);break}a=Cn(""+a),t.setAttribute(l,a);break;case"action":case"formAction":if(typeof a=="function"){t.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof c=="function"&&(l==="formAction"?(s!=="input"&&ot(t,s,"name",r.name,r,null),ot(t,s,"formEncType",r.formEncType,r,null),ot(t,s,"formMethod",r.formMethod,r,null),ot(t,s,"formTarget",r.formTarget,r,null)):(ot(t,s,"encType",r.encType,r,null),ot(t,s,"method",r.method,r,null),ot(t,s,"target",r.target,r,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){t.removeAttribute(l);break}a=Cn(""+a),t.setAttribute(l,a);break;case"onClick":a!=null&&(t.onclick=hl);break;case"onScroll":a!=null&&Je("scroll",t);break;case"onScrollEnd":a!=null&&Je("scrollend",t);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(i(61));if(l=a.__html,l!=null){if(r.children!=null)throw Error(i(60));t.innerHTML=l}}break;case"multiple":t.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":t.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){t.removeAttribute("xlink:href");break}l=Cn(""+a),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(l,""+a):t.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(l,""):t.removeAttribute(l);break;case"capture":case"download":a===!0?t.setAttribute(l,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(l,a):t.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?t.setAttribute(l,a):t.removeAttribute(l);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?t.removeAttribute(l):t.setAttribute(l,a);break;case"popover":Je("beforetoggle",t),Je("toggle",t),wn(t,"popover",a);break;case"xlinkActuate":xl(t,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":xl(t,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":xl(t,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":xl(t,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":xl(t,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":xl(t,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":xl(t,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":xl(t,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":xl(t,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":wn(t,"is",a);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=m0.get(l)||l,wn(t,l,a))}}function Yd(t,s,l,a,r,c){switch(l){case"style":Vo(t,a,c);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(i(61));if(l=a.__html,l!=null){if(r.children!=null)throw Error(i(60));t.innerHTML=l}}break;case"children":typeof a=="string"?Ra(t,a):(typeof a=="number"||typeof a=="bigint")&&Ra(t,""+a);break;case"onScroll":a!=null&&Je("scroll",t);break;case"onScrollEnd":a!=null&&Je("scrollend",t);break;case"onClick":a!=null&&(t.onclick=hl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!zo.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(r=l.endsWith("Capture"),s=l.slice(2,r?l.length-7:void 0),c=t[Jt]||null,c=c!=null?c[l]:null,typeof c=="function"&&t.removeEventListener(s,c,r),typeof a=="function")){typeof c!="function"&&c!==null&&(l in t?t[l]=null:t.hasAttribute(l)&&t.removeAttribute(l)),t.addEventListener(s,a,r);break e}l in t?t[l]=a:a===!0?t.setAttribute(l,""):wn(t,l,a)}}}function es(t,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Je("error",t),Je("load",t);var a=!1,r=!1,c;for(c in l)if(l.hasOwnProperty(c)){var u=l[c];if(u!=null)switch(c){case"src":a=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:ot(t,s,c,u,l,null)}}r&&ot(t,s,"srcSet",l.srcSet,l,null),a&&ot(t,s,"src",l.src,l,null);return;case"input":Je("invalid",t);var f=c=u=r=null,E=null,F=null;for(a in l)if(l.hasOwnProperty(a)){var ce=l[a];if(ce!=null)switch(a){case"name":r=ce;break;case"type":u=ce;break;case"checked":E=ce;break;case"defaultChecked":F=ce;break;case"value":c=ce;break;case"defaultValue":f=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(i(137,s));break;default:ot(t,s,a,ce,l,null)}}Oo(t,c,f,E,F,u,r,!1);return;case"select":Je("invalid",t),a=u=c=null;for(r in l)if(l.hasOwnProperty(r)&&(f=l[r],f!=null))switch(r){case"value":c=f;break;case"defaultValue":u=f;break;case"multiple":a=f;default:ot(t,s,r,f,l,null)}s=c,l=u,t.multiple=!!a,s!=null?Ma(t,!!a,s,!1):l!=null&&Ma(t,!!a,l,!0);return;case"textarea":Je("invalid",t),c=r=a=null;for(u in l)if(l.hasOwnProperty(u)&&(f=l[u],f!=null))switch(u){case"value":a=f;break;case"defaultValue":r=f;break;case"children":c=f;break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(i(91));break;default:ot(t,s,u,f,l,null)}Ho(t,a,r,c);return;case"option":for(E in l)if(l.hasOwnProperty(E)&&(a=l[E],a!=null))switch(E){case"selected":t.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:ot(t,s,E,a,l,null)}return;case"dialog":Je("beforetoggle",t),Je("toggle",t),Je("cancel",t),Je("close",t);break;case"iframe":case"object":Je("load",t);break;case"video":case"audio":for(a=0;a<en.length;a++)Je(en[a],t);break;case"image":Je("error",t),Je("load",t);break;case"details":Je("toggle",t);break;case"embed":case"source":case"link":Je("error",t),Je("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in l)if(l.hasOwnProperty(F)&&(a=l[F],a!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:ot(t,s,F,a,l,null)}return;default:if(lc(s)){for(ce in l)l.hasOwnProperty(ce)&&(a=l[ce],a!==void 0&&Yd(t,s,ce,a,l,void 0));return}}for(f in l)l.hasOwnProperty(f)&&(a=l[f],a!=null&&ot(t,s,f,a,l,null))}function Hf(t,s,l,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,c=null,u=null,f=null,E=null,F=null,ce=null;for(le in l){var ue=l[le];if(l.hasOwnProperty(le)&&ue!=null)switch(le){case"checked":break;case"value":break;case"defaultValue":E=ue;default:a.hasOwnProperty(le)||ot(t,s,le,null,a,ue)}}for(var P in a){var le=a[P];if(ue=l[P],a.hasOwnProperty(P)&&(le!=null||ue!=null))switch(P){case"type":c=le;break;case"name":r=le;break;case"checked":F=le;break;case"defaultChecked":ce=le;break;case"value":u=le;break;case"defaultValue":f=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(i(137,s));break;default:le!==ue&&ot(t,s,P,le,a,ue)}}tc(t,u,f,E,F,ce,c,r);return;case"select":le=u=f=P=null;for(c in l)if(E=l[c],l.hasOwnProperty(c)&&E!=null)switch(c){case"value":break;case"multiple":le=E;default:a.hasOwnProperty(c)||ot(t,s,c,null,a,E)}for(r in a)if(c=a[r],E=l[r],a.hasOwnProperty(r)&&(c!=null||E!=null))switch(r){case"value":P=c;break;case"defaultValue":f=c;break;case"multiple":u=c;default:c!==E&&ot(t,s,r,c,a,E)}s=f,l=u,a=le,P!=null?Ma(t,!!l,P,!1):!!a!=!!l&&(s!=null?Ma(t,!!l,s,!0):Ma(t,!!l,l?[]:"",!1));return;case"textarea":le=P=null;for(f in l)if(r=l[f],l.hasOwnProperty(f)&&r!=null&&!a.hasOwnProperty(f))switch(f){case"value":break;case"children":break;default:ot(t,s,f,null,a,r)}for(u in a)if(r=a[u],c=l[u],a.hasOwnProperty(u)&&(r!=null||c!=null))switch(u){case"value":P=r;break;case"defaultValue":le=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(i(91));break;default:r!==c&&ot(t,s,u,r,a,c)}Bo(t,P,le);return;case"option":for(var be in l)if(P=l[be],l.hasOwnProperty(be)&&P!=null&&!a.hasOwnProperty(be))switch(be){case"selected":t.selected=!1;break;default:ot(t,s,be,null,a,P)}for(E in a)if(P=a[E],le=l[E],a.hasOwnProperty(E)&&P!==le&&(P!=null||le!=null))switch(E){case"selected":t.selected=P&&typeof P!="function"&&typeof P!="symbol";break;default:ot(t,s,E,P,a,le)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ae in l)P=l[Ae],l.hasOwnProperty(Ae)&&P!=null&&!a.hasOwnProperty(Ae)&&ot(t,s,Ae,null,a,P);for(F in a)if(P=a[F],le=l[F],a.hasOwnProperty(F)&&P!==le&&(P!=null||le!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(i(137,s));break;default:ot(t,s,F,P,a,le)}return;default:if(lc(s)){for(var ut in l)P=l[ut],l.hasOwnProperty(ut)&&P!==void 0&&!a.hasOwnProperty(ut)&&Yd(t,s,ut,void 0,a,P);for(ce in a)P=a[ce],le=l[ce],!a.hasOwnProperty(ce)||P===le||P===void 0&&le===void 0||Yd(t,s,ce,P,a,le);return}}for(var V in l)P=l[V],l.hasOwnProperty(V)&&P!=null&&!a.hasOwnProperty(V)&&ot(t,s,V,null,a,P);for(ue in a)P=a[ue],le=l[ue],!a.hasOwnProperty(ue)||P===le||P==null&&le==null||ot(t,s,ue,P,a,le)}function Yx(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Gf(){if(typeof performance.getEntriesByType=="function"){for(var t=0,s=0,l=performance.getEntriesByType("resource"),a=0;a<l.length;a++){var r=l[a],c=r.transferSize,u=r.initiatorType,f=r.duration;if(c&&f&&Yx(u)){for(u=0,f=r.responseEnd,a+=1;a<l.length;a++){var E=l[a],F=E.startTime;if(F>f)break;var ce=E.transferSize,ue=E.initiatorType;ce&&Yx(ue)&&(E=E.responseEnd,u+=ce*(E<f?1:(f-F)/(E-F)))}if(--a,s+=8*(c+u)/(r.duration/1e3),t++,10<t)break}}if(0<t)return s/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Kd=null,Jd=null;function Ni(t){return t.nodeType===9?t:t.ownerDocument}function Kx(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Jx(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function Qd(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Xd=null;function Vf(){var t=window.event;return t&&t.type==="popstate"?t===Xd?!1:(Xd=t,!0):(Xd=null,!1)}var Qx=typeof setTimeout=="function"?setTimeout:void 0,Yf=typeof clearTimeout=="function"?clearTimeout:void 0,Xx=typeof Promise=="function"?Promise:void 0,Kf=typeof queueMicrotask=="function"?queueMicrotask:typeof Xx<"u"?function(t){return Xx.resolve(null).then(t).catch(Jf)}:Qx;function Jf(t){setTimeout(function(){throw t})}function Pl(t){return t==="head"}function $x(t,s){var l=s,a=0;do{var r=l.nextSibling;if(t.removeChild(l),r&&r.nodeType===8)if(l=r.data,l==="/$"||l==="/&"){if(a===0){t.removeChild(r),xr(s);return}a--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")a++;else if(l==="html")sn(t.ownerDocument.documentElement);else if(l==="head"){l=t.ownerDocument.head,sn(l);for(var c=l.firstChild;c;){var u=c.nextSibling,f=c.nodeName;c[vr]||f==="SCRIPT"||f==="STYLE"||f==="LINK"&&c.rel.toLowerCase()==="stylesheet"||l.removeChild(c),c=u}}else l==="body"&&sn(t.ownerDocument.body);l=r}while(l);xr(s)}function Zx(t,s){var l=t;t=0;do{var a=l.nextSibling;if(l.nodeType===1?s?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(s?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),a&&a.nodeType===8)if(l=a.data,l==="/$"){if(t===0)break;t--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||t++;l=a}while(l)}function $d(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":$d(l),Pi(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}t.removeChild(l)}}function Qf(t,s,l,a){for(;t.nodeType===1;){var r=l;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!a&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(a){if(!t[vr])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(c=t.getAttribute("rel"),c==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(c!==r.rel||t.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||t.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||t.getAttribute("title")!==(r.title==null?null:r.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(c=t.getAttribute("src"),(c!==(r.src==null?null:r.src)||t.getAttribute("type")!==(r.type==null?null:r.type)||t.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&c&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var c=r.name==null?null:""+r.name;if(r.type==="hidden"&&t.getAttribute("name")===c)return t}else return t;if(t=$s(t.nextSibling),t===null)break}return null}function Xf(t,s,l){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!l||(t=$s(t.nextSibling),t===null))return null;return t}function Fx(t,s){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=$s(t.nextSibling),t===null))return null;return t}function Zd(t){return t.data==="$?"||t.data==="$~"}function Fd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function $f(t,s){var l=t.ownerDocument;if(t.data==="$~")t._reactRetry=s;else if(t.data!=="$?"||l.readyState!=="loading")s();else{var a=function(){s(),l.removeEventListener("DOMContentLoaded",a)};l.addEventListener("DOMContentLoaded",a),t._reactRetry=a}}function $s(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return t}var Id=null;function Ix(t){t=t.nextSibling;for(var s=0;t;){if(t.nodeType===8){var l=t.data;if(l==="/$"||l==="/&"){if(s===0)return $s(t.nextSibling);s--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||s++}t=t.nextSibling}return null}function Wx(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var l=t.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(s===0)return t;s--}else l!=="/$"&&l!=="/&"||s++}t=t.previousSibling}return null}function Px(t,s,l){switch(s=Ni(l),t){case"html":if(t=s.documentElement,!t)throw Error(i(452));return t;case"head":if(t=s.head,!t)throw Error(i(453));return t;case"body":if(t=s.body,!t)throw Error(i(454));return t;default:throw Error(i(451))}}function sn(t){for(var s=t.attributes;s.length;)t.removeAttributeNode(s[0]);Pi(t)}var Zs=new Map,eh=new Set;function _i(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Tl=W.d;W.d={f:Zf,r:Ff,D:If,C:Wf,L:Pf,m:ep,X:sp,S:tp,M:lp};function Zf(){var t=Tl.f(),s=hi();return t||s}function Ff(t){var s=qa(t);s!==null&&s.tag===5&&s.type==="form"?gm(s):Tl.r(t)}var or=typeof document>"u"?null:document;function th(t,s,l){var a=or;if(a&&typeof s=="string"&&s){var r=Gs(s);r='link[rel="'+t+'"][href="'+r+'"]',typeof l=="string"&&(r+='[crossorigin="'+l+'"]'),eh.has(r)||(eh.add(r),t={rel:t,crossOrigin:l,href:s},a.querySelector(r)===null&&(s=a.createElement("link"),es(s,"link",t),Qt(s),a.head.appendChild(s)))}}function If(t){Tl.D(t),th("dns-prefetch",t,null)}function Wf(t,s){Tl.C(t,s),th("preconnect",t,s)}function Pf(t,s,l){Tl.L(t,s,l);var a=or;if(a&&t&&s){var r='link[rel="preload"][as="'+Gs(s)+'"]';s==="image"&&l&&l.imageSrcSet?(r+='[imagesrcset="'+Gs(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(r+='[imagesizes="'+Gs(l.imageSizes)+'"]')):r+='[href="'+Gs(t)+'"]';var c=r;switch(s){case"style":c=ur(t);break;case"script":c=mr(t)}Zs.has(c)||(t=q({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:t,as:s},l),Zs.set(c,t),a.querySelector(r)!==null||s==="style"&&a.querySelector(ln(c))||s==="script"&&a.querySelector(an(c))||(s=a.createElement("link"),es(s,"link",t),Qt(s),a.head.appendChild(s)))}}function ep(t,s){Tl.m(t,s);var l=or;if(l&&t){var a=s&&typeof s.as=="string"?s.as:"script",r='link[rel="modulepreload"][as="'+Gs(a)+'"][href="'+Gs(t)+'"]',c=r;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":c=mr(t)}if(!Zs.has(c)&&(t=q({rel:"modulepreload",href:t},s),Zs.set(c,t),l.querySelector(r)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(an(c)))return}a=l.createElement("link"),es(a,"link",t),Qt(a),l.head.appendChild(a)}}}function tp(t,s,l){Tl.S(t,s,l);var a=or;if(a&&t){var r=za(a).hoistableStyles,c=ur(t);s=s||"default";var u=r.get(c);if(!u){var f={loading:0,preload:null};if(u=a.querySelector(ln(c)))f.loading=5;else{t=q({rel:"stylesheet",href:t,"data-precedence":s},l),(l=Zs.get(c))&&Wd(t,l);var E=u=a.createElement("link");Qt(E),es(E,"link",t),E._p=new Promise(function(F,ce){E.onload=F,E.onerror=ce}),E.addEventListener("load",function(){f.loading|=1}),E.addEventListener("error",function(){f.loading|=2}),f.loading|=4,wi(u,s,a)}u={type:"stylesheet",instance:u,count:1,state:f},r.set(c,u)}}}function sp(t,s){Tl.X(t,s);var l=or;if(l&&t){var a=za(l).hoistableScripts,r=mr(t),c=a.get(r);c||(c=l.querySelector(an(r)),c||(t=q({src:t,async:!0},s),(s=Zs.get(r))&&Pd(t,s),c=l.createElement("script"),Qt(c),es(c,"link",t),l.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},a.set(r,c))}}function lp(t,s){Tl.M(t,s);var l=or;if(l&&t){var a=za(l).hoistableScripts,r=mr(t),c=a.get(r);c||(c=l.querySelector(an(r)),c||(t=q({src:t,async:!0,type:"module"},s),(s=Zs.get(r))&&Pd(t,s),c=l.createElement("script"),Qt(c),es(c,"link",t),l.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},a.set(r,c))}}function sh(t,s,l,a){var r=(r=I.current)?_i(r):null;if(!r)throw Error(i(446));switch(t){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=ur(l.href),l=za(r).hoistableStyles,a=l.get(s),a||(a={type:"style",instance:null,count:0,state:null},l.set(s,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){t=ur(l.href);var c=za(r).hoistableStyles,u=c.get(t);if(u||(r=r.ownerDocument||r,u={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(t,u),(c=r.querySelector(ln(t)))&&!c._p&&(u.instance=c,u.state.loading=5),Zs.has(t)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Zs.set(t,l),c||ap(r,t,l,u.state))),s&&a===null)throw Error(i(528,""));return u}if(s&&a!==null)throw Error(i(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=mr(l),l=za(r).hoistableScripts,a=l.get(s),a||(a={type:"script",instance:null,count:0,state:null},l.set(s,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,t))}}function ur(t){return'href="'+Gs(t)+'"'}function ln(t){return'link[rel="stylesheet"]['+t+"]"}function lh(t){return q({},t,{"data-precedence":t.precedence,precedence:null})}function ap(t,s,l,a){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?a.loading=1:(s=t.createElement("link"),a.preload=s,s.addEventListener("load",function(){return a.loading|=1}),s.addEventListener("error",function(){return a.loading|=2}),es(s,"link",l),Qt(s),t.head.appendChild(s))}function mr(t){return'[src="'+Gs(t)+'"]'}function an(t){return"script[async]"+t}function ah(t,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var a=t.querySelector('style[data-href~="'+Gs(l.href)+'"]');if(a)return s.instance=a,Qt(a),a;var r=q({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return a=(t.ownerDocument||t).createElement("style"),Qt(a),es(a,"style",r),wi(a,l.precedence,t),s.instance=a;case"stylesheet":r=ur(l.href);var c=t.querySelector(ln(r));if(c)return s.state.loading|=4,s.instance=c,Qt(c),c;a=lh(l),(r=Zs.get(r))&&Wd(a,r),c=(t.ownerDocument||t).createElement("link"),Qt(c);var u=c;return u._p=new Promise(function(f,E){u.onload=f,u.onerror=E}),es(c,"link",a),s.state.loading|=4,wi(c,l.precedence,t),s.instance=c;case"script":return c=mr(l.src),(r=t.querySelector(an(c)))?(s.instance=r,Qt(r),r):(a=l,(r=Zs.get(c))&&(a=q({},l),Pd(a,r)),t=t.ownerDocument||t,r=t.createElement("script"),Qt(r),es(r,"link",a),t.head.appendChild(r),s.instance=r);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(a=s.instance,s.state.loading|=4,wi(a,l.precedence,t));return s.instance}function wi(t,s,l){for(var a=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=a.length?a[a.length-1]:null,c=r,u=0;u<a.length;u++){var f=a[u];if(f.dataset.precedence===s)c=f;else if(c!==r)break}c?c.parentNode.insertBefore(t,c.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(t,s.firstChild))}function Wd(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function Pd(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var Si=null;function rh(t,s,l){if(Si===null){var a=new Map,r=Si=new Map;r.set(l,a)}else r=Si,a=r.get(l),a||(a=new Map,r.set(l,a));if(a.has(t))return a;for(a.set(t,null),l=l.getElementsByTagName(t),r=0;r<l.length;r++){var c=l[r];if(!(c[vr]||c[Ue]||t==="link"&&c.getAttribute("rel")==="stylesheet")&&c.namespaceURI!=="http://www.w3.org/2000/svg"){var u=c.getAttribute(s)||"";u=t+u;var f=a.get(u);f?f.push(c):a.set(u,[c])}}return a}function nh(t,s,l){t=t.ownerDocument||t,t.head.insertBefore(l,s==="title"?t.querySelector("head > title"):null)}function rp(t,s,l){if(l===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return t=s.disabled,typeof s.precedence=="string"&&t==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function ih(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function np(t,s,l,a){if(l.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var r=ur(a.href),c=s.querySelector(ln(r));if(c){s=c._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(t.count++,t=ki.bind(t),s.then(t,t)),l.state.loading|=4,l.instance=c,Qt(c);return}c=s.ownerDocument||s,a=lh(a),(r=Zs.get(r))&&Wd(a,r),c=c.createElement("link"),Qt(c);var u=c;u._p=new Promise(function(f,E){u.onload=f,u.onerror=E}),es(c,"link",a),l.instance=c}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(l,s),(s=l.state.preload)&&(l.state.loading&3)===0&&(t.count++,l=ki.bind(t),s.addEventListener("load",l),s.addEventListener("error",l))}}var eo=0;function ip(t,s){return t.stylesheets&&t.count===0&&Ai(t,t.stylesheets),0<t.count||0<t.imgCount?function(l){var a=setTimeout(function(){if(t.stylesheets&&Ai(t,t.stylesheets),t.unsuspend){var c=t.unsuspend;t.unsuspend=null,c()}},6e4+s);0<t.imgBytes&&eo===0&&(eo=62500*Gf());var r=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Ai(t,t.stylesheets),t.unsuspend)){var c=t.unsuspend;t.unsuspend=null,c()}},(t.imgBytes>eo?50:800)+s);return t.unsuspend=l,function(){t.unsuspend=null,clearTimeout(a),clearTimeout(r)}}:null}function ki(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ai(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ci=null;function Ai(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ci=new Map,s.forEach(cp,t),Ci=null,ki.call(t))}function cp(t,s){if(!(s.state.loading&4)){var l=Ci.get(t);if(l)var a=l.get(null);else{l=new Map,Ci.set(t,l);for(var r=t.querySelectorAll("link[data-precedence],style[data-precedence]"),c=0;c<r.length;c++){var u=r[c];(u.nodeName==="LINK"||u.getAttribute("media")!=="not all")&&(l.set(u.dataset.precedence,u),a=u)}a&&l.set(null,a)}r=s.instance,u=r.getAttribute("data-precedence"),c=l.get(u)||a,c===a&&l.set(null,r),l.set(u,r),this.count++,a=ki.bind(this),r.addEventListener("load",a),r.addEventListener("error",a),c?c.parentNode.insertBefore(r,c.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(r,t.firstChild)),s.state.loading|=4}}var rn={$$typeof:w,Provider:null,Consumer:null,_currentValue:z,_currentValue2:z,_threadCount:0};function dp(t,s,l,a,r,c,u,f,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=p(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=p(0),this.hiddenUpdates=p(null),this.identifierPrefix=a,this.onUncaughtError=r,this.onCaughtError=c,this.onRecoverableError=u,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function ch(t,s,l,a,r,c,u,f,E,F,ce,ue){return t=new dp(t,s,l,u,E,F,ce,ue,f),s=1,c===!0&&(s|=24),c=As(3,null,null,s),t.current=c,c.stateNode=t,s=zc(),s.refCount++,t.pooledCache=s,s.refCount++,c.memoizedState={element:a,isDehydrated:l,cache:s},Lc(c),t}function dh(t){return t?(t=Ya,t):Ya}function oh(t,s,l,a,r,c){r=dh(r),a.context===null?a.context=r:a.pendingContext=r,a=Vl(s),a.payload={element:l},c=c===void 0?null:c,c!==null&&(a.callback=c),l=Yl(t,a,s),l!==null&&(js(l,t,s),Lr(l,t,s))}function uh(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var l=t.retryLane;t.retryLane=l!==0&&l<s?l:s}}function to(t,s){uh(t,s),(t=t.alternate)&&uh(t,s)}function mh(t){if(t.tag===13||t.tag===31){var s=ma(t,67108864);s!==null&&js(s,t,67108864),to(t,67108864)}}function xh(t){if(t.tag===13||t.tag===31){var s=zs();s=Zt(s);var l=ma(t,s);l!==null&&js(l,t,s),to(t,s)}}var Ei=!0;function op(t,s,l,a){var r=G.T;G.T=null;var c=W.p;try{W.p=2,so(t,s,l,a)}finally{W.p=c,G.T=r}}function up(t,s,l,a){var r=G.T;G.T=null;var c=W.p;try{W.p=8,so(t,s,l,a)}finally{W.p=c,G.T=r}}function so(t,s,l,a){if(Ei){var r=lo(a);if(r===null)Vd(t,s,a,Ti,l),fh(t,a);else if(xp(r,t,s,l,a))a.stopPropagation();else if(fh(t,a),s&4&&-1<mp.indexOf(t)){for(;r!==null;){var c=qa(r);if(c!==null)switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var u=Os(c.pendingLanes);if(u!==0){var f=c;for(f.pendingLanes|=2,f.entangledLanes|=2;u;){var E=1<<31-mt(u);f.entanglements[1]|=E,u&=~E}il(c),(lt&6)===0&&(mi=se()+500,Pr(0))}}break;case 31:case 13:f=ma(c,2),f!==null&&js(f,c,2),hi(),to(c,2)}if(c=lo(a),c===null&&Vd(t,s,a,Ti,l),c===r)break;r=c}r!==null&&a.stopPropagation()}else Vd(t,s,a,null,l)}}function lo(t){return t=rc(t),ao(t)}var Ti=null;function ao(t){if(Ti=null,t=Da(t),t!==null){var s=x(t);if(s===null)t=null;else{var l=s.tag;if(l===13){if(t=j(s),t!==null)return t;t=null}else if(l===31){if(t=h(s),t!==null)return t;t=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return Ti=t,null}function hh(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch($t()){case Ul:return 2;case ll:return 8;case xe:case Se:return 32;case Ce:return 268435456;default:return 32}default:return 32}}var ro=!1,ea=null,ta=null,sa=null,nn=new Map,cn=new Map,la=[],mp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function fh(t,s){switch(t){case"focusin":case"focusout":ea=null;break;case"dragenter":case"dragleave":ta=null;break;case"mouseover":case"mouseout":sa=null;break;case"pointerover":case"pointerout":nn.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":cn.delete(s.pointerId)}}function dn(t,s,l,a,r,c){return t===null||t.nativeEvent!==c?(t={blockedOn:s,domEventName:l,eventSystemFlags:a,nativeEvent:c,targetContainers:[r]},s!==null&&(s=qa(s),s!==null&&mh(s)),t):(t.eventSystemFlags|=a,s=t.targetContainers,r!==null&&s.indexOf(r)===-1&&s.push(r),t)}function xp(t,s,l,a,r){switch(s){case"focusin":return ea=dn(ea,t,s,l,a,r),!0;case"dragenter":return ta=dn(ta,t,s,l,a,r),!0;case"mouseover":return sa=dn(sa,t,s,l,a,r),!0;case"pointerover":var c=r.pointerId;return nn.set(c,dn(nn.get(c)||null,t,s,l,a,r)),!0;case"gotpointercapture":return c=r.pointerId,cn.set(c,dn(cn.get(c)||null,t,s,l,a,r)),!0}return!1}function ph(t){var s=Da(t.target);if(s!==null){var l=x(s);if(l!==null){if(s=l.tag,s===13){if(s=j(l),s!==null){t.blockedOn=s,Ft(t.priority,function(){xh(l)});return}}else if(s===31){if(s=h(l),s!==null){t.blockedOn=s,Ft(t.priority,function(){xh(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){t.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Di(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var l=lo(t.nativeEvent);if(l===null){l=t.nativeEvent;var a=new l.constructor(l.type,l);ac=a,l.target.dispatchEvent(a),ac=null}else return s=qa(l),s!==null&&mh(s),t.blockedOn=l,!1;s.shift()}return!0}function gh(t,s,l){Di(t)&&l.delete(s)}function hp(){ro=!1,ea!==null&&Di(ea)&&(ea=null),ta!==null&&Di(ta)&&(ta=null),sa!==null&&Di(sa)&&(sa=null),nn.forEach(gh),cn.forEach(gh)}function qi(t,s){t.blockedOn===s&&(t.blockedOn=null,ro||(ro=!0,d.unstable_scheduleCallback(d.unstable_NormalPriority,hp)))}var zi=null;function bh(t){zi!==t&&(zi=t,d.unstable_scheduleCallback(d.unstable_NormalPriority,function(){zi===t&&(zi=null);for(var s=0;s<t.length;s+=3){var l=t[s],a=t[s+1],r=t[s+2];if(typeof a!="function"){if(ao(a||l)===null)continue;break}var c=qa(l);c!==null&&(t.splice(s,3),s-=3,ld(c,{pending:!0,data:r,method:l.method,action:a},a,r))}}))}function xr(t){function s(E){return qi(E,t)}ea!==null&&qi(ea,t),ta!==null&&qi(ta,t),sa!==null&&qi(sa,t),nn.forEach(s),cn.forEach(s);for(var l=0;l<la.length;l++){var a=la[l];a.blockedOn===t&&(a.blockedOn=null)}for(;0<la.length&&(l=la[0],l.blockedOn===null);)ph(l),l.blockedOn===null&&la.shift();if(l=(t.ownerDocument||t).$$reactFormReplay,l!=null)for(a=0;a<l.length;a+=3){var r=l[a],c=l[a+1],u=r[Jt]||null;if(typeof c=="function")u||bh(l);else if(u){var f=null;if(c&&c.hasAttribute("formAction")){if(r=c,u=c[Jt]||null)f=u.formAction;else if(ao(r)!==null)continue}else f=u.action;typeof f=="function"?l[a+1]=f:(l.splice(a,3),a-=3),bh(l)}}}function jh(){function t(c){c.canIntercept&&c.info==="react-transition"&&c.intercept({handler:function(){return new Promise(function(u){return r=u})},focusReset:"manual",scroll:"manual"})}function s(){r!==null&&(r(),r=null),a||setTimeout(l,20)}function l(){if(!a&&!navigation.transition){var c=navigation.currentEntry;c&&c.url!=null&&navigation.navigate(c.url,{state:c.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,r=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(l,100),function(){a=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),r!==null&&(r(),r=null)}}}function no(t){this._internalRoot=t}Ui.prototype.render=no.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(i(409));var l=s.current,a=zs();oh(l,a,t,s,null,null)},Ui.prototype.unmount=no.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;oh(t.current,2,null,t,null,null),hi(),s[Bs]=null}};function Ui(t){this._internalRoot=t}Ui.prototype.unstable_scheduleHydration=function(t){if(t){var s=Ie();t={blockedOn:null,target:t,priority:s};for(var l=0;l<la.length&&s!==0&&s<la[l].priority;l++);la.splice(l,0,t),l===0&&ph(t)}};var vh=o.version;if(vh!=="19.2.3")throw Error(i(527,vh,"19.2.3"));W.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(i(188)):(t=Object.keys(t).join(","),Error(i(268,t)));return t=y(s),t=t!==null?M(t):null,t=t===null?null:t.stateNode,t};var fp={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mi.isDisabled&&Mi.supportsFiber)try{ze=Mi.inject(fp),Re=Mi}catch{}}return on.createRoot=function(t,s){if(!m(t))throw Error(i(299));var l=!1,a="",r=Cm,c=Am,u=Em;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(a=s.identifierPrefix),s.onUncaughtError!==void 0&&(r=s.onUncaughtError),s.onCaughtError!==void 0&&(c=s.onCaughtError),s.onRecoverableError!==void 0&&(u=s.onRecoverableError)),s=ch(t,1,!1,null,null,l,a,null,r,c,u,jh),t[Bs]=s.current,Gd(t),new no(s)},on.hydrateRoot=function(t,s,l){if(!m(t))throw Error(i(299));var a=!1,r="",c=Cm,u=Am,f=Em,E=null;return l!=null&&(l.unstable_strictMode===!0&&(a=!0),l.identifierPrefix!==void 0&&(r=l.identifierPrefix),l.onUncaughtError!==void 0&&(c=l.onUncaughtError),l.onCaughtError!==void 0&&(u=l.onCaughtError),l.onRecoverableError!==void 0&&(f=l.onRecoverableError),l.formState!==void 0&&(E=l.formState)),s=ch(t,1,!0,s,l??null,a,r,E,c,u,f,jh),s.context=dh(null),l=s.current,a=zs(),a=Zt(a),r=Vl(a),r.callback=null,Yl(l,r,a),l=a,s.current.lanes=l,pe(s,l),il(s),t[Bs]=s.current,Gd(t),new Ui(s)},on.version="19.2.3",on}var Th;function yg(){if(Th)return oo.exports;Th=1;function d(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(d)}catch(o){console.error(o)}}return d(),oo.exports=vg(),oo.exports}var Ng=yg();window.EM={init:function(d){return console.log("EmailJS dummy init called with key:",d),Promise.resolve()},send:function(d,o,n){return console.log("EmailJS dummy send called:",{serviceId:d,templateId:o,templateParams:n}),Promise.resolve({status:200,text:"OK"})},sendForm:function(d,o,n){return console.log("EmailJS dummy sendForm called:",{serviceId:d,templateId:o,form:n}),Promise.resolve({status:200,text:"OK"})}};window.emailjs=window.EM;const _g=void 0,wg=void 0;console.error("Missing Supabase environment variables: VITE_SUPABASE_URL, VITE_SUPABASE_ANON_KEY");const Sg=()=>typeof window<"u"?window.location.origin:"http://localhost:5173",ae=eg(_g,wg,{auth:{redirectTo:`${Sg()}/auth/callback`,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"pkce"},global:{headers:{"x-my-custom-header":"cnec-platform"}},realtime:{params:{eventsPerSecond:10}},db:{schema:"public"},fetch:(d,o={})=>fetch(d,{...o,signal:AbortSignal.timeout(3e4)})}),Pe=async(d,o=3)=>{for(let n=0;n<o;n++)try{return await d()}catch(i){if(console.warn(`  ${n+1}/${o} :`,i.message),i.message.includes("permission denied")||i.message.includes("RLS"))return console.warn("     "),[];if(n===o-1)throw i;await new Promise(m=>setTimeout(m,1e3*(n+1)))}},Te={campaigns:{async getAll(){return Pe(async()=>{console.log("Supabase campaigns.getAll() ");const{data:d,error:o}=await ae.from("campaigns").select("*").order("created_at",{ascending:!1});if(o)throw console.error("Campaigns getAll error:",o),o;return console.log("Campaigns   :",(d==null?void 0:d.length)||0,""),d||[]})},async getActive(){return Pe(async()=>{const{data:d,error:o}=await ae.from("campaigns").select("*").eq("status","active").order("created_at",{ascending:!1});if(o)throw o;return d})},async getById(d){return Pe(async()=>{const{data:o,error:n}=await ae.from("campaigns").select("*").eq("id",d).single();if(n)throw n;return o})},async create(d){return Pe(async()=>{const{data:o,error:n}=await ae.from("campaigns").insert([d]).select().single();if(n)throw n;return o})},async update(d,o){return Pe(async()=>{const{data:n,error:i}=await ae.from("campaigns").update(o).eq("id",d).select().single();if(i)throw i;return n})},async delete(d){return Pe(async()=>{const{error:o}=await ae.from("campaigns").delete().eq("id",d);if(o)throw o})}},applications:{async getAll(){return Pe(async()=>{console.log("Applications getAll()  - applications   ");try{const{data:d,error:o}=await ae.from("applications").select("*").order("created_at",{ascending:!1});if(o){if(console.error("Applications   :",o),o.message.includes("permission denied"))return[];throw o}if(!d||d.length===0)return console.log("Applications   "),[];console.log("Applications   :",d.length,"");const{data:n}=await ae.from("user_profiles").select("*"),{data:i}=await ae.from("campaigns").select("id, title");return d.map(x=>{const j=n==null?void 0:n.find(S=>S.user_id===x.user_id),h=i==null?void 0:i.find(S=>S.id===x.campaign_id);return{...x,user_name:(j==null?void 0:j.name)||x.applicant_name||"-",user_email:(j==null?void 0:j.email)||"-",user_age:(j==null?void 0:j.age)||x.age||"-",user_skin_type:(j==null?void 0:j.skin_type)||x.skin_type||"-",user_instagram_url:(j==null?void 0:j.instagram_url)||x.instagram_url||"",user_tiktok_url:(j==null?void 0:j.tiktok_url)||x.tiktok_url||"",user_youtube_url:(j==null?void 0:j.youtube_url)||x.youtube_url||"",user_bio:(j==null?void 0:j.bio)||x.bio||"",campaign_title:(h==null?void 0:h.title)||"  "}})}catch(d){return console.error("Applications getAll  :",d),[]}})},async getByUser(d){return Pe(async()=>{console.log("getByUser ");try{const{data:o,error:n}=await ae.from("applications").select("*").eq("user_id",d).order("created_at",{ascending:!1});if(!n&&o&&o.length>0){console.log("Applications   :",o.length,"");const i=[...new Set(o.map(m=>m.campaign_id).filter(Boolean))];if(i.length>0){const{data:m,error:x}=await ae.from("campaigns").select("*").in("id",i);if(!x&&m)return o.map(h=>{const S=m.find(y=>y.id===h.campaign_id);return{...h,campaign_title:S?S.title:"Unknown Campaign",campaign_guide_type:(S==null?void 0:S.guide_type)||null,campaign_guide_pdf_url:(S==null?void 0:S.guide_pdf_url)||null,campaign_data:S||null}})}return o}console.log("Applications    , Campaign Applications  ");try{const{data:i,error:m}=await ae.from("campaign_applications").select("*").eq("user_id",d).order("created_at",{ascending:!1});if(!m&&i&&i.length>0){console.log("Campaign Applications   :",i.length,"");const x=i.map(y=>y.campaign_id),{data:j,error:h}=await ae.from("campaigns").select("id, title").in("id",x);return h?(console.error("Error fetching campaigns:",h),i):i.map(y=>{const M=j.find(q=>q.id===y.campaign_id);return{...y,campaign_title:M?M.title:"Unknown Campaign"}})}}catch(i){console.warn("Campaign Applications   :",i)}return console.log("     "),[]}catch(o){return console.error("getByUser  :",o),[]}})},async getByCampaign(d){return Pe(async()=>{console.log("getByCampaign  -  ID:",d);try{const{data:o,error:n}=await ae.from("applications").select("*").eq("campaign_id",d).order("created_at",{ascending:!1});if(!n&&o&&o.length>0){console.log("Applications  :",o.length,"");const x=[...new Set(o.map(S=>S.user_id).filter(Boolean))];let j=[];if(x.length>0){const{data:S,error:y}=await ae.from("user_profiles").select("*").in("user_id",x);!y&&S&&(j=S)}return o.map(S=>{const y=j.find(M=>M.user_id===S.user_id);return{...S,applicant_name:(y==null?void 0:y.name)||S.applicant_name||"-",age:(y==null?void 0:y.age)||S.age||"-",skin_type:(y==null?void 0:y.skin_type)||S.skin_type||"-",instagram_url:(y==null?void 0:y.instagram_url)||S.instagram_url||"",tiktok_url:(y==null?void 0:y.tiktok_url)||S.tiktok_url||"",youtube_url:(y==null?void 0:y.youtube_url)||S.youtube_url||"",other_sns_url:(y==null?void 0:y.other_sns_url)||S.other_sns_url||"",user_profiles:y}})}console.log("Applications   , Campaign Applications  ");const{data:i,error:m}=await ae.from("campaign_applications").select("*").eq("campaign_id",d).order("created_at",{ascending:!1});if(!m&&i&&i.length>0)return console.log("Campaign Applications  :",i.length,""),i;if(n&&m){if(console.error("    :",{appsError:n,campaignAppsError:m}),n.message.includes("permission denied")||m.message.includes("permission denied"))return[];throw n}return console.log("    "),[]}catch(o){return console.error("getByCampaign  :",o),[]}})},async getByUserAndCampaign(d,o){return Pe(async()=>{console.log("getByUserAndCampaign  - applications  ");const{data:n,error:i}=await ae.from("applications").select("*").eq("user_id",d).eq("campaign_id",o).order("created_at",{ascending:!1}).limit(1);if(i)return console.error("getByUserAndCampaign :",i),null;const m=n&&n.length>0?n[0]:null;return console.log("   "),m})},async create(d){return Pe(async()=>{console.log("Application   - applications  ");const{data:o,error:n}=await ae.from("applications").insert([d]).select().single();if(n)throw console.error("Application  :",n),n;return console.log("Application  "),o})},async updateStatus(d,o){return Pe(async()=>{console.log("  :",o);const n={status:o,updated_at:new Date().toISOString()};o==="virtual_selected"?n.virtual_selected_at=new Date().toISOString():o==="approved"?n.approved_at=new Date().toISOString():o==="rejected"?n.rejected_at=new Date().toISOString():o==="pending"&&(n.virtual_selected_at=null,n.approved_at=null,n.rejected_at=null);let{data:i,error:m}=await ae.from("applications").update(n).eq("id",d).select();if(m||!i||i.length===0){console.log("applications   , campaign_applications  ");const x=await ae.from("campaign_applications").update(n).eq("id",d).select();i=x.data,m=x.error}if(m)throw console.error("  :",m),m;return console.log("  "),i&&i.length>0?i[0]:null})},async update(d,o){return Pe(async()=>{console.log("  ");let{data:n,error:i}=await ae.from("applications").update({...o,updated_at:new Date().toISOString()}).eq("id",d).select();if(i||!n||n.length===0){console.log("applications   , campaign_applications  ");const m=await ae.from("campaign_applications").update({...o,updated_at:new Date().toISOString()}).eq("id",d).select();n=m.data,i=m.error}if(i)throw console.error("  :",i),i;return console.log("  "),n&&n.length>0?n[0]:null})},async requestPoints(d){return Pe(async()=>{const{data:o,error:n}=await ae.from("campaign_applications").update({points_requested:!0,updated_at:new Date().toISOString()}).eq("id",d).select();if(n)throw n;return o&&o.length>0?o[0]:null})},async getByCampaign(d){return Pe(async()=>{console.log("  :",d);const{data:o,error:n}=await ae.from("campaign_applications").select("*").eq("campaign_id",d).order("created_at",{ascending:!1});if(n)throw console.error("   :",n),n;console.log("   :",(o==null?void 0:o.length)||0,"");const{data:i}=await ae.from("user_profiles").select("*");return(o||[]).map(x=>{const j=i==null?void 0:i.find(h=>h.user_id===x.user_id);return{...x,applicant_name:(j==null?void 0:j.name)||x.applicant_name||"-",age:(j==null?void 0:j.age)||x.age||"-",skin_type:(j==null?void 0:j.skin_type)||x.skin_type||"-",instagram_url:(j==null?void 0:j.instagram_url)||x.instagram_url||"",tiktok_url:(j==null?void 0:j.tiktok_url)||x.tiktok_url||"",youtube_url:(j==null?void 0:j.youtube_url)||x.youtube_url||"",other_sns_url:(j==null?void 0:j.other_sns_url)||x.other_sns_url||""}})})}},userProfiles:{async get(d){return Pe(async()=>{const{data:o,error:n}=await ae.from("user_profiles").select("*").eq("user_id",d).single();if(n&&n.code!=="PGRST116")throw n;return o})},async getById(d){return Pe(async()=>{const{data:o,error:n}=await ae.from("user_profiles").select("*").eq("id",d).single();if(n&&n.code!=="PGRST116")throw n;return o})},async getAll(){return Pe(async()=>{console.log("UserProfiles getAll() ");const{data:d,error:o}=await ae.from("user_profiles").select("*").order("created_at",{ascending:!1});if(o){if(console.error("UserProfiles getAll error:",o),o.message.includes("permission denied")||o.message.includes("RLS"))return console.warn("     "),[];throw o}return console.log("UserProfiles   :",(d==null?void 0:d.length)||0,""),d||[]})},async upsert(d){return Pe(async()=>{console.log("Upsert ");const{data:o}=await ae.from("user_profiles").select("id").eq("user_id",d.user_id).single();if(o){console.log("  ");const{data:n,error:i}=await ae.from("user_profiles").update(d).eq("user_id",d.user_id).select().single();if(i)throw i;return n}else{console.log("  ");const{data:n,error:i}=await ae.from("user_profiles").insert([{...d,email:d.email||"unknown@example.com"}]).select().single();if(i)throw i;return n}})},async update(d,o){return Pe(async()=>{console.log("   ");let{data:n,error:i}=await ae.from("user_profiles").update({...o,updated_at:new Date().toISOString()}).eq("user_id",d).select();if(i||!n||n.length===0){console.log("user_id  , id :",i);const m=await ae.from("user_profiles").update({...o,updated_at:new Date().toISOString()}).eq("id",d).select();n=m.data,i=m.error}if(i)throw console.error("   :",i),i;return console.log("  "),n&&n.length>0?n[0]:null})}},users:{async getAll(){return console.log("Supabase users.getAll()  (user_profiles )"),Te.userProfiles.getAll()}},emailTemplates:{async getAll(){return Pe(async()=>{const{data:d,error:o}=await ae.from("email_templates").select("*").order("template_type",{ascending:!0});if(o)throw o;return d||[]})},async getById(d){return Pe(async()=>{const{data:o,error:n}=await ae.from("email_templates").select("*").eq("id",d).single();if(n)throw n;return o})},async create(d){return Pe(async()=>{const{data:o,error:n}=await ae.from("email_templates").insert([d]).select().single();if(n)throw n;return o})},async upsert(d){return Pe(async()=>{const{data:o,error:n}=await ae.from("email_templates").upsert([d]).select().single();if(n)throw n;return o})},async update(d,o){return Pe(async()=>{const{data:n,error:i}=await ae.from("email_templates").update(o).eq("id",d).select().single();if(i)throw i;return n})},async delete(d){return Pe(async()=>{const{error:o}=await ae.from("email_templates").delete().eq("id",d);if(o)throw o})},async getByCategory(d){return Pe(async()=>{const{data:o,error:n}=await ae.from("email_templates").select("*").eq("template_type",d);if(n)throw n;return o||[]})}},withdrawals:{async getAll(){return Pe(async()=>{const{data:d,error:o}=await ae.from("withdrawal_requests").select(`
            *,
            user_profiles!withdrawal_requests_user_id_fkey(name, email)
          `).order("created_at",{ascending:!1});if(o)throw o;return d||[]})},async getByUser(d){return Pe(async()=>{const{data:o,error:n}=await ae.from("withdrawal_requests").select("*").eq("user_id",d).order("created_at",{ascending:!1});if(n)throw n;return o||[]})},async create(d){return Pe(async()=>{console.log("  ");const o={user_id:d.user_id,amount:d.amount,withdrawal_method:"paypal",paypal_email:d.paypal_email,paypal_name:d.paypal_name,reason:d.reason||"",status:"pending"};console.log("   ");const{data:n,error:i}=await ae.from("withdrawal_requests").insert([o]).select();if(i)throw console.error("   :",i),i;return console.log("  "),n&&n.length>0?n[0]:null})},async updateStatus(d,o,n=null,i=null){return Pe(async()=>{const m={status:o,updated_at:new Date().toISOString()};(o==="completed"||o==="rejected")&&(m.processed_at=new Date().toISOString(),n&&(m.processed_by=n)),i&&(m.notes=i);const{data:x,error:j}=await ae.from("withdrawal_requests").update(m).eq("id",d).select();if(j)throw j;return x&&x.length>0?x[0]:null})}},userPoints:{async getUserTotalPoints(d){return Pe(async()=>{console.log("  ");const{data:o,error:n}=await ae.from("point_transactions").select("amount").eq("user_id",d);if(n)throw console.error("  :",n),n;console.log("   :",(o==null?void 0:o.length)||0,"");const i=(o||[]).reduce((m,x)=>m+(x.amount||0),0);return console.log(" :",i),i})},async getUserPoints(d){return Pe(async()=>{console.log("   ");const{data:o,error:n}=await ae.from("point_transactions").select("*").eq("user_id",d).order("created_at",{ascending:!1});if(n)throw console.error("   :",n),n;return console.log("   :",(o==null?void 0:o.length)||0,""),o||[]})},async deductPoints(d,o,n=""){return Pe(async()=>{console.log("  ");const{data:i,error:m}=await ae.from("point_transactions").insert([{user_id:d,amount:-o,transaction_type:"admin_add",description:n,created_at:new Date().toISOString()}]).select();if(m)throw console.error("  :",m),m;return console.log("  "),i&&i.length>0?i[0]:null})}}},kg={async uploadCampaignImage(d){try{const o=d.name.split(".").pop(),i=`campaigns/${`${Date.now()}-${Math.random().toString(36).substring(7)}.${o}`}`,{data:m,error:x}=await ae.storage.from("campaign-images").upload(i,d,{cacheControl:"3600",upsert:!1});if(x)throw console.error("Upload error:",x),x;const{data:{publicUrl:j}}=ae.storage.from("campaign-images").getPublicUrl(i);return{success:!0,url:j,path:i}}catch(o){return console.error("Storage upload error:",o),{success:!1,error:o.message}}},async deleteCampaignImage(d){try{const{error:o}=await ae.storage.from("campaign-images").remove([d]);if(o)throw o;return{success:!0}}catch(o){return console.error("Storage delete error:",o),{success:!1,error:o.message}}}},Ph=b.createContext(),Cg=({children:d})=>{const[o,n]=b.useState(null),[i,m]=b.useState(null),[x,j]=b.useState(!0);b.useEffect(()=>{(async()=>{try{const{data:{session:k},error:T}=await ae.auth.getSession();T?(console.error("Error getting session:",T),n(null)):(console.log("Session loaded"),n((k==null?void 0:k.user)??null),k!=null&&k.user&&h(k.user.id))}catch(k){console.error("Error in getSession catch:",k),n(null)}finally{j(!1)}})();const{data:Q}=ae.auth.onAuthStateChange(async(k,T)=>{console.log("Auth state changed:",k),k==="SIGNED_IN"&&(T!=null&&T.user)?(n(T.user),setTimeout(async()=>{var w;try{await h(T.user.id);const{data:$,error:_}=await ae.from("user_profiles").select("*").eq("user_id",T.user.id).single();if(_&&_.code==="PGRST116"){const{error:H}=await ae.from("user_profiles").insert({user_id:T.user.id,email:T.user.email,name:((w=T.user.user_metadata)==null?void 0:w.full_name)||T.user.email});H?console.error("Error creating profile:",H):(console.log("Profile created successfully"),h(T.user.id))}}catch($){console.error("Error handling user profile:",$)}},0)):k==="SIGNED_OUT"?(n(null),m(null),y()):(k==="TOKEN_REFRESHED"&&console.log("Token refreshed successfully"),n((T==null?void 0:T.user)??null))});return()=>{Q==null||Q.subscription.unsubscribe()}},[]);const h=async N=>{try{const Q=await Te.userProfiles.get(N);return m(Q),Q}catch(Q){return console.error("Error loading user profile:",Q),null}},S=async N=>{try{if(!o)throw new Error("User not authenticated");const Q=await Te.userProfiles.update(o.id,N);return m(Q),Q}catch(Q){throw console.error("Error updating profile:",Q),Q}},y=()=>{try{document.cookie.split(";").forEach(N=>{const Q=N.indexOf("="),k=Q>-1?N.substr(0,Q).trim():N.trim();if(k){document.cookie=`${k}=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/`,document.cookie=`${k}=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/;domain=${window.location.hostname}`;const T=window.location.hostname.split(".").slice(-2).join(".");document.cookie=`${k}=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/;domain=.${T}`}}),localStorage.clear(),sessionStorage.clear(),console.log("All cookies and storage cleared")}catch(N){console.error("Error clearing cookies:",N)}},C={user:o,userProfile:i,loading:x,signInWithEmail:async(N,Q)=>{try{const{data:k,error:T}=await ae.auth.signInWithPassword({email:N,password:Q});if(T)throw console.error("Email sign in error:",T),T;return k}catch(k){throw console.error("Sign in error:",k),k}},signUpWithEmail:async(N,Q,k)=>{try{const{data:T,error:w}=await ae.auth.signUp({email:N,password:Q,options:{data:{name:k}}});if(w)throw console.error("Email sign up error:",w),w;return T}catch(T){throw console.error("Sign up error:",T),T}},signInWithGoogle:async()=>{try{const{data:N,error:Q}=await ae.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/auth/callback`,skipBrowserRedirect:!1,flowType:"pkce",queryParams:{access_type:"offline",prompt:"select_account"}}});if(Q)throw console.error("Google sign in error:",Q),Q;return N}catch(N){throw console.error("Sign in error:",N),N}},signOut:async()=>{try{y();const{error:N}=await ae.auth.signOut();if(N)throw console.error("Sign out error:",N),N;n(null),m(null),setTimeout(()=>{window.location.href="/"},100)}catch(N){throw console.error("Sign out error:",N),y(),n(null),m(null),N}},updateProfile:S,loadUserProfile:h};return e.jsx(Ph.Provider,{value:C,children:d})},Ss=()=>{const d=b.useContext(Ph);if(!d)throw new Error("useAuth must be used within an AuthProvider");return d},e0=b.createContext({}),rs=()=>{const d=b.useContext(e0);if(!d)throw new Error("useLanguage must be used within a LanguageProvider");return d},Ag={ko:{loading:" ...",error:" ",success:"",cancel:"",confirm:"",save:"",edit:"",delete:"",create:"",update:"",home:"",campaigns:"",mypage:"",login:"",register:"",logout:"",admin:"",dashboard:"",campaignManagement:" ",creatorManagement:" ",withdrawalManagement:" ",campaignTitle:" ",brand:"",description:"",reward:"",status:"",active:"",inactive:"",draft:"",completed:"",apply:"",application:"",applications:" ",applicant:"",totalCampaigns:" ",totalApplications:" ",totalUsers:" ",totalRewards:" ",loginRequired:" ",adminRequired:"  ",noData:" ",loadingFailed:"  "},ja:{loading:"...",error:"",success:"",cancel:"",confirm:"",save:"",edit:"",delete:"",create:"",update:"",home:"",campaigns:"",mypage:"",login:"",register:"",logout:"",admin:"",dashboard:"",campaignManagement:"",creatorManagement:"",withdrawalManagement:"",campaignTitle:"",brand:"",description:"",reward:"",status:"",active:"",inactive:"",draft:"",completed:"",apply:"",application:"",applications:"",applicant:"",totalCampaigns:"",totalApplications:"",totalUsers:"",totalRewards:"",loginRequired:"",adminRequired:"",noData:"",loadingFailed:""}},Eg=({children:d})=>{const[o,n]=b.useState("ja");b.useEffect(()=>{n("ja"),localStorage.setItem("cnec-language","ja")},[]);const x={language:o,changeLanguage:j=>{["ko","ja"].includes(j)&&(n(j),localStorage.setItem("cnec-language",j))},t:j=>Ag[o][j]||j,isKorean:o==="ko",isJapanese:o==="ja"};return e.jsx(e0.Provider,{value:x,children:d})};class Tg{constructor(){this.isRunning=!1}start(){this.isRunning||(this.isRunning=!0,console.log("  "),this.scheduleDaily(),this.checkAndSendReminders())}stop(){this.interval&&clearInterval(this.interval),this.isRunning=!1,console.log("  ")}scheduleDaily(){this.interval=setInterval(()=>{this.checkAndSendReminders()},1440*60*1e3)}async checkAndSendReminders(){try{console.log("   ...");const n=(await Te.campaigns.getAll()).filter(i=>i.status==="active");for(const i of n)await this.processCampaignReminders(i);console.log("   ")}catch(o){console.error("    :",o)}}async processCampaignReminders(o){try{const n=new Date(o.end_date),m=Math.ceil((n-new Date)/(1e3*60*60*24));console.log(` "${o.title}"  ${m}`);let x=null;if(m===3?x="campaign_deadline_3days":m===2?x="campaign_deadline_2days":m===1?x="campaign_deadline_1day":m===0&&(x="campaign_deadline_today"),!x)return;const h=(await Te.applications.getByCampaignId(o.id)).filter(S=>S.status==="approved");for(const S of h)await this.sendReminderIfNeeded(o,S,x)}catch(n){console.error(` ${o.id}    :`,n)}}async sendReminderIfNeeded(o,n,i){try{if(await this.checkVideoSubmission(n)){console.log("      ");return}if(await this.checkIfAlreadySent(n.user_id,o.id,i)){console.log(` ${i}  `);return}const j=await Te.users.getById(n.user_id);if(!j)return;await this.sendReminderEmail(j,o,n,i),await this.recordEmailSent(j.id,o.id,i)}catch(m){console.error("    :",m)}}async checkVideoSubmission(o){try{return!!(o.video_url||o.submission_status==="submitted")}catch(n){return console.error("    :",n),!1}}async checkIfAlreadySent(o,n,i){try{const m=new Date().toISOString().split("T")[0],{data:x,error:j}=await Te.supabase.from("email_logs").select("*").eq("user_id",o).eq("campaign_id",n).eq("template_id",i).gte("sent_at",m).limit(1);return j&&j.code!=="PGRST116"?(console.error("    :",j),!1):x&&x.length>0}catch(m){return console.error("     :",m),!1}}async sendReminderEmail(o,n,i,m){try{const x=await this.getEmailTemplate(m);if(!x){console.error(` ${m}   `);return}const j=this.replaceTemplateVariables(x.content,{name:o.name||o.email,campaign_title:n.title,brand_name:n.brand,reward_amount:n.reward_amount,deadline:this.formatDate(n.end_date),requirements:n.requirements||"  ",upload_folder:n.upload_folder||"Google Drive  ",guidelines_url:n.guidelines_url||"#"}),h=this.replaceTemplateVariables(x.subject,{campaign_title:n.title});await this.sendEmail({to:o.email,subject:h,content:j}),console.log(`${m}   `)}catch(x){console.error("    :",x)}}async getEmailTemplate(o){try{const{data:n,error:i}=await Te.supabase.from("email_templates").select("*").eq("template_id",o).eq("is_active",!0).limit(1).single();return i?(console.error("  :",i),null):n}catch(n){return console.error("   :",n),null}}replaceTemplateVariables(o,n){let i=o;return Object.keys(n).forEach(m=>{const x=new RegExp(`{{${m}}}`,"g");i=i.replace(x,n[m]||"")}),i}formatDate(o){return new Date(o).toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric",weekday:"long"})}async sendEmail({to:o,subject:n,content:i}){console.log(" :",{subject:n}),console.log(":",i)}async recordEmailSent(o,n,i){try{const{error:m}=await Te.supabase.from("email_logs").insert({user_id:o,campaign_id:n,template_id:i,sent_at:new Date().toISOString()});m&&m.code!=="PGRST116"&&console.error("   :",m)}catch(m){console.error("     :",m)}}}const Dh=new Tg;function at(...d){return tg(sg(d))}function _t({className:d,...o}){return e.jsx("div",{"data-slot":"card",className:at("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",d),...o})}function kt({className:d,...o}){return e.jsx("div",{"data-slot":"card-header",className:at("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",d),...o})}function Ct({className:d,...o}){return e.jsx("div",{"data-slot":"card-title",className:at("leading-none font-semibold",d),...o})}function is({className:d,...o}){return e.jsx("div",{"data-slot":"card-description",className:at("text-muted-foreground text-sm",d),...o})}function At({className:d,...o}){return e.jsx("div",{"data-slot":"card-content",className:at("px-6",d),...o})}var Dg=Symbol.for("react.lazy"),Ji=Zp[" use ".trim().toString()];function qg(d){return typeof d=="object"&&d!==null&&"then"in d}function t0(d){return d!=null&&typeof d=="object"&&"$$typeof"in d&&d.$$typeof===Dg&&"_payload"in d&&qg(d._payload)}function Ao(d){const o=zg(d),n=b.forwardRef((i,m)=>{let{children:x,...j}=i;t0(x)&&typeof Ji=="function"&&(x=Ji(x._payload));const h=b.Children.toArray(x),S=h.find(Mg);if(S){const y=S.props.children,M=h.map(q=>q===S?b.Children.count(y)>1?b.Children.only(null):b.isValidElement(y)?y.props.children:null:q);return e.jsx(o,{...j,ref:m,children:b.isValidElement(y)?b.cloneElement(y,void 0,M):null})}return e.jsx(o,{...j,ref:m,children:x})});return n.displayName=`${d}.Slot`,n}var s0=Ao("Slot");function zg(d){const o=b.forwardRef((n,i)=>{let{children:m,...x}=n;if(t0(m)&&typeof Ji=="function"&&(m=Ji(m._payload)),b.isValidElement(m)){const j=Lg(m),h=Rg(x,m.props);return m.type!==b.Fragment&&(h.ref=i?gp(i,j):j),b.cloneElement(m,h)}return b.Children.count(m)>1?b.Children.only(null):null});return o.displayName=`${d}.SlotClone`,o}var Ug=Symbol("radix.slottable");function Mg(d){return b.isValidElement(d)&&typeof d.type=="function"&&"__radixId"in d.type&&d.type.__radixId===Ug}function Rg(d,o){const n={...o};for(const i in o){const m=d[i],x=o[i];/^on[A-Z]/.test(i)?m&&x?n[i]=(...h)=>{const S=x(...h);return m(...h),S}:m&&(n[i]=m):i==="style"?n[i]={...m,...x}:i==="className"&&(n[i]=[m,x].filter(Boolean).join(" "))}return{...d,...n}}function Lg(d){var i,m;let o=(i=Object.getOwnPropertyDescriptor(d.props,"ref"))==null?void 0:i.get,n=o&&"isReactWarning"in o&&o.isReactWarning;return n?d.ref:(o=(m=Object.getOwnPropertyDescriptor(d,"ref"))==null?void 0:m.get,n=o&&"isReactWarning"in o&&o.isReactWarning,n?d.props.ref:d.props.ref||d.ref)}const Og=_o("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function Ee({className:d,variant:o,size:n,asChild:i=!1,...m}){const x=i?s0:"button";return e.jsx(x,{"data-slot":"button",className:at(Og({variant:o,size:n,className:d})),...m})}const Bg=_o("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Us({className:d,variant:o,asChild:n=!1,...i}){const m=n?s0:"span";return e.jsx(m,{"data-slot":"badge",className:at(Bg({variant:o}),d),...i})}function bn({...d}){return e.jsx(bp,{"data-slot":"dialog",...d})}function Hg({...d}){return e.jsx(_p,{"data-slot":"dialog-portal",...d})}function Gg({className:d,...o}){return e.jsx(wp,{"data-slot":"dialog-overlay",className:at("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",d),...o})}function jn({className:d,children:o,...n}){return e.jsxs(Hg,{"data-slot":"dialog-portal",children:[e.jsx(Gg,{}),e.jsxs(jp,{"data-slot":"dialog-content",className:at("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",d),...n,children:[o,e.jsxs(vp,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[e.jsx(Et,{}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function vn({className:d,...o}){return e.jsx("div",{"data-slot":"dialog-header",className:at("flex flex-col gap-2 text-center sm:text-left",d),...o})}function yn({className:d,...o}){return e.jsx(yp,{"data-slot":"dialog-title",className:at("text-lg leading-none font-semibold",d),...o})}function Nn({className:d,...o}){return e.jsx(Np,{"data-slot":"dialog-description",className:at("text-muted-foreground text-sm",d),...o})}function Eo({className:d,...o}){return e.jsx(Sp,{"data-slot":"tabs",className:at("flex flex-col gap-2",d),...o})}function To({className:d,...o}){return e.jsx(kp,{"data-slot":"tabs-list",className:at("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",d),...o})}function dl({className:d,...o}){return e.jsx(Cp,{"data-slot":"tabs-trigger",className:at("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",d),...o})}function ka({className:d,...o}){return e.jsx(Ap,{"data-slot":"tabs-content",className:at("flex-1 outline-none",d),...o})}const Vg="https://line.me/R/ti/p/@cnec",Yg=()=>{const[d,o]=b.useState(!1),[n,i]=b.useState(!1);b.useEffect(()=>{sessionStorage.getItem("line_banner_minimized")==="true"&&i(!0);const S=setTimeout(()=>{o(!0)},2e3);return()=>clearTimeout(S)},[]);const m=()=>{i(!0),sessionStorage.setItem("line_banner_minimized","true")},x=()=>{i(!1),sessionStorage.removeItem("line_banner_minimized")},j=()=>{window.open(Vg,"_blank")};return d?n?e.jsxs("div",{className:"fixed bottom-6 right-6 z-50",children:[e.jsx("button",{onClick:x,className:"bg-[#06C755] rounded-full p-3 shadow-lg hover:scale-110 transition-transform duration-200 animate-bounce","aria-label":"LINE",children:e.jsx("svg",{className:"w-8 h-8",viewBox:"0 0 24 24",fill:"white",children:e.jsx("path",{d:"M19.365 9.863c.349 0 .63.285.63.631 0 .345-.281.63-.63.63H17.61v1.125h1.755c.349 0 .63.283.63.63 0 .344-.281.629-.63.629h-2.386c-.345 0-.627-.285-.627-.629V8.108c0-.345.282-.63.63-.63h2.386c.349 0 .63.285.63.63 0 .349-.281.63-.63.63H17.61v1.125h1.755zm-3.855 3.016c0 .27-.174.51-.432.596-.064.021-.133.031-.199.031-.211 0-.391-.09-.51-.25l-2.443-3.317v2.94c0 .344-.279.629-.631.629-.346 0-.626-.285-.626-.629V8.108c0-.27.173-.51.43-.595.06-.023.136-.033.194-.033.195 0 .375.104.495.254l2.462 3.33V8.108c0-.345.282-.63.63-.63.345 0 .63.285.63.63v4.771zm-5.741 0c0 .344-.282.629-.631.629-.345 0-.627-.285-.627-.629V8.108c0-.345.282-.63.63-.63.346 0 .628.285.628.63v4.771zm-2.466.629H4.917c-.345 0-.63-.285-.63-.629V8.108c0-.345.285-.63.63-.63.348 0 .63.285.63.63v4.141h1.756c.348 0 .629.283.629.63 0 .344-.282.629-.629.629M24 10.314C24 4.943 18.615.572 12 .572S0 4.943 0 10.314c0 4.811 4.27 8.842 10.035 9.608.391.082.923.258 1.058.59.12.301.079.766.038 1.08l-.164 1.02c-.045.301-.24 1.186 1.049.645 1.291-.539 6.916-4.078 9.436-6.975C23.176 14.393 24 12.458 24 10.314"})})}),e.jsx("div",{className:"absolute bottom-full right-0 mb-2 bg-gray-800 text-white text-xs px-2 py-1 rounded whitespace-nowrap opacity-0 hover:opacity-100 transition-opacity pointer-events-none",children:"LINE"})]}):e.jsx("div",{className:"fixed bottom-6 right-6 z-50 animate-in slide-in-from-bottom-5 duration-500",children:e.jsxs("div",{className:"relative bg-[#06C755] rounded-2xl shadow-2xl p-4 max-w-xs",children:[e.jsx("button",{onClick:m,className:"absolute -top-2 -right-2 bg-white rounded-full p-1 shadow-md hover:bg-gray-100 transition-colors","aria-label":"",children:e.jsx(Et,{className:"h-4 w-4 text-gray-600"})}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"flex-shrink-0 bg-white rounded-full p-2",children:e.jsx("svg",{className:"w-8 h-8",viewBox:"0 0 24 24",fill:"#06C755",children:e.jsx("path",{d:"M19.365 9.863c.349 0 .63.285.63.631 0 .345-.281.63-.63.63H17.61v1.125h1.755c.349 0 .63.283.63.63 0 .344-.281.629-.63.629h-2.386c-.345 0-.627-.285-.627-.629V8.108c0-.345.282-.63.63-.63h2.386c.349 0 .63.285.63.63 0 .349-.281.63-.63.63H17.61v1.125h1.755zm-3.855 3.016c0 .27-.174.51-.432.596-.064.021-.133.031-.199.031-.211 0-.391-.09-.51-.25l-2.443-3.317v2.94c0 .344-.279.629-.631.629-.346 0-.626-.285-.626-.629V8.108c0-.27.173-.51.43-.595.06-.023.136-.033.194-.033.195 0 .375.104.495.254l2.462 3.33V8.108c0-.345.282-.63.63-.63.345 0 .63.285.63.63v4.771zm-5.741 0c0 .344-.282.629-.631.629-.345 0-.627-.285-.627-.629V8.108c0-.345.282-.63.63-.63.346 0 .628.285.628.63v4.771zm-2.466.629H4.917c-.345 0-.63-.285-.63-.629V8.108c0-.345.285-.63.63-.63.348 0 .63.285.63.63v4.141h1.756c.348 0 .629.283.629.63 0 .344-.282.629-.629.629M24 10.314C24 4.943 18.615.572 12 .572S0 4.943 0 10.314c0 4.811 4.27 8.842 10.035 9.608.391.082.923.258 1.058.59.12.301.079.766.038 1.08l-.164 1.02c-.045.301-.24 1.186 1.049.645 1.291-.539 6.916-4.078 9.436-6.975C23.176 14.393 24 12.458 24 10.314"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-white font-bold text-sm mb-1",children:"LINE"}),e.jsxs("p",{className:"text-white/90 text-xs mb-3 leading-relaxed",children:["",e.jsx("br",{}),""]}),e.jsxs("button",{onClick:j,className:"w-full bg-white text-[#06C755] font-bold py-2 px-4 rounded-full text-sm hover:bg-gray-100 transition-colors flex items-center justify-center space-x-1",children:[e.jsx("span",{children:""}),e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})]})]}),e.jsx("p",{className:"text-white/70 text-xs text-center mt-2",children:"LINE ID: @cnec"})]})}):null},Kg=()=>{var O,U,ie;const{user:d,signOut:o}=Ss(),n=ws(),[i,m]=b.useState([]),[x,j]=b.useState({totalCampaigns:0,totalCreators:0,totalApplications:0,totalRewards:0}),[h,S]=b.useState(!0),[y,M]=b.useState(null),[q,K]=b.useState(!1),[v,C]=b.useState(!1),[N,Q]=b.useState(null),[k,T]=b.useState(!1),[w,$]=b.useState(!1);b.useEffect(()=>{_()},[]);const _=async()=>{try{S(!0);const A=[J(),ne()];d&&A.push(H()),await Promise.all(A)}catch(A){console.error("Page data load error:",A)}finally{S(!1)}},H=async()=>{try{const A=await Te.userProfiles.get(d.id);Q(A),sessionStorage.getItem("profile_banner_dismissed")==="true"&&T(!0)}catch(A){console.error("Load user profile error:",A)}},Y=N&&((O=N.nickname)==null?void 0:O.trim())&&((U=N.phone)==null?void 0:U.trim())&&((ie=N.name)==null?void 0:ie.trim()),J=async()=>{try{const A=await Te.campaigns.getAll(),re=(A==null?void 0:A.filter(I=>I.status==="active"))||[];m(re)}catch(A){console.error("Load campaigns error:",A),m([])}},ne=async()=>{try{const[A,re,I]=await Promise.all([Te.campaigns.getAll(),Te.applications.getAll(),Te.userProfiles.getAll()]),ye=A||[],fe=re||[],De=I||[];j({totalCampaigns:ye.length,totalCreators:De.length,totalApplications:fe.length,totalRewards:ye.reduce((Ge,oe)=>Ge+(oe.reward_amount||0),0)})}catch(A){console.error("Load stats error:",A),j({totalCampaigns:0,totalCreators:800,totalApplications:0,totalRewards:0})}},X=A=>{M(A),K(!0)},he=A=>{if(!d){n("/login");return}if(!Y){$(!0);return}n(`/campaign-application?campaign_id=${A}`)},B=A=>new Intl.NumberFormat("ja-JP",{style:"currency",currency:"JPY",minimumFractionDigits:0}).format(A),L=A=>new Date(A).toLocaleDateString("ja-JP",{year:"numeric",month:"long",day:"numeric"}),ee=A=>{switch(A==null?void 0:A.toLowerCase()){case"instagram":return e.jsx(na,{className:"h-4 w-4"});case"tiktok":return e.jsx($i,{className:"h-4 w-4"});case"youtube":return e.jsx(Aa,{className:"h-4 w-4"});case"twitter":return e.jsx(lg,{className:"h-4 w-4"});default:return e.jsx(Bi,{className:"h-4 w-4"})}},ge=A=>{switch(A==null?void 0:A.toLowerCase()){case"instagram":return"bg-gradient-to-r from-purple-500 to-pink-500 text-white";case"tiktok":return"bg-black text-white";case"youtube":return"bg-red-600 text-white";case"twitter":return"bg-blue-400 text-white";default:return"bg-gray-600 text-white"}},G=A=>{if(!A)return["instagram"];const re=[];return A.instagram&&re.push("instagram"),A.tiktok&&re.push("tiktok"),A.youtube&&re.push("youtube"),re.length>0?re:["instagram"]},W=A=>A.filter(re=>{const I=re.application_deadline;if(!I)return!0;const ye=new Date(I),fe=new Date;return fe.setHours(0,0,0,0),ye>=fe}),z=A=>{const re=W(i);return A==="all"?re:A==="regular"?re.filter(I=>!I.campaign_type||I.campaign_type==="regular"||I.campaign_type==="oliveyoung"):A==="megawari"?re.filter(I=>I.campaign_type==="megawari"):A==="4week_challenge"?re.filter(I=>I.campaign_type==="4week_challenge"):re},D=A=>e.jsxs("div",{className:"group bg-white rounded-[24px] border border-slate-100 shadow-lg shadow-slate-100/50 hover:shadow-xl hover:shadow-slate-200/50 transition-all duration-300 cursor-pointer overflow-hidden",onClick:()=>X(A),children:[A.image_url&&e.jsx("div",{className:"w-full h-36 sm:h-52 overflow-hidden bg-slate-50",children:e.jsx("img",{src:A.image_url,alt:A.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"})}),e.jsxs("div",{className:"p-4 sm:p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsx("div",{className:"flex gap-1.5 flex-wrap",children:G(A.target_platforms).map(re=>e.jsxs("span",{className:`${ge(re)} flex items-center gap-1 px-2 py-0.5 rounded-full text-[10px] sm:text-xs font-medium`,children:[e.jsx("span",{className:"flex items-center",children:ee(re)}),e.jsx("span",{className:"capitalize hidden sm:inline",children:re})]},re))}),e.jsxs("span",{className:"bg-emerald-50 text-emerald-600 border border-emerald-200 px-2 sm:px-3 py-0.5 rounded-full text-[10px] sm:text-xs font-semibold inline-flex items-center",children:[e.jsx(gn,{className:"h-3 w-3 mr-0.5"}),B(A.reward_amount)]})]}),e.jsx("h3",{className:"text-sm sm:text-lg font-bold text-slate-800 leading-tight line-clamp-2 mb-1.5",children:A.title}),e.jsx("p",{className:"text-slate-400 text-xs sm:text-sm line-clamp-2 hidden sm:block mb-4",children:A.description}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex items-center text-xs sm:text-sm text-slate-400",children:[e.jsx(fo,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 mr-1.5 flex-shrink-0 text-slate-300"}),e.jsxs("span",{className:"truncate",children:[": ",L(A.application_deadline)]})]}),e.jsxs("div",{className:"flex items-center text-xs sm:text-sm text-slate-400",children:[e.jsx(os,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 mr-1.5 flex-shrink-0 text-slate-300"}),A.max_participants||A.total_slots," "]})]}),e.jsx("button",{className:"w-full bg-blue-600 hover:bg-blue-700 text-white text-xs sm:text-sm font-semibold py-2.5 sm:py-3 rounded-full transition-colors shadow-lg shadow-blue-600/20",onClick:re=>{re.stopPropagation(),he(A.id)},children:""})]})]},A.id),g=A=>A.length===0?e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(ds,{className:"h-8 w-8 text-slate-300"})}),e.jsx("p",{className:"text-slate-400 text-lg",children:""})]}):e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-5 md:gap-6 max-w-7xl mx-auto",children:A.map(D)});return e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx("header",{className:"bg-white/80 backdrop-blur-xl sticky top-0 z-50 border-b border-slate-100",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-5 sm:px-8 py-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-[12px] flex items-center justify-center text-white font-bold text-lg shadow-lg shadow-blue-600/25",children:"C"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-bold text-slate-800 tracking-tight",children:"CNEC Japan"}),e.jsx("p",{className:"text-[10px] sm:text-xs text-slate-400 tracking-wide",children:"K-Beauty Creator Network"})]})]}),e.jsxs("nav",{className:"hidden md:flex items-center space-x-2",children:[e.jsx("a",{href:"#campaigns",className:"text-slate-500 hover:text-blue-600 font-medium px-4 py-2 rounded-full hover:bg-blue-50 transition-all text-sm",children:""}),e.jsx("a",{href:"#how-it-works",className:"text-slate-500 hover:text-blue-600 font-medium px-4 py-2 rounded-full hover:bg-blue-50 transition-all text-sm",children:""}),d?e.jsxs(e.Fragment,{children:[e.jsx(Ee,{variant:"ghost",className:"text-slate-500 hover:text-blue-600 rounded-full hover:bg-blue-50",asChild:!0,children:e.jsx(Ye,{to:"/mypage",children:""})}),e.jsx(Ee,{variant:"ghost",className:"text-slate-500 hover:text-blue-600 rounded-full hover:bg-blue-50",onClick:o,children:""})]}):e.jsxs(e.Fragment,{children:[e.jsx(Ee,{variant:"ghost",className:"text-slate-500 hover:text-blue-600 rounded-full hover:bg-blue-50",asChild:!0,children:e.jsx(Ye,{to:"/login",children:""})}),e.jsx(Ee,{className:"bg-blue-600 hover:bg-blue-700 text-white rounded-full px-6 shadow-lg shadow-blue-600/25 transition-all hover:shadow-xl",asChild:!0,children:e.jsx(Ye,{to:"/signup",children:""})})]})]}),e.jsx("button",{className:"md:hidden p-2.5 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded-full transition-all",onClick:()=>C(!v),children:v?e.jsx(Et,{className:"h-5 w-5"}):e.jsx(Xi,{className:"h-5 w-5"})})]}),v&&e.jsx("div",{className:"md:hidden mt-4 pb-4 border-t border-slate-100",children:e.jsxs("div",{className:"flex flex-col space-y-1 pt-4",children:[e.jsx("a",{href:"#campaigns",className:"text-slate-600 hover:text-blue-600 font-medium py-3 px-4 rounded-2xl hover:bg-blue-50 transition-all",children:""}),e.jsx("a",{href:"#how-it-works",className:"text-slate-600 hover:text-blue-600 font-medium py-3 px-4 rounded-2xl hover:bg-blue-50 transition-all",children:""}),d?e.jsxs(e.Fragment,{children:[e.jsx(Ye,{to:"/mypage",className:"text-slate-600 hover:text-blue-600 font-medium py-3 px-4 rounded-2xl hover:bg-blue-50 transition-all",children:""}),e.jsx("button",{onClick:o,className:"text-slate-600 hover:text-blue-600 font-medium py-3 px-4 rounded-2xl hover:bg-blue-50 transition-all text-left",children:""})]}):e.jsxs(e.Fragment,{children:[e.jsx(Ye,{to:"/login",className:"text-slate-600 hover:text-blue-600 font-medium py-3 px-4 rounded-2xl hover:bg-blue-50 transition-all",children:""}),e.jsx(Ye,{to:"/signup",className:"bg-blue-600 text-white font-semibold py-3 px-4 rounded-full text-center hover:bg-blue-700 transition-all mt-2",children:""})]})]})})]})}),d&&!Y&&!k&&e.jsx("div",{className:"bg-gradient-to-r from-amber-50 via-orange-50 to-amber-50 border-b border-amber-200/60",children:e.jsx("div",{className:"max-w-7xl mx-auto px-5 sm:px-8 py-4 sm:py-5",children:e.jsxs("div",{className:"flex items-start sm:items-center gap-4",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 sm:w-12 sm:h-12 bg-amber-100 rounded-2xl flex items-center justify-center",children:e.jsx(wo,{className:"w-5 h-5 sm:w-6 sm:h-6 text-amber-600"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-sm sm:text-base font-bold text-slate-800 mb-1",children:""}),e.jsxs("p",{className:"text-xs sm:text-sm text-slate-500 leading-relaxed",children:["",e.jsx("span",{className:"text-amber-700 font-semibold",children:""}),"",e.jsx("span",{className:"text-amber-700 font-semibold",children:""})," "]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-3",children:[e.jsxs(Ye,{to:"/profile-beauty",className:"inline-flex items-center gap-1.5 bg-amber-500 hover:bg-amber-600 text-white text-xs sm:text-sm font-semibold px-4 sm:px-5 py-2 sm:py-2.5 rounded-full transition-all shadow-lg shadow-amber-500/20",children:[e.jsx(Fs,{className:"w-3.5 h-3.5"}),""]}),e.jsx("button",{onClick:()=>{T(!0),sessionStorage.setItem("profile_banner_dismissed","true")},className:"text-xs text-slate-400 hover:text-slate-600 px-3 py-2 transition-colors",children:""})]})]}),e.jsx("button",{onClick:()=>{T(!0),sessionStorage.setItem("profile_banner_dismissed","true")},className:"flex-shrink-0 text-slate-300 hover:text-slate-500 transition-colors",children:e.jsx(Et,{className:"w-5 h-5"})})]})})}),e.jsxs("section",{className:"relative py-12 sm:py-20 md:py-32 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-blue-50/60 via-white to-white"}),e.jsx("div",{className:"absolute top-20 left-1/2 -translate-x-1/2 w-[800px] h-[800px] bg-blue-100/30 rounded-full blur-3xl pointer-events-none"}),e.jsxs("div",{className:"max-w-7xl mx-auto px-5 sm:px-8 text-center relative",children:[e.jsx("div",{className:"inline-flex mb-5 sm:mb-8",children:e.jsxs("span",{className:"bg-emerald-50 text-emerald-600 border border-emerald-200 px-3 sm:px-5 py-1.5 sm:py-2 rounded-full text-xs sm:text-sm font-medium inline-flex items-center gap-1.5 sm:gap-2",children:[e.jsx(He,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4"}),""]})}),e.jsxs("h2",{className:"text-3xl sm:text-5xl md:text-7xl font-bold text-slate-900 mb-5 sm:mb-8 leading-[1.15] tracking-tight",children:["K-Beauty ",e.jsx("br",{}),e.jsx("span",{className:"text-blue-600",children:""})]}),e.jsxs("p",{className:"text-sm sm:text-lg md:text-xl text-slate-400 mb-8 sm:mb-12 max-w-2xl mx-auto leading-relaxed",children:["",e.jsx("br",{className:"hidden sm:block"}),""]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center mb-10 sm:mb-20 px-4 sm:px-0",children:[e.jsx(Ee,{size:"lg",className:"bg-blue-600 hover:bg-blue-700 text-white text-base sm:text-lg px-8 sm:px-10 py-6 rounded-full shadow-xl shadow-blue-600/25 transition-all hover:shadow-2xl hover:shadow-blue-600/30 hover:-translate-y-0.5",asChild:!0,children:e.jsxs(Ye,{to:"/signup",children:["",e.jsx(ho,{className:"h-5 w-5 ml-2"})]})}),e.jsx(Ee,{size:"lg",variant:"outline",className:"border-2 border-slate-200 text-slate-600 hover:bg-slate-50 text-base sm:text-lg px-8 sm:px-10 py-6 rounded-full transition-all hover:-translate-y-0.5",children:e.jsx("a",{href:"#how-it-works",className:"flex items-center",children:""})})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 sm:gap-4 md:gap-6 max-w-4xl mx-auto",children:[e.jsxs("div",{className:"bg-white rounded-[20px] sm:rounded-[24px] p-4 sm:p-5 md:p-7 shadow-xl shadow-slate-200/40 border border-slate-100/80",children:[e.jsxs("div",{className:"text-xl sm:text-3xl md:text-4xl font-bold text-blue-600 mb-1",children:[x.totalCreators,"+"]}),e.jsx("div",{className:"text-[10px] sm:text-sm text-slate-400 font-medium",children:""})]}),e.jsxs("div",{className:"bg-white rounded-[20px] sm:rounded-[24px] p-4 sm:p-5 md:p-7 shadow-xl shadow-slate-200/40 border border-slate-100/80 overflow-hidden",children:[e.jsx("div",{className:"text-lg sm:text-2xl md:text-4xl font-bold text-emerald-500 mb-1 truncate",children:B(x.totalRewards)}),e.jsx("div",{className:"text-[10px] sm:text-sm text-slate-400 font-medium",children:""})]}),e.jsxs("div",{className:"bg-white rounded-[20px] sm:rounded-[24px] p-4 sm:p-5 md:p-7 shadow-xl shadow-slate-200/40 border border-slate-100/80",children:[e.jsxs("div",{className:"text-xl sm:text-3xl md:text-4xl font-bold text-violet-500 mb-1",children:[x.totalCampaigns,"+"]}),e.jsx("div",{className:"text-[10px] sm:text-sm text-slate-400 font-medium",children:""})]}),e.jsxs("div",{className:"bg-white rounded-[20px] sm:rounded-[24px] p-4 sm:p-5 md:p-7 shadow-xl shadow-slate-200/40 border border-slate-100/80",children:[e.jsx("div",{className:"text-xl sm:text-3xl md:text-4xl font-bold text-amber-500 mb-1",children:"4.8"}),e.jsx("div",{className:"text-[10px] sm:text-sm text-slate-400 font-medium",children:""})]})]})]})]}),e.jsx("section",{id:"how-it-works",className:"py-14 sm:py-20 md:py-28 bg-slate-50/50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-5 sm:px-8",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("span",{className:"bg-blue-50 text-blue-600 border border-blue-200 px-4 py-1.5 rounded-full text-xs sm:text-sm font-medium inline-block mb-4",children:"HOW IT WORKS"}),e.jsx("h2",{className:"text-3xl md:text-5xl font-bold text-slate-900 mb-4 tracking-tight",children:""}),e.jsx("p",{className:"text-base md:text-lg text-slate-400",children:"4"})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 md:gap-8 max-w-5xl mx-auto",children:[e.jsxs("div",{className:"bg-white rounded-[24px] p-6 md:p-8 text-center shadow-lg shadow-slate-100/50 border border-slate-100/80 hover:shadow-xl transition-shadow",children:[e.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-5",children:e.jsx(Bi,{className:"h-7 w-7 text-blue-600"})}),e.jsx("div",{className:"text-xs font-bold text-blue-600 mb-2 tracking-widest",children:"STEP 1"}),e.jsx("h3",{className:"text-lg md:text-xl font-bold text-slate-800 mb-2",children:""}),e.jsx("p",{className:"text-slate-400 text-xs sm:text-sm leading-relaxed",children:""})]}),e.jsxs("div",{className:"bg-white rounded-[24px] p-6 md:p-8 text-center shadow-lg shadow-slate-100/50 border border-slate-100/80 hover:shadow-xl transition-shadow",children:[e.jsx("div",{className:"w-16 h-16 bg-violet-100 rounded-full flex items-center justify-center mx-auto mb-5",children:e.jsx(xn,{className:"h-7 w-7 text-violet-600"})}),e.jsx("div",{className:"text-xs font-bold text-violet-600 mb-2 tracking-widest",children:"STEP 2"}),e.jsx("h3",{className:"text-lg md:text-xl font-bold text-slate-800 mb-2",children:""}),e.jsx("p",{className:"text-slate-400 text-xs sm:text-sm leading-relaxed",children:""})]}),e.jsxs("div",{className:"bg-white rounded-[24px] p-6 md:p-8 text-center shadow-lg shadow-slate-100/50 border border-slate-100/80 hover:shadow-xl transition-shadow",children:[e.jsx("div",{className:"w-16 h-16 bg-pink-100 rounded-full flex items-center justify-center mx-auto mb-5",children:e.jsx(Dl,{className:"h-7 w-7 text-pink-600"})}),e.jsx("div",{className:"text-xs font-bold text-pink-600 mb-2 tracking-widest",children:"STEP 3"}),e.jsx("h3",{className:"text-lg md:text-xl font-bold text-slate-800 mb-2",children:""}),e.jsx("p",{className:"text-slate-400 text-xs sm:text-sm leading-relaxed",children:"SNS"})]}),e.jsxs("div",{className:"bg-white rounded-[24px] p-6 md:p-8 text-center shadow-lg shadow-slate-100/50 border border-slate-100/80 hover:shadow-xl transition-shadow",children:[e.jsx("div",{className:"w-16 h-16 bg-emerald-100 rounded-full flex items-center justify-center mx-auto mb-5",children:e.jsx(mn,{className:"h-7 w-7 text-emerald-600"})}),e.jsx("div",{className:"text-xs font-bold text-emerald-600 mb-2 tracking-widest",children:"STEP 4"}),e.jsx("h3",{className:"text-lg md:text-xl font-bold text-slate-800 mb-2",children:""}),e.jsx("p",{className:"text-slate-400 text-xs sm:text-sm leading-relaxed",children:""})]})]})]})}),e.jsx("section",{id:"campaigns",className:"py-14 sm:py-20 md:py-28 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-5 sm:px-8",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("span",{className:"bg-blue-50 text-blue-600 border border-blue-200 px-4 py-1.5 rounded-full text-xs sm:text-sm font-medium inline-block mb-4",children:"CAMPAIGNS"}),e.jsx("h2",{className:"text-3xl md:text-5xl font-bold text-slate-900 mb-4 tracking-tight",children:""}),e.jsx("p",{className:"text-base md:text-lg text-slate-400",children:"K-Beauty"})]}),h?e.jsx("div",{className:"flex justify-center items-center py-24",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx(st,{className:"h-10 w-10 animate-spin text-blue-600"}),e.jsx("span",{className:"text-slate-400 text-sm",children:"..."})]})}):e.jsxs(Eo,{defaultValue:"all",className:"w-full",children:[e.jsx("div",{className:"flex justify-center mb-8 sm:mb-10 overflow-x-auto scrollbar-hide px-1",children:e.jsxs(To,{className:"bg-slate-100 rounded-full p-1 sm:p-1.5 h-auto inline-flex",children:[e.jsx(dl,{value:"all",className:"rounded-full px-5 sm:px-7 py-2.5 text-xs sm:text-sm font-semibold data-[state=active]:bg-white data-[state=active]:text-blue-600 data-[state=active]:shadow-md text-slate-400 transition-all",children:""}),e.jsx(dl,{value:"regular",className:"rounded-full px-5 sm:px-7 py-2.5 text-xs sm:text-sm font-semibold data-[state=active]:bg-white data-[state=active]:text-blue-600 data-[state=active]:shadow-md text-slate-400 transition-all",children:""}),e.jsx(dl,{value:"megawari",className:"rounded-full px-5 sm:px-7 py-2.5 text-xs sm:text-sm font-semibold data-[state=active]:bg-white data-[state=active]:text-blue-600 data-[state=active]:shadow-md text-slate-400 transition-all",children:""}),e.jsx(dl,{value:"4week_challenge",className:"rounded-full px-5 sm:px-7 py-2.5 text-xs sm:text-sm font-semibold data-[state=active]:bg-white data-[state=active]:text-blue-600 data-[state=active]:shadow-md text-slate-400 transition-all",children:"4"})]})}),e.jsx(ka,{value:"all",children:g(z("all"))}),e.jsx(ka,{value:"regular",children:g(z("regular"))}),e.jsx(ka,{value:"megawari",children:g(z("megawari"))}),e.jsx(ka,{value:"4week_challenge",children:g(z("4week_challenge"))})]})]})}),e.jsx("section",{className:"py-14 sm:py-20 md:py-28 bg-slate-50/50",children:e.jsx("div",{className:"max-w-7xl mx-auto px-5 sm:px-8",children:e.jsx("div",{className:"max-w-6xl mx-auto",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-8 md:gap-16 items-center",children:[e.jsxs("div",{children:[e.jsx("span",{className:"bg-emerald-50 text-emerald-600 border border-emerald-200 px-4 py-1.5 rounded-full text-xs sm:text-sm font-medium inline-block mb-6",children:""}),e.jsxs("h2",{className:"text-3xl md:text-5xl font-bold text-slate-900 mb-6 tracking-tight leading-tight",children:["",e.jsx("br",{}),""]}),e.jsx("p",{className:"text-base md:text-lg text-slate-400 mb-10 leading-relaxed",children:" "}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-10 h-10 bg-emerald-100 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(He,{className:"h-5 w-5 text-emerald-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-slate-800 mb-0.5",children:""}),e.jsx("div",{className:"text-sm text-slate-400",children:""})]})]}),e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-10 h-10 bg-emerald-100 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(He,{className:"h-5 w-5 text-emerald-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-slate-800 mb-0.5",children:""}),e.jsx("div",{className:"text-sm text-slate-400",children:""})]})]}),e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-10 h-10 bg-emerald-100 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(He,{className:"h-5 w-5 text-emerald-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-slate-800 mb-0.5",children:""}),e.jsx("div",{className:"text-sm text-slate-400",children:""})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-[32px] shadow-xl shadow-slate-200/50 border border-slate-100/80 p-6 md:p-10",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"text-sm text-slate-400 font-medium mb-2",children:""}),e.jsx("div",{className:"text-3xl md:text-4xl font-bold text-slate-900",children:"50,000 - 200,000"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 bg-slate-50 rounded-2xl",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-blue-600 text-xs font-bold",children:"1"})}),e.jsx("span",{className:"text-slate-600 font-medium",children:"1"})]}),e.jsx("span",{className:"font-bold text-slate-800",children:"35,000"})]}),e.jsxs("div",{className:"flex justify-between items-center p-4 bg-slate-50 rounded-2xl",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-violet-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-violet-600 text-xs font-bold",children:"2"})}),e.jsx("span",{className:"text-slate-600 font-medium",children:"2"})]}),e.jsx("span",{className:"font-bold text-slate-800",children:"42,000"})]}),e.jsxs("div",{className:"flex justify-between items-center p-4 bg-slate-50 rounded-2xl",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-pink-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-pink-600 text-xs font-bold",children:"3"})}),e.jsx("span",{className:"text-slate-600 font-medium",children:"3"})]}),e.jsx("span",{className:"font-bold text-slate-800",children:"38,000"})]}),e.jsxs("div",{className:"flex justify-between items-center p-4 bg-slate-50 rounded-2xl",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-emerald-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-emerald-600 text-xs font-bold",children:"4"})}),e.jsx("span",{className:"text-slate-600 font-medium",children:"4"})]}),e.jsx("span",{className:"font-bold text-slate-800",children:"45,000"})]})]}),e.jsxs("div",{className:"mt-6 pt-6 border-t border-slate-100 flex justify-between items-center",children:[e.jsx("span",{className:"text-slate-500 font-medium",children:""}),e.jsx("span",{className:"text-2xl font-bold text-blue-600",children:"160,000"})]})]})]})})})}),e.jsxs("section",{className:"py-14 sm:py-20 md:py-28 bg-gradient-to-br from-blue-600 via-blue-600 to-blue-700 relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 opacity-10",children:[e.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-white rounded-full blur-3xl -translate-y-1/2 translate-x-1/2"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-96 h-96 bg-white rounded-full blur-3xl translate-y-1/2 -translate-x-1/2"})]}),e.jsxs("div",{className:"max-w-7xl mx-auto px-5 sm:px-8 text-center relative",children:[e.jsx("h2",{className:"text-3xl md:text-5xl font-bold text-white mb-6 tracking-tight",children:""}),e.jsx("p",{className:"text-lg md:text-xl text-blue-100 mb-10 max-w-2xl mx-auto leading-relaxed",children:"800K-Beauty "}),e.jsx(Ee,{size:"lg",className:"bg-white text-blue-600 hover:bg-blue-50 text-base sm:text-lg px-10 py-6 rounded-full shadow-xl shadow-blue-900/30 transition-all hover:shadow-2xl hover:-translate-y-0.5 font-semibold",asChild:!0,children:e.jsxs(Ye,{to:"/signup",children:["",e.jsx(ho,{className:"h-5 w-5 ml-2"})]})})]})]}),e.jsx(bn,{open:q,onOpenChange:K,children:e.jsx(jn,{className:"max-w-3xl max-h-[90vh] overflow-y-auto rounded-[24px] border-slate-100 p-0",children:y&&e.jsxs("div",{children:[y.image_url&&e.jsx("div",{className:"w-full h-48 md:h-72 overflow-hidden bg-slate-50",children:e.jsx("img",{src:y.image_url,alt:y.title,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"p-6 md:p-8",children:[e.jsxs(vn,{className:"mb-6",children:[e.jsx("div",{className:"flex gap-2 mb-3",children:G(y.target_platforms).map(A=>e.jsxs("span",{className:`${ge(A)} flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-medium`,children:[ee(A),e.jsx("span",{className:"capitalize",children:A})]},A))}),e.jsx(yn,{className:"text-xl md:text-2xl font-bold text-slate-800",children:y.title}),e.jsx(Nn,{className:"sr-only",children:""})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-base text-slate-700 mb-2",children:""}),e.jsx("p",{className:"text-slate-500 leading-relaxed",children:y.description})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-slate-50 rounded-2xl p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(gn,{className:"h-4 w-4 text-emerald-500"}),e.jsx("span",{className:"text-xs text-slate-400",children:""})]}),e.jsx("div",{className:"font-bold text-slate-800",children:B(y.reward_amount)})]}),e.jsxs("div",{className:"bg-slate-50 rounded-2xl p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(fo,{className:"h-4 w-4 text-blue-500"}),e.jsx("span",{className:"text-xs text-slate-400",children:""})]}),e.jsx("div",{className:"font-bold text-slate-800",children:L(y.application_deadline)})]}),e.jsxs("div",{className:"bg-slate-50 rounded-2xl p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(os,{className:"h-4 w-4 text-violet-500"}),e.jsx("span",{className:"text-xs text-slate-400",children:""})]}),e.jsxs("div",{className:"font-bold text-slate-800",children:[y.max_participants||y.total_slots," "]})]}),e.jsxs("div",{className:"bg-slate-50 rounded-2xl p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(Bi,{className:"h-4 w-4 text-amber-500"}),e.jsx("span",{className:"text-xs text-slate-400",children:""})]}),e.jsx("div",{className:"font-bold text-slate-800",children:y.category})]})]}),y.requirements&&e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-base text-slate-700 mb-2",children:""}),e.jsx("p",{className:"text-slate-500 whitespace-pre-line leading-relaxed",children:y.requirements})]}),e.jsx("button",{className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-4 rounded-full transition-all shadow-lg shadow-blue-600/25 hover:shadow-xl text-base",onClick:()=>{K(!1),he(y.id)},children:""})]})]})]})})}),e.jsx("footer",{className:"bg-slate-900 text-white py-16 md:py-20",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-5 sm:px-8",children:[e.jsxs("div",{className:"grid md:grid-cols-4 gap-10 md:gap-8",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-5",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-[12px] flex items-center justify-center text-white font-bold text-lg",children:"C"}),e.jsx("h3",{className:"text-xl font-bold",children:"CNEC Japan"})]}),e.jsx("p",{className:"text-slate-400 text-sm leading-relaxed",children:"K-Beauty "})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-5 text-slate-200",children:""}),e.jsxs("ul",{className:"space-y-3 text-sm text-slate-400",children:[e.jsx("li",{children:e.jsx("a",{href:"#campaigns",className:"hover:text-white transition-colors",children:""})}),e.jsx("li",{children:e.jsx("a",{href:"#how-it-works",className:"hover:text-white transition-colors",children:""})}),e.jsx("li",{children:e.jsx(Ye,{to:"/signup",className:"hover:text-white transition-colors",children:""})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-5 text-slate-200",children:""}),e.jsxs("ul",{className:"space-y-3 text-sm text-slate-400",children:[e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:""})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:""})}),e.jsx("li",{children:e.jsx(Ye,{to:"/terms",className:"hover:text-white transition-colors",children:""})}),e.jsx("li",{children:e.jsx(Ye,{to:"/privacy",className:"hover:text-white transition-colors",children:""})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-5 text-slate-200",children:""}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("a",{href:"https://www.youtube.com/@CNEC_JP",target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 bg-slate-800 rounded-full flex items-center justify-center text-slate-400 hover:text-white hover:bg-slate-700 transition-all",children:e.jsx(Aa,{className:"h-5 w-5"})}),e.jsx("a",{href:"#",className:"w-10 h-10 bg-slate-800 rounded-full flex items-center justify-center text-slate-400 hover:text-white hover:bg-slate-700 transition-all",children:e.jsx(na,{className:"h-5 w-5"})})]})]})]}),e.jsxs("div",{className:"border-t border-slate-800 mt-12 pt-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"font-semibold text-slate-300 text-sm mb-4",children:""}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-8 gap-y-2 text-xs text-slate-500",children:[e.jsxs("div",{className:"flex",children:[e.jsx("span",{className:"text-slate-400 w-32 flex-shrink-0",children:""}),e.jsx("span",{children:"CNEC"})]}),e.jsxs("div",{className:"flex",children:[e.jsx("span",{className:"text-slate-400 w-32 flex-shrink-0",children:""}),e.jsx("span",{children:""})]}),e.jsxs("div",{className:"flex",children:[e.jsx("span",{className:"text-slate-400 w-32 flex-shrink-0",children:""}),e.jsx("span",{children:"575-81-02253"})]}),e.jsxs("div",{className:"flex",children:[e.jsx("span",{className:"text-slate-400 w-32 flex-shrink-0",children:""}),e.jsx("span",{children:"2022--3903"})]}),e.jsxs("div",{className:"flex sm:col-span-2",children:[e.jsx("span",{className:"text-slate-400 w-32 flex-shrink-0",children:""}),e.jsx("span",{children:"  362  1009"})]}),e.jsxs("div",{className:"flex",children:[e.jsx("span",{className:"text-slate-400 w-32 flex-shrink-0",children:""}),e.jsx("span",{children:"howpapa@howpapa.co.kr"})]})]})]}),e.jsx("div",{className:"text-center text-sm text-slate-500",children:e.jsx("p",{children:" 2025 CNEC Japan. All rights reserved."})})]})]})}),e.jsx(bn,{open:w,onOpenChange:$,children:e.jsx(jn,{className:"sm:max-w-md mx-4 rounded-[24px] p-0 overflow-hidden",children:e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 p-6 sm:p-8",children:[e.jsxs(vn,{className:"mb-0",children:[e.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Kt,{className:"w-8 h-8 text-blue-600"})}),e.jsx(yn,{className:"text-xl font-bold text-slate-800 text-center",children:""}),e.jsx(Nn,{className:"text-sm text-slate-500 text-center mt-2",children:""})]}),e.jsxs("div",{className:"mt-6 space-y-3",children:[e.jsxs("div",{className:"bg-white rounded-2xl p-4 border border-slate-100",children:[e.jsx("h4",{className:"text-sm font-bold text-slate-700 mb-3",children:""}),e.jsxs("ul",{className:"space-y-2.5",children:[e.jsxs("li",{className:"flex items-start gap-2.5",children:[e.jsx(He,{className:"w-4 h-4 text-emerald-500 mt-0.5 flex-shrink-0"}),e.jsxs("span",{className:"text-sm text-slate-600",children:["",e.jsx("b",{children:""}),""]})]}),e.jsxs("li",{className:"flex items-start gap-2.5",children:[e.jsx(He,{className:"w-4 h-4 text-emerald-500 mt-0.5 flex-shrink-0"}),e.jsxs("span",{className:"text-sm text-slate-600",children:["",e.jsx("b",{children:""})]})]}),e.jsxs("li",{className:"flex items-start gap-2.5",children:[e.jsx(He,{className:"w-4 h-4 text-emerald-500 mt-0.5 flex-shrink-0"}),e.jsxs("span",{className:"text-sm text-slate-600",children:[e.jsx("b",{children:""}),""]})]}),e.jsxs("li",{className:"flex items-start gap-2.5",children:[e.jsx(He,{className:"w-4 h-4 text-emerald-500 mt-0.5 flex-shrink-0"}),e.jsxs("span",{className:"text-sm text-slate-600",children:["",e.jsx("b",{children:""}),""]})]})]})]}),e.jsx("div",{className:"bg-amber-50 rounded-2xl p-3 border border-amber-100",children:e.jsxs("p",{className:"text-xs text-amber-700 flex items-start gap-2",children:[e.jsx(Kt,{className:"w-3.5 h-3.5 mt-0.5 flex-shrink-0"}),"",e.jsx("b",{children:""}),": 1"]})})]}),e.jsxs("div",{className:"mt-6 flex flex-col gap-2.5",children:[e.jsxs(Ee,{className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3.5 rounded-full shadow-lg shadow-blue-600/25",onClick:()=>{$(!1),n("/profile-beauty")},children:[e.jsx(Fs,{className:"w-4 h-4 mr-2"}),""]}),e.jsx("button",{className:"text-sm text-slate-400 hover:text-slate-600 py-2 transition-colors",onClick:()=>$(!1),children:""})]})]})})}),e.jsx(Yg,{})]})};function ht({className:d,type:o,...n}){return e.jsx("input",{type:o,"data-slot":"input",className:at("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",d),...n})}var Jg=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Qg=Jg.reduce((d,o)=>{const n=Ao(`Primitive.${o}`),i=b.forwardRef((m,x)=>{const{asChild:j,...h}=m,S=j?n:o;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(S,{...h,ref:x})});return i.displayName=`Primitive.${o}`,{...d,[o]:i}},{}),Xg="Label",l0=b.forwardRef((d,o)=>e.jsx(Qg.label,{...d,ref:o,onMouseDown:n=>{var m;n.target.closest("button, input, select, textarea")||((m=d.onMouseDown)==null||m.call(d,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));l0.displayName=Xg;var $g=l0;function $e({className:d,...o}){return e.jsx($g,{"data-slot":"label",className:at("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",d),...o})}const Zg=_o("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function Ns({className:d,variant:o,...n}){return e.jsx("div",{"data-slot":"alert",role:"alert",className:at(Zg({variant:o}),d),...n})}function _s({className:d,...o}){return e.jsx("div",{"data-slot":"alert-description",className:at("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",d),...o})}const Fg=()=>{var N,Q;const{signInWithEmail:d,signInWithGoogle:o,loading:n}=Ss(),i=ws(),m=Qh(),[x,j]=b.useState({email:"",password:""}),[h,S]=b.useState(""),[y,M]=b.useState(!1),q=((Q=(N=m.state)==null?void 0:N.from)==null?void 0:Q.pathname)||"/",K=k=>{const{name:T,value:w}=k.target;j($=>({...$,[T]:w}))},v=async k=>{if(k.preventDefault(),!x.email||!x.password){S("");return}try{M(!0),S(""),await d(x.email,x.password),i(q,{replace:!0})}catch(T){console.error("Login error:",T);let w=T.message;T.message.includes("Invalid login credentials")?w="":T.message.includes("Email not confirmed")&&(w=""),S(w)}finally{M(!1)}},C=async()=>{try{M(!0),S(""),await o()}catch(k){console.error("Google login error:",k),S("Google"),M(!1)}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-blue-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsx("div",{className:"mb-6",children:e.jsxs(Ee,{variant:"outline",onClick:()=>i("/"),className:"text-gray-600 hover:text-gray-800 bg-green-100 border-green-300 hover:bg-green-200",children:[e.jsx(ol,{className:"h-4 w-4 mr-2"}),""]})}),e.jsxs(_t,{className:"shadow-xl border-0 bg-white",children:[e.jsxs(kt,{className:"text-center pb-6",children:[e.jsx("div",{className:"text-4xl mb-4",children:""}),e.jsx(Ct,{className:"text-2xl font-bold text-gray-800",children:""}),e.jsx(is,{className:"text-gray-600",children:"CNEC Japan"})]}),e.jsxs(At,{className:"space-y-6",children:[e.jsxs(Ee,{onClick:C,disabled:y||n,className:"w-full bg-blue-600 text-white border-0 hover:bg-blue-700 py-3",size:"lg",children:[y?e.jsx(st,{className:"h-4 w-4 animate-spin mr-2"}):e.jsxs("svg",{className:"h-4 w-4 mr-2",viewBox:"0 0 24 24",children:[e.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google"]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("span",{className:"w-full border-t border-gray-300"})}),e.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:e.jsx("span",{className:"bg-white px-2 text-orange-500 font-medium",children:""})})]}),e.jsxs("form",{onSubmit:v,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx($e,{htmlFor:"email",className:"text-orange-600 font-medium",children:""}),e.jsxs("div",{className:"relative",children:[e.jsx(ia,{className:"absolute left-3 top-3 h-4 w-4 text-pink-400"}),e.jsx(ht,{id:"email",name:"email",type:"email",placeholder:"",value:x.email,onChange:K,className:"pl-10 border-pink-200 focus:border-pink-400 focus:ring-pink-400",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($e,{htmlFor:"password",className:"text-green-600 font-medium",children:""}),e.jsxs("div",{className:"relative",children:[e.jsx(fr,{className:"absolute left-3 top-3 h-4 w-4 text-pink-400"}),e.jsx(ht,{id:"password",name:"password",type:"password",placeholder:"",value:x.password,onChange:K,className:"pl-10 border-pink-200 focus:border-pink-400 focus:ring-pink-400",required:!0})]})]}),h&&e.jsx(Ns,{variant:"destructive",children:e.jsx(_s,{children:h})}),e.jsxs(Ee,{type:"submit",disabled:y||n,className:"w-full bg-purple-600 hover:bg-purple-700 text-white py-3",size:"lg",children:[y?e.jsx(st,{className:"h-4 w-4 animate-spin mr-2"}):null,""]})]}),e.jsxs("div",{className:"text-center text-sm",children:[e.jsx("span",{className:"text-gray-600",children:""})," ",e.jsx(Ye,{to:"/signup",className:"text-red-600 hover:text-red-700 font-medium underline",children:""})]})]})]})]})})},Ig=()=>{const{signUpWithEmail:d,signInWithGoogle:o}=Ss(),n=ws(),[i,m]=b.useState(!1),[x,j]=b.useState(""),[h,S]=b.useState(!1),[y,M]=b.useState({email:"",password:"",confirmPassword:"",name:""}),q=N=>{const{name:Q,value:k}=N.target;M(T=>({...T,[Q]:k}))},K=()=>!y.email||!y.password||!y.confirmPassword||!y.name?"":/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(y.email)?y.password.length<6?"6":y.password!==y.confirmPassword?"":null:"",v=async N=>{N.preventDefault();const Q=K();if(Q){j(Q);return}try{m(!0),j(""),await d(y.email,y.password,y.name),S(!0)}catch(k){console.error("Signup error:",k),k.message.includes("already registered")?j(""):k.message.includes("weak password")?j(""):j("")}finally{m(!1)}},C=async()=>{try{m(!0),j(""),await o()}catch(N){console.error("Google signup error:",N),j("Google")}finally{m(!1)}};return h?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-blue-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"max-w-md mx-auto text-center bg-white rounded-lg shadow-xl p-8",children:[e.jsx("div",{className:"text-6xl mb-4",children:""}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:""}),e.jsxs("p",{className:"text-gray-600 mb-4",children:["CNEC Japan",e.jsx("br",{}),""]}),e.jsxs("div",{className:"bg-[#06C755] rounded-xl p-5 mb-6 text-white",children:[e.jsxs("div",{className:"flex items-center justify-center mb-3",children:[e.jsx("svg",{className:"w-8 h-8 mr-2",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M19.365 9.863c.349 0 .63.285.63.631 0 .345-.281.63-.63.63H17.61v1.125h1.755c.349 0 .63.283.63.63 0 .344-.281.629-.63.629h-2.386c-.345 0-.627-.285-.627-.629V8.108c0-.345.282-.63.63-.63h2.386c.349 0 .63.285.63.63 0 .349-.281.63-.63.63H17.61v1.125h1.755zm-3.855 3.016c0 .27-.174.51-.432.596-.064.021-.133.031-.199.031-.211 0-.391-.09-.51-.25l-2.443-3.317v2.94c0 .344-.279.629-.631.629-.346 0-.626-.285-.626-.629V8.108c0-.27.173-.51.43-.595.06-.023.136-.033.194-.033.195 0 .375.104.495.254l2.462 3.33V8.108c0-.345.282-.63.63-.63.345 0 .63.285.63.63v4.771zm-5.741 0c0 .344-.282.629-.631.629-.345 0-.627-.285-.627-.629V8.108c0-.345.282-.63.63-.63.346 0 .628.285.628.63v4.771zm-2.466.629H4.917c-.345 0-.63-.285-.63-.629V8.108c0-.345.285-.63.63-.63.348 0 .63.285.63.63v4.141h1.756c.348 0 .629.283.629.63 0 .344-.282.629-.629.629M24 10.314C24 4.943 18.615.572 12 .572S0 4.943 0 10.314c0 4.811 4.27 8.842 10.035 9.608.391.082.923.258 1.058.59.12.301.079.766.038 1.08l-.164 1.02c-.045.301-.24 1.186 1.049.645 1.291-.539 6.916-4.078 9.436-6.975C23.176 14.393 24 12.458 24 10.314"})}),e.jsx("span",{className:"font-bold text-lg",children:"LINE"})]}),e.jsxs("p",{className:"text-white/90 text-sm mb-4",children:["",e.jsx("br",{}),"LINE"]}),e.jsx("a",{href:"https://line.me/R/ti/p/@cnec",target:"_blank",rel:"noopener noreferrer",className:"inline-block w-full bg-white text-[#06C755] font-bold py-3 px-6 rounded-full hover:bg-gray-100 transition-colors",children:" "}),e.jsx("p",{className:"text-white/70 text-xs mt-2",children:"LINE ID: @cnec"})]}),e.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-3 mb-6",children:e.jsxs("p",{className:"text-amber-800 text-sm font-medium",children:[" LINE",e.jsx("br",{}),""]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:()=>n("/login"),className:"w-full bg-purple-600 hover:bg-purple-700 text-white font-medium py-3 px-4 rounded-md transition-colors",children:""}),e.jsx("button",{onClick:()=>n("/"),className:"w-full border border-gray-300 hover:bg-gray-50 text-gray-700 font-medium py-3 px-4 rounded-md transition-colors",children:""})]})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-blue-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsx("div",{className:"mb-6",children:e.jsxs(Ee,{variant:"outline",onClick:()=>n("/"),className:"text-gray-600 hover:text-gray-800 bg-green-100 border-green-300 hover:bg-green-200",children:[e.jsx(ol,{className:"h-4 w-4 mr-2"}),""]})}),e.jsxs(_t,{className:"shadow-xl border-0 bg-white",children:[e.jsxs(kt,{className:"text-center pb-6",children:[e.jsx("div",{className:"text-4xl mb-4",children:""}),e.jsx(Ct,{className:"text-2xl font-bold text-gray-800",children:""}),e.jsx(is,{className:"text-gray-600",children:"CNEC Japan"})]}),e.jsxs(At,{className:"space-y-6",children:[e.jsxs(Ee,{type:"button",onClick:C,disabled:i,className:"w-full bg-blue-600 text-white border-0 hover:bg-blue-700 py-3",size:"lg",children:[e.jsxs("svg",{className:"w-4 h-4 mr-2",viewBox:"0 0 24 24",children:[e.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google"]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("span",{className:"w-full border-t border-gray-300"})}),e.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:e.jsx("span",{className:"bg-white px-2 text-orange-500 font-medium",children:""})})]}),e.jsxs("form",{onSubmit:v,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx($e,{htmlFor:"name",className:"text-purple-600 font-medium",children:""}),e.jsxs("div",{className:"relative",children:[e.jsx(Fs,{className:"absolute left-3 top-3 h-4 w-4 text-pink-400"}),e.jsx(ht,{id:"name",name:"name",type:"text",value:y.name,onChange:q,placeholder:"",className:"pl-10 border-pink-200 focus:border-pink-400 focus:ring-pink-400",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($e,{htmlFor:"email",className:"text-orange-600 font-medium",children:""}),e.jsxs("div",{className:"relative",children:[e.jsx(ia,{className:"absolute left-3 top-3 h-4 w-4 text-pink-400"}),e.jsx(ht,{id:"email",name:"email",type:"email",value:y.email,onChange:q,placeholder:"",className:"pl-10 border-pink-200 focus:border-pink-400 focus:ring-pink-400",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($e,{htmlFor:"password",className:"text-green-600 font-medium",children:""}),e.jsxs("div",{className:"relative",children:[e.jsx(fr,{className:"absolute left-3 top-3 h-4 w-4 text-pink-400"}),e.jsx(ht,{id:"password",name:"password",type:"password",value:y.password,onChange:q,placeholder:"",className:"pl-10 border-pink-200 focus:border-pink-400 focus:ring-pink-400",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($e,{htmlFor:"confirmPassword",className:"text-blue-600 font-medium",children:""}),e.jsxs("div",{className:"relative",children:[e.jsx(fr,{className:"absolute left-3 top-3 h-4 w-4 text-pink-400"}),e.jsx(ht,{id:"confirmPassword",name:"confirmPassword",type:"password",value:y.confirmPassword,onChange:q,placeholder:"",className:"pl-10 border-pink-200 focus:border-pink-400 focus:ring-pink-400",required:!0})]})]}),x&&e.jsx(Ns,{variant:"destructive",children:e.jsx(_s,{children:x})}),e.jsxs(Ee,{type:"submit",disabled:i,className:"w-full bg-purple-600 hover:bg-purple-700 text-white py-3",size:"lg",children:[i?e.jsx(st,{className:"h-4 w-4 animate-spin mr-2"}):null,""]})]}),e.jsxs("div",{className:"text-center text-sm",children:[e.jsx("span",{className:"text-gray-600",children:""})," ",e.jsx(Ye,{to:"/login",className:"text-red-600 hover:text-red-700 font-medium underline",children:""})]})]})]})]})})};function Sa({className:d,...o}){return e.jsx("textarea",{"data-slot":"textarea",className:at("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",d),...o})}function Zi({...d}){return e.jsx(Ep,{"data-slot":"select",...d})}function Fi({...d}){return e.jsx(qp,{"data-slot":"select-value",...d})}function Ii({className:d,size:o="default",children:n,...i}){return e.jsxs(Tp,{"data-slot":"select-trigger","data-size":o,className:at("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",d),...i,children:[n,e.jsx(Dp,{asChild:!0,children:e.jsx(pr,{className:"size-4 opacity-50"})})]})}function Wi({className:d,children:o,position:n="popper",...i}){return e.jsx(zp,{children:e.jsxs(Up,{"data-slot":"select-content",className:at("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",d),position:n,...i,children:[e.jsx(Wg,{}),e.jsx(Mp,{className:at("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:o}),e.jsx(Pg,{})]})})}function ys({className:d,children:o,...n}){return e.jsxs(Rp,{"data-slot":"select-item",className:at("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",d),...n,children:[e.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:e.jsx(Lp,{children:e.jsx(po,{className:"size-4"})})}),e.jsx(Op,{children:o})]})}function Wg({className:d,...o}){return e.jsx(Bp,{"data-slot":"select-scroll-up-button",className:at("flex cursor-default items-center justify-center py-1",d),...o,children:e.jsx(So,{className:"size-4"})})}function Pg({className:d,...o}){return e.jsx(Hp,{"data-slot":"select-scroll-down-button",className:at("flex cursor-default items-center justify-center py-1",d),...o,children:e.jsx(pr,{className:"size-4"})})}var eb=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],tb=eb.reduce((d,o)=>{const n=Ao(`Primitive.${o}`),i=b.forwardRef((m,x)=>{const{asChild:j,...h}=m,S=j?n:o;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(S,{...h,ref:x})});return i.displayName=`Primitive.${o}`,{...d,[o]:i}},{}),sb="Separator",qh="horizontal",lb=["horizontal","vertical"],a0=b.forwardRef((d,o)=>{const{decorative:n,orientation:i=qh,...m}=d,x=ab(i)?i:qh,h=n?{role:"none"}:{"aria-orientation":x==="vertical"?x:void 0,role:"separator"};return e.jsx(tb.div,{"data-orientation":x,...h,...m,ref:o})});a0.displayName=sb;function ab(d){return lb.includes(d)}var rb=a0;function xo({className:d,orientation:o="horizontal",decorative:n=!0,...i}){return e.jsx(rb,{"data-slot":"separator-root",decorative:n,orientation:o,className:at("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",d),...i})}const nb=()=>{localStorage.getItem("language")};nb();function zh({...d}){return e.jsx(Gp,{"data-slot":"dropdown-menu",...d})}function Uh({...d}){return e.jsx(Vp,{"data-slot":"dropdown-menu-trigger",...d})}function Mh({className:d,sideOffset:o=4,...n}){return e.jsx(Yp,{children:e.jsx(Kp,{"data-slot":"dropdown-menu-content",sideOffset:o,className:at("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",d),...n})})}function Ri({className:d,inset:o,variant:n="default",...i}){return e.jsx(Jp,{"data-slot":"dropdown-menu-item","data-inset":o,"data-variant":n,className:at("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",d),...i})}function ib({className:d,...o}){return e.jsx(Qp,{"data-slot":"dropdown-menu-separator",className:at("bg-border -mx-1 my-1 h-px",d),...o})}const cb={ko:{title:" ",subtitle:"      ",applicantList:" ",name:"",snsAddress:"SNS ",skinType:" ",questions:" ",virtualSelect:" ",cancel:"",selected:"",adminApprovalRequired:"        ",loading:"  ...",error:" ",noApplications:" ",instagram:"",tiktok:"",youtube:"",twitter:"",pending:"",approved:"",rejected:"",completed:"",virtualSelected:" "},ja:{title:"",subtitle:"",applicantList:"",name:"",snsAddress:"SNS",skinType:"",questions:"",virtualSelect:"",cancel:"",selected:"",adminApprovalRequired:"",loading:"...",error:"",noApplications:"",instagram:"Instagram",tiktok:"TikTok",youtube:"YouTube",twitter:"Twitter",pending:"",approved:"",rejected:"",completed:"",virtualSelected:""},en:{title:"Company Report",subtitle:"View campaign performance and analytics data",applicantList:"Applicant List",name:"Name",snsAddress:"SNS Address",skinType:"Skin Type",questions:"Questions & Answers",virtualSelect:"Virtual Select",cancel:"Cancel",selected:"Selected",adminApprovalRequired:"Even if you press the red select button, it will be confirmed after final approval by the administrator",loading:"Loading data...",error:"An error occurred",noApplications:"No applicants",instagram:"Instagram",tiktok:"TikTok",youtube:"YouTube",twitter:"Twitter",pending:"Pending",approved:"Approved",rejected:"Rejected",completed:"Completed",virtualSelected:"Virtual Selected"}},db=()=>{const{campaignId:d}=_n(),[o]=Qi();o.get("token");const[n,i]=b.useState(null),[m,x]=b.useState([]),[j,h]=b.useState(!0),[S,y]=b.useState(""),[M,q]=b.useState("ko"),[K,v]=b.useState(!1),C=cb[M];b.useEffect(()=>{d?N():(y(" ID  ."),h(!1))},[d]);const N=async()=>{try{h(!0),y(""),console.log("   :",d);const{data:T,error:w}=await ae.from("campaigns").select("*").eq("id",d).single();if(w)throw new Error(`   : ${w.message}`);i(T),console.log(" :",T);const{data:$,error:_}=await ae.from("applications").select("*").eq("campaign_id",d).order("created_at",{ascending:!1});_?(console.error("   :",_),x([])):(x($||[]),console.log(" :",($==null?void 0:$.length)||0,""))}catch(T){console.error("  :",T),y(T.message||"  .")}finally{h(!1)}},Q=async(T,w)=>{try{v(!0);const $=w?"pending":"virtual_selected",{error:_}=await ae.from("applications").update({status:$,virtual_selected_at:w?null:new Date().toISOString(),updated_at:new Date().toISOString()}).eq("id",T);if(_)throw new Error(`  : ${_.message}`);x(H=>H.map(Y=>Y.id===T?{...Y,status:$,virtual_selected_at:w?null:new Date().toISOString()}:Y))}catch($){console.error("   :",$),y($.message||"   .")}finally{v(!1)}},k=T=>{const w={pending:{bg:"bg-yellow-100",text:"text-yellow-800",label:C.pending},virtual_selected:{bg:"bg-red-100",text:"text-red-800",label:C.virtualSelected},approved:{bg:"bg-green-100",text:"text-green-800",label:C.approved},rejected:{bg:"bg-gray-100",text:"text-gray-800",label:C.rejected},completed:{bg:"bg-blue-100",text:"text-blue-800",label:C.completed}},$=w[T]||w.pending;return e.jsx(Us,{className:`${$.bg} ${$.text}`,children:$.label})};return j?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(st,{className:"h-12 w-12 animate-spin text-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:C.loading})]})}):S?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 flex items-center justify-center",children:e.jsx(_t,{className:"max-w-md",children:e.jsx(At,{className:"pt-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Kt,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:C.error}),e.jsx("p",{className:"text-gray-600 mb-4",children:S}),e.jsx(Ee,{onClick:()=>window.location.reload(),children:""})]})})})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 py-8",children:e.jsxs("div",{className:"container mx-auto px-4 max-w-7xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(ag,{className:"h-8 w-8 text-blue-600"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:C.title}),e.jsxs("p",{className:"text-gray-600",children:[(n==null?void 0:n.title)||""," - ",C.subtitle]})]})]}),e.jsx("div",{className:"flex space-x-2",children:e.jsxs(Zi,{value:M,onValueChange:q,children:[e.jsx(Ii,{className:"w-32",children:e.jsx(Fi,{})}),e.jsxs(Wi,{children:[e.jsx(ys,{value:"ko",children:""}),e.jsx(ys,{value:"ja",children:""}),e.jsx(ys,{value:"en",children:"English"})]})]})})]}),n&&e.jsx(_t,{className:"mb-6",children:e.jsxs(kt,{children:[e.jsxs(Ct,{className:"flex items-center space-x-2",children:[e.jsx(Bi,{className:"h-5 w-5 text-blue-600"}),e.jsx("span",{children:n.title})]}),e.jsxs(is,{children:[": ",n.brand," | : ",new Date(n.deadline).toLocaleDateString()]})]})}),e.jsxs(Ns,{className:"mb-6 border-red-200 bg-red-50",children:[e.jsx(Kt,{className:"h-4 w-4 text-red-600"}),e.jsx(_s,{className:"text-red-800",children:C.adminApprovalRequired})]}),e.jsxs(_t,{children:[e.jsx(kt,{children:e.jsxs(Ct,{className:"flex items-center space-x-2",children:[e.jsx(os,{className:"h-5 w-5 text-blue-600"}),e.jsx("span",{children:C.applicantList}),e.jsxs(Us,{variant:"secondary",children:[m.length,""]})]})}),e.jsx(At,{children:m.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(os,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:C.noApplications})]}):e.jsx("div",{className:"space-y-6",children:m.map(T=>e.jsxs("div",{className:"border rounded-lg p-6 bg-white",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:T.applicant_name||" "}),k(T.status)]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:C.snsAddress}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:[T.instagram_url&&e.jsxs("a",{href:T.instagram_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-2 text-pink-600 hover:text-pink-800",children:[e.jsx(na,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:"Instagram"}),e.jsx(vt,{className:"h-3 w-3"})]}),T.tiktok_url&&e.jsxs("a",{href:T.tiktok_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-2 text-black hover:text-gray-700",children:[e.jsx($i,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:"TikTok"}),e.jsx(vt,{className:"h-3 w-3"})]}),T.youtube_url&&e.jsxs("a",{href:T.youtube_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-2 text-red-600 hover:text-red-800",children:[e.jsx(Aa,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:"YouTube"}),e.jsx(vt,{className:"h-3 w-3"})]})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:C.skinType}),e.jsx(Us,{variant:"outline",children:T.skin_type||" "})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:""}),e.jsx(Us,{variant:"outline",children:T.age||" "})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:C.questions}),e.jsxs("div",{className:"space-y-3",children:[(()=>{const w=[];for(let $=1;$<=10;$++){const _=[n==null?void 0:n[`question_${$}`],n==null?void 0:n[`question${$}`],T[`question_${$}`],T[`question${$}`]],H=[T[`answer_${$}`],T[`answer${$}`],T[`question${$}_answer`],T[`question_${$}_answer`]],Y=_.find(ne=>ne&&ne.trim()),J=H.find(ne=>ne&&ne.trim());(Y||J)&&w.push(e.jsxs("div",{className:"bg-gray-50 p-3 rounded",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:Y||` ${$}`}),e.jsx("p",{className:"text-sm text-gray-800",children:J||" "})]},$))}return w.length===0&&w.push(e.jsx("div",{className:"bg-gray-50 p-3 rounded text-center",children:e.jsx("p",{className:"text-sm text-gray-500",children:"  ."})},"no-qa")),w})(),!1]})]})]}),e.jsx("div",{className:"ml-4",children:T.status==="virtual_selected"?e.jsxs(Ee,{variant:"outline",size:"sm",onClick:()=>Q(T.id,!0),disabled:K,className:"border-red-300 text-red-600 hover:bg-red-50",children:[e.jsx(Xh,{className:"h-4 w-4 mr-2"}),C.cancel]}):T.status==="pending"?e.jsxs(Ee,{size:"sm",onClick:()=>Q(T.id,!1),disabled:K,className:"bg-red-600 hover:bg-red-700 text-white",children:[e.jsx($h,{className:"h-4 w-4 mr-2"}),C.virtualSelect]}):e.jsx(Us,{variant:"secondary",children:C.selected})})]}),e.jsxs("div",{className:"text-xs text-gray-500 border-t pt-2",children:[": ",new Date(T.created_at).toLocaleString(),T.virtual_selected_at&&e.jsxs("span",{className:"ml-4",children:[": ",new Date(T.virtual_selected_at).toLocaleString()]})]})]},T.id))})})]})]})})},r0=({isOpen:d,onClose:o,guide:n,campaignTitle:i})=>{var v,C,N,Q;const[m,x]=b.useState(0);if(!d||!n)return null;let j=n;if(typeof n=="string")try{j=JSON.parse(n)}catch{j={}}const h=j.scenes||[],S=h.length,y=()=>{x(k=>k>0?k-1:S-1)},M=()=>{x(k=>k<S-1?k+1:0)},q=k=>k!=null&&k.includes("")||k!=null&&k.includes("")?"bg-red-100 text-red-800 border-red-200":k!=null&&k.includes("CTA")||k!=null&&k.includes("")||k!=null&&k.includes("")?"bg-purple-100 text-purple-800 border-purple-200":k!=null&&k.includes("")||k!=null&&k.includes("")?"bg-blue-100 text-blue-800 border-blue-200":"bg-gray-100 text-gray-800 border-gray-200",K=h[m];return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 overflow-y-auto h-full w-full z-[9999] flex items-center justify-center p-4",children:e.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[e.jsx(hr,{className:"w-6 h-6"}),""]}),e.jsx("p",{className:"text-sm text-purple-100 mt-1",children:i})]}),e.jsx("button",{onClick:o,className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:e.jsx(Et,{className:"w-6 h-6"})})]})}),e.jsx("div",{className:"bg-purple-50 px-6 py-3 border-b border-purple-100",children:e.jsxs("div",{className:"flex flex-wrap gap-4 text-sm",children:[j.dialogue_style&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Gi,{className:"w-4 h-4 text-purple-600"}),e.jsx("span",{className:"text-gray-600",children:":"}),e.jsx("span",{className:"font-medium text-purple-700",children:j.dialogue_style==="natural"?"":j.dialogue_style==="formal"?"":j.dialogue_style})]}),j.tempo&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(as,{className:"w-4 h-4 text-purple-600"}),e.jsx("span",{className:"text-gray-600",children:":"}),e.jsx("span",{className:"font-medium text-purple-700",children:j.tempo==="normal"?"":j.tempo==="fast"?"":j.tempo==="slow"?"":j.tempo})]}),j.mood&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(wo,{className:"w-4 h-4 text-purple-600"}),e.jsx("span",{className:"text-gray-600",children:":"}),e.jsx("span",{className:"font-medium text-purple-700",children:j.mood==="bright"?"":j.mood==="calm"?"":j.mood==="energetic"?"":j.mood})]})]})}),S>0&&e.jsx("div",{className:"px-6 py-4 bg-gray-50 border-b",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("button",{onClick:y,className:"p-2 rounded-full hover:bg-gray-200 transition-colors",children:e.jsx(rg,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:""}),e.jsx("div",{className:"flex gap-1",children:h.map((k,T)=>e.jsx("button",{onClick:()=>x(T),className:`w-8 h-8 rounded-full text-sm font-medium transition-colors ${m===T?"bg-purple-600 text-white":"bg-gray-200 text-gray-600 hover:bg-gray-300"}`,children:T+1},T))})]}),e.jsx("button",{onClick:M,className:"p-2 rounded-full hover:bg-gray-200 transition-colors",children:e.jsx(go,{className:"w-5 h-5"})})]})}),e.jsx("div",{className:"p-6 overflow-y-auto max-h-[50vh]",children:K?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-full bg-purple-100 text-purple-700 font-bold text-xl",children:K.order||m+1}),e.jsx("div",{children:e.jsx("span",{className:`inline-flex px-3 py-1 rounded-full text-sm font-medium border ${q(K.scene_type)}`,children:K.scene_type})})]}),e.jsx("div",{className:"bg-blue-50 rounded-xl p-5 border border-blue-100",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(hr,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:""}),e.jsx("p",{className:"text-blue-800 leading-relaxed",children:K.scene_description_translated||K.scene_description})]})]})}),(K.dialogue_translated||K.dialogue)&&e.jsx("div",{className:"bg-green-50 rounded-xl p-5 border border-green-100",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(Gi,{className:"w-5 h-5 text-green-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-green-900 mb-2",children:""}),e.jsxs("p",{className:"text-green-800 leading-relaxed italic",children:['"',K.dialogue_translated||K.dialogue,'"']})]})]})}),(K.shooting_tip_translated||K.shooting_tip)&&e.jsx("div",{className:"bg-amber-50 rounded-xl p-5 border border-amber-100",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 bg-amber-100 rounded-lg",children:e.jsx(ng,{className:"w-5 h-5 text-amber-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-amber-900 mb-2",children:""}),e.jsx("p",{className:"text-amber-800 leading-relaxed",children:K.shooting_tip_translated||K.shooting_tip})]})]})})]}):e.jsxs("div",{className:"text-center py-12 text-gray-500",children:[e.jsx(hr,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),e.jsx("p",{children:""})]})}),(((v=j.required_dialogues)==null?void 0:v.length)>0||((C=j.required_scenes)==null?void 0:C.length)>0)&&e.jsxs("div",{className:"px-6 py-4 bg-red-50 border-t border-red-100",children:[e.jsxs("h4",{className:"font-semibold text-red-900 mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"text-lg",children:""}),""]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[((N=j.required_dialogues)==null?void 0:N.length)>0&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-red-800 mb-2",children:":"}),e.jsx("ul",{className:"text-sm text-red-700 space-y-1",children:j.required_dialogues.map((k,T)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-red-500",children:""}),e.jsxs("span",{children:['"',k,'"']})]},T))})]}),((Q=j.required_scenes)==null?void 0:Q.length)>0&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-red-800 mb-2",children:":"}),e.jsx("ul",{className:"text-sm text-red-700 space-y-1",children:j.required_scenes.map((k,T)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-red-500",children:""}),e.jsx("span",{children:k})]},T))})]})]})]}),e.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-t flex items-center justify-between",children:[e.jsx("p",{className:"text-xs text-gray-500",children:j.updated_at&&`: ${new Date(j.updated_at).toLocaleDateString("ja-JP")}`}),e.jsx("button",{onClick:o,className:"px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors font-medium",children:""})]})]})})},ob=d=>{if(!d)return"unknown";const o=d.toLowerCase();return o.includes("docs.google.com/presentation")||o.includes("slides.google.com")?"google_slides":o.includes("docs.google.com/document")?"google_docs":o.includes("drive.google.com")?"google_drive":o.endsWith(".pdf")||o.includes("/pdf")?"pdf":"external_link"},ub=d=>d&&d.includes("docs.google.com/presentation")?d.replace(/\/(edit|pub).*$/,"/embed"):null,n0=({url:d,language:o="ja",compact:n=!1})=>{const[i,m]=b.useState(!1),x=ob(d);if(!d)return null;const j=ub(d);return n?e.jsxs("div",{className:"flex flex-wrap gap-2",children:[x==="google_slides"&&e.jsxs("a",{href:d,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 py-2 bg-yellow-50 border border-yellow-300 text-yellow-800 rounded-lg text-sm font-medium hover:bg-yellow-100 transition-colors",children:[e.jsx(hn,{className:"w-4 h-4 mr-2"}),o==="ja"?"Google ":"Google Slides "]}),x==="google_docs"&&e.jsxs("a",{href:d,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 py-2 bg-blue-50 border border-blue-300 text-blue-800 rounded-lg text-sm font-medium hover:bg-blue-100 transition-colors",children:[e.jsx(ds,{className:"w-4 h-4 mr-2"}),o==="ja"?"":" "]}),x==="google_drive"&&e.jsxs("a",{href:d,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 py-2 bg-green-50 border border-green-300 text-green-800 rounded-lg text-sm font-medium hover:bg-green-100 transition-colors",children:[e.jsx(io,{className:"w-4 h-4 mr-2"}),o==="ja"?"Google ":"Google Drive "]}),x==="pdf"&&e.jsxs("a",{href:d,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 py-2 bg-red-50 border border-red-300 text-red-800 rounded-lg text-sm font-medium hover:bg-red-100 transition-colors",children:[e.jsx(ql,{className:"w-4 h-4 mr-2"}),o==="ja"?"PDF":"PDF "]}),x==="external_link"&&e.jsxs("a",{href:d,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 py-2 bg-gray-50 border border-gray-300 text-gray-800 rounded-lg text-sm font-medium hover:bg-gray-100 transition-colors",children:[e.jsx(vt,{className:"w-4 h-4 mr-2"}),o==="ja"?"":" "]})]}):e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"px-4 py-3 bg-gradient-to-r from-indigo-50 to-purple-50 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[x==="google_slides"&&e.jsx(hn,{className:"w-5 h-5 text-yellow-600 mr-2"}),x==="google_docs"&&e.jsx(ds,{className:"w-5 h-5 text-blue-600 mr-2"}),x==="google_drive"&&e.jsx(io,{className:"w-5 h-5 text-green-600 mr-2"}),x==="pdf"&&e.jsx(ds,{className:"w-5 h-5 text-red-600 mr-2"}),x==="external_link"&&e.jsx(vt,{className:"w-5 h-5 text-gray-600 mr-2"}),e.jsx("span",{className:"font-medium text-gray-800",children:o==="ja"?"":"  "})]}),e.jsx("div",{className:"flex items-center gap-2",children:(x==="pdf"||j)&&e.jsx("button",{onClick:()=>m(!i),className:"text-xs px-2 py-1 bg-white border border-gray-300 rounded text-gray-600 hover:bg-gray-50 transition-colors",children:i?o==="ja"?"":" ":o==="ja"?"":""})})]})}),i&&(x==="pdf"||j)&&e.jsx("div",{className:"relative",children:e.jsx("iframe",{src:j||d,className:"w-full h-[400px] border-0",title:"Guide Preview",allowFullScreen:!0})}),e.jsxs("div",{className:"px-4 py-3 flex flex-wrap gap-2",children:[x==="google_slides"&&e.jsxs("a",{href:d,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 bg-yellow-500 text-white rounded-lg text-sm font-medium hover:bg-yellow-600 transition-colors",children:[e.jsx(hn,{className:"w-4 h-4 mr-2"}),o==="ja"?"Google ":"Google Slides "]}),x==="google_docs"&&e.jsxs("a",{href:d,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 bg-blue-500 text-white rounded-lg text-sm font-medium hover:bg-blue-600 transition-colors",children:[e.jsx(ds,{className:"w-4 h-4 mr-2"}),o==="ja"?"":" "]}),x==="google_drive"&&e.jsxs("a",{href:d,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 bg-green-500 text-white rounded-lg text-sm font-medium hover:bg-green-600 transition-colors",children:[e.jsx(io,{className:"w-4 h-4 mr-2"}),o==="ja"?"Google ":"Google Drive "]}),x==="pdf"&&e.jsxs(e.Fragment,{children:[e.jsxs("a",{href:d,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 bg-red-500 text-white rounded-lg text-sm font-medium hover:bg-red-600 transition-colors",children:[e.jsx(ql,{className:"w-4 h-4 mr-2"}),o==="ja"?"":""]}),e.jsxs("a",{href:d,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 bg-white border border-gray-300 text-gray-700 rounded-lg text-sm font-medium hover:bg-gray-50 transition-colors",children:[e.jsx(vt,{className:"w-4 h-4 mr-2"}),o==="ja"?"":"  "]})]}),x==="external_link"&&e.jsxs("a",{href:d,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 bg-purple-500 text-white rounded-lg text-sm font-medium hover:bg-purple-600 transition-colors",children:[e.jsx(vt,{className:"w-4 h-4 mr-2"}),o==="ja"?"":" "]})]})]})},mb=({isOpen:d,onClose:o,application:n,onSuccess:i})=>{const[m,x]=b.useState((n==null?void 0:n.submitted_video_url)||""),[j,h]=b.useState(""),[S,y]=b.useState(!1),[M,q]=b.useState(""),[K,v]=b.useState(""),[C,N]=b.useState(!1);if(!d||!n)return null;const Q=T=>{try{return new URL(T),!0}catch{return!1}},k=async T=>{if(T.preventDefault(),q(""),v(""),!m.trim()){q("URL");return}if(!Q(m)){q("URL");return}if(!C){q("");return}try{y(!0);const{error:w}=await ae.from("applications").update({submitted_video_url:m,submission_notes:j,submission_status:"submitted",submitted_at:new Date().toISOString(),updated_at:new Date().toISOString()}).eq("id",n.id);if(w)throw console.error("Video submission error:",w),new Error("");v(""),setTimeout(()=>{i==null||i(),o()},1500)}catch(w){console.error("Submission error:",w),q(w.message||"")}finally{y(!1)}};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 overflow-y-auto h-full w-full z-[9999] flex items-center justify-center p-4",children:e.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl max-w-lg w-full",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-2xl",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ra,{className:"w-6 h-6"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold",children:""}),e.jsx("p",{className:"text-sm text-blue-100",children:n.campaign_title})]})]}),e.jsx("button",{onClick:o,className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:e.jsx(Et,{className:"w-5 h-5"})})]})}),e.jsx("div",{className:"bg-amber-50 border-b border-amber-200 px-6 py-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(vs,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-sm",children:[e.jsx("p",{className:"font-semibold text-amber-800 mb-1",children:"SNS"}),e.jsxs("ul",{className:"text-amber-700 space-y-1",children:[e.jsx("li",{children:" 1"}),e.jsx("li",{children:" "}),e.jsx("li",{children:" SNS"})]})]})]})}),e.jsxs("form",{onSubmit:k,className:"p-6 space-y-5",children:[M&&e.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm flex items-center gap-2",children:[e.jsx(vs,{className:"w-4 h-4"}),M]}),K&&e.jsxs("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg text-green-700 text-sm flex items-center gap-2",children:[e.jsx(He,{className:"w-4 h-4"}),K]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(ig,{className:"w-4 h-4 inline mr-1"}),"URL ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"url",value:m,onChange:T=>x(T.target.value),placeholder:"https://drive.google.com/...  YouTube URL",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Google Drive, YouTube, Dropbox"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),e.jsx("textarea",{value:j,onChange:T=>h(T.target.value),rows:3,placeholder:"...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:e.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:C,onChange:T=>N(T.target.checked),className:"mt-1 h-5 w-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"font-medium text-gray-900",children:""}),e.jsx("p",{className:"text-gray-600 mt-1",children:"1SNS"})]})]})}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsx("button",{type:"button",onClick:o,className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:""}),e.jsx("button",{type:"submit",disabled:S||!C,className:"flex-1 px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:S?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"..."]}):e.jsxs(e.Fragment,{children:[e.jsx(cs,{className:"w-4 h-4"}),""]})})]})]}),n.guide_url&&e.jsx("div",{className:"px-6 pb-4",children:e.jsxs("a",{href:n.guide_url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:text-blue-800 flex items-center gap-1",children:[e.jsx(vt,{className:"w-3 h-3"}),""]})})]})})},yo=d=>{if(!d)return{isPdf:!1,isAiGuide:!1,text:null,pdfUrl:null,title:null,aiData:null};let o=null;if(typeof d=="object")o=d;else if(typeof d=="string"){const n=d.trim();if(n.startsWith("{")||n.startsWith("[")||n.startsWith('"'))try{if(o=JSON.parse(n),typeof o=="string")try{o=JSON.parse(o)}catch{}}catch{}if(!o)return{isPdf:!1,isAiGuide:!1,text:d,pdfUrl:null,title:null,aiData:null}}else return{isPdf:!1,isAiGuide:!1,text:null,pdfUrl:null,title:null,aiData:null};return o.type==="external_pdf"&&o.fileUrl?{isPdf:!0,isAiGuide:!1,text:null,pdfUrl:o.fileUrl,title:o.title||null,aiData:null}:o.fileUrl&&o.fileUrl.endsWith(".pdf")?{isPdf:!0,isAiGuide:!1,text:null,pdfUrl:o.fileUrl,title:o.title||null,aiData:null}:o.scenes&&Array.isArray(o.scenes)?{isPdf:!1,isAiGuide:!0,text:null,pdfUrl:null,title:null,aiData:o}:{isPdf:!1,isAiGuide:!1,text:JSON.stringify(o,null,2),pdfUrl:null,title:null,aiData:null}},xb=({data:d,language:o})=>{if(!(d!=null&&d.scenes))return null;const n=o==="ja";return e.jsxs("div",{className:"space-y-4",children:[(d.mood||d.tempo)&&e.jsxs("div",{className:"flex flex-wrap gap-2",children:[d.mood&&e.jsxs("span",{className:"px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-xs font-medium",children:[" ",n?"":"",": ",d.mood]}),d.tempo&&e.jsxs("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-xs font-medium",children:[" ",n?"":"",": ",d.tempo]})]}),d.scenes.map((i,m)=>e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsx("h5",{className:"text-sm font-bold text-gray-800",children:n?` ${i.order||m+1}`:` ${i.order||m+1}`})}),(i.dialogue_translated||i.dialogue)&&e.jsxs("div",{className:"mb-3",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 mb-1",children:[" ",n?"":""]}),e.jsx("p",{className:"text-sm text-gray-800 bg-yellow-50 rounded p-2 border-l-3 border-yellow-400",children:n&&i.dialogue_translated||i.dialogue})]}),(i.shooting_tip_translated||i.shooting_tip)&&e.jsxs("div",{className:"mb-3",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 mb-1",children:[" ",n?"":" "]}),e.jsx("p",{className:"text-sm text-gray-700 bg-blue-50 rounded p-2",children:n&&i.shooting_tip_translated||i.shooting_tip})]}),(i.scene_description_translated||i.scene_description)&&e.jsxs("div",{children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 mb-1",children:[" ",n?"":" "]}),e.jsx("p",{className:"text-sm text-gray-600",children:n&&i.scene_description_translated||i.scene_description})]})]},m))]})},Vt={regular:{icon:"",labelKo:"",labelJa:"",descKo:"1  ",descJa:"1",steps:1,snsSteps:1,color:"purple",bgClass:"bg-purple-50 border-purple-200",textClass:"text-purple-700",badgeClass:"bg-purple-100 text-purple-800"},megawari:{icon:"",labelKo:"",labelJa:"",descKo:" 2 + SNS 3",descJa:"2SNS3",steps:2,snsSteps:3,color:"orange",bgClass:"bg-orange-50 border-orange-200",textClass:"text-orange-700",badgeClass:"bg-orange-100 text-orange-800"},"4week_challenge":{icon:"",labelKo:"4 ",labelJa:"4",descKo:" 1  4",descJa:"14",steps:4,snsSteps:4,color:"blue",bgClass:"bg-blue-50 border-blue-200",textClass:"text-blue-700",badgeClass:"bg-blue-100 text-blue-800"}},Li=[{id:"video",labelKo:" ",labelJa:"",icon:cs},{id:"revision",labelKo:" ",labelJa:"",icon:Kt},{id:"sns",labelKo:"SNS/",labelJa:"SNS/",icon:Vi},{id:"complete",labelKo:" ",labelJa:"",icon:Ms}],hb=d=>({submitted:"video_uploaded",approved:"sns_pending",revision_requested:"revision_required",resubmitted:"video_uploaded",completed:"points_paid"})[d]||"guide_pending",fb=d=>({guide_pending:"submitted",guide_confirmed:"submitted",video_uploaded:"submitted",revision_required:"revision_requested",revision_requested:"revision_requested",sns_pending:"approved",sns_submitted:"completed",review_pending:"completed",points_paid:"completed",completed:"completed"})[d]||"submitted",pb=d=>({id:d.id,application_id:d.application_id,user_id:d.user_id,campaign_id:d.campaign_id,step_number:d.week_number||d.video_number||1,step_label:d.week_number?`Week ${d.week_number}`:null,workflow_status:hb(d.status),video_file_url:d.video_file_url,video_file_name:d.video_file_name,video_file_size:d.video_file_size,video_uploaded_at:d.video_uploaded_at,clean_video_file_url:d.clean_video_url||d.clean_video_file_url,sns_url:d.sns_upload_url||d.sns_url,ad_code:d.ad_code||d.partnership_code,revision_requests:d.revision_requests||[],revision_notes:d.revision_notes,video_versions:d.version?[{version:d.version,file_url:d.video_file_url,file_name:d.video_file_name,uploaded_at:d.video_uploaded_at}]:[],points_amount:d.points_amount||0,points_paid_at:d.points_paid_at,created_at:d.created_at,updated_at:d.updated_at,_source:"video_submissions",_original:d}),gb=(d,o)=>{const n=(o==null?void 0:o.campaign_type)||"regular",i=Vt[n]||Vt.regular,m=(o==null?void 0:o.total_steps)||i.steps,x=[];for(let j=1;j<=m;j++){const h=n==="4week_challenge"?d[`week${j}_url`]:j===1?d.video_file_url:null,S=n==="4week_challenge"?d[`week${j}_partnership_code`]:d.partnership_code,y=d.sns_upload_url;let M="guide_pending";d.status==="completed"?M="points_paid":y&&h?M="sns_submitted":h?M="video_uploaded":["selected","filming","approved"].includes(d.status)&&(M="guide_pending"),x.push({id:`app-${d.id}-step-${j}`,application_id:d.id,user_id:d.user_id,campaign_id:d.campaign_id,step_number:j,step_label:n==="4week_challenge"?`Week ${j}`:null,workflow_status:M,video_file_url:h,video_file_name:d.video_file_name,video_file_size:d.video_file_size,video_uploaded_at:d.video_uploaded_at,clean_video_file_url:d.clean_video_file_url||d.clean_video_url,sns_url:y,ad_code:d.ad_code||S,revision_requests:d.revision_requests||[],video_versions:h?[{version:1,file_url:h,file_name:d.video_file_name,uploaded_at:d.video_uploaded_at}]:[],_source:"applications",_original:d})}return x},bb=({videoDeadline:d,snsDeadline:o,language:n})=>{const i=new Date,m=y=>y?new Date(y).toLocaleDateString(n==="ja"?"ja-JP":"ko-KR",{month:"short",day:"numeric"}):null,x=y=>{if(!y)return null;const M=new Date(y);return Math.ceil((M-i)/(1e3*60*60*24))},j=y=>{const M=x(y);return M===null?"none":M<0?"expired":M<=3?"urgent":M<=7?"soon":"normal"},h=j(d),S=j(o);return!d&&!o?null:e.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[d&&e.jsxs("div",{className:`flex items-center text-xs px-2 py-1 rounded-full ${h==="expired"?"bg-red-100 text-red-700":h==="urgent"?"bg-orange-100 text-orange-700":h==="soon"?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-600"}`,children:[e.jsx(cs,{className:"w-3 h-3 mr-1"}),e.jsx("span",{children:n==="ja"?":":":"}),e.jsx("span",{className:"font-medium ml-1",children:m(d)}),h==="expired"&&e.jsxs("span",{className:"ml-1",children:["(",n==="ja"?"":"",")"]}),h==="urgent"&&e.jsxs("span",{className:"ml-1 font-bold",children:["(",x(d),n==="ja"?"":"",")"]})]}),o&&e.jsxs("div",{className:`flex items-center text-xs px-2 py-1 rounded-full ${S==="expired"?"bg-red-100 text-red-700":S==="urgent"?"bg-orange-100 text-orange-700":S==="soon"?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-600"}`,children:[e.jsx(Vi,{className:"w-3 h-3 mr-1"}),e.jsx("span",{children:"SNS:"}),e.jsx("span",{className:"font-medium ml-1",children:m(o)}),S==="expired"&&e.jsxs("span",{className:"ml-1",children:["(",n==="ja"?"":"",")"]}),S==="urgent"&&e.jsxs("span",{className:"ml-1 font-bold",children:["(",x(o),n==="ja"?"":"",")"]})]})]})},jb=({campaign:d,campaignType:o,language:n})=>{const i=Vt[o]||Vt.regular,m=(d==null?void 0:d.total_steps)||i.steps,x=i.snsSteps||m,j=new Date,h=C=>C?new Date(C).toLocaleDateString(n==="ja"?"ja-JP":"ko-KR",{month:"short",day:"numeric"}):n==="ja"?"":"",S=C=>{if(!C)return"bg-gray-50 text-gray-400";const N=new Date(C),Q=Math.ceil((N-j)/(1e3*60*60*24));return Q<0?"bg-red-50 text-red-600":Q<=3?"bg-orange-50 text-orange-600":Q<=7?"bg-yellow-50 text-yellow-600":"bg-gray-50 text-gray-700"},y=C=>{if(d!=null&&d.step_deadlines){const N=d.step_deadlines.find(Q=>Q.step===C);if(N!=null&&N.video_deadline)return N.video_deadline}if(o==="4week_challenge"){const N=`week${C}_deadline`;if(d!=null&&d[N])return d[N]}return C===1&&(d!=null&&d.video_deadline)?d.video_deadline:null},M=C=>{if(d!=null&&d.step_deadlines){const N=d.step_deadlines.find(Q=>Q.step===C);if(N!=null&&N.sns_deadline)return N.sns_deadline}if(o==="4week_challenge"){const N=`week${C}_sns_deadline`;if(d!=null&&d[N])return d[N]}return C===1&&(d!=null&&d.sns_deadline)?d.sns_deadline:null},q=Array.from({length:m},(C,N)=>({step:N+1,deadline:y(N+1)})),K=Array.from({length:x},(C,N)=>({step:N+1,deadline:M(N+1)})),v=(C,N)=>o==="4week_challenge"?`Week ${C}`:o==="megawari"?N==="sns"&&C>m?n==="ja"?`SNS ${C}`:`SNS ${C}`:`${C}`:m>1||x>1?`${C}`:"";return e.jsxs("div",{className:"mt-3 p-3 bg-white bg-opacity-60 rounded-lg",children:[e.jsx("p",{className:"text-xs font-medium text-gray-500 mb-2",children:n==="ja"?" ":" "}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-xs text-gray-400 mb-1",children:[" ",n==="ja"?"":" "]}),e.jsx("div",{className:"space-y-1",children:q.map(({step:C,deadline:N})=>e.jsxs("div",{className:`text-xs px-2 py-1 rounded ${S(N)}`,children:[v(C,"video")&&e.jsxs("span",{className:"font-medium",children:[v(C,"video"),": "]}),h(N)]},`v-${C}`))})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-xs text-gray-400 mb-1",children:[" ",n==="ja"?"SNS":"SNS ",x>m&&e.jsxs("span",{className:"text-gray-300 ml-1",children:["(",x,n==="ja"?"":"",")"]})]}),e.jsx("div",{className:"space-y-1",children:K.map(({step:C,deadline:N})=>e.jsxs("div",{className:`text-xs px-2 py-1 rounded ${S(N)}`,children:[v(C,"sns")&&e.jsxs("span",{className:"font-medium",children:[v(C,"sns"),": "]}),h(N)]},`s-${C}`))})]})]})]})},vb=({isOpen:d,onClose:o,campaign:n,application:i,language:m,stepNumber:x=1,campaignType:j="regular"})=>{var k,T,w,$,_;if(!d)return null;const S=j!=="4week_challenge"?null:{1:(n==null?void 0:n.week1_guide_ja)||(n==null?void 0:n.week1_guide),2:(n==null?void 0:n.week2_guide_ja)||(n==null?void 0:n.week2_guide),3:(n==null?void 0:n.week3_guide_ja)||(n==null?void 0:n.week3_guide),4:(n==null?void 0:n.week4_guide_ja)||(n==null?void 0:n.week4_guide)}[x],y=n==null?void 0:n.shooting_guide_url,M=yo(i==null?void 0:i.personalized_guide),q=(n==null?void 0:n.guide_type)==="pdf"&&(n==null?void 0:n.guide_pdf_url)||M.isPdf,K=M.isPdf?M.pdfUrl:n==null?void 0:n.guide_pdf_url,v=S||M.text||(n==null?void 0:n.shooting_guide_content),N=j==="4week_challenge"?m==="ja"?`Week ${x}`:`${x}`:j==="megawari"?m==="ja"?` ${x}`:`${x}`:null,Q=[];return n!=null&&n.shooting_scenes_ba_photo&&Q.push({ko:"B&A ",ja:"B&A"}),n!=null&&n.shooting_scenes_no_makeup&&Q.push({ko:"",ja:""}),n!=null&&n.shooting_scenes_closeup&&Q.push({ko:"",ja:""}),n!=null&&n.shooting_scenes_product_closeup&&Q.push({ko:" ",ja:""}),n!=null&&n.shooting_scenes_product_texture&&Q.push({ko:" ",ja:""}),n!=null&&n.shooting_scenes_outdoor&&Q.push({ko:" ",ja:""}),n!=null&&n.shooting_scenes_couple&&Q.push({ko:" ",ja:""}),n!=null&&n.shooting_scenes_child&&Q.push({ko:" ",ja:""}),n!=null&&n.shooting_scenes_troubled_skin&&Q.push({ko:" ",ja:""}),n!=null&&n.shooting_scenes_wrinkles&&Q.push({ko:"",ja:""}),e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-xl w-full max-w-3xl max-h-[90vh] overflow-hidden",children:[e.jsxs("div",{className:"p-3 sm:p-4 border-b border-gray-200 flex items-center justify-between bg-gradient-to-r from-purple-50 to-blue-50",children:[e.jsxs("h3",{className:"text-base sm:text-lg font-bold text-gray-900 flex items-center",children:[e.jsx(Yi,{className:"w-5 h-5 mr-2 text-purple-600"}),m==="ja"?"":" ",N&&e.jsx("span",{className:"ml-2 px-2 py-0.5 bg-purple-100 text-purple-700 text-sm rounded-full",children:N})]}),e.jsx("button",{onClick:o,className:"p-2 hover:bg-white/50 rounded-full transition-colors",children:e.jsx(Et,{className:"w-5 h-5 text-gray-500"})})]}),e.jsxs("div",{className:"p-4 sm:p-6 overflow-y-auto max-h-[70vh] space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"pb-4 border-b border-gray-100",children:[e.jsx("h4",{className:"font-bold text-lg text-gray-900",children:n==null?void 0:n.title}),e.jsx("p",{className:"text-sm text-purple-600 font-medium",children:(n==null?void 0:n.brand_name_ja)||(n==null?void 0:n.brand)})]}),((n==null?void 0:n.product_name_ja)||(n==null?void 0:n.product_description_ja))&&e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[e.jsxs("h5",{className:"font-semibold text-blue-800 mb-3 flex items-center",children:[" ",m==="ja"?"":" "]}),(n==null?void 0:n.product_name_ja)&&e.jsxs("p",{className:"text-sm text-gray-700 mb-2",children:[e.jsx("span",{className:"font-medium",children:m==="ja"?":":":"})," ",n.product_name_ja]}),(n==null?void 0:n.product_description_ja)&&e.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-wrap",children:n.product_description_ja}),((k=n==null?void 0:n.product_features_ja)==null?void 0:k.length)>0&&e.jsxs("div",{className:"mt-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:m==="ja"?":":" :"}),e.jsx("ul",{className:"list-disc list-inside text-sm text-gray-600 space-y-1",children:n.product_features_ja.map((H,Y)=>e.jsx("li",{children:H},Y))})]})]}),((T=n==null?void 0:n.required_dialogues_ja)==null?void 0:T.length)>0&&e.jsxs("div",{className:"bg-yellow-50 rounded-lg p-4",children:[e.jsxs("h5",{className:"font-semibold text-yellow-800 mb-3 flex items-center",children:[" ",m==="ja"?"":" "]}),e.jsx("ol",{className:"list-decimal list-inside space-y-2",children:n.required_dialogues_ja.map((H,Y)=>e.jsx("li",{className:"text-sm text-gray-700",children:e.jsxs("span",{className:"bg-white px-2 py-1 rounded border border-yellow-200 ml-1",children:['"',H,'"']})},Y))})]}),((w=n==null?void 0:n.required_scenes_ja)==null?void 0:w.length)>0&&e.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[e.jsxs("h5",{className:"font-semibold text-green-800 mb-3 flex items-center",children:[" ",m==="ja"?"":" "]}),e.jsx("ol",{className:"list-decimal list-inside space-y-2",children:n.required_scenes_ja.map((H,Y)=>e.jsx("li",{className:"text-sm text-gray-700",children:H},Y))})]}),(($=n==null?void 0:n.required_hashtags_ja)==null?void 0:$.length)>0&&e.jsxs("div",{className:"bg-pink-50 rounded-lg p-4",children:[e.jsxs("h5",{className:"font-semibold text-pink-800 mb-3 flex items-center",children:["# ",m==="ja"?"":" "]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:n.required_hashtags_ja.map((H,Y)=>e.jsxs("span",{className:"px-3 py-1 bg-white rounded-full text-sm text-pink-700 border border-pink-200",children:["#",H]},Y))})]}),((n==null?void 0:n.video_duration_ja)||(n==null?void 0:n.video_tempo_ja)||(n==null?void 0:n.video_tone_ja))&&e.jsxs("div",{className:"bg-purple-50 rounded-lg p-4",children:[e.jsxs("h5",{className:"font-semibold text-purple-800 mb-3 flex items-center",children:[" ",m==="ja"?"":" "]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[(n==null?void 0:n.video_duration_ja)&&e.jsxs("div",{className:"bg-white rounded p-2 border border-purple-200",children:[e.jsx("p",{className:"text-xs text-gray-500",children:m==="ja"?"":""}),e.jsx("p",{className:"text-sm font-medium text-gray-800",children:n.video_duration_ja})]}),(n==null?void 0:n.video_tempo_ja)&&e.jsxs("div",{className:"bg-white rounded p-2 border border-purple-200",children:[e.jsx("p",{className:"text-xs text-gray-500",children:m==="ja"?"":""}),e.jsx("p",{className:"text-sm font-medium text-gray-800",children:n.video_tempo_ja})]}),(n==null?void 0:n.video_tone_ja)&&e.jsxs("div",{className:"bg-white rounded p-2 border border-purple-200",children:[e.jsx("p",{className:"text-xs text-gray-500",children:m==="ja"?"":""}),e.jsx("p",{className:"text-sm font-medium text-gray-800",children:n.video_tone_ja})]})]})]}),Q.length>0&&e.jsxs("div",{className:"bg-indigo-50 rounded-lg p-4",children:[e.jsxs("h5",{className:"font-semibold text-indigo-800 mb-3 flex items-center",children:[" ",m==="ja"?"":"  "]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:Q.map((H,Y)=>e.jsxs("div",{className:"flex items-center text-sm text-gray-700",children:[e.jsx(He,{className:"w-4 h-4 text-green-500 mr-2 flex-shrink-0"}),m==="ja"?H.ja:H.ko]},Y))}),((_=n==null?void 0:n.shooting_scenes_ja)==null?void 0:_.length)>0&&e.jsx("div",{className:"mt-3 pt-3 border-t border-indigo-200",children:e.jsx("ul",{className:"list-disc list-inside text-sm text-gray-600 space-y-1",children:n.shooting_scenes_ja.map((H,Y)=>e.jsx("li",{children:H},Y))})})]}),((n==null?void 0:n.additional_details_ja)||(n==null?void 0:n.additional_shooting_requests_ja))&&e.jsxs("div",{className:"bg-orange-50 rounded-lg p-4",children:[e.jsxs("h5",{className:"font-semibold text-orange-800 mb-3 flex items-center",children:[" ",m==="ja"?"":" "]}),(n==null?void 0:n.additional_details_ja)&&e.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-wrap mb-2",children:n.additional_details_ja}),(n==null?void 0:n.additional_shooting_requests_ja)&&e.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-wrap",children:n.additional_shooting_requests_ja})]}),((n==null?void 0:n.meta_ad_code_requested)||(n==null?void 0:n.requires_clean_video))&&e.jsxs("div",{className:"flex flex-wrap gap-2",children:[(n==null?void 0:n.meta_ad_code_requested)&&e.jsxs("span",{className:"px-3 py-2 bg-red-100 text-red-800 rounded-lg text-sm font-medium flex items-center",children:[" ",m==="ja"?"Meta":"  "]}),(n==null?void 0:n.requires_clean_video)&&e.jsxs("span",{className:"px-3 py-2 bg-blue-100 text-blue-800 rounded-lg text-sm font-medium flex items-center",children:[" ",m==="ja"?"":"  "]})]}),q&&K&&e.jsx(n0,{url:K,language:m}),!q&&M.isAiGuide&&M.aiData&&e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("h5",{className:"font-semibold text-gray-800 mb-3",children:m==="ja"?"":" "}),e.jsx(xb,{data:M.aiData,language:m})]}),!q&&!M.isAiGuide&&v&&e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("h5",{className:"font-semibold text-gray-800 mb-3",children:m==="ja"?"":" "}),e.jsx("div",{className:"bg-white rounded-lg p-4 whitespace-pre-wrap text-sm text-gray-700 border border-gray-200",children:v})]}),!q&&y&&e.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[e.jsx("p",{className:"text-sm text-blue-800 mb-2",children:m==="ja"?":":"  :"}),e.jsxs("a",{href:y,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-blue-600 hover:underline font-medium",children:[e.jsx(vt,{className:"w-4 h-4 mr-2"}),m==="ja"?"":" "]})]}),((i==null?void 0:i.google_drive_url)||(i==null?void 0:i.google_slides_url))&&e.jsxs("div",{className:"p-4 bg-green-50 rounded-lg",children:[e.jsx("p",{className:"text-sm text-green-800 mb-2",children:m==="ja"?":":" :"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[(i==null?void 0:i.google_drive_url)&&e.jsx("a",{href:i.google_drive_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 py-1.5 bg-white border border-green-200 rounded-lg text-green-700 hover:bg-green-100 text-sm",children:" Google Drive"}),(i==null?void 0:i.google_slides_url)&&e.jsx("a",{href:i.google_slides_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 py-1.5 bg-white border border-green-200 rounded-lg text-green-700 hover:bg-green-100 text-sm",children:" Google Slides"})]})]})]}),e.jsx("div",{className:"p-4 border-t border-gray-200 bg-gray-50",children:e.jsx("button",{onClick:o,className:"w-full py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 font-medium transition-colors",children:m==="ja"?"":""})})]})})},Rh=({revisionRequests:d,language:o})=>{const[n,i]=b.useState({}),[m,x]=b.useState({}),j=async(h,S)=>{if(!n[S]){x(y=>({...y,[S]:!0}));try{i(y=>({...y,[S]:h}))}catch(y){console.error("Translation error:",y),i(M=>({...M,[S]:h}))}finally{x(y=>({...y,[S]:!1}))}}};return b.useEffect(()=>{(d==null?void 0:d.length)>0&&d.forEach((h,S)=>{!h.comment_ja&&h.comment&&j(h.comment,S)})},[d]),!d||d.length===0?null:e.jsxs("div",{className:"mt-4 bg-gradient-to-r from-red-50 to-orange-50 rounded-lg p-4 border border-red-200",children:[e.jsxs("h4",{className:"font-semibold text-red-800 mb-3 flex items-center",children:[e.jsx(vs,{className:"w-4 h-4 mr-2"}),o==="ja"?"":" ",e.jsx("span",{className:"ml-2 px-2 py-0.5 bg-red-100 text-red-700 text-xs rounded-full",children:d.length})]}),e.jsx("div",{className:"space-y-3",children:d.map((h,S)=>e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-red-100 shadow-sm",children:[e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"flex items-center text-xs font-medium text-gray-500 mb-1",children:[e.jsx("span",{className:"mr-1",children:""}),e.jsx("span",{children:o==="ja"?" (Korean)":" (Original)"})]}),e.jsx("p",{className:"text-sm text-gray-800 bg-gray-50 rounded p-2",children:h.comment})]}),e.jsx("hr",{className:"border-dashed border-gray-200 my-2"}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center text-xs font-medium text-gray-500 mb-1",children:[e.jsx("span",{className:"mr-1",children:""}),e.jsx("span",{children:o==="ja"?"":" "})]}),h.comment_ja?e.jsx("p",{className:"text-sm text-gray-800 bg-blue-50 rounded p-2",children:h.comment_ja}):m[S]?e.jsx("p",{className:"text-sm text-gray-400 italic bg-gray-50 rounded p-2",children:o==="ja"?"...":" ..."}):n[S]?e.jsx("p",{className:"text-sm text-gray-800 bg-blue-50 rounded p-2",children:n[S]}):e.jsx("p",{className:"text-sm text-gray-800 bg-blue-50 rounded p-2",children:h.comment})]}),e.jsx("div",{className:"mt-2 text-right",children:e.jsx("time",{className:"text-xs text-gray-400",children:new Date(h.created_at).toLocaleString(o==="ja"?"ja-JP":"ko-KR")})})]},S))})]})},yb=({stepNumber:d,totalSteps:o,campaignType:n,submission:i,campaign:m,application:x,onUpdate:j,language:h,hasVideoUpload:S=!0,hasSnsUpload:y=!0,submissionTable:M="campaign_submissions"})=>{var bt,me,Ve,Rs,se,$t,Ul,ll;const[q,K]=b.useState(!0),[v,C]=b.useState(!1),[N,Q]=b.useState(0),[k,T]=b.useState((i==null?void 0:i.sns_url)||""),[w,$]=b.useState((i==null?void 0:i.ad_code)||""),[_,H]=b.useState(!1),[Y,J]=b.useState(!1),[ne,X]=b.useState("url"),[he,B]=b.useState((i==null?void 0:i.video_file_url)||""),[L,ee]=b.useState((i==null?void 0:i.clean_video_file_url)||""),[ge,G]=b.useState((i==null?void 0:i.ad_code)||""),W=b.useRef(null),z=b.useRef(null),[D,g]=b.useState(null),[O,U]=b.useState(null),ie=Vt[n]||Vt.regular,A=(i==null?void 0:i.workflow_status)||"guide_pending",re=async(xe,Se=!1)=>{var Ut;const Ce=i==null?void 0:i.id,zt=Ce&&!Ce.startsWith("temp-")&&!Ce.startsWith("app-");if(M==="campaign_submissions")if(zt&&!Se){const{error:ze}=await ae.from("campaign_submissions").update(xe).eq("id",Ce);if(ze)throw ze}else{const{data:ze,error:Re}=await ae.from("campaign_submissions").insert({application_id:x.id,user_id:x.user_id,campaign_id:x.campaign_id,step_number:d,step_label:De(),...xe}).select("id").single();if(Re)throw Re;ze!=null&&ze.id&&(i._newId=ze.id)}else if(M==="video_submissions"){const ze={video_number:d,week_number:n==="4week_challenge"?d:null,version:(((Ut=xe.video_versions)==null?void 0:Ut.length)||0)+1,video_file_url:xe.video_file_url,video_file_name:xe.video_file_name,video_file_size:xe.video_file_size,video_uploaded_at:xe.video_uploaded_at,clean_video_url:xe.clean_video_file_url,sns_upload_url:xe.sns_url,ad_code:xe.ad_code,partnership_code:xe.ad_code,status:fb(xe.workflow_status),updated_at:new Date().toISOString()};if(Object.keys(ze).forEach(Re=>ze[Re]===void 0&&delete ze[Re]),zt&&!Se){const{error:Re}=await ae.from("video_submissions").update(ze).eq("id",Ce);if(Re)throw Re}else{const{data:Re,error:Ze}=await ae.from("video_submissions").insert({application_id:x.id,user_id:x.user_id,campaign_id:x.campaign_id,...ze,submitted_at:new Date().toISOString()}).select("id").single();if(Ze)throw Ze;Re!=null&&Re.id&&(i._newId=Re.id)}}try{const ze={updated_at:new Date().toISOString()};xe.video_file_url&&(n==="4week_challenge"?ze[`week${d}_url`]=xe.video_file_url:(ze.video_file_url=xe.video_file_url,xe.video_file_name&&(ze.video_file_name=xe.video_file_name),xe.video_file_size&&(ze.video_file_size=xe.video_file_size),xe.video_uploaded_at&&(ze.video_uploaded_at=xe.video_uploaded_at))),xe.clean_video_file_url&&(ze.clean_video_file_url=xe.clean_video_file_url),xe.sns_url&&(ze.sns_upload_url=xe.sns_url),xe.ad_code&&(ze.partnership_code=xe.ad_code,ze.ad_code=xe.ad_code,n==="4week_challenge"&&(ze[`week${d}_partnership_code`]=xe.ad_code)),xe.workflow_status==="video_uploaded"?ze.status="video_submitted":xe.workflow_status==="sns_submitted"&&(ze.submission_status="sns_submitted"),await ae.from("applications").update(ze).eq("id",x.id)}catch(ze){console.warn("Applications sync warning:",ze.message)}},I=()=>{if(i!=null&&i.video_deadline||i!=null&&i.sns_deadline)return{videoDeadline:i.video_deadline,snsDeadline:i.sns_deadline};if(n==="4week_challenge"){const xe={1:{video:m==null?void 0:m.week1_deadline,sns:m==null?void 0:m.week1_sns_deadline},2:{video:m==null?void 0:m.week2_deadline,sns:m==null?void 0:m.week2_sns_deadline},3:{video:m==null?void 0:m.week3_deadline,sns:m==null?void 0:m.week3_sns_deadline},4:{video:m==null?void 0:m.week4_deadline,sns:m==null?void 0:m.week4_sns_deadline}};if(xe[d])return{videoDeadline:xe[d].video,snsDeadline:xe[d].sns}}if(m!=null&&m.video_deadline||m!=null&&m.sns_deadline)return{videoDeadline:m.video_deadline,snsDeadline:m.sns_deadline};if(m!=null&&m.step_deadlines){const xe=m.step_deadlines.find(Se=>Se.step===d);if(xe)return{videoDeadline:xe.video_deadline,snsDeadline:xe.sns_deadline}}return{videoDeadline:null,snsDeadline:null}},{videoDeadline:ye,snsDeadline:fe}=I(),De=()=>n==="4week_challenge"?h==="ja"?`Week ${d}`:`${d}`:n==="megawari"?S?h==="ja"?` ${d}`:`${d}`:h==="ja"?`SNS ${d}`:`SNS ${d}`:null,Ge=()=>A==="points_paid"||A==="completed"||A==="sns_submitted"||A==="review_pending"?4:A==="sns_pending"||!S?3:A==="video_uploaded"||A==="revision_required"||A==="revision_requested"?2:1,oe=()=>{const Se=((i==null?void 0:i.video_file_path)||"").match(/_v(\d+)_/);return Se?parseInt(Se[1]):i!=null&&i.video_file_url?1:0},te=(()=>{const xe=Array.isArray(i==null?void 0:i.video_versions)?i.video_versions:[];if(xe.length>0){const Ze=[...xe].sort((us,ms)=>us.version&&ms.version?ms.version-us.version:us.uploaded_at&&ms.uploaded_at?new Date(ms.uploaded_at)-new Date(us.uploaded_at):0)[0],mt=n==="4week_challenge"?x==null?void 0:x[`week${d}_url`]:x==null?void 0:x.video_file_url,Is=x!=null&&x.updated_at?new Date(x.updated_at).getTime():0,Ls=Ze.uploaded_at?new Date(Ze.uploaded_at).getTime():0;return mt&&mt!==Ze.file_url&&Is>Ls?{url:mt,name:(x==null?void 0:x.video_file_name)||"admin_upload",uploadedAt:(x==null?void 0:x.video_uploaded_at)||(x==null?void 0:x.updated_at),version:(Ze.version||0)+1,source:"admin"}:{url:Ze.file_url,name:Ze.file_name,uploadedAt:Ze.uploaded_at,version:Ze.version||1,source:"version_history"}}const Se=i==null?void 0:i.video_file_url,Ce=n==="4week_challenge"?x==null?void 0:x[`week${d}_url`]:x==null?void 0:x.video_file_url,zt=i!=null&&i.updated_at?new Date(i.updated_at).getTime():0,Ut=x!=null&&x.updated_at?new Date(x.updated_at).getTime():0;if(Se&&Ce&&Se!==Ce)return Ut>zt?{url:Ce,name:x==null?void 0:x.video_file_name,uploadedAt:(x==null?void 0:x.video_uploaded_at)||(x==null?void 0:x.updated_at),version:1,source:"admin"}:{url:Se,name:i==null?void 0:i.video_file_name,uploadedAt:i==null?void 0:i.video_uploaded_at,version:1,source:"creator"};const ze=Se||Ce;return ze?{url:ze,name:(i==null?void 0:i.video_file_name)||(x==null?void 0:x.video_file_name),uploadedAt:(i==null?void 0:i.video_uploaded_at)||(x==null?void 0:x.video_uploaded_at),version:1,source:"creator"}:null})(),_e=((bt=i==null?void 0:i.revision_requests)==null?void 0:bt.length)>0||((me=x==null?void 0:x.revision_requests)==null?void 0:me.length)>0,qe=(xe,Se=!1)=>{var zt;const Ce=(zt=xe.target.files)==null?void 0:zt[0];if(Ce){if(Ce.size>2*1024*1024*1024){alert(h==="ja"?"2GB":"  2GB  ");return}Se?U(Ce):g(Ce)}},Me=async()=>{if(D){C(!0),Q(0);try{const xe=Date.now(),Se=x.user_id,Ce=ks=>{const xs=ks.lastIndexOf(".");return xs>=0?ks.substring(xs):""},zt=oe()+1,Ut=i==null?void 0:i.id,Re=Ut&&!Ut.startsWith("temp-")&&!Ut.startsWith("app-")?Ut:`${x.id}_step${d}`,Ze=`${Se}/${x.campaign_id}/${Re}/${xe}_v${zt}_main${Ce(D.name)}`,{error:mt}=await ae.storage.from("campaign-videos").upload(Ze,D,{cacheControl:"3600",upsert:!1});if(mt)throw mt;Q(50);const{data:{publicUrl:Is}}=ae.storage.from("campaign-videos").getPublicUrl(Ze);let Ls=null;if(O){const ks=`${Se}/${x.campaign_id}/${Re}/${xe}_clean${Ce(O.name)}`,{error:xs}=await ae.storage.from("campaign-videos").upload(ks,O,{cacheControl:"3600",upsert:!1});if(xs)throw xs;const{data:{publicUrl:Ta}}=ae.storage.from("campaign-videos").getPublicUrl(ks);Ls=Ta}Q(80);const us=Array.isArray(i==null?void 0:i.video_versions)?i.video_versions:[],ms={version:zt,file_path:Ze,file_url:Is,file_name:D.name,file_size:D.size,uploaded_at:new Date().toISOString()},ul=[...us,ms],Os=["sns_pending","sns_submitted","review_pending"].includes(A)?A:"video_uploaded";await re({workflow_status:Os,video_file_path:Ze,video_file_url:Is,video_file_name:D.name,video_file_size:D.size,video_uploaded_at:new Date().toISOString(),clean_video_file_url:Ls,clean_video_file_name:O==null?void 0:O.name,video_versions:ul,video_deadline:ye,sns_deadline:fe,updated_at:new Date().toISOString()}),Q(100),g(null),U(null),j==null||j()}catch(xe){console.error("Upload error:",xe);const Se=(xe==null?void 0:xe.message)||"";Se.includes("Payload too large")||Se.includes("413")?alert(h==="ja"?"2GB":"  . 2GB   ."):Se.includes("storage")||Se.includes("bucket")?alert(h==="ja"?"":"  .    ."):Se.includes("duplicate")||Se.includes("already exists")?alert(h==="ja"?"":"    .  ."):alert(h==="ja"?`: ${Se||""}`:` : ${Se||"   "}`)}finally{C(!1),Q(0)}}},we=async()=>{if(!k.trim()){alert(h==="ja"?"SNSURL":"SNS  URL ");return}if(m!=null&&m.requires_clean_video&&!O&&!(i!=null&&i.clean_video_file_url)){alert(h==="ja"?"":"  ");return}H(!0);try{let xe=(i==null?void 0:i.clean_video_file_url)||null;if(O){const Se=Date.now(),Ce=x.user_id,zt=Ls=>{const us=Ls.lastIndexOf(".");return us>=0?Ls.substring(us):""},Ut=i==null?void 0:i.id,Re=Ut&&!Ut.startsWith("temp-")&&!Ut.startsWith("app-")?Ut:`${x.id}_step${d}`,Ze=`${Ce}/${x.campaign_id}/${Re}/${Se}_clean${zt(O.name)}`,{error:mt}=await ae.storage.from("campaign-videos").upload(Ze,O,{cacheControl:"3600",upsert:!1});if(mt)throw mt;const{data:{publicUrl:Is}}=ae.storage.from("campaign-videos").getPublicUrl(Ze);xe=Is}await re({workflow_status:"sns_submitted",sns_url:k,sns_submitted_at:new Date().toISOString(),clean_video_file_url:xe,clean_video_file_name:(O==null?void 0:O.name)||null,ad_code:ge||null,updated_at:new Date().toISOString()}),j==null||j(),alert(h==="ja"?"SNS":"SNS// !")}catch(xe){console.error("Video URL submit error:",xe),alert(h==="ja"?"":" ")}finally{H(!1)}},ct=De(),je=Ge();return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:`border rounded-lg overflow-hidden ${A==="points_paid"?"bg-green-50 border-green-200":A==="completed"?"bg-blue-50 border-blue-200":"bg-white border-gray-200"}`,children:[e.jsxs("div",{className:"p-4 cursor-pointer flex items-center justify-between hover:bg-gray-50 transition-colors",onClick:()=>K(!q),children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold ${A==="points_paid"?"bg-green-500 text-white":A==="completed"?"bg-blue-500 text-white":je>1?"bg-purple-500 text-white":"bg-gray-200 text-gray-600"}`,children:A==="points_paid"||A==="completed"?e.jsx(He,{className:"w-5 h-5"}):d}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[ct&&e.jsx("span",{className:`text-sm font-semibold ${ie.textClass}`,children:ct}),e.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${A==="points_paid"?"bg-green-100 text-green-800":A==="completed"?"bg-blue-100 text-blue-800":A==="revision_required"||A==="revision_requested"?"bg-red-100 text-red-800":A==="sns_submitted"?"bg-indigo-100 text-indigo-800":A==="video_uploaded"?"bg-cyan-100 text-cyan-800":"bg-yellow-100 text-yellow-800"}`,children:A==="points_paid"?h==="ja"?"":" ":A==="completed"?h==="ja"?"":"":A==="revision_required"||A==="revision_requested"?h==="ja"?"":" ":A==="sns_submitted"?h==="ja"?"SNS":"SNS ":A==="sns_pending"?h==="ja"?"SNS":"SNS  ":A==="video_uploaded"?h==="ja"?"":" ":S?h==="ja"?"":"  ":h==="ja"?"SNS":"SNS  "}),_e&&e.jsxs("span",{className:"px-2 py-0.5 rounded-full text-xs font-medium bg-orange-100 text-orange-800 animate-pulse",children:[" ",h==="ja"?"":"  "]})]}),te&&e.jsxs("div",{className:"flex items-center mt-1 text-xs text-gray-500",children:[e.jsx(ra,{className:"w-3 h-3 mr-1"}),e.jsxs("span",{children:["v",te.version]}),te.source==="admin"&&e.jsxs("span",{className:"ml-1 text-purple-600",children:["(",h==="ja"?"":"",")"]}),te.uploadedAt&&e.jsx("span",{className:"ml-1.5 text-gray-400",children:new Date(te.uploadedAt).toLocaleDateString(h==="ja"?"ja-JP":"ko-KR",{month:"short",day:"numeric"})})]}),e.jsx(bb,{videoDeadline:ye,snsDeadline:fe,language:h})]})]})}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"hidden sm:flex items-center space-x-1",children:Li.map((xe,Se)=>e.jsx("div",{className:`w-2 h-2 rounded-full ${je>Se?"bg-green-500":"bg-gray-300"}`},xe.id))}),q?e.jsx(So,{className:"w-5 h-5 text-gray-400"}):e.jsx(pr,{className:"w-5 h-5 text-gray-400"})]})]}),q&&e.jsxs("div",{className:"px-4 pb-4 border-t border-gray-100 pt-4",children:[e.jsx("div",{className:"flex items-center justify-between mb-6 px-2",children:(()=>{const xe=S?Li:Li.filter(Ce=>Ce.id==="sns"||Ce.id==="complete"),Se=Ce=>{if(!S){if(Ce==="sns")return 3;if(Ce==="complete")return 4}return Li.findIndex(zt=>zt.id===Ce)+1};return xe.map((Ce,zt)=>{const Ut=Ce.icon,ze=Se(Ce.id),Re=je>ze-1,Ze=je===ze;return e.jsxs(Fp.Fragment,{children:[e.jsxs("div",{className:`flex flex-col items-center ${Re?"text-green-600":Ze?"text-blue-600":"text-gray-400"}`,children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${Re?"bg-green-100":Ze?"bg-blue-100":"bg-gray-100"}`,children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("span",{className:"text-xs mt-1 text-center",children:h==="ja"?Ce.labelJa:Ce.labelKo})]}),zt<xe.length-1&&e.jsx("div",{className:`flex-1 h-0.5 mx-2 ${Re?"bg-green-500":"bg-gray-200"}`})]},Ce.id)})})()}),te&&e.jsxs("div",{className:"mb-4 bg-white rounded-lg border border-gray-200 overflow-hidden",children:[e.jsxs("div",{className:"p-3 bg-gray-50 border-b border-gray-200 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(xn,{className:"w-4 h-4 mr-2 text-blue-600"}),e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[h==="ja"?"":" ",e.jsxs("span",{className:"ml-2 text-xs text-gray-400",children:["v",te.version]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[te.source==="admin"&&e.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-700",children:h==="ja"?"":""}),te.uploadedAt&&e.jsx("span",{className:"text-xs text-gray-400",children:new Date(te.uploadedAt).toLocaleString(h==="ja"?"ja-JP":"ko-KR",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]}),e.jsxs("div",{className:"p-3",children:[e.jsx("video",{src:te.url,controls:!0,preload:"metadata",className:"w-full rounded-lg bg-black max-h-[300px]",style:{aspectRatio:"16/9",objectFit:"contain"},children:h==="ja"?"":"    ."}),e.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[e.jsx("p",{className:"text-xs text-gray-500 truncate flex-1",children:te.name||(h==="ja"?"":" ")}),e.jsxs("a",{href:te.url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:underline flex items-center ml-2 flex-shrink-0",children:[e.jsx(vt,{className:"w-3 h-3 mr-1"}),h==="ja"?"":"  "]})]})]})]}),je===1&&e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[e.jsx("div",{className:"mb-4 p-3 bg-red-50 rounded-lg border-2 border-red-300",children:e.jsxs("p",{className:"text-sm font-bold text-red-700 flex items-center",children:[e.jsx(vs,{className:"w-5 h-5 mr-2 flex-shrink-0"}),h==="ja"?" SNS":" SNS    !    "]})}),e.jsxs("h4",{className:"font-medium text-blue-800 mb-3 flex items-center",children:[e.jsx(cs,{className:"w-4 h-4 mr-2"}),h==="ja"?"":"  "]}),e.jsxs("button",{onClick:()=>J(!0),className:"w-full mb-4 px-4 py-3 bg-purple-600 text-white rounded-lg font-medium hover:bg-purple-700 flex items-center justify-center shadow-sm",children:[e.jsx(Yi,{className:"w-5 h-5 mr-2"}),h==="ja"?" ":"   "]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("input",{ref:W,type:"file",accept:"video/*",onChange:xe=>qe(xe,!1),className:"hidden"}),e.jsx("div",{onClick:()=>{var xe;return!v&&((xe=W.current)==null?void 0:xe.click())},className:`border-2 border-dashed rounded-lg p-6 text-center cursor-pointer transition-colors ${D?"border-blue-400 bg-blue-50":"border-gray-300 hover:border-blue-400"}`,children:D?e.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[e.jsx(ra,{className:"w-6 h-6 text-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:D.name}),e.jsx("button",{onClick:xe=>{xe.stopPropagation(),g(null)},className:"p-1 hover:bg-gray-200 rounded",children:e.jsx(Et,{className:"w-4 h-4 text-gray-500"})})]}):e.jsxs("div",{className:"text-gray-400",children:[e.jsx(cs,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),e.jsx("p",{className:"text-sm font-medium",children:h==="ja"?"":"   "}),e.jsx("p",{className:"text-xs mt-1",children:h==="ja"?"2GB":" 2GB"})]})}),v&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all",style:{width:`${N}%`}})}),e.jsxs("p",{className:"text-center text-xs text-gray-500",children:[N,"%"]})]}),D&&!v&&e.jsxs("button",{onClick:Me,className:"w-full px-4 py-3 bg-blue-600 text-white rounded-md font-medium hover:bg-blue-700 flex items-center justify-center",children:[e.jsx(cs,{className:"w-4 h-4 mr-2"}),h==="ja"?`v${oe()+1} `:`v${oe()+1}  `]})]})]}),je===2&&e.jsxs("div",{className:"bg-orange-50 rounded-lg p-4",children:[e.jsx("div",{className:"mb-4 p-3 bg-red-50 rounded-lg border-2 border-red-300",children:e.jsxs("p",{className:"text-sm font-bold text-red-700 flex items-center",children:[e.jsx(vs,{className:"w-5 h-5 mr-2 flex-shrink-0"}),h==="ja"?" SNS":" SNS    !    "]})}),e.jsxs("h4",{className:"font-medium text-orange-800 mb-3 flex items-center",children:[e.jsx(Kt,{className:"w-4 h-4 mr-2"}),A==="revision_required"||A==="revision_requested"?h==="ja"?"  ":"     ":h==="ja"?"":"   (  )"]}),(((Ve=i==null?void 0:i.revision_requests)==null?void 0:Ve.length)>0||((Rs=x==null?void 0:x.revision_requests)==null?void 0:Rs.length)>0)&&e.jsx(Rh,{revisionRequests:(i==null?void 0:i.revision_requests)||(x==null?void 0:x.revision_requests),language:h}),A==="revision_required"&&(i==null?void 0:i.revision_notes)&&!((se=i==null?void 0:i.revision_requests)!=null&&se.length)&&e.jsxs("div",{className:"mb-4 bg-red-100 border border-red-200 rounded-lg p-3 text-sm text-red-700",children:[e.jsx("p",{className:"font-medium mb-1",children:h==="ja"?":":" :"}),i.revision_notes]}),e.jsxs("button",{onClick:()=>J(!0),className:"w-full mt-4 px-4 py-2.5 bg-purple-100 text-purple-700 border border-purple-300 rounded-lg font-medium hover:bg-purple-200 flex items-center justify-center",children:[e.jsx(Yi,{className:"w-4 h-4 mr-2"}),h==="ja"?" ":"   "]})]}),je===3&&e.jsxs("div",{className:"bg-indigo-50 rounded-lg p-4",children:[e.jsxs("h4",{className:"font-medium text-indigo-800 mb-3 flex items-center",children:[e.jsx(Vi,{className:"w-4 h-4 mr-2"}),h==="ja"?"SNS /  / ":"SNS  /  /  "]}),e.jsxs("p",{className:"text-sm text-green-700 mb-4 bg-green-50 p-3 rounded-lg border border-green-200 flex items-center",children:[e.jsx(He,{className:"w-4 h-4 mr-2 flex-shrink-0"}),h==="ja"?"SNS":"   . SNS ."]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm text-gray-700 mb-2 font-medium",children:[h==="ja"?"SNSURL":"SNS  URL"," *"]}),e.jsx("input",{type:"url",value:k,onChange:xe=>T(xe.target.value),placeholder:"https://www.instagram.com/reel/... or https://www.tiktok.com/...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500 focus:border-transparent"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:h==="ja"?"InstagramTikTokYouTubeSNS":"Instagram, TikTok, YouTube  SNS  "})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm text-gray-700 mb-2 font-medium",children:[h==="ja"?"/BGM":" (/BGM  )",e.jsxs("span",{className:`ml-1 ${m!=null&&m.requires_clean_video?"text-red-500":"text-gray-400"}`,children:["(",m!=null&&m.requires_clean_video?h==="ja"?"":"":h==="ja"?"":"",")"]})]}),e.jsx("input",{ref:z,type:"file",accept:"video/*",onChange:xe=>{var Se;(Se=xe.target.files)!=null&&Se[0]&&U(xe.target.files[0])},className:"hidden"}),e.jsx("div",{onClick:()=>{var xe;return(xe=z.current)==null?void 0:xe.click()},className:`border-2 border-dashed rounded-lg p-4 text-center cursor-pointer transition-colors ${O?"border-green-400 bg-green-50":"border-gray-300 hover:border-blue-400"}`,children:O?e.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[e.jsx(cg,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"text-sm text-gray-700 truncate max-w-xs",children:O.name}),e.jsx("button",{onClick:xe=>{xe.stopPropagation(),U(null)},className:"p-1 hover:bg-gray-200 rounded",children:e.jsx(Et,{className:"w-4 h-4 text-gray-500"})})]}):i!=null&&i.clean_video_file_url?e.jsxs("div",{className:"flex items-center justify-center space-x-2 text-green-600",children:[e.jsx(He,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm",children:h==="ja"?"":" ( )"})]}):e.jsxs("div",{className:"text-gray-400 text-sm",children:[e.jsx(cs,{className:"w-5 h-5 mx-auto mb-1 text-gray-300"}),h==="ja"?"":"  "]})}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:h==="ja"?"BGM":"BGM,     "})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm text-gray-700 mb-2 font-medium",children:[h==="ja"?"":" ",e.jsxs("span",{className:"text-gray-400 ml-1",children:["(",m!=null&&m.meta_ad_code_requested?h==="ja"?"":"":h==="ja"?"":"",")"]})]}),e.jsx("input",{type:"text",value:ge,onChange:xe=>G(xe.target.value),placeholder:"adcode-Q9jTBBAen2L45CCA8KP_...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500 focus:border-transparent font-mono text-sm"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:h==="ja"?"Meta  / TikTok Spark Ads / YouTube":"Meta  / TikTok Spark Ads / YouTube   "})]}),e.jsxs("button",{onClick:we,disabled:_||!k.trim(),className:"w-full px-4 py-3 bg-indigo-600 text-white rounded-md font-medium hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:[_?e.jsx(st,{className:"w-4 h-4 mr-2 animate-spin"}):e.jsx(Vi,{className:"w-4 h-4 mr-2"}),h==="ja"?"SNS":"SNS// "]})]})]}),je===4&&e.jsxs("div",{className:`rounded-lg p-4 ${A==="points_paid"?"bg-green-100":"bg-yellow-50"}`,children:[e.jsx("h4",{className:`font-medium mb-3 flex items-center ${A==="points_paid"?"text-green-800":"text-yellow-800"}`,children:A==="points_paid"?e.jsxs(e.Fragment,{children:[e.jsx(Ms,{className:"w-4 h-4 mr-2"}),h==="ja"?"!":"  !"]}):A==="revision_required"?e.jsxs(e.Fragment,{children:[e.jsx(Kt,{className:"w-4 h-4 mr-2"}),h==="ja"?"":" "]}):e.jsxs(e.Fragment,{children:[e.jsx(as,{className:"w-4 h-4 mr-2"}),h==="ja"?"":"  "]})}),A==="points_paid"&&(i==null?void 0:i.points_amount)>0&&e.jsxs("div",{className:"text-center py-4",children:[e.jsxs("p",{className:"text-3xl font-bold text-green-600",children:["+",i.points_amount.toLocaleString(),"P"]}),i.points_paid_at&&e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:new Date(i.points_paid_at).toLocaleDateString(h==="ja"?"ja-JP":"ko-KR")})]}),((($t=i==null?void 0:i.revision_requests)==null?void 0:$t.length)>0||((Ul=x==null?void 0:x.revision_requests)==null?void 0:Ul.length)>0)&&e.jsx(Rh,{revisionRequests:(i==null?void 0:i.revision_requests)||(x==null?void 0:x.revision_requests),language:h}),A==="revision_required"&&(i==null?void 0:i.revision_notes)&&!((ll=i==null?void 0:i.revision_requests)!=null&&ll.length)&&e.jsx("div",{className:"bg-red-100 border border-red-200 rounded p-3 text-sm text-red-700",children:i.revision_notes}),(i==null?void 0:i.sns_url)&&e.jsxs("div",{className:"mt-3 text-sm",children:[e.jsx("p",{className:"text-gray-500 mb-1",children:h==="ja"?"SNS:":" SNS:"}),e.jsxs("a",{href:i.sns_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline flex items-center",children:[i.sns_url,e.jsx(vt,{className:"w-3 h-3 ml-1"})]})]})]}),je>=2&&((i==null?void 0:i.video_file_url)||te)&&e.jsxs("div",{className:"mt-3 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("p",{className:"text-xs font-medium text-gray-600 mb-2",children:h==="ja"?":":" :"}),e.jsx("div",{className:"space-y-1.5",children:(()=>{const xe=Array.isArray(i==null?void 0:i.video_versions)&&i.video_versions.length>0?[...i.video_versions]:i!=null&&i.video_file_url?[{version:oe()||1,file_url:i.video_file_url,file_name:i.video_file_name,uploaded_at:i.video_uploaded_at}]:[];return(te==null?void 0:te.source)==="admin"&&(xe.some(Ce=>Ce.file_url===te.url)||xe.push({version:te.version,file_url:te.url,file_name:te.name||(h==="ja"?"":" "),uploaded_at:te.uploadedAt,_source:"admin"})),xe.sort((Se,Ce)=>Se.uploaded_at&&Ce.uploaded_at?new Date(Ce.uploaded_at)-new Date(Se.uploaded_at):(Ce.version||0)-(Se.version||0)).map((Se,Ce)=>e.jsx("div",{className:`p-2.5 bg-white rounded-lg border ${Ce===0?"border-blue-300 ring-1 ring-blue-100":"border-gray-200"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsxs("p",{className:"text-sm font-medium text-gray-700 truncate",children:["v",Se.version," - ",Se.file_name||(h==="ja"?"":"")]}),Se._source==="admin"&&e.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] font-medium bg-purple-100 text-purple-700 flex-shrink-0",children:h==="ja"?"":""})]}),Se.uploaded_at&&e.jsx("p",{className:"text-xs text-gray-400 mt-0.5",children:new Date(Se.uploaded_at).toLocaleString(h==="ja"?"ja-JP":"ko-KR")})]}),e.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0 ml-2",children:[Se.file_url&&e.jsx("a",{href:Se.file_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800",children:e.jsx(vt,{className:"w-3.5 h-3.5"})}),e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${Ce===0?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-500"}`,children:Ce===0?h==="ja"?"":"":`v${Se.version}`})]})]})},Ce))})()})]}),A!=="points_paid"&&A!=="completed"&&e.jsxs("div",{className:"space-y-3 pt-3 border-t border-gray-200",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:h==="ja"?"":"  (  )"}),e.jsx("input",{ref:W,type:"file",accept:"video/*",onChange:xe=>qe(xe,!1),className:"hidden"}),e.jsx("div",{onClick:()=>{var xe;return!v&&((xe=W.current)==null?void 0:xe.click())},className:`border-2 border-dashed rounded-lg p-4 text-center cursor-pointer transition-colors ${D?"border-blue-400 bg-blue-50":"border-gray-300 hover:border-blue-400 hover:bg-white"}`,children:D?e.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[e.jsx(ra,{className:"w-6 h-6 text-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:D.name}),e.jsx("button",{onClick:xe=>{xe.stopPropagation(),g(null)},className:"p-1 hover:bg-gray-200 rounded",children:e.jsx(Et,{className:"w-4 h-4 text-gray-500"})})]}):e.jsxs("div",{className:"text-gray-400 text-sm",children:[e.jsx(cs,{className:"w-6 h-6 mx-auto mb-1 text-gray-300"}),h==="ja"?" (2GB)":"   ( 2GB)"]})}),v&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all",style:{width:`${N}%`}})}),e.jsxs("p",{className:"text-center text-xs text-gray-500",children:[N,"%"]})]}),D&&!v&&e.jsxs("button",{onClick:Me,className:"w-full px-4 py-3 bg-blue-600 text-white rounded-md font-medium hover:bg-blue-700 flex items-center justify-center",children:[e.jsx(cs,{className:"w-4 h-4 mr-2"}),h==="ja"?`v${oe()+1} `:`v${oe()+1}  `]})]})]})]})]}),(()=>{const xe=yo(x==null?void 0:x.personalized_guide),Se=xe.isAiGuide?{isAiGuide:!1,aiData:null}:yo(m==null?void 0:m.shooting_guide_content),Ce=xe.isAiGuide?xe.aiData:Se.isAiGuide?Se.aiData:null;return Ce?e.jsx(r0,{isOpen:Y,onClose:()=>J(!1),guide:Ce,campaignTitle:(m==null?void 0:m.title)||""}):e.jsx(vb,{isOpen:Y,onClose:()=>J(!1),campaign:m,application:x,language:h,stepNumber:d,campaignType:n})})()]})},Oi={instagram:{icon:"",label:"Instagram",bgClass:"bg-pink-100 text-pink-700 border-pink-200"},youtube:{icon:"",label:"YouTube",bgClass:"bg-red-100 text-red-700 border-red-200"},tiktok:{icon:"",label:"TikTok",bgClass:"bg-gray-100 text-gray-700 border-gray-300"}},Nb=({application:d,campaign:o,submissions:n,mainChannel:i,onUpdate:m,language:x,submissionTable:j="campaign_submissions"})=>{const[h,S]=b.useState(!0),y=(o==null?void 0:o.campaign_type)||"regular",M=Vt[y]||Vt.regular,q=(o==null?void 0:o.total_steps)||M.steps,K=M.snsSteps||q,v=Math.max(q,K),N=(()=>{if(!(n!=null&&n.length))return 0;const T=n.filter(w=>w.workflow_status==="completed"||w.workflow_status==="points_paid").length;return Math.round(T/v*100)})(),k=(()=>{const T=new Date;let w=null;const $=(_,H,Y)=>{_&&new Date(_)>T&&(!w||new Date(_)<new Date(w.date))&&(w={date:_,type:H,step:Y})};if(o!=null&&o.step_deadlines)for(const _ of o.step_deadlines)$(_.video_deadline,"video",_.step),$(_.sns_deadline,"sns",_.step);if(y==="4week_challenge")for(let _=1;_<=4;_++)$(o==null?void 0:o[`week${_}_deadline`],"video",_),$(o==null?void 0:o[`week${_}_sns_deadline`],"sns",_);return w||($(o==null?void 0:o.video_deadline,"video",1),$(o==null?void 0:o.sns_deadline,"sns",1)),w})();return e.jsxs("div",{className:`rounded-xl shadow-sm border-2 overflow-hidden ${M.bgClass}`,children:[e.jsxs("div",{className:"p-4 cursor-pointer",onClick:()=>S(!h),children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"text-3xl",children:M.icon}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${M.badgeClass}`,children:x==="ja"?M.labelJa:M.labelKo}),v>1&&e.jsxs("span",{className:"text-xs text-gray-500",children:[v," ",x==="ja"?"":""]})]}),e.jsx("h3",{className:"font-bold text-gray-900",children:(o==null?void 0:o.title)||d.campaign_title}),i&&Oi[i]&&e.jsx("div",{className:"mt-1",children:e.jsxs("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium border ${Oi[i].bgClass}`,children:[Oi[i].icon," : ",Oi[i].label]})}),k&&e.jsxs("div",{className:"mt-1 flex items-center text-xs text-orange-600",children:[e.jsx(fo,{className:"w-3 h-3 mr-1"}),e.jsxs("span",{children:[x==="ja"?":":" :"," ",k.type==="video"?x==="ja"?"":"":"SNS",v>1&&(y==="4week_challenge"?` (Week ${k.step})`:y==="megawari"?x==="ja"?` (${k.step})`:` (${k.step})`:"")," - ",new Date(k.date).toLocaleDateString(x==="ja"?"ja-JP":"ko-KR",{month:"short",day:"numeric"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("p",{className:"text-xs text-gray-500",children:x==="ja"?M.descJa:M.descKo}),(o==null?void 0:o.reward_amount)>0&&e.jsxs("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded-full text-xs font-semibold bg-green-100 text-green-700",children:[" ",o.reward_amount.toLocaleString()]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"text-right hidden sm:block",children:[e.jsx("p",{className:"text-xs text-gray-500",children:x==="ja"?"":""}),e.jsxs("p",{className:`text-xl font-bold ${M.textClass}`,children:[N,"%"]})]}),h?e.jsx(So,{className:"w-6 h-6 text-gray-400"}):e.jsx(pr,{className:"w-6 h-6 text-gray-400"})]})]}),e.jsx("div",{className:"mt-3 w-full bg-white bg-opacity-50 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full transition-all duration-500 ${N===100?"bg-green-500":`bg-${M.color}-500`}`,style:{width:`${N}%`}})}),e.jsx(jb,{campaign:o,campaignType:y,language:x})]}),h&&e.jsxs("div",{className:"p-4 pt-0 space-y-3",children:[v>1&&e.jsxs("div",{className:"bg-white bg-opacity-70 rounded-lg p-3 border border-gray-200",children:[e.jsx("p",{className:"text-xs font-medium text-gray-500 mb-2",children:x==="ja"?y==="4week_challenge"?" ":" ":y==="4week_challenge"?"   ":"   "}),e.jsx("div",{className:`grid gap-2 ${v<=4?`grid-cols-${v}`:"grid-cols-4"}`,children:Array.from({length:v},(T,w)=>w+1).map(T=>{const w=n==null?void 0:n.find(Y=>Y.step_number===T),$=(w==null?void 0:w.workflow_status)||"guide_pending",_=!!(w!=null&&w.video_file_url),H=y==="4week_challenge"?`W${T}`:`${T}`;return e.jsxs("div",{className:`text-center p-2 rounded-lg border ${$==="points_paid"?"bg-green-50 border-green-200":$==="sns_submitted"?"bg-indigo-50 border-indigo-200":_?"bg-cyan-50 border-cyan-200":"bg-gray-50 border-gray-200"}`,children:[e.jsx("p",{className:"text-xs font-bold text-gray-600",children:H}),e.jsx("div",{className:"mt-1",children:$==="points_paid"?e.jsx(He,{className:"w-4 h-4 mx-auto text-green-500"}):_?e.jsx(ra,{className:"w-4 h-4 mx-auto text-cyan-500"}):e.jsx(cs,{className:"w-4 h-4 mx-auto text-gray-300"})}),e.jsx("p",{className:`text-[10px] mt-0.5 ${$==="points_paid"?"text-green-600":$==="sns_submitted"?"text-indigo-600":_?"text-cyan-600":"text-gray-400"}`,children:$==="points_paid"?x==="ja"?"":"":$==="sns_submitted"?"SNS":$==="revision_required"||$==="revision_requested"?x==="ja"?"":"":_?x==="ja"?"":"":x==="ja"?"":""})]},T)})})]}),Array.from({length:v},(T,w)=>w+1).map(T=>{const w=(n==null?void 0:n.find(H=>H.step_number===T))||{id:`temp-${T}`,step_number:T,workflow_status:"guide_pending"},$=T<=q,_=T<=K;return e.jsx(yb,{stepNumber:T,totalSteps:v,campaignType:y,submission:w,campaign:o,application:d,onUpdate:m,language:x,hasVideoUpload:$,hasSnsUpload:_,submissionTable:j},w.id)})]})]})},Lh=({applications:d=[],user:o})=>{const{language:n}=rs(),[i,m]=b.useState(!0),[x,j]=b.useState({}),[h,S]=b.useState({}),[y,M]=b.useState({}),[q,K]=b.useState("all"),[v,C]=b.useState("campaign_submissions"),N=async(B=!1)=>{B||m(!0);try{const L=[...new Set(d.map(W=>W.campaign_id).filter(Boolean))];let ee={};if(L.length>0){const{data:W}=await ae.from("campaigns").select("*").in("id",L);W&&(W.forEach(z=>{ee[z.id]=z}),j(ee))}const ge={};if(d.forEach(W=>{W.campaign_id&&W.main_channel&&(ge[W.campaign_id]=W.main_channel)}),Object.keys(ge).length===0&&(o!=null&&o.email))try{const{data:W}=await ae.from("applications").select("campaign_id, main_channel").not("main_channel","is",null).or(`applicant_email.eq.${o.email},email.eq.${o.email},creator_email.eq.${o.email}`);W&&W.forEach(z=>{z.campaign_id&&z.main_channel&&(ge[z.campaign_id]=z.main_channel)})}catch{}M(ge);const G=d.map(W=>W.id);if(G.length>0){let W=!1,z="applications";try{const{data:D,error:g}=await ae.from("campaign_submissions").select("*").in("application_id",G).order("step_number",{ascending:!0});if(!g&&D&&D.length>0){const O={};D.forEach(U=>{O[U.application_id]||(O[U.application_id]=[]),O[U.application_id].push(U)}),S(O),W=!0,z="campaign_submissions"}if(!g&&z==="campaign_submissions"){const O=d.filter(U=>["approved","selected","filming","video_submitted","sns_submitted","completed"].includes(U.status));for(const U of O)if(!W||!(D!=null&&D.some(ie=>ie.application_id===U.id))){const ie=ee==null?void 0:ee[U.campaign_id],A=(ie==null?void 0:ie.campaign_type)||"regular",re=Vt[A]||Vt.regular,I=(ie==null?void 0:ie.total_steps)||re.steps,ye=re.snsSteps||I,fe=Math.max(I,ye);for(let De=1;De<=fe;De++){const Ge=A==="4week_challenge"?`Week ${De}`:A==="megawari"?`Step ${De}`:null;try{await ae.from("campaign_submissions").upsert({application_id:U.id,user_id:U.user_id,campaign_id:U.campaign_id,step_number:De,step_label:Ge,workflow_status:"guide_pending"},{onConflict:"application_id,step_number",ignoreDuplicates:!0})}catch{}}}if(!W&&O.length>0){const{data:U}=await ae.from("campaign_submissions").select("*").in("application_id",G).order("step_number",{ascending:!0});if(U&&U.length>0){const ie={};U.forEach(A=>{ie[A.application_id]||(ie[A.application_id]=[]),ie[A.application_id].push(A)}),S(ie),W=!0}}}}catch(D){console.warn("campaign_submissions not available:",D.message)}if(!W)try{const{data:D,error:g}=await ae.from("video_submissions").select("*").in("application_id",G).order("video_number",{ascending:!0});if(!g&&D&&D.length>0){const O={};D.forEach(U=>{const ie=pb(U);O[ie.application_id]||(O[ie.application_id]=[]),O[ie.application_id].push(ie)}),S(O),W=!0,z="video_submissions"}}catch(D){console.warn("video_submissions not available:",D.message)}if(!W){const D={};d.filter(O=>["approved","selected","filming","video_submitted","sns_submitted","completed"].includes(O.status)).forEach(O=>{const U=ee==null?void 0:ee[O.campaign_id],ie=gb(O,U);ie.length>0&&(D[O.id]=ie)}),Object.keys(D).length>0&&S(D),z="applications"}W&&z!=="applications"&&S(D=>{const g={...D};return d.forEach(O=>{const U=g[O.id];if(!U||U.length===0)return;const ie=O.updated_at?new Date(O.updated_at).getTime():0;U.forEach((A,re)=>{var ye,fe,De,Ge,oe,Ne,te,_e,qe,Me;const I=A.updated_at?new Date(A.updated_at).getTime():0;if(ie>I){const we=((ye=ee==null?void 0:ee[O.campaign_id])==null?void 0:ye.campaign_type)||"regular",ct=A.step_number||1,je=we==="4week_challenge"?O[`week${ct}_url`]:O.video_file_url;je&&je!==A.video_file_url&&(g[O.id]=[...U],g[O.id][re]={...A,video_file_url:je,video_file_name:O.video_file_name||A.video_file_name,video_file_size:O.video_file_size||A.video_file_size,video_uploaded_at:O.video_uploaded_at||A.video_uploaded_at,video_versions:[...A.video_versions||[],...je!==A.video_file_url?[{version:(((fe=A.video_versions)==null?void 0:fe.length)||0)+1,file_url:je,file_name:O.video_file_name||"admin_upload",uploaded_at:O.video_uploaded_at||O.updated_at}]:[]],_merged_from_app:!0});const bt=O.clean_video_file_url||O.clean_video_url;bt&&bt!==A.clean_video_file_url&&((De=g[O.id][re])!=null&&De._merged_from_app||(g[O.id]=[...U]),g[O.id][re]={...g[O.id][re]||A,clean_video_file_url:bt,_merged_from_app:!0});const me=O.sns_upload_url;me&&me!==A.sns_url&&((Ge=g[O.id][re])!=null&&Ge._merged_from_app||(g[O.id]=[...U]),g[O.id][re]={...g[O.id][re]||A,sns_url:me,_merged_from_app:!0});const Ve=O.partnership_code||O.ad_code;Ve&&Ve!==A.ad_code&&((oe=g[O.id][re])!=null&&oe._merged_from_app||(g[O.id]=[...U]),g[O.id][re]={...g[O.id][re]||A,ad_code:Ve,_merged_from_app:!0});const Rs=O.revision_requests;if(Array.isArray(Rs)&&Rs.length>0){const se=(((Ne=g[O.id])==null?void 0:Ne[re])||A).revision_requests||[];(se.length===0||Rs.length>se.length)&&((te=g[O.id][re])!=null&&te._merged_from_app||(g[O.id]=[...U]),g[O.id][re]={...g[O.id][re]||A,revision_requests:Rs,_merged_from_app:!0})}if(O.revision_notes&&!(((_e=g[O.id])==null?void 0:_e[re])||A).revision_notes&&((qe=g[O.id][re])!=null&&qe._merged_from_app||(g[O.id]=[...U]),g[O.id][re]={...g[O.id][re]||A,revision_notes:O.revision_notes,_merged_from_app:!0}),(Me=g[O.id][re])!=null&&Me._merged_from_app){const se=O.status;let $t=(g[O.id][re]||A).workflow_status;se==="completed"?$t="points_paid":se==="sns_submitted"&&["guide_pending","video_uploaded","revision_required"].includes($t)?$t="sns_submitted":se==="video_submitted"&&$t==="guide_pending"?$t="video_uploaded":["revision_requested","revision_required"].includes(se)&&($t="revision_required"),g[O.id][re]={...g[O.id][re],workflow_status:$t}}}})}),g}),C(z)}}catch(L){console.error("Load data error:",L)}finally{m(!1)}};b.useEffect(()=>{N()},[d]);const Q=["approved","selected","filming","video_submitted","sns_submitted","completed"],k=[...Q,"pending","virtual_selected","rejected"],T=d.filter(B=>Q.includes(B.status)),w=d.filter(B=>B.status==="pending"||B.status==="virtual_selected"),$=d.filter(B=>B.status==="rejected"),_=d.filter(B=>!k.includes(B.status)),H=B=>q==="all"?B:B.filter(L=>{const ee=x[L.campaign_id];return(ee==null?void 0:ee.campaign_type)===q}),Y=H(T),J=H(w),ne=H($),X=H(_),he={total:d.length,pending:w.length,approved:T.length,completed:T.filter(B=>{const L=h[B.id]||[],ee=x[B.campaign_id],ge=Vt[(ee==null?void 0:ee.campaign_type)||"regular"]||Vt.regular,G=(ee==null?void 0:ee.total_steps)||ge.steps,W=ge.snsSteps||G,z=Math.max(G,W);return L.filter(D=>D.workflow_status==="completed"||D.workflow_status==="points_paid").length>=z}).length};return i?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(st,{className:"w-8 h-8 animate-spin text-purple-600"})}):e.jsxs("div",{className:"p-4 sm:p-6",children:[e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 sm:gap-4 mb-4 sm:mb-6",children:[e.jsx("div",{className:"bg-blue-50 rounded-lg p-3 sm:p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ms,{className:"h-6 w-6 sm:h-8 sm:w-8 text-blue-600 flex-shrink-0"}),e.jsxs("div",{className:"ml-3 sm:ml-4",children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-500",children:n==="ja"?"":" "}),e.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:he.total})]})]})}),e.jsx("div",{className:"bg-yellow-50 rounded-lg p-3 sm:p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(as,{className:"h-6 w-6 sm:h-8 sm:w-8 text-yellow-600 flex-shrink-0"}),e.jsxs("div",{className:"ml-3 sm:ml-4",children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-500",children:n==="ja"?"":""}),e.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:he.pending})]})]})}),e.jsx("div",{className:"bg-green-50 rounded-lg p-3 sm:p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ca,{className:"h-6 w-6 sm:h-8 sm:w-8 text-green-600 flex-shrink-0"}),e.jsxs("div",{className:"ml-3 sm:ml-4",children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-500",children:n==="ja"?"":""}),e.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:he.approved})]})]})}),e.jsx("div",{className:"bg-purple-50 rounded-lg p-3 sm:p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ql,{className:"h-6 w-6 sm:h-8 sm:w-8 text-purple-600 flex-shrink-0"}),e.jsxs("div",{className:"ml-3 sm:ml-4",children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-500",children:n==="ja"?"":""}),e.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:he.completed})]})]})})]}),e.jsxs("div",{className:"mb-6 flex flex-wrap gap-2",children:[e.jsx("button",{onClick:()=>K("all"),className:`px-3 py-1.5 rounded-full text-sm font-medium transition-colors ${q==="all"?"bg-gray-800 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:n==="ja"?"":""}),Object.entries(Vt).map(([B,L])=>e.jsxs("button",{onClick:()=>K(B),className:`px-3 py-1.5 rounded-full text-sm font-medium transition-colors ${q===B?L.badgeClass:"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[L.icon," ",n==="ja"?L.labelJa:L.labelKo]},B))]}),Y.length>0&&e.jsxs("div",{className:"mb-8",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center",children:[e.jsx(He,{className:"w-5 h-5 mr-2 text-green-600"}),n==="ja"?"":" ",e.jsx("span",{className:"ml-2 px-2 py-0.5 bg-green-100 text-green-800 text-sm rounded-full",children:Y.length})]}),e.jsx("div",{className:"space-y-4 sm:space-y-6",children:Y.map(B=>e.jsx(Nb,{application:B,campaign:x[B.campaign_id],submissions:h[B.id]||[],mainChannel:y[B.campaign_id],onUpdate:()=>N(!0),language:n,submissionTable:v},B.id))})]}),J.length>0&&e.jsxs("div",{className:"mb-8",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center",children:[e.jsx(as,{className:"w-5 h-5 mr-2 text-yellow-600"}),n==="ja"?"":" ",e.jsx("span",{className:"ml-2 px-2 py-0.5 bg-yellow-100 text-yellow-800 text-sm rounded-full",children:J.length})]}),e.jsx("div",{className:"space-y-3",children:J.map(B=>{const L=x[B.campaign_id],ee=Vt[(L==null?void 0:L.campaign_type)||"regular"]||Vt.regular;return e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-sm transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"text-2xl",children:ee.icon}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${ee.badgeClass}`,children:n==="ja"?ee.labelJa:ee.labelKo}),e.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:B.status==="virtual_selected"?n==="ja"?"":"":n==="ja"?"":""})]}),e.jsx("h4",{className:"font-medium text-gray-900",children:(L==null?void 0:L.title)||B.campaign_title||(n==="ja"?"":"")}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[n==="ja"?": ":": ",new Date(B.created_at).toLocaleDateString(n==="ja"?"ja-JP":"ko-KR")]})]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("div",{className:"flex items-center text-yellow-600",children:[e.jsx(as,{className:"w-4 h-4 mr-1"}),e.jsx("span",{className:"text-sm font-medium",children:n==="ja"?"":" "})]})})]})},B.id)})})]}),ne.length>0&&e.jsxs("div",{className:"mb-8",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center",children:[e.jsx(ts,{className:"w-5 h-5 mr-2 text-red-500"}),n==="ja"?"":" ",e.jsx("span",{className:"ml-2 px-2 py-0.5 bg-red-100 text-red-800 text-sm rounded-full",children:ne.length})]}),e.jsx("div",{className:"space-y-3",children:ne.map(B=>{const L=x[B.campaign_id],ee=Vt[(L==null?void 0:L.campaign_type)||"regular"]||Vt.regular;return e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-sm transition-shadow opacity-75",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"text-2xl",children:ee.icon}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${ee.badgeClass}`,children:n==="ja"?ee.labelJa:ee.labelKo}),e.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:n==="ja"?"":""})]}),e.jsx("h4",{className:"font-medium text-gray-900",children:(L==null?void 0:L.title)||B.campaign_title||(n==="ja"?"":"")}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[n==="ja"?": ":": ",new Date(B.created_at).toLocaleDateString(n==="ja"?"ja-JP":"ko-KR")]})]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("div",{className:"flex items-center text-red-500",children:[e.jsx(ts,{className:"w-4 h-4 mr-1"}),e.jsx("span",{className:"text-sm font-medium",children:n==="ja"?"":""})]})})]})},B.id)})})]}),X.length>0&&e.jsxs("div",{className:"mb-8",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center",children:[e.jsx(Kt,{className:"w-5 h-5 mr-2 text-gray-500"}),n==="ja"?"":" ",e.jsx("span",{className:"ml-2 px-2 py-0.5 bg-gray-100 text-gray-800 text-sm rounded-full",children:X.length})]}),e.jsx("div",{className:"space-y-3",children:X.map(B=>{const L=x[B.campaign_id],ee=Vt[(L==null?void 0:L.campaign_type)||"regular"]||Vt.regular;return e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-sm transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"text-2xl",children:ee.icon}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${ee.badgeClass}`,children:n==="ja"?ee.labelJa:ee.labelKo}),e.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:n==="ja"?"":""})]}),e.jsx("h4",{className:"font-medium text-gray-900",children:(L==null?void 0:L.title)||B.campaign_title||(n==="ja"?"":"")}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[n==="ja"?": ":": ",new Date(B.created_at).toLocaleDateString(n==="ja"?"ja-JP":"ko-KR")]})]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("div",{className:"flex items-center text-gray-500",children:[e.jsx(Kt,{className:"w-4 h-4 mr-1"}),e.jsx("span",{className:"text-sm font-medium",children:n==="ja"?"":""})]})})]})},B.id)})})]}),Y.length===0&&J.length===0&&ne.length===0&&X.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Ms,{className:"w-16 h-16 mx-auto text-gray-300 mb-4"}),e.jsx("p",{className:"text-gray-500",children:d.length===0?n==="ja"?"":"  ":n==="ja"?"":"  "})]})]})},Oh=d=>{if(!d)return"";const o=d.match(/\(PayPal:\s*([^)]+)\)/);if(o)return o[1].trim();const n=d.match(/PayPal:\s*([^)]+)/);if(n)return n[1].trim();const i=d.match(/\(PayPal:\s*([^)]+)\)/);if(i)return i[1].trim();const m=d.match(/([a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,})/);return m?m[1]:""},_b=()=>{var ms,ul,Ml,Os,ks,xs,Ta,br;const{user:d,signOut:o}=Ss(),{language:n}=rs(),[i,m]=b.useState(null),[x,j]=b.useState([]),[h,S]=b.useState([]),[y,M]=b.useState([]),[q,K]=b.useState(!0),[v,C]=b.useState("dashboard"),[N,Q]=b.useState(!1),[k,T]=b.useState(!1),[w,$]=b.useState({category:"",subject:"",message:""}),[_,H]=b.useState(!1),[Y,J]=b.useState(!1),[ne,X]=b.useState(!1),[he,B]=b.useState(""),[L,ee]=b.useState(""),[ge,G]=b.useState(""),[W,z]=b.useState(!1),[D,g]=b.useState(""),[O,U]=b.useState(""),[ie,A]=b.useState(!1),[re,I]=b.useState({amount:"",paypalEmail:"",paypalName:"",reason:""}),[ye,fe]=b.useState(!1),[De,Ge]=b.useState(null),[oe,Ne]=b.useState({sns_upload_url:"",notes:""}),[te,_e]=b.useState(!1),[qe,Me]=b.useState(!1),[we,ct]=b.useState(null),[je,bt]=b.useState(!1),[me,Ve]=b.useState({nickname:"",name:"",phone:"",bio:"",age:"",region:"",skin_type:"",profile_image:"",instagram_url:"",tiktok_url:"",youtube_url:"",other_sns_url:"",instagram_followers:"",tiktok_followers:"",youtube_subscribers:"",sms_consent:!0,email_consent:!0}),Rs={ko:{title:"",profile:"",applications:" ",withdrawals:" ",points:" ",accountSettings:" ",personalInfo:"",name:"",email:"",phone:"",address:"",joinDate:"",userRole:" ",currentPoints:" ",totalEarned:"  ",campaignApplications:" ",totalApplications:"  ",approvedApplications:" ",completedCampaigns:" ",withdrawalHistory:" ",totalWithdrawn:" ",pendingWithdrawals:" ",pointHistory:" ",transactionType:" ",amount:"",date:"",description:"",earned:"",spent:"",bonus:"",withdrawal:"",withdrawRequest:" ",withdrawRequestTitle:"  ",withdrawAmount:" ",paypalEmail:"PayPal ",paypalName:"PayPal ",withdrawReason:" ",submitWithdrawRequest:" ",accountDeletion:" ",deleteAccount:" ",deleteAccountWarning:"     .",deleteAccountDescription:"      .       .",withdrawalReason:" ",withdrawalDetails:" ",confirmDeletion:" ",confirmText:' ?  "" .',confirmPlaceholder:"",submitWithdrawal:" ",cancel:"",processing:" ...",logout:"",goHome:" ",noData:" ",edit:"",save:"",skinType:"",postalCode:"",roles:{user:" ",vip:"VIP ",manager:"",admin:""},reasons:{service:" ",privacy:" ",unused:" ",other:""},snsUpload:"SNS ",snsUploadUrl:"SNS  URL",pointRequest:" ",pointRequestTitle:"SNS    ",snsUploadDescription:"SNS   URL   .",additionalNotes:" ",submitPointRequest:" ",pointRequestPending:"  ",pointRequestApproved:"  ",messages:{withdrawalSubmitted:"  .    .",error:" .  .",confirmRequired:"    .",reasonRequired:"  .",snsUploadSubmitted:"SNS     .",snsUrlRequired:"SNS  URL ."}},ja:{title:"",profile:"",applications:"",withdrawals:"",points:"",accountSettings:"",personalInfo:"",name:"",email:"",phone:"",address:"",joinDate:"",userRole:"",currentPoints:"",totalEarned:"",campaignApplications:"",totalApplications:"",approvedApplications:"",completedCampaigns:"",withdrawalHistory:"",totalWithdrawn:"",pendingWithdrawals:"",pointHistory:"",transactionType:"",amount:"",date:"",description:"",earned:"",spent:"",bonus:"",withdrawal:"",withdrawRequest:"",withdrawRequestTitle:"",withdrawAmount:"",paypalEmail:"PayPal ",paypalName:"PayPal ",withdrawReason:"",submitWithdrawRequest:"",accountDeletion:"",deleteAccount:"",deleteAccountWarning:"",deleteAccountDescription:"",withdrawalReason:"",withdrawalDetails:"",confirmDeletion:"",confirmText:"",confirmPlaceholder:"",submitWithdrawal:"",cancel:"",processing:"...",logout:"",goHome:"",noData:"",edit:"",save:"",skinType:"",postalCode:"",age:"",region:"",bio:"",instagramFollowers:"Instagram",tiktokFollowers:"TikTok",youtubeSubscribers:"YouTube",roles:{user:"",vip:"VIP",manager:"",admin:""},reasons:{service:"",privacy:"",unused:"",other:""},snsUpload:"SNS",snsUploadUrl:"SNSURL",pointRequest:"",pointRequestTitle:"SNS",snsUploadDescription:"SNSURL",additionalNotes:"",submitPointRequest:"",pointRequestPending:"",pointRequestApproved:"",messages:{withdrawalSubmitted:"",error:"",confirmRequired:"",reasonRequired:"",snsUploadSubmitted:"SNS",snsUrlRequired:"SNSURL"}}},se=Rs[n]||Rs.ko;b.useEffect(()=>{d&&$t()},[d]);const $t=async()=>{var p;try{K(!0);const pe=await Te.userProfiles.get(d.id);m(pe),pe&&Ve({nickname:pe.nickname||"",name:pe.name||"",phone:pe.phone||"",bio:pe.bio||"",age:pe.age||"",region:pe.region||"",skin_type:pe.skin_type||"",profile_image:pe.profile_image||"",instagram_url:pe.instagram_url||"",tiktok_url:pe.tiktok_url||"",youtube_url:pe.youtube_url||"",other_sns_url:pe.other_sns_url||"",instagram_followers:pe.instagram_followers||"",tiktok_followers:pe.tiktok_followers||"",youtube_subscribers:pe.youtube_subscribers||"",sms_consent:pe.sms_consent!==void 0?pe.sms_consent:!0,email_consent:pe.email_consent!==void 0?pe.email_consent:!0});const yt=await Te.applications.getByUser(d.id);j(yt||[]);try{const{data:Fe,error:ft}=await ae.from("point_transactions").select("*").eq("user_id",d.id).lt("amount",0).order("created_at",{ascending:!1});if(ft)console.warn("point_transactions    :",ft),S([]);else{const ss=(Fe||[]).map(Ie=>{var Nt,Ue,Jt,Bs,Tt,ml;let Ft="pending";return(Nt=Ie.description)!=null&&Nt.includes("[:]")||(Ue=Ie.description)!=null&&Ue.includes("[:]")?Ft="approved":(Jt=Ie.description)!=null&&Jt.includes("[:]")||(Bs=Ie.description)!=null&&Bs.includes("[:]")?Ft="completed":((Tt=Ie.description)!=null&&Tt.includes("[:]")||(ml=Ie.description)!=null&&ml.includes("[:]"))&&(Ft="rejected"),{id:Ie.id,user_id:Ie.user_id,amount:Math.abs(Ie.amount),status:Ft,withdrawal_method:"paypal",paypal_email:Oh(Ie.description),paypal_name:Oh(Ie.description),reason:Ie.description,created_at:Ie.created_at,updated_at:Ie.updated_at}}),Zt=[],Ht=new Set;for(const Ie of ss){const Ft=`${Ie.user_id}-${Ie.amount}-${Ie.created_at.split("T")[0]}`;Ht.has(Ft)||(Ht.add(Ft),Zt.push(Ie))}S(Zt)}}catch(Fe){console.warn("   :",Fe),S([])}try{const{data:Fe,error:ft}=await ae.from("point_transactions").select("*").eq("user_id",d.id).order("created_at",{ascending:!1});if(ft)console.warn("    :",ft),M([]);else{const ss=[],Zt=new Set;for(const Ht of Fe||[]){const Ie=`${Ht.user_id}-${Ht.amount}-${Ht.created_at.split("T")[0]}-${Ht.description||""}`;Zt.has(Ie)||(Zt.add(Ie),ss.push(Ht))}M(ss)}}catch(Fe){console.warn("    :",Fe),M([])}}catch{console.error("   "),i||m({name:((p=d==null?void 0:d.user_metadata)==null?void 0:p.full_name)||(d==null?void 0:d.email)||"",email:(d==null?void 0:d.email)||"",phone_number:"",address:"",created_at:new Date().toISOString(),user_role:"user",points:0}),console.warn("      ."),g("")}finally{K(!1)}},Ul=async()=>{var p,pe,yt,Fe,ft,ss,Zt,Ht,Ie,Ft;try{z(!0),g("");const Nt=(Tt,ml)=>{if(!Tt||Tt===""||Tt===void 0)return null;const jr=Number(Tt);if(isNaN(jr))throw new Error(n==="ja"?`${ml}`:`${ml}()  .`);if(jr<0)throw new Error(n==="ja"?`${ml}0`:`${ml}() 0   .`);return jr},Ue={};if(me.nickname!==void 0&&(Ue.nickname=((p=me.nickname)==null?void 0:p.trim())||null),me.name!==void 0&&(Ue.name=((pe=me.name)==null?void 0:pe.trim())||null),me.phone!==void 0&&(Ue.phone=((yt=me.phone)==null?void 0:yt.trim())||null),me.bio!==void 0&&(Ue.bio=((Fe=me.bio)==null?void 0:Fe.trim())||null),me.region!==void 0&&(Ue.region=((ft=me.region)==null?void 0:ft.trim())||null),me.skin_type!==void 0&&(Ue.skin_type=((ss=me.skin_type)==null?void 0:ss.trim())||null),me.age!==void 0)try{Ue.age=Nt(me.age,n==="ja"?"":"")}catch(Tt){console.warn("   :",Tt.message),Ue.age=null}if(me.instagram_url!==void 0&&(Ue.instagram_url=((Zt=me.instagram_url)==null?void 0:Zt.trim())||null),me.tiktok_url!==void 0&&(Ue.tiktok_url=((Ht=me.tiktok_url)==null?void 0:Ht.trim())||null),me.youtube_url!==void 0&&(Ue.youtube_url=((Ie=me.youtube_url)==null?void 0:Ie.trim())||null),me.other_sns_url!==void 0&&(Ue.other_sns_url=((Ft=me.other_sns_url)==null?void 0:Ft.trim())||null),me.instagram_followers!==void 0)try{Ue.instagram_followers=Nt(me.instagram_followers,"Instagram "+(n==="ja"?"":" "))}catch(Tt){console.warn("Instagram    :",Tt.message),Ue.instagram_followers=null}if(me.tiktok_followers!==void 0)try{Ue.tiktok_followers=Nt(me.tiktok_followers,"TikTok "+(n==="ja"?"":" "))}catch(Tt){console.warn("TikTok    :",Tt.message),Ue.tiktok_followers=null}if(me.youtube_subscribers!==void 0)try{Ue.youtube_subscribers=Nt(me.youtube_subscribers,"YouTube "+(n==="ja"?"":" "))}catch(Tt){console.warn("YouTube    :",Tt.message),Ue.youtube_subscribers=null}me.profile_image!==void 0&&(Ue.profile_image=me.profile_image||null),me.sms_consent!==void 0&&(Ue.sms_consent=me.sms_consent),me.email_consent!==void 0&&(Ue.email_consent=me.email_consent),Ue.updated_at=new Date().toISOString();const{data:Jt,error:Bs}=await ae.from("user_profiles").update(Ue).eq("user_id",d.id).select();if(Bs)throw console.error("  "),new Error(Bs.message);m(Tt=>({...Tt,...Ue})),U(n==="ja"?"":"  ."),bt(!1),setTimeout(()=>U(""),5e3)}catch(Nt){console.error("  :",Nt),g(Nt.message||(n==="ja"?"":"  ."))}finally{z(!1)}},ll=async p=>{var yt;const pe=(yt=p.target.files)==null?void 0:yt[0];if(pe){if(!pe.type.startsWith("image/")){g(n==="ja"?"":"  ");return}if(pe.size>5*1024*1024){g(n==="ja"?"5MB":"  5MB  ");return}try{z(!0),g("");const Fe=pe.name.split(".").pop(),ft=`${d.id}-${Date.now()}.${Fe}`,ss=`profiles/${ft}`,{error:Zt}=await ae.storage.from("profile-images").upload(ss,pe,{cacheControl:"3600",upsert:!0});if(Zt){const{error:Ie}=await ae.storage.from("campaign-images").upload(`profiles/${ft}`,pe,{cacheControl:"3600",upsert:!0});if(Ie)throw Ie;const{data:{publicUrl:Ft}}=ae.storage.from("campaign-images").getPublicUrl(`profiles/${ft}`);await ae.from("user_profiles").update({profile_image:Ft,updated_at:new Date().toISOString()}).eq("user_id",d.id),m(Nt=>({...Nt,profile_image:Ft})),Ve(Nt=>({...Nt,profile_image:Ft})),U(n==="ja"?"":"  "),setTimeout(()=>U(""),3e3);return}const{data:{publicUrl:Ht}}=ae.storage.from("profile-images").getPublicUrl(ss);await ae.from("user_profiles").update({profile_image:Ht,updated_at:new Date().toISOString()}).eq("user_id",d.id),m(Ie=>({...Ie,profile_image:Ht})),Ve(Ie=>({...Ie,profile_image:Ht})),U(n==="ja"?"":"  "),setTimeout(()=>U(""),3e3)}catch(Fe){console.error("Profile image upload error:",Fe),g(n==="ja"?"":"  ")}finally{z(!1)}}},xe=async()=>{if(!re.amount||!re.paypalEmail||!re.paypalName){g(n==="ja"?"":"   .");return}const p=parseInt(re.amount),pe=(i==null?void 0:i.points)||0;if(p>pe){g(n==="ja"?"":"      .");return}if(p<1e3){g(n==="ja"?"1,000":"   1,000.");return}try{z(!0),g("");const{data:yt,error:Fe}=await ae.from("withdrawal_requests").insert([{user_id:d.id,amount:p,withdrawal_method:"paypal",paypal_email:re.paypalEmail,paypal_name:re.paypalName,reason:re.reason||(n==="ja"?"":"  "),status:"pending",created_at:new Date().toISOString()}]).select();if(Fe)throw console.error("  :",Fe),new Error(Fe.message);const ft=pe-p,{error:ss}=await ae.from("user_profiles").update({points:ft}).eq("user_id",d.id);if(ss)throw console.error("   :",ss),new Error("  .");const{error:Zt}=await ae.from("point_transactions").insert([{user_id:d.id,amount:-p,transaction_type:"spent",description:n==="ja"?": ":" :  ",created_at:new Date().toISOString()}]);Zt&&console.warn("   :",Zt),U(n==="ja"?"":"  .    ."),A(!1),I({amount:"",paypalEmail:"",paypalName:"",reason:""}),await $t(),setTimeout(()=>U(""),5e3)}catch(yt){console.error("  :",yt),g(yt.message||(n==="ja"?"":"    .  ."))}finally{z(!1)}},Se=async()=>{var p,pe;try{if(!oe.sns_upload_url||typeof oe.sns_upload_url!="string"||!oe.sns_upload_url.trim()){g(((p=se.messages)==null?void 0:p.snsUrlRequired)||(n==="ja"?"SNSURL":"SNS  URL ."));return}if(!De){g(n==="ja"?"":"    .");return}z(!0),g("");try{new URL(oe.sns_upload_url)}catch{g(n==="ja"?"URL":" URL ."),z(!1);return}const yt={video_links:oe.sns_upload_url,additional_info:oe.notes,updated_at:new Date().toISOString()},{error:Fe}=await ae.from("applications").update(yt).eq("id",De.id).eq("user_id",d.id);if(Fe)throw console.error("Application update error:",Fe),new Error(n==="ja"?"SNS":"SNS   .");try{const{error:ft}=await ae.from("point_transactions").insert({user_id:d.id,campaign_id:De.campaign_id,application_id:De.id,transaction_type:"pending",amount:0,description:`SNS   : ${oe.sns_upload_url}`,created_at:new Date().toISOString()});ft&&console.warn("    :",ft)}catch(ft){console.warn("Point transaction insert failed:",ft)}U(((pe=se.messages)==null?void 0:pe.snsUploadSubmitted)||(n==="ja"?"SNS":"SNS     .")),fe(!1),Ne({sns_upload_url:"",notes:""}),Ge(null),await $t(),setTimeout(()=>U(""),5e3)}catch(yt){console.error("SNS  :",yt),g(yt.message||(n==="ja"?"":" .  ."))}finally{z(!1)}},Ce=p=>{try{if(g(""),U(""),!p){g(n==="ja"?"":"    .");return}Ge(p),Ne({sns_upload_url:p.video_links||"",notes:p.additional_info||""}),fe(!0)}catch(pe){console.error("SNS    :",pe),g(n==="ja"?"":"   .")}},zt=async()=>{if(!he){g(se.messages.reasonRequired);return}if(ge!==(n==="ja"?"":"")){g(se.messages.confirmRequired);return}try{z(!0),g("");const{error:p}=await Te.supabase.from("withdrawal_requests").insert({user_id:d.id,reason:he,additional_info:L,status:"pending"});if(p)throw p;U(se.messages.withdrawalSubmitted),X(!1),B(""),ee(""),G(""),setTimeout(()=>U(""),5e3)}catch(p){console.error("  :",p),g(se.messages.error)}finally{z(!1)}},Ut=async()=>{if(!w.category||!w.subject||!w.message){g(n==="ja"?"":"  ");return}try{H(!0),g("");const p=encodeURIComponent(`[CNEC] ${w.category}: ${w.subject}`),pe=encodeURIComponent(`: ${(i==null?void 0:i.name)||""} (${(i==null?void 0:i.email)||(d==null?void 0:d.email)})
: ${w.category}
: ${w.subject}

${w.message}`),yt=`mailto:mkt@cnecbiz.com?subject=${p}&body=${pe}`,Fe=document.createElement("a");Fe.href=yt,Fe.style.display="none",document.body.appendChild(Fe),Fe.click(),document.body.removeChild(Fe);try{await ae.from("support_inquiries").insert({user_id:d.id,user_email:(i==null?void 0:i.email)||(d==null?void 0:d.email),user_name:(i==null?void 0:i.name)||"",category:w.category,subject:w.subject,message:w.message,status:"pending"})}catch(ft){console.log("DB backup skipped:",ft.message)}J(!0),$({category:"",subject:"",message:""}),setTimeout(()=>{T(!1),J(!1)},2500)}catch(p){console.error("Inquiry submit error:",p),window.location.href=`mailto:mkt@cnecbiz.com?subject=${encodeURIComponent(`[CNEC] ${w.subject}`)}&body=${encodeURIComponent(w.message)}`,T(!1)}finally{H(!1)}},ze="https://line.me/R/ti/p/@cnec",Re=p=>{const pe={user:"bg-gray-100 text-gray-800",vip:"bg-purple-100 text-purple-800",manager:"bg-blue-100 text-blue-800",admin:"bg-red-100 text-red-800"};return e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${pe[p]||pe.user}`,children:se.roles[p]||se.roles.user})},Ze=p=>({earn:"text-green-600",bonus:"text-blue-600",admin_add:"text-purple-600",spend:"text-red-600",admin_subtract:"text-red-600"})[p]||"text-gray-600",mt=p=>({earn:se.earned,earned:se.earned,bonus:se.bonus,admin_add:se.bonus,spend:se.spent,spent:se.spent,admin_subtract:se.spent,pending:n==="ja"?"":"",approved:n==="ja"?"":"",rejected:n==="ja"?"":"",completed:n==="ja"?"":"",reward:n==="ja"?"":""})[p]||p,Is=[{id:"dashboard",label:n==="ja"?"":"",icon:dg,mobileLabel:n==="ja"?"":""},{id:"applications",label:se.applications,icon:Ms,mobileLabel:n==="ja"?"":""},{id:"profile",label:se.profile,icon:Fs,mobileLabel:n==="ja"?"":""},{id:"points",label:se.points,icon:Dl,mobileLabel:n==="ja"?"":""},{id:"settings",label:se.accountSettings,icon:cl,mobileLabel:n==="ja"?"":""}],Ls=()=>[{name:"Instagram",url:i==null?void 0:i.instagram_url,followers:i==null?void 0:i.instagram_followers,color:"from-pink-500 to-purple-500"},{name:"TikTok",url:i==null?void 0:i.tiktok_url,followers:i==null?void 0:i.tiktok_followers,color:"from-slate-800 to-slate-900"},{name:"YouTube",url:i==null?void 0:i.youtube_url,followers:i==null?void 0:i.youtube_subscribers,color:"from-red-500 to-red-600"}],us=()=>{const p=x.length,pe=x.filter(Fe=>["approved","selected","filming","video_submitted","sns_submitted","completed"].includes(Fe.status)).length,yt=x.filter(Fe=>Fe.status==="completed"||Fe.submission_status==="submitted").length;return{successRate:p>0?Math.round(pe/p*100):0,completionRate:pe>0?Math.round(yt/pe*100):0,total:p,approved:pe,completed:yt}};return q?e.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-2 border-blue-600 border-t-transparent"}),e.jsx("span",{className:"text-slate-400 text-sm",children:n==="ja"?"...":"..."})]})}):e.jsxs("div",{className:"min-h-screen bg-slate-50/50",children:[e.jsx("header",{className:"bg-white/80 backdrop-blur-xl sticky top-0 z-50 border-b border-slate-100",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-5 sm:px-8 py-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(Ye,{to:"/",className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-[12px] flex items-center justify-center text-white font-bold text-lg shadow-lg shadow-blue-600/25",children:"C"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-bold text-slate-800 tracking-tight",children:"CNEC Japan"}),e.jsx("p",{className:"text-[10px] sm:text-xs text-slate-400 tracking-wide",children:"K-Beauty Creator Network"})]})]}),e.jsxs("nav",{className:"hidden md:flex items-center space-x-2",children:[e.jsx(Ye,{to:"/",className:"text-slate-500 hover:text-blue-600 font-medium px-4 py-2 rounded-full hover:bg-blue-50 transition-all text-sm",children:""}),e.jsx(Ye,{to:"/mypage",className:"text-blue-600 bg-blue-50 font-medium px-4 py-2 rounded-full text-sm",children:""}),e.jsx("button",{onClick:o,className:"text-slate-500 hover:text-blue-600 font-medium px-4 py-2 rounded-full hover:bg-blue-50 transition-all text-sm",children:""})]}),e.jsx("button",{className:"md:hidden p-2.5 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded-full transition-all",onClick:()=>Q(!N),children:N?e.jsx(Et,{className:"h-5 w-5"}):e.jsx(Xi,{className:"h-5 w-5"})})]}),N&&e.jsx("div",{className:"md:hidden mt-4 pb-4 border-t border-slate-100",children:e.jsxs("div",{className:"flex flex-col space-y-1 pt-4",children:[e.jsx(Ye,{to:"/",className:"text-slate-600 hover:text-blue-600 font-medium py-3 px-4 rounded-2xl hover:bg-blue-50 transition-all",children:""}),e.jsx(Ye,{to:"/mypage",className:"text-blue-600 bg-blue-50 font-medium py-3 px-4 rounded-2xl",children:""}),e.jsx("button",{onClick:o,className:"text-slate-600 hover:text-blue-600 font-medium py-3 px-4 rounded-2xl hover:bg-blue-50 transition-all text-left",children:""})]})})]})}),e.jsxs("div",{className:"hidden md:flex max-w-7xl mx-auto px-6 lg:px-8 py-8 gap-8",children:[e.jsx("aside",{className:"w-72 flex-shrink-0",children:e.jsxs("div",{className:"sticky top-24 space-y-5",children:[e.jsxs("div",{className:"bg-white rounded-[24px] shadow-xl shadow-slate-200/40 border border-slate-100/80 p-6",children:[e.jsxs("div",{className:"text-center mb-5",children:[i!=null&&i.profile_image?e.jsx("img",{src:i.profile_image,alt:"Profile",className:"w-20 h-20 rounded-full object-cover mx-auto mb-4 shadow-lg border-2 border-white"}):e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-500 to-blue-600 rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg shadow-blue-600/25",children:e.jsx("span",{className:"text-white text-2xl font-bold",children:(ms=((i==null?void 0:i.name)||(d==null?void 0:d.email)||"?")[0])==null?void 0:ms.toUpperCase()})}),e.jsx("h2",{className:"text-lg font-bold text-slate-800",children:(i==null?void 0:i.nickname)||(i==null?void 0:i.name)||(d==null?void 0:d.email)}),e.jsx("p",{className:"text-xs text-slate-400 mt-0.5",children:(i==null?void 0:i.email)||(d==null?void 0:d.email)}),e.jsx("div",{className:"mt-2",children:Re(i==null?void 0:i.user_role)})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 py-4 border-t border-b border-slate-100",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg font-bold text-slate-800",children:x.length}),e.jsx("div",{className:"text-[10px] text-slate-400",children:n==="ja"?"":""})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg font-bold text-blue-600",children:((i==null?void 0:i.points)||0).toLocaleString()}),e.jsx("div",{className:"text-[10px] text-slate-400",children:n==="ja"?"":""})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg font-bold text-slate-800",children:h.length}),e.jsx("div",{className:"text-[10px] text-slate-400",children:n==="ja"?"":""})]})]}),e.jsx("button",{onClick:()=>A(!0),className:"w-full mt-4 bg-blue-600 hover:bg-blue-700 text-white text-sm font-semibold py-2.5 rounded-full transition-colors shadow-lg shadow-blue-600/20",children:se.withdrawRequest})]}),e.jsx("div",{className:"bg-white rounded-[24px] shadow-lg shadow-slate-100/50 border border-slate-100/80 overflow-hidden",children:Is.map(p=>{const pe=p.icon;return e.jsxs("button",{onClick:()=>C(p.id),className:`w-full flex items-center gap-3 px-5 py-3.5 text-sm font-medium transition-all ${v===p.id?"bg-blue-50 text-blue-600 border-r-2 border-blue-600":"text-slate-500 hover:text-slate-700 hover:bg-slate-50"}`,children:[e.jsx(pe,{className:"w-4.5 h-4.5"}),e.jsx("span",{children:p.label}),e.jsx(go,{className:`w-4 h-4 ml-auto transition-colors ${v===p.id?"text-blue-400":"text-slate-300"}`})]},p.id)})})]})}),e.jsxs("main",{className:"flex-1 min-w-0",children:[D&&D!==((ul=se.messages)==null?void 0:ul.error)&&e.jsx("div",{className:"mb-5 bg-red-50 border border-red-200 rounded-2xl p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(vs,{className:"h-5 w-5 text-red-400 flex-shrink-0"}),e.jsx("p",{className:"text-sm text-red-800",children:D})]})}),O&&e.jsx("div",{className:"mb-5 bg-emerald-50 border border-emerald-200 rounded-2xl p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ca,{className:"h-5 w-5 text-emerald-400 flex-shrink-0"}),e.jsx("p",{className:"text-sm text-emerald-800",children:O})]})}),v==="dashboard"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white rounded-[24px] shadow-xl shadow-slate-200/40 border border-slate-100/80 p-6 lg:p-8",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-5",children:[i!=null&&i.profile_image?e.jsx("img",{src:i.profile_image,alt:"Profile",className:"w-20 h-20 rounded-full object-cover shadow-lg border-2 border-white flex-shrink-0"}):e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-500 to-blue-600 rounded-full flex items-center justify-center shadow-lg shadow-blue-600/25 flex-shrink-0",children:e.jsx("span",{className:"text-white text-2xl font-bold",children:(Ml=((i==null?void 0:i.name)||(d==null?void 0:d.email)||"?")[0])==null?void 0:Ml.toUpperCase()})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2.5 mb-1",children:[e.jsx("h2",{className:"text-xl font-bold text-slate-800",children:(i==null?void 0:i.nickname)||(i==null?void 0:i.name)||(d==null?void 0:d.email)}),Re(i==null?void 0:i.user_role)]}),e.jsx("p",{className:"text-sm text-slate-400",children:(i==null?void 0:i.email)||(d==null?void 0:d.email)}),(i==null?void 0:i.instagram_url)&&e.jsxs("p",{className:"text-xs text-slate-400 mt-0.5",children:["@",i.instagram_url.split("/").pop()||"instagram"]}),e.jsxs("div",{className:"flex gap-2 mt-3",children:[e.jsx(Ye,{to:"/profile-beauty",className:"px-4 py-2 bg-blue-600 text-white text-xs font-semibold rounded-full hover:bg-blue-700 transition-all shadow-lg shadow-blue-600/20",children:n==="ja"?"":" "}),e.jsx("button",{onClick:()=>C("profile"),className:"px-4 py-2 bg-white text-slate-600 text-xs font-semibold rounded-full border border-slate-200 hover:bg-slate-50 transition-all",children:n==="ja"?"":" "})]})]})]}),e.jsxs("div",{className:"hidden lg:flex gap-4",children:[e.jsxs("div",{className:"text-center px-5 py-3 bg-slate-50 rounded-2xl border border-slate-100",children:[e.jsx("div",{className:"text-[10px] text-slate-400 uppercase tracking-wider font-medium",children:n==="ja"?"":""}),e.jsx("div",{className:"text-lg font-bold text-slate-800 mt-0.5",children:((i==null?void 0:i.user_role)||"user").toUpperCase()})]}),e.jsxs("div",{className:"text-center px-5 py-3 bg-slate-50 rounded-2xl border border-slate-100",children:[e.jsx("div",{className:"text-[10px] text-slate-400 uppercase tracking-wider font-medium",children:n==="ja"?"":""}),e.jsx("div",{className:"text-lg font-bold text-slate-800 mt-0.5",children:i!=null&&i.created_at?new Date(i.created_at).getFullYear():"-"})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-slate-800 via-slate-900 to-slate-800 rounded-[24px] p-6 lg:p-8 text-white relative overflow-hidden shadow-xl",children:[e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-blue-500/10 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 pointer-events-none"}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("span",{className:"text-blue-300 text-xs font-semibold uppercase tracking-wider",children:n==="ja"?"":" "}),e.jsxs("span",{className:"bg-emerald-500/20 text-emerald-300 px-2.5 py-0.5 rounded-full text-[10px] font-semibold flex items-center gap-1",children:[e.jsx(Dl,{className:"w-3 h-3"}),"1P = 1"]})]}),e.jsxs("div",{className:"text-4xl lg:text-5xl font-bold mb-6 tracking-tight",children:[" ",((i==null?void 0:i.points)||0).toLocaleString(),e.jsx("span",{className:"text-lg text-slate-400",children:".00"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:()=>A(!0),className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white text-sm font-semibold py-3 rounded-full transition-all shadow-lg shadow-blue-600/30 flex items-center justify-center gap-2",children:[e.jsx(mn,{className:"w-4 h-4"}),se.withdrawRequest]}),e.jsxs("button",{onClick:()=>C("points"),className:"flex-1 bg-white/10 hover:bg-white/15 backdrop-blur-sm text-white text-sm font-semibold py-3 rounded-full transition-all border border-white/10 flex items-center justify-center gap-2",children:[e.jsx(Dl,{className:"w-4 h-4"}),n==="ja"?"":" "]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-[24px] shadow-xl shadow-slate-200/40 border border-slate-100/80 p-6 lg:p-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-5",children:[e.jsx("h3",{className:"text-base font-bold text-slate-800",children:se.personalInfo}),e.jsx("button",{onClick:()=>{C("profile"),bt(!0)},className:"text-blue-600 hover:text-blue-700 text-xs font-semibold transition-colors",children:n==="ja"?"":" "})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-x-8 gap-y-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-[10px] text-slate-400 uppercase tracking-wider font-medium mb-1",children:se.name}),e.jsx("div",{className:"text-sm font-medium text-slate-800",children:(i==null?void 0:i.name)||"-"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-[10px] text-slate-400 uppercase tracking-wider font-medium mb-1",children:se.email}),e.jsx("div",{className:"text-sm font-medium text-slate-800 truncate",children:(i==null?void 0:i.email)||(d==null?void 0:d.email)})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-[10px] text-slate-400 uppercase tracking-wider font-medium mb-1",children:se.phone}),e.jsx("div",{className:"text-sm font-medium text-slate-800",children:(i==null?void 0:i.phone)||(n==="ja"?"":"")})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-[10px] text-slate-400 uppercase tracking-wider font-medium mb-1",children:n==="ja"?"":""}),e.jsx("div",{className:"text-sm font-medium text-slate-800",children:(i==null?void 0:i.region)||(n==="ja"?"":"")})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-[10px] text-slate-400 uppercase tracking-wider font-medium mb-1",children:se.skinType}),e.jsx("div",{className:"text-sm font-medium text-slate-800",children:(i==null?void 0:i.skin_type)||(n==="ja"?"":"")})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-[10px] text-slate-400 uppercase tracking-wider font-medium mb-1",children:n==="ja"?"":""}),e.jsx("div",{className:"text-sm font-medium text-slate-800 line-clamp-2",children:(i==null?void 0:i.bio)||(n==="ja"?"":"")})]})]})]}),e.jsxs("div",{className:"bg-white rounded-[24px] shadow-xl shadow-slate-200/40 border border-slate-100/80 p-6 lg:p-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-5",children:[e.jsx("h3",{className:"text-base font-bold text-slate-800",children:n==="ja"?"":" "}),e.jsx("button",{onClick:()=>C("applications"),className:"text-blue-600 hover:text-blue-700 text-xs font-semibold transition-colors",children:n==="ja"?"":" "})]}),x.filter(p=>["approved","selected","filming","video_submitted","sns_submitted","pending"].includes(p.status)).length===0?e.jsxs("div",{className:"text-center py-8 text-slate-400",children:[e.jsx(Ms,{className:"w-10 h-10 mx-auto mb-2 text-slate-300"}),e.jsx("p",{className:"text-sm",children:n==="ja"?"":"  "})]}):e.jsx("div",{className:"space-y-3",children:x.filter(p=>["approved","selected","filming","video_submitted","sns_submitted","pending"].includes(p.status)).slice(0,5).map(p=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-2xl hover:bg-slate-100/80 transition-all",children:[e.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx("span",{className:"text-blue-600 text-xs font-bold",children:"K"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("div",{className:"text-sm font-medium text-slate-800 truncate",children:p.campaign_title||(n==="ja"?"":"")}),e.jsx("div",{className:"text-[10px] text-slate-400 uppercase tracking-wider",children:p.status==="pending"?n==="ja"?"":"":p.status==="approved"||p.status==="selected"?n==="ja"?"":"":p.status==="filming"?n==="ja"?"":"":p.status==="video_submitted"?n==="ja"?"":" ":p.status==="sns_submitted"?n==="ja"?"SNS":"SNS ":p.status})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-sm font-bold text-slate-800",children:["",(p.campaign_reward||0).toLocaleString()]}),e.jsx(go,{className:"w-4 h-4 text-slate-300"})]})]},p.id))})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-[24px] shadow-xl shadow-slate-200/40 border border-slate-100/80 p-6",children:[e.jsx("h3",{className:"text-base font-bold text-slate-800 mb-4",children:n==="ja"?"":" "}),e.jsx("div",{className:"space-y-3",children:Ls().map(p=>p.url?e.jsxs("a",{href:p.url.startsWith("http")?p.url:`https://${p.url}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-between p-3 rounded-2xl bg-slate-50 hover:bg-slate-100 transition-all cursor-pointer group",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-9 h-9 bg-gradient-to-br ${p.color} rounded-full flex items-center justify-center`,children:e.jsx("span",{className:"text-white text-[10px] font-bold",children:p.name[0]})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-slate-700 group-hover:text-blue-600 transition-colors",children:p.name}),p.followers?e.jsxs("div",{className:"text-[10px] text-slate-400",children:[p.followers.toLocaleString()," ",n==="ja"?"":""]}):e.jsx("div",{className:"text-[10px] text-slate-400",children:n==="ja"?"":""})]})]}),e.jsx("span",{className:"px-2.5 py-1 text-[10px] font-semibold rounded-full bg-emerald-100 text-emerald-600 group-hover:bg-emerald-200 transition-all",children:"ACTIVE "})]},p.name):e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-2xl bg-slate-50",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-9 h-9 bg-gradient-to-br ${p.color} rounded-full flex items-center justify-center`,children:e.jsx("span",{className:"text-white text-[10px] font-bold",children:p.name[0]})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-slate-700",children:p.name}),e.jsx("div",{className:"text-[10px] text-slate-400"})]})]}),e.jsx("button",{onClick:()=>{C("profile"),bt(!0)},className:"px-2.5 py-1 text-[10px] font-semibold rounded-full bg-slate-200 text-slate-500 hover:bg-slate-300 transition-all",children:"LINK"})]},p.name))})]}),e.jsxs("div",{className:"bg-white rounded-[24px] shadow-xl shadow-slate-200/40 border border-slate-100/80 p-6",children:[e.jsxs("h3",{className:"text-base font-bold text-slate-800 mb-4 flex items-center gap-2",children:[e.jsx(Dl,{className:"w-4 h-4 text-blue-600"}),n==="ja"?"":""]}),(()=>{const p=us();return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("span",{className:"text-xs text-slate-500",children:n==="ja"?"":" "}),e.jsxs("span",{className:"text-sm font-bold text-blue-600",children:[p.successRate,"%"]})]}),e.jsx("div",{className:"w-full bg-slate-100 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all",style:{width:`${Math.min(p.successRate,100)}%`}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("span",{className:"text-xs text-slate-500",children:n==="ja"?"":""}),e.jsxs("span",{className:"text-sm font-bold text-emerald-600",children:[p.completionRate,"%"]})]}),e.jsx("div",{className:"w-full bg-slate-100 rounded-full h-2",children:e.jsx("div",{className:"bg-emerald-500 h-2 rounded-full transition-all",style:{width:`${Math.min(p.completionRate,100)}%`}})})]}),e.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-2xl border border-blue-100",children:e.jsx("p",{className:"text-xs text-blue-700 italic leading-relaxed",children:p.total>0?n==="ja"?`${p.approved}`:`${p.approved}  .  !`:n==="ja"?"":"   !"})})]})})()]}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100/50 rounded-[24px] border border-blue-200/50 p-6",children:[e.jsx("h3",{className:"text-base font-bold text-slate-800 mb-1 text-center",children:n==="ja"?"":" ?"}),e.jsx("p",{className:"text-xs text-slate-500 mb-4 text-center",children:n==="ja"?"LINE":"LINE    "}),e.jsxs("div",{className:"space-y-2.5",children:[e.jsxs("a",{href:ze,target:"_blank",rel:"noopener noreferrer",className:"w-full flex items-center justify-center gap-2 px-5 py-2.5 bg-[#06C755] text-white text-xs font-semibold rounded-full hover:bg-[#05b34d] transition-all shadow-sm",children:[e.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M19.365 9.863c.349 0 .63.285.63.631 0 .345-.281.63-.63.63H17.61v1.125h1.755c.349 0 .63.283.63.63 0 .344-.281.629-.63.629h-2.386c-.345 0-.627-.285-.627-.629V8.108c0-.345.282-.63.63-.63h2.386c.349 0 .63.285.63.63 0 .349-.281.63-.63.63H17.61v1.125h1.755zm-3.855 3.016c0 .27-.174.51-.432.596-.064.021-.133.031-.199.031-.211 0-.391-.09-.51-.25l-2.443-3.317v2.94c0 .344-.279.629-.631.629-.346 0-.626-.285-.626-.629V8.108c0-.27.173-.51.43-.595.06-.023.136-.033.194-.033.195 0 .375.104.495.254l2.462 3.33V8.108c0-.345.282-.63.63-.63.345 0 .63.285.63.63v4.771zm-5.741 0c0 .344-.282.629-.631.629-.345 0-.627-.285-.627-.629V8.108c0-.345.282-.63.63-.63.346 0 .628.285.628.63v4.771zm-2.466.629H4.917c-.345 0-.63-.285-.63-.629V8.108c0-.345.285-.63.63-.63.348 0 .63.285.63.63v4.141h1.756c.348 0 .629.283.629.63 0 .344-.282.629-.629.629M24 10.314C24 4.943 18.615.572 12 .572S0 4.943 0 10.314c0 4.811 4.27 8.842 10.035 9.608.391.082.923.258 1.058.59.12.301.079.766.038 1.08l-.164 1.02c-.045.301-.24 1.186 1.049.645 1.291-.539 6.916-4.078 9.436-6.975C23.176 14.393 24 12.458 24 10.314"})}),"LINE ",n==="ja"?"":""]}),e.jsxs("button",{onClick:()=>{T(!0),J(!1),$({category:"",subject:"",message:""})},className:"w-full flex items-center justify-center gap-2 px-5 py-2.5 bg-white text-blue-600 text-xs font-semibold rounded-full border border-blue-200 hover:bg-blue-50 transition-all shadow-sm",children:[e.jsx(Gi,{className:"w-3.5 h-3.5"}),n==="ja"?"":""]})]})]})]})]})]}),e.jsxs("div",{className:`bg-white rounded-[24px] shadow-xl shadow-slate-200/40 border border-slate-100/80 ${v==="dashboard"?"hidden":""}`,children:[v==="profile"&&e.jsxs("div",{className:"p-6 lg:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-slate-800",children:se.personalInfo}),e.jsx("button",{onClick:()=>{je?Ul():bt(!0)},disabled:W,className:"px-5 py-2.5 bg-blue-600 text-white text-sm rounded-full hover:bg-blue-700 disabled:opacity-50 font-medium transition-all shadow-lg shadow-blue-600/20",children:W?se.processing:je?se.save:se.edit})]}),O&&e.jsx("div",{className:"mb-4 p-3 bg-emerald-50 border border-emerald-200 rounded-xl",children:e.jsx("p",{className:"text-emerald-800 text-sm",children:O})}),D&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-xl",children:e.jsx("p",{className:"text-red-800 text-sm",children:D})}),e.jsxs("div",{className:"mb-6 flex items-center gap-5",children:[e.jsxs("div",{className:"relative group",children:[i!=null&&i.profile_image||me.profile_image?e.jsx("img",{src:(i==null?void 0:i.profile_image)||me.profile_image,alt:"Profile",className:"w-24 h-24 rounded-full object-cover shadow-lg border-2 border-white"}):e.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-blue-500 to-blue-600 rounded-full flex items-center justify-center shadow-lg",children:e.jsx("span",{className:"text-white text-3xl font-bold",children:(Os=((i==null?void 0:i.name)||(d==null?void 0:d.email)||"?")[0])==null?void 0:Os.toUpperCase()})}),e.jsxs("label",{className:"absolute inset-0 flex items-center justify-center bg-black/40 rounded-full opacity-0 group-hover:opacity-100 cursor-pointer transition-opacity",children:[e.jsx(hr,{className:"w-6 h-6 text-white"}),e.jsx("input",{type:"file",accept:"image/*",onChange:ll,className:"hidden"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-slate-700",children:n==="ja"?"":" "}),e.jsx("p",{className:"text-xs text-slate-400 mt-0.5",children:n==="ja"?"5MB":"  (5MB )"}),e.jsxs("label",{className:"inline-flex items-center gap-1.5 mt-2 px-3 py-1.5 bg-blue-50 text-blue-600 text-xs font-medium rounded-full cursor-pointer hover:bg-blue-100 transition-colors",children:[e.jsx(cs,{className:"w-3 h-3"}),n==="ja"?"":" ",e.jsx("input",{type:"file",accept:"image/*",onChange:ll,className:"hidden"})]})]})]}),e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-2xl p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-slate-700",children:n==="ja"?"":"  "}),e.jsx("p",{className:"text-xs text-slate-500 mt-0.5",children:n==="ja"?"":" ,  ,         "})]}),e.jsx(Ye,{to:"/profile-beauty",className:"px-4 py-2 bg-blue-600 text-white text-xs font-semibold rounded-full hover:bg-blue-700 transition-all whitespace-nowrap shadow-lg shadow-blue-600/20",children:n==="ja"?"":""})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-medium text-slate-500",children:[n==="ja"?"":"",e.jsxs("span",{className:"text-xs text-blue-500 ml-1",children:["(",n==="ja"?"":" ",")"]})]}),je?e.jsx("input",{type:"text",value:me.nickname,onChange:p=>Ve({...me,nickname:p.target.value}),className:"mt-1 w-full px-3 py-2.5 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:n==="ja"?": ":": "}):e.jsx("p",{className:"mt-1 text-sm text-slate-800",children:(i==null?void 0:i.nickname)||(n==="ja"?"":"")})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-medium text-slate-500",children:[se.name,e.jsxs("span",{className:"text-xs text-slate-400 ml-1",children:["(",n==="ja"?"":"  ",")"]})]}),je?e.jsx("input",{type:"text",value:me.name,onChange:p=>Ve({...me,name:p.target.value}),className:"mt-1 w-full px-3 py-2.5 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}):e.jsx("p",{className:"mt-1 text-sm text-slate-800",children:(i==null?void 0:i.name)||(n==="ja"?"":" ")})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-slate-500",children:se.email}),e.jsx("p",{className:"mt-1 text-sm text-slate-800",children:(i==null?void 0:i.email)||(d==null?void 0:d.email)})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-medium text-slate-500",children:[se.phone,e.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["(",n==="ja"?"":"",")"]})]}),je?e.jsx("input",{type:"tel",value:me.phone,onChange:p=>Ve({...me,phone:p.target.value}),className:"mt-1 w-full px-3 py-2.5 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"080-1234-5678"}):e.jsx("p",{className:"mt-1 text-sm text-slate-800",children:(i==null?void 0:i.phone)||(n==="ja"?"":" ")})]}),je&&e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-3 col-span-full",children:e.jsx("p",{className:"text-xs text-blue-700",children:n==="ja"?" ":"   .      ."})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-slate-500",children:se.skinType}),je?e.jsxs("select",{value:me.skin_type,onChange:p=>Ve({...me,skin_type:p.target.value}),className:"mt-1 w-full px-3 py-2.5 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:[e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"",children:""})]}):e.jsx("p",{className:"mt-1 text-sm text-slate-800",children:(i==null?void 0:i.skin_type)||""})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-medium text-slate-500",children:[se.age,e.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["(",n==="ja"?"":"",")"]})]}),je?e.jsx("input",{type:"number",value:me.age||"",onChange:p=>Ve({...me,age:p.target.value}),className:"mt-1 w-full px-3 py-2.5 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"25",min:"1",max:"100"}):e.jsx("p",{className:"mt-1 text-sm text-slate-800",children:(i==null?void 0:i.age)||(n==="ja"?"":"")})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-medium text-slate-500",children:[se.region,e.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["(",n==="ja"?"":"",")"]})]}),je?e.jsx("input",{type:"text",value:me.region||"",onChange:p=>Ve({...me,region:p.target.value}),className:"mt-1 w-full px-3 py-2.5 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:n==="ja"?"":""}):e.jsx("p",{className:"mt-1 text-sm text-slate-800",children:(i==null?void 0:i.region)||(n==="ja"?"":"")})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-medium text-slate-500",children:[se.bio,e.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["(",n==="ja"?"":"",")"]})]}),je?e.jsx("textarea",{value:me.bio||"",onChange:p=>Ve({...me,bio:p.target.value}),className:"mt-1 w-full px-3 py-2.5 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",rows:"2",placeholder:n==="ja"?"...":" ..."}):e.jsx("p",{className:"mt-1 text-sm text-slate-800",children:(i==null?void 0:i.bio)||(n==="ja"?"":"")})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-slate-500",children:se.joinDate}),e.jsx("p",{className:"mt-1 text-sm text-slate-800",children:i!=null&&i.created_at?new Date(i.created_at).toLocaleDateString(n==="ko"?"ko-KR":"ja-JP"):"-"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-slate-500",children:se.userRole}),e.jsx("div",{className:"mt-1",children:Re(i==null?void 0:i.user_role)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-slate-500",children:se.currentPoints}),e.jsxs("div",{className:"flex items-center justify-between mt-1 flex-wrap gap-2",children:[e.jsxs("p",{className:"text-lg font-bold text-blue-600",children:[((ks=i==null?void 0:i.points)==null?void 0:ks.toLocaleString())||0,"P"]}),e.jsx("button",{onClick:()=>A(!0),className:"px-3 py-1.5 bg-green-600 text-white text-sm rounded-md hover:bg-green-700 transition-colors min-h-[44px]",children:se.withdrawRequest})]})]})]})]}),e.jsxs("div",{className:"mt-8 pt-6 border-t border-slate-100",children:[e.jsx("h3",{className:"text-base font-semibold text-slate-700 mb-4",children:n==="ko"?"SNS ":"SNS"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-slate-500",children:"Instagram"}),je?e.jsx("input",{type:"url",value:me.instagram_url,onChange:p=>Ve({...me,instagram_url:p.target.value}),className:"mt-1 w-full px-3 py-2.5 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"https://instagram.com/username"}):e.jsx("p",{className:"mt-1 text-sm text-slate-800",children:i!=null&&i.instagram_url?e.jsx("a",{href:i.instagram_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:i.instagram_url}):n==="ja"?"":" "})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-slate-500",children:"TikTok"}),je?e.jsx("input",{type:"url",value:me.tiktok_url,onChange:p=>Ve({...me,tiktok_url:p.target.value}),className:"mt-1 w-full px-3 py-2.5 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"https://tiktok.com/@username"}):e.jsx("p",{className:"mt-1 text-sm text-slate-800",children:i!=null&&i.tiktok_url?e.jsx("a",{href:i.tiktok_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:i.tiktok_url}):n==="ja"?"":" "})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-slate-500",children:"YouTube"}),je?e.jsx("input",{type:"url",value:me.youtube_url,onChange:p=>Ve({...me,youtube_url:p.target.value}),className:"mt-1 w-full px-3 py-2.5 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"https://youtube.com/@username"}):e.jsx("p",{className:"mt-1 text-sm text-slate-800",children:i!=null&&i.youtube_url?e.jsx("a",{href:i.youtube_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:i.youtube_url}):n==="ja"?"":" "})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-slate-500",children:n==="ja"?"SNS":" SNS"}),je?e.jsx("input",{type:"url",value:me.other_sns_url,onChange:p=>Ve({...me,other_sns_url:p.target.value}),className:"mt-1 w-full px-3 py-2.5 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"https://other-sns.com/username"}):e.jsx("p",{className:"mt-1 text-sm text-slate-800",children:i!=null&&i.other_sns_url?e.jsx("a",{href:i.other_sns_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:i.other_sns_url}):n==="ja"?"":" "})]})]})]}),e.jsxs("div",{className:"mt-8 pt-6 border-t border-slate-100",children:[e.jsx("h3",{className:"text-base font-semibold text-slate-700 mb-4",children:n==="ja"?"SNS":"SNS  "}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-slate-500",children:se.instagramFollowers}),je?e.jsx("input",{type:"number",value:me.instagram_followers,onChange:p=>Ve({...me,instagram_followers:p.target.value}),className:"mt-1 w-full px-3 py-2.5 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"1000",min:"0"}):e.jsx("p",{className:"mt-1 text-sm text-slate-800",children:i!=null&&i.instagram_followers?i.instagram_followers.toLocaleString():n==="ja"?"":" "})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-slate-500",children:se.tiktokFollowers}),je?e.jsx("input",{type:"number",value:me.tiktok_followers,onChange:p=>Ve({...me,tiktok_followers:p.target.value}),className:"mt-1 w-full px-3 py-2.5 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"1000",min:"0"}):e.jsx("p",{className:"mt-1 text-sm text-slate-800",children:i!=null&&i.tiktok_followers?i.tiktok_followers.toLocaleString():n==="ja"?"":" "})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-slate-500",children:se.youtubeSubscribers}),je?e.jsx("input",{type:"number",value:me.youtube_subscribers,onChange:p=>Ve({...me,youtube_subscribers:p.target.value}),className:"mt-1 w-full px-3 py-2.5 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"1000",min:"0"}):e.jsx("p",{className:"mt-1 text-sm text-slate-800",children:i!=null&&i.youtube_subscribers?i.youtube_subscribers.toLocaleString():n==="ja"?"":" "})]})]})]}),e.jsxs("div",{className:"mt-6 pt-6 border-t border-slate-100",children:[e.jsx("h3",{className:"text-base font-semibold text-slate-700 mb-4",children:n==="ja"?"":"  "}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"sms_consent",checked:me.sms_consent,onChange:p=>Ve({...me,sms_consent:p.target.checked}),disabled:!je,className:"h-4 w-4 text-blue-600 border-slate-300 rounded focus:ring-blue-500 disabled:opacity-50"}),e.jsx("label",{htmlFor:"sms_consent",className:"ml-2 block text-sm text-gray-700",children:n==="ja"?"SMS":"SMS  "})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"email_consent",checked:me.email_consent,onChange:p=>Ve({...me,email_consent:p.target.checked}),disabled:!je,className:"h-4 w-4 text-blue-600 border-slate-300 rounded focus:ring-blue-500 disabled:opacity-50"}),e.jsx("label",{htmlFor:"email_consent",className:"ml-2 block text-sm text-gray-700",children:n==="ja"?"":"  "})]})]})]})]}),v==="applications"&&e.jsx(Lh,{applications:x,user:d}),v==="applications_old"&&e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:se.campaignApplications}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[e.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ms,{className:"h-8 w-8 text-blue-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:se.totalApplications}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:x.length})]})]})}),e.jsx("div",{className:"bg-green-50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ca,{className:"h-8 w-8 text-green-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:se.approvedApplications}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:x.filter(p=>["approved","selected","filming","video_submitted","sns_submitted","completed"].includes(p.status)).length})]})]})}),e.jsx("div",{className:"bg-purple-50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ql,{className:"h-8 w-8 text-purple-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:se.completedCampaigns}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:x.filter(p=>p.submission_status==="submitted").length})]})]})})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:n==="ko"?"":""}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:n==="ko"?"":""}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:n==="ko"?"":""}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:n==="ko"?"":""}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:n==="ko"?"":""})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:x.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"px-6 py-12 text-center text-gray-500",children:se.noData})}):x.map(p=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:p.campaign_title||(n==="ko"?"  ":"")})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${["approved","selected","filming","video_submitted","sns_submitted","completed"].includes(p.status)?"bg-green-100 text-green-800":p.status==="rejected"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:p.status==="video_submitted"?n==="ko"?" ":"":p.status==="sns_submitted"?n==="ko"?"SNS ":"SNS":p.status==="completed"?n==="ko"?"":"":p.status==="selected"?n==="ko"?"":"":p.status==="filming"?n==="ko"?"":"":p.status==="approved"?n==="ko"?"":"":p.status==="rejected"?n==="ko"?"":"":n==="ko"?"":""})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(p.created_at).toLocaleDateString(n==="ko"?"ko-KR":"ja-JP")}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:["approved","selected","filming","video_submitted","sns_submitted","completed"].includes(p.status)&&p.campaign_guide_type==="pdf"&&p.campaign_guide_pdf_url?e.jsxs("div",{className:"space-y-2",children:[e.jsx(n0,{url:p.campaign_guide_pdf_url,language:n,compact:!0}),p.submission_status!=="submitted"?e.jsxs("button",{onClick:()=>{ct(p),Me(!0)},className:"inline-flex items-center px-3 py-1.5 rounded-md text-xs font-medium bg-blue-100 text-blue-800 hover:bg-blue-200 transition-colors",children:[e.jsx(cs,{className:"w-3.5 h-3.5 mr-1.5"}),n==="ko"?" ":""]}):e.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-md text-xs font-medium bg-green-100 text-green-800",children:[e.jsx(ra,{className:"w-3.5 h-3.5 mr-1.5"}),n==="ko"?"":""]})]}):["approved","selected","filming","video_submitted","sns_submitted","completed"].includes(p.status)&&p.personalized_guide?e.jsxs("div",{className:"space-y-2",children:[e.jsxs("button",{onClick:()=>{ct(p),_e(!0)},className:"inline-flex items-center px-3 py-1.5 rounded-md text-xs font-medium bg-purple-100 text-purple-800 hover:bg-purple-200 transition-colors",children:[e.jsx(Yi,{className:"w-3.5 h-3.5 mr-1.5"}),n==="ko"?" ":""]}),p.submission_status!=="submitted"?e.jsxs("button",{onClick:()=>{ct(p),Me(!0)},className:"inline-flex items-center px-3 py-1.5 rounded-md text-xs font-medium bg-blue-100 text-blue-800 hover:bg-blue-200 transition-colors ml-2",children:[e.jsx(cs,{className:"w-3.5 h-3.5 mr-1.5"}),n==="ko"?" ":""]}):e.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-md text-xs font-medium bg-green-100 text-green-800 ml-2",children:[e.jsx(ra,{className:"w-3.5 h-3.5 mr-1.5"}),n==="ko"?"":""]}),p.guide_sent&&e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[n==="ko"?" ":"",p.guide_sent_at&&e.jsxs("span",{className:"ml-1",children:["(",new Date(p.guide_sent_at).toLocaleDateString("ja-JP"),")"]})]})]}):["approved","selected","filming","video_submitted","sns_submitted","completed"].includes(p.status)?e.jsx("span",{className:"text-xs text-gray-400",children:n==="ko"?" ":""}):e.jsx("span",{className:"text-xs text-gray-400",children:"-"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:["approved","selected","filming","video_submitted","sns_submitted","completed"].includes(p.status)?e.jsxs("div",{className:"space-y-2",children:[(p.tracking_number||p.guide_url)&&e.jsxs("div",{className:"mb-3 p-3 bg-blue-50 rounded-lg",children:[p.tracking_number&&e.jsxs("div",{className:"text-xs mb-2",children:[e.jsx("span",{className:"font-medium text-gray-700",children:n==="ko"?":":":"}),e.jsx("span",{className:"ml-2 text-gray-900",children:p.tracking_number})]}),p.shipping_date&&e.jsxs("div",{className:"text-xs mb-2",children:[e.jsx("span",{className:"font-medium text-gray-700",children:n==="ko"?":":":"}),e.jsx("span",{className:"ml-2 text-gray-900",children:new Date(p.shipping_date).toLocaleDateString(n==="ko"?"ko-KR":"ja-JP")})]}),p.guide_url&&e.jsx("div",{className:"text-xs",children:e.jsxs("a",{href:p.guide_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-blue-600 hover:text-blue-800 font-medium",children:[" ",n==="ko"?" ":""]})})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[p.google_drive_url&&e.jsxs("a",{href:p.google_drive_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 py-1 rounded-md text-xs font-medium bg-blue-100 text-blue-800 hover:bg-blue-200 transition-colors",children:[" ",n==="ko"?" ":"Google Drive"]}),p.google_slides_url&&e.jsxs("a",{href:p.google_slides_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 py-1 rounded-md text-xs font-medium bg-green-100 text-green-800 hover:bg-green-200 transition-colors",children:[" ",n==="ko"?" ":"Google Slides"]})]}),e.jsx("div",{className:"mt-2",children:p.video_links&&y.some(pe=>pe.application_id===p.id&&pe.transaction_type==="reward")?e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-md text-xs font-medium bg-green-100 text-green-800",children:[" ",se.pointRequestApproved]}):p.video_links&&y.some(pe=>pe.application_id===p.id&&pe.transaction_type==="pending")?e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-md text-xs font-medium bg-yellow-100 text-yellow-800",children:[" ",se.pointRequestPending]}):e.jsxs("button",{onClick:pe=>{pe.preventDefault(),pe.stopPropagation(),Ce(p)},type:"button",className:"inline-flex items-center px-3 py-1 rounded-md text-xs font-medium bg-red-100 text-red-800 hover:bg-red-200 transition-colors",children:[" ",se.snsUpload]})}),!p.google_drive_url&&!p.google_slides_url&&e.jsx("span",{className:"text-xs text-gray-400",children:n==="ko"?"  ":""})]}):e.jsx("span",{className:"text-xs text-gray-400",children:"-"})})]},p.id))})]})}),x.some(p=>["approved","selected","filming"].includes(p.status))&&e.jsx("div",{className:"mt-6 p-4 bg-amber-50 border border-amber-200 rounded-lg",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(vs,{className:"h-5 w-5 text-amber-600 mt-0.5 mr-3 flex-shrink-0"}),e.jsxs("div",{className:"text-sm text-amber-800",children:[e.jsx("p",{className:"font-medium mb-1",children:n==="ko"?" SNS  ":" SNS"}),e.jsx("p",{children:n==="ko"?"SNS   1    .    .":"SNS1"})]})]})})]}),v==="withdrawals"&&e.jsxs("div",{className:"p-6 lg:p-8",children:[e.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-6",children:se.withdrawalHistory}),h.length===0?e.jsxs("div",{className:"text-center py-16 text-slate-400",children:[e.jsx(mn,{className:"mx-auto h-12 w-12 text-slate-300 mb-4"}),e.jsx("p",{children:se.noData})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"sm:hidden space-y-3",children:h.map(p=>{var pe;return e.jsxs("div",{className:"border border-slate-100 rounded-2xl p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-900",children:p.withdrawal_method==="paypal"?"PayPal":p.withdrawal_method==="bank"?n==="ko"?" ":"":p.withdrawal_method||"PayPal"}),e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${p.status==="completed"?"bg-green-100 text-green-800":p.status==="approved"?"bg-blue-100 text-blue-800":p.status==="rejected"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:p.status==="completed"?n==="ko"?"":"":p.status==="approved"?n==="ko"?"":"":p.status==="rejected"?n==="ko"?"":"":n==="ko"?"":""})]}),e.jsxs("p",{className:"text-lg font-bold text-gray-900 mb-2",children:["",((pe=p.amount)==null?void 0:pe.toLocaleString())||"0"]}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:[n==="ko"?"":"",": ",new Date(p.created_at).toLocaleDateString(n==="ko"?"ko-KR":"ja-JP")]}),e.jsx("span",{children:p.processed_at?`${n==="ko"?"":""}: ${new Date(p.processed_at).toLocaleDateString(n==="ko"?"ko-KR":"ja-JP")}`:""})]})]},p.id)})}),e.jsx("div",{className:"hidden sm:block overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:n==="ko"?" ":""}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:n==="ko"?"":""}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:n==="ko"?"":""}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:n==="ko"?"":""}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:n==="ko"?"":""})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:h.map(p=>{var pe;return e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:p.withdrawal_method==="paypal"?"PayPal":p.withdrawal_method==="bank"?n==="ko"?" ":"":p.withdrawal_method||"PayPal"}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["",((pe=p.amount)==null?void 0:pe.toLocaleString())||"0"]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${p.status==="completed"?"bg-green-100 text-green-800":p.status==="approved"?"bg-blue-100 text-blue-800":p.status==="rejected"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:p.status==="completed"?n==="ko"?"":"":p.status==="approved"?n==="ko"?"":"":p.status==="rejected"?n==="ko"?"":"":n==="ko"?"":""})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(p.created_at).toLocaleDateString(n==="ko"?"ko-KR":"ja-JP")}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:p.processed_at?new Date(p.processed_at).toLocaleDateString(n==="ko"?"ko-KR":"ja-JP"):"-"})]},p.id)})})]})})]})]}),v==="points"&&e.jsxs("div",{className:"p-6 lg:p-8",children:[e.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-6",children:se.pointHistory}),y.length===0?e.jsxs("div",{className:"text-center py-16 text-slate-400",children:[e.jsx(Dl,{className:"mx-auto h-12 w-12 text-slate-300 mb-4"}),e.jsx("p",{children:se.noData})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"sm:hidden space-y-3",children:y.map(p=>e.jsxs("div",{className:"border border-slate-100 rounded-2xl p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:`text-sm font-medium ${Ze(p.transaction_type)}`,children:mt(p.transaction_type)}),e.jsxs("span",{className:`text-base font-bold ${p.amount>0?"text-green-600":"text-red-600"}`,children:[p.amount>0?"+":"",p.amount.toLocaleString(),"P"]})]}),p.description&&e.jsx("p",{className:"text-xs text-gray-600 mb-2 line-clamp-2",children:p.description}),e.jsx("p",{className:"text-xs text-gray-400",children:new Date(p.created_at).toLocaleDateString(n==="ko"?"ko-KR":"ja-JP")})]},p.id))}),e.jsx("div",{className:"hidden sm:block overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:se.transactionType}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:se.amount}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:se.description}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:se.date})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:y.map(p=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`text-sm font-medium ${Ze(p.transaction_type)}`,children:mt(p.transaction_type)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:`text-sm font-medium ${p.amount>0?"text-green-600":"text-red-600"}`,children:[p.amount>0?"+":"",p.amount.toLocaleString(),"P"]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"text-sm text-gray-900 max-w-xs truncate",children:p.description||"-"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(p.created_at).toLocaleDateString(n==="ko"?"ko-KR":"ja-JP")})]},p.id))})]})})]}),x.some(p=>["approved","selected","filming"].includes(p.status))&&e.jsx("div",{className:"mt-6 p-4 bg-amber-50 border border-amber-200 rounded-lg",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(vs,{className:"h-5 w-5 text-amber-600 mt-0.5 mr-3 flex-shrink-0"}),e.jsxs("div",{className:"text-sm text-amber-800",children:[e.jsx("p",{className:"font-medium mb-1",children:n==="ko"?" SNS  ":" SNS"}),e.jsx("p",{children:n==="ko"?"SNS   1    .    .":"SNS1"})]})]})})]}),v==="settings"&&e.jsxs("div",{className:"p-6 lg:p-8",children:[e.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-6",children:se.accountSettings}),e.jsx("div",{className:"space-y-6",children:e.jsx("div",{className:"border border-red-200 rounded-2xl p-6 bg-red-50",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx(vs,{className:"h-6 w-6 text-red-500 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-base font-semibold text-red-800",children:se.accountDeletion}),e.jsx("p",{className:"mt-2 text-sm text-red-600",children:se.deleteAccountWarning}),e.jsx("p",{className:"mt-1 text-sm text-red-600",children:se.deleteAccountDescription}),e.jsx("div",{className:"mt-4",children:e.jsxs("button",{onClick:()=>X(!0),className:"inline-flex items-center px-4 py-2.5 text-sm font-medium text-white bg-red-600 hover:bg-red-700 rounded-full transition-all",children:[e.jsx(Ki,{className:"w-4 h-4 mr-2"}),se.deleteAccount]})})]})]})})})]})]})]})]}),e.jsxs("div",{className:"md:hidden pb-24",children:[e.jsx("div",{className:`px-4 pt-5 pb-3 ${v==="dashboard"?"hidden":""}`,children:e.jsxs("div",{className:"bg-white rounded-[24px] shadow-lg shadow-slate-100/50 border border-slate-100/80 p-5",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[i!=null&&i.profile_image?e.jsx("img",{src:i.profile_image,alt:"Profile",className:"w-16 h-16 rounded-full object-cover shadow-lg border-2 border-white flex-shrink-0"}):e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-blue-600 rounded-full flex items-center justify-center shadow-lg shadow-blue-600/25 flex-shrink-0",children:e.jsx("span",{className:"text-white text-xl font-bold",children:(xs=((i==null?void 0:i.name)||(d==null?void 0:d.email)||"?")[0])==null?void 0:xs.toUpperCase()})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h2",{className:"text-base font-bold text-slate-800 truncate",children:(i==null?void 0:i.nickname)||(i==null?void 0:i.name)||(d==null?void 0:d.email)}),e.jsx("p",{className:"text-xs text-slate-400 truncate",children:(i==null?void 0:i.email)||(d==null?void 0:d.email)}),e.jsx("div",{className:"mt-1",children:Re(i==null?void 0:i.user_role)})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 py-3 border-t border-slate-100",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-base font-bold text-slate-800",children:x.length}),e.jsx("div",{className:"text-[10px] text-slate-400",children:n==="ja"?"":""})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-base font-bold text-blue-600",children:((i==null?void 0:i.points)||0).toLocaleString()}),e.jsx("div",{className:"text-[10px] text-slate-400",children:n==="ja"?"":""})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-base font-bold text-slate-800",children:h.length}),e.jsx("div",{className:"text-[10px] text-slate-400",children:n==="ja"?"":""})]})]}),e.jsx("button",{onClick:()=>A(!0),className:"w-full mt-3 bg-blue-600 hover:bg-blue-700 text-white text-sm font-semibold py-2.5 rounded-full transition-colors shadow-lg shadow-blue-600/20",children:se.withdrawRequest})]})}),e.jsxs("div",{className:"px-4",children:[D&&D!==((Ta=se.messages)==null?void 0:Ta.error)&&e.jsx("div",{className:"mb-3 bg-red-50 border border-red-200 rounded-2xl p-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(vs,{className:"h-4 w-4 text-red-400 flex-shrink-0"}),e.jsx("p",{className:"text-xs text-red-800",children:D})]})}),O&&e.jsx("div",{className:"mb-3 bg-emerald-50 border border-emerald-200 rounded-2xl p-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ca,{className:"h-4 w-4 text-emerald-400 flex-shrink-0"}),e.jsx("p",{className:"text-xs text-emerald-800",children:O})]})})]}),e.jsxs("div",{className:"px-4 mt-2",children:[v==="dashboard"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gradient-to-br from-slate-800 via-slate-900 to-slate-800 rounded-[24px] p-5 text-white relative overflow-hidden shadow-xl",children:[e.jsx("div",{className:"absolute top-0 right-0 w-40 h-40 bg-blue-500/10 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 pointer-events-none"}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("span",{className:"text-blue-300 text-[10px] font-semibold uppercase tracking-wider",children:n==="ja"?"":" "}),e.jsx("span",{className:"bg-emerald-500/20 text-emerald-300 px-2 py-0.5 rounded-full text-[9px] font-semibold",children:"1P = 1"})]}),e.jsxs("div",{className:"text-3xl font-bold mb-4 tracking-tight",children:[" ",((i==null?void 0:i.points)||0).toLocaleString(),e.jsx("span",{className:"text-sm text-slate-400",children:".00"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>A(!0),className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white text-xs font-semibold py-2.5 rounded-full transition-all shadow-lg shadow-blue-600/30 flex items-center justify-center gap-1.5",children:[e.jsx(mn,{className:"w-3.5 h-3.5"}),se.withdrawRequest]}),e.jsxs("button",{onClick:()=>C("points"),className:"flex-1 bg-white/10 hover:bg-white/15 text-white text-xs font-semibold py-2.5 rounded-full transition-all border border-white/10 flex items-center justify-center gap-1.5",children:[e.jsx(Dl,{className:"w-3.5 h-3.5"}),n==="ja"?"":" "]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-[24px] shadow-lg shadow-slate-100/50 border border-slate-100/80 p-4",children:[e.jsx("h3",{className:"text-sm font-bold text-slate-800 mb-3",children:n==="ja"?"":" "}),e.jsx("div",{className:"space-y-2",children:Ls().map(p=>p.url?e.jsxs("a",{href:p.url.startsWith("http")?p.url:`https://${p.url}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-between p-2.5 rounded-xl bg-slate-50 hover:bg-slate-100 transition-all group",children:[e.jsxs("div",{className:"flex items-center gap-2.5",children:[e.jsx("div",{className:`w-8 h-8 bg-gradient-to-br ${p.color} rounded-full flex items-center justify-center`,children:e.jsx("span",{className:"text-white text-[9px] font-bold",children:p.name[0]})}),e.jsx("span",{className:"text-xs font-medium text-slate-700 group-hover:text-blue-600 transition-colors",children:p.name})]}),e.jsx("span",{className:"px-2 py-0.5 text-[9px] font-semibold rounded-full bg-emerald-100 text-emerald-600 group-hover:bg-emerald-200 transition-all",children:"ACTIVE "})]},p.name):e.jsxs("div",{className:"flex items-center justify-between p-2.5 rounded-xl bg-slate-50",children:[e.jsxs("div",{className:"flex items-center gap-2.5",children:[e.jsx("div",{className:`w-8 h-8 bg-gradient-to-br ${p.color} rounded-full flex items-center justify-center`,children:e.jsx("span",{className:"text-white text-[9px] font-bold",children:p.name[0]})}),e.jsx("span",{className:"text-xs font-medium text-slate-700",children:p.name})]}),e.jsx("button",{onClick:()=>{C("profile"),bt(!0)},className:"px-2 py-0.5 text-[9px] font-semibold rounded-full bg-slate-200 text-slate-500",children:"LINK"})]},p.name))})]}),e.jsxs("div",{className:"bg-white rounded-[24px] shadow-lg shadow-slate-100/50 border border-slate-100/80 p-4",children:[e.jsxs("h3",{className:"text-sm font-bold text-slate-800 mb-3 flex items-center gap-1.5",children:[e.jsx(Dl,{className:"w-3.5 h-3.5 text-blue-600"}),n==="ja"?"":""]}),(()=>{const p=us();return e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-1",children:[e.jsx("span",{className:"text-[10px] text-slate-500",children:n==="ja"?"":" "}),e.jsxs("span",{className:"text-xs font-bold text-blue-600",children:[p.successRate,"%"]})]}),e.jsx("div",{className:"w-full bg-slate-100 rounded-full h-1.5",children:e.jsx("div",{className:"bg-blue-600 h-1.5 rounded-full",style:{width:`${Math.min(p.successRate,100)}%`}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-1",children:[e.jsx("span",{className:"text-[10px] text-slate-500",children:n==="ja"?"":""}),e.jsxs("span",{className:"text-xs font-bold text-emerald-600",children:[p.completionRate,"%"]})]}),e.jsx("div",{className:"w-full bg-slate-100 rounded-full h-1.5",children:e.jsx("div",{className:"bg-emerald-500 h-1.5 rounded-full",style:{width:`${Math.min(p.completionRate,100)}%`}})})]})]})})()]}),e.jsxs("div",{className:"bg-white rounded-[24px] shadow-lg shadow-slate-100/50 border border-slate-100/80 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"text-sm font-bold text-slate-800",children:n==="ja"?"":" "}),e.jsx("button",{onClick:()=>C("applications"),className:"text-blue-600 text-[10px] font-semibold",children:n==="ja"?"":" "})]}),x.filter(p=>["approved","selected","filming","video_submitted","sns_submitted","pending"].includes(p.status)).length===0?e.jsxs("div",{className:"text-center py-6 text-slate-400",children:[e.jsx(Ms,{className:"w-8 h-8 mx-auto mb-1.5 text-slate-300"}),e.jsx("p",{className:"text-xs",children:n==="ja"?"":" "})]}):e.jsx("div",{className:"space-y-2",children:x.filter(p=>["approved","selected","filming","video_submitted","sns_submitted","pending"].includes(p.status)).slice(0,4).map(p=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-xl",children:[e.jsxs("div",{className:"flex items-center gap-2.5 min-w-0",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx("span",{className:"text-blue-600 text-[9px] font-bold",children:"K"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("div",{className:"text-xs font-medium text-slate-800 truncate",children:p.campaign_title||"Campaign"}),e.jsx("div",{className:"text-[9px] text-slate-400 uppercase",children:p.status==="pending"?n==="ja"?"":"":n==="ja"?"":""})]})]}),e.jsxs("span",{className:"text-xs font-bold text-slate-800",children:["",(p.campaign_reward||0).toLocaleString()]})]},p.id))})]}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100/50 rounded-[24px] border border-blue-200/50 p-4",children:[e.jsx("h3",{className:"text-sm font-bold text-slate-800 mb-0.5 text-center",children:n==="ja"?"":" ?"}),e.jsx("p",{className:"text-[10px] text-slate-500 mb-3 text-center",children:n==="ja"?"LINE":"LINE    "}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("a",{href:ze,target:"_blank",rel:"noopener noreferrer",className:"flex-1 flex items-center justify-center gap-1.5 px-3 py-2 bg-[#06C755] text-white text-[10px] font-semibold rounded-full",children:[e.jsx("svg",{className:"w-3.5 h-3.5",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M19.365 9.863c.349 0 .63.285.63.631 0 .345-.281.63-.63.63H17.61v1.125h1.755c.349 0 .63.283.63.63 0 .344-.281.629-.63.629h-2.386c-.345 0-.627-.285-.627-.629V8.108c0-.345.282-.63.63-.63h2.386c.349 0 .63.285.63.63 0 .349-.281.63-.63.63H17.61v1.125h1.755zm-3.855 3.016c0 .27-.174.51-.432.596-.064.021-.133.031-.199.031-.211 0-.391-.09-.51-.25l-2.443-3.317v2.94c0 .344-.279.629-.631.629-.346 0-.626-.285-.626-.629V8.108c0-.27.173-.51.43-.595.06-.023.136-.033.194-.033.195 0 .375.104.495.254l2.462 3.33V8.108c0-.345.282-.63.63-.63.345 0 .63.285.63.63v4.771zm-5.741 0c0 .344-.282.629-.631.629-.345 0-.627-.285-.627-.629V8.108c0-.345.282-.63.63-.63.346 0 .628.285.628.63v4.771zm-2.466.629H4.917c-.345 0-.63-.285-.63-.629V8.108c0-.345.285-.63.63-.63.348 0 .63.285.63.63v4.141h1.756c.348 0 .629.283.629.63 0 .344-.282.629-.629.629M24 10.314C24 4.943 18.615.572 12 .572S0 4.943 0 10.314c0 4.811 4.27 8.842 10.035 9.608.391.082.923.258 1.058.59.12.301.079.766.038 1.08l-.164 1.02c-.045.301-.24 1.186 1.049.645 1.291-.539 6.916-4.078 9.436-6.975C23.176 14.393 24 12.458 24 10.314"})}),"LINE"]}),e.jsxs("button",{onClick:()=>{T(!0),J(!1),$({category:"",subject:"",message:""})},className:"flex-1 flex items-center justify-center gap-1.5 px-3 py-2 bg-white text-blue-600 text-[10px] font-semibold rounded-full border border-blue-200 shadow-sm",children:[e.jsx(Gi,{className:"w-3 h-3"}),n==="ja"?"":""]})]})]})]}),e.jsxs("div",{className:`bg-white rounded-[24px] shadow-lg shadow-slate-100/50 border border-slate-100/80 ${v==="dashboard"?"hidden":""}`,children:[v==="profile"&&e.jsxs("div",{className:"p-4 sm:p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4 sm:mb-6",children:[e.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-slate-800",children:se.personalInfo}),e.jsx("button",{onClick:()=>{je?Ul():bt(!0)},disabled:W,className:"px-4 py-2 bg-blue-600 text-white text-sm rounded-full hover:bg-blue-700 disabled:opacity-50 font-medium",children:W?se.processing:je?se.save:se.edit})]}),O&&e.jsx("div",{className:"mb-4 p-3 bg-emerald-50 border border-emerald-200 rounded-xl",children:e.jsx("p",{className:"text-emerald-800 text-sm",children:O})}),D&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-xl",children:e.jsx("p",{className:"text-red-800 text-sm",children:D})}),e.jsxs("div",{className:"mb-5 flex items-center gap-4",children:[e.jsxs("div",{className:"relative group",children:[i!=null&&i.profile_image||me.profile_image?e.jsx("img",{src:(i==null?void 0:i.profile_image)||me.profile_image,alt:"Profile",className:"w-20 h-20 rounded-full object-cover shadow-lg border-2 border-white"}):e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-500 to-blue-600 rounded-full flex items-center justify-center shadow-lg",children:e.jsx("span",{className:"text-white text-2xl font-bold",children:((i==null?void 0:i.name)||(d==null?void 0:d.email)||"?")[0].toUpperCase()})}),e.jsxs("label",{className:"absolute inset-0 flex items-center justify-center bg-black/40 rounded-full opacity-0 group-hover:opacity-100 cursor-pointer transition-opacity",children:[e.jsx(hr,{className:"w-5 h-5 text-white"}),e.jsx("input",{type:"file",accept:"image/*",onChange:ll,className:"hidden"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-slate-700",children:n==="ja"?"":" "}),e.jsxs("label",{className:"mt-1 inline-flex items-center gap-1.5 px-3 py-1.5 bg-blue-50 text-blue-600 text-[10px] font-semibold rounded-full cursor-pointer hover:bg-blue-100 transition-all",children:[e.jsx(cs,{className:"w-3 h-3"}),n==="ja"?"":" ",e.jsx("input",{type:"file",accept:"image/*",onChange:ll,className:"hidden"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-slate-500 mb-1",children:se.name}),je?e.jsx("input",{type:"text",value:me.name,onChange:p=>Ve({...me,name:p.target.value}),className:"w-full px-3 py-2.5 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}):e.jsx("p",{className:"text-sm text-slate-800 py-2",children:(i==null?void 0:i.name)||(n==="ja"?"":" ")})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-slate-500 mb-1",children:se.email}),e.jsx("p",{className:"text-sm text-slate-800 py-2",children:(i==null?void 0:i.email)||(d==null?void 0:d.email)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-slate-500 mb-1",children:se.phone}),je?e.jsx("input",{type:"tel",value:me.phone,onChange:p=>Ve({...me,phone:p.target.value}),className:"w-full px-3 py-2.5 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"080-1234-5678"}):e.jsx("p",{className:"text-sm text-slate-800 py-2",children:(i==null?void 0:i.phone)||(n==="ja"?"":" ")})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-slate-500 mb-1",children:se.skinType}),je?e.jsxs("select",{value:me.skin_type,onChange:p=>Ve({...me,skin_type:p.target.value}),className:"w-full px-3 py-2.5 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:[e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"",children:""})]}):e.jsx("p",{className:"text-sm text-slate-800 py-2",children:(i==null?void 0:i.skin_type)||""})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-slate-500 mb-1",children:se.age}),je?e.jsx("input",{type:"number",value:me.age||"",onChange:p=>Ve({...me,age:p.target.value}),className:"w-full px-3 py-2.5 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"25",min:"1",max:"100"}):e.jsx("p",{className:"text-sm text-slate-800 py-2",children:(i==null?void 0:i.age)||(n==="ja"?"":"")})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-slate-500 mb-1",children:se.region}),je?e.jsx("input",{type:"text",value:me.region||"",onChange:p=>Ve({...me,region:p.target.value}),className:"w-full px-3 py-2.5 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:n==="ja"?"":""}):e.jsx("p",{className:"text-sm text-slate-800 py-2",children:(i==null?void 0:i.region)||(n==="ja"?"":"")})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-slate-500 mb-1",children:se.bio}),je?e.jsx("textarea",{value:me.bio||"",onChange:p=>Ve({...me,bio:p.target.value}),className:"w-full px-3 py-2.5 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",rows:"2",placeholder:n==="ja"?"...":" ..."}):e.jsx("p",{className:"text-sm text-slate-800 py-2",children:(i==null?void 0:i.bio)||(n==="ja"?"":"")})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-slate-500 mb-1",children:se.joinDate}),e.jsx("p",{className:"text-sm text-slate-800 py-2",children:i!=null&&i.created_at?new Date(i.created_at).toLocaleDateString(n==="ko"?"ko-KR":"ja-JP"):"-"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-slate-500 mb-1",children:se.userRole}),e.jsx("div",{className:"py-2",children:Re(i==null?void 0:i.user_role)})]})]})]}),e.jsxs("div",{className:"mt-6 pt-5 border-t border-slate-100",children:[e.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-3",children:n==="ko"?"SNS ":"SNS"}),e.jsx("div",{className:"space-y-3",children:[{label:"Instagram",key:"instagram_url",placeholder:"https://instagram.com/username"},{label:"TikTok",key:"tiktok_url",placeholder:"https://tiktok.com/@username"},{label:"YouTube",key:"youtube_url",placeholder:"https://youtube.com/@username"},{label:n==="ja"?"":"",key:"other_sns_url",placeholder:"https://..."}].map(p=>e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-slate-500 mb-1",children:p.label}),je?e.jsx("input",{type:"url",value:me[p.key],onChange:pe=>Ve({...me,[p.key]:pe.target.value}),className:"w-full px-3 py-2.5 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:p.placeholder}):e.jsx("p",{className:"text-sm text-slate-800 py-1 truncate",children:i!=null&&i[p.key]?e.jsx("a",{href:i[p.key],target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:i[p.key]}):n==="ja"?"":" "})]},p.key))})]}),e.jsxs("div",{className:"mt-5 pt-5 border-t border-slate-100",children:[e.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-3",children:n==="ja"?"SNS":"SNS  "}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:[{label:"Instagram",key:"instagram_followers",display:i==null?void 0:i.instagram_followers},{label:"TikTok",key:"tiktok_followers",display:i==null?void 0:i.tiktok_followers},{label:"YouTube",key:"youtube_subscribers",display:i==null?void 0:i.youtube_subscribers}].map(p=>e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-medium text-slate-400 mb-1",children:p.label}),je?e.jsx("input",{type:"number",value:me[p.key],onChange:pe=>Ve({...me,[p.key]:pe.target.value}),className:"w-full px-2 py-2 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-xs",placeholder:"0",min:"0"}):e.jsx("p",{className:"text-xs font-medium text-slate-700",children:p.display?p.display.toLocaleString():n==="ja"?"":""})]},p.key))})]}),e.jsxs("div",{className:"mt-5 pt-5 border-t border-slate-100",children:[e.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-3",children:n==="ja"?"":"  "}),e.jsxs("div",{className:"space-y-2.5",children:[e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:me.sms_consent,onChange:p=>Ve({...me,sms_consent:p.target.checked}),disabled:!je,className:"h-4 w-4 text-blue-600 border-slate-300 rounded focus:ring-blue-500 disabled:opacity-50"}),e.jsx("span",{className:"text-sm text-slate-700",children:n==="ja"?"SMS":"SMS  "})]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:me.email_consent,onChange:p=>Ve({...me,email_consent:p.target.checked}),disabled:!je,className:"h-4 w-4 text-blue-600 border-slate-300 rounded focus:ring-blue-500 disabled:opacity-50"}),e.jsx("span",{className:"text-sm text-slate-700",children:n==="ja"?"":"  "})]})]})]})]}),v==="applications"&&e.jsx(Lh,{applications:x,user:d}),v==="applications_old"&&e.jsx("div",{className:"p-4 text-center text-slate-400 text-sm py-12",children:se.noData}),v==="withdrawals"&&e.jsxs("div",{className:"p-4",children:[e.jsx("h2",{className:"text-base font-semibold text-slate-800 mb-4",children:se.withdrawalHistory}),h.length===0?e.jsxs("div",{className:"text-center py-10 text-slate-400",children:[e.jsx(mn,{className:"mx-auto h-10 w-10 text-slate-300 mb-3"}),e.jsx("p",{className:"text-sm",children:se.noData})]}):e.jsx("div",{className:"space-y-3",children:h.map(p=>{var pe;return e.jsxs("div",{className:"border border-slate-100 rounded-2xl p-4 bg-slate-50/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-slate-700",children:p.withdrawal_method==="paypal"?"PayPal":p.withdrawal_method==="bank"?n==="ko"?" ":"":p.withdrawal_method||"PayPal"}),e.jsx("span",{className:`px-2.5 py-0.5 text-[10px] font-semibold rounded-full ${p.status==="completed"?"bg-emerald-100 text-emerald-700":p.status==="approved"?"bg-blue-100 text-blue-700":p.status==="rejected"?"bg-red-100 text-red-700":"bg-amber-100 text-amber-700"}`,children:p.status==="completed"?n==="ko"?"":"":p.status==="approved"?n==="ko"?"":"":p.status==="rejected"?n==="ko"?"":"":n==="ko"?"":""})]}),e.jsxs("p",{className:"text-lg font-bold text-slate-800",children:["",((pe=p.amount)==null?void 0:pe.toLocaleString())||"0"]}),e.jsx("p",{className:"text-[10px] text-slate-400 mt-1",children:new Date(p.created_at).toLocaleDateString(n==="ko"?"ko-KR":"ja-JP")})]},p.id)})})]}),v==="points"&&e.jsxs("div",{className:"p-4",children:[e.jsx("h2",{className:"text-base font-semibold text-slate-800 mb-4",children:se.pointHistory}),y.length===0?e.jsxs("div",{className:"text-center py-10 text-slate-400",children:[e.jsx(Dl,{className:"mx-auto h-10 w-10 text-slate-300 mb-3"}),e.jsx("p",{className:"text-sm",children:se.noData})]}):e.jsx("div",{className:"space-y-3",children:y.map(p=>e.jsxs("div",{className:"border border-slate-100 rounded-2xl p-4 bg-slate-50/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:`text-xs font-medium ${Ze(p.transaction_type)}`,children:mt(p.transaction_type)}),e.jsxs("span",{className:`text-base font-bold ${p.amount>0?"text-emerald-600":"text-red-500"}`,children:[p.amount>0?"+":"",p.amount.toLocaleString(),"P"]})]}),p.description&&e.jsx("p",{className:"text-[10px] text-slate-500 line-clamp-1",children:p.description}),e.jsx("p",{className:"text-[10px] text-slate-400 mt-1",children:new Date(p.created_at).toLocaleDateString(n==="ko"?"ko-KR":"ja-JP")})]},p.id))})]}),v==="settings"&&e.jsxs("div",{className:"p-4",children:[e.jsx("h2",{className:"text-base font-semibold text-slate-800 mb-4",children:se.accountSettings}),e.jsx("div",{className:"border border-red-200 rounded-2xl p-4 bg-red-50",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(vs,{className:"h-5 w-5 text-red-500 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-red-800",children:se.accountDeletion}),e.jsx("p",{className:"mt-1 text-xs text-red-600",children:se.deleteAccountWarning}),e.jsxs("button",{onClick:()=>X(!0),className:"mt-3 inline-flex items-center px-3 py-2 text-xs font-medium text-white bg-red-600 hover:bg-red-700 rounded-full",children:[e.jsx(Ki,{className:"w-3.5 h-3.5 mr-1.5"}),se.deleteAccount]})]})]})})]})]})]}),e.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-50 bg-white/90 backdrop-blur-xl border-t border-slate-200 shadow-[0_-4px_20px_rgba(0,0,0,0.06)]",children:e.jsx("nav",{className:"flex items-center justify-around px-2 py-1.5 max-w-lg mx-auto",children:Is.map(p=>{const pe=p.icon;return e.jsxs("button",{onClick:()=>C(p.id),className:`flex flex-col items-center gap-0.5 py-1.5 px-3 rounded-xl transition-all min-w-[56px] ${v===p.id?"text-blue-600":"text-slate-400"}`,children:[e.jsx(pe,{className:`w-5 h-5 ${v===p.id?"text-blue-600":""}`}),e.jsx("span",{className:`text-[9px] font-medium leading-tight ${v===p.id?"text-blue-600":""}`,children:p.mobileLabel})]},p.id)})})})]}),ie&&e.jsx("div",{className:"fixed inset-0 bg-slate-900/50 backdrop-blur-sm overflow-y-auto h-full w-full z-[9999] px-4",children:e.jsx("div",{className:"relative top-10 sm:top-20 mx-auto p-5 sm:p-6 w-full max-w-sm sm:max-w-md shadow-2xl rounded-[24px] bg-white mb-10 border border-slate-100",children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-5",children:[e.jsx("h3",{className:"text-lg font-bold text-slate-800",children:se.withdrawRequestTitle}),e.jsx("button",{onClick:()=>A(!1),className:"p-1.5 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded-full transition-all",children:e.jsx(Et,{className:"h-5 w-5"})})]}),D&&e.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:D}),O&&e.jsx("div",{className:"mb-4 p-3 bg-green-100 border border-green-400 text-green-700 rounded",children:O}),e.jsxs("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsxs("p",{className:"text-sm text-blue-800 font-medium",children:[" ",n==="ja"?"1 = 1":"1 = 1"]}),e.jsx("p",{className:"text-xs text-blue-600 mt-1",children:n==="ja"?"PayPal":"PayPal   "})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[se.withdrawAmount," *"]}),e.jsx("input",{type:"number",value:re.amount,onChange:p=>I({...re,amount:p.target.value}),placeholder:n==="ja"?"":"  ",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",max:(i==null?void 0:i.points)||0}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[n==="ja"?"":" ",": ",((br=i==null?void 0:i.points)==null?void 0:br.toLocaleString())||0,"P",re.amount&&e.jsxs("span",{className:"ml-2 text-green-600 font-medium",children:["( ",parseInt(re.amount||0).toLocaleString(),")"]})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[se.paypalEmail," *"]}),e.jsx("input",{type:"email",value:re.paypalEmail,onChange:p=>I({...re,paypalEmail:p.target.value}),placeholder:n==="ja"?"PayPal ":"PayPal  ",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[se.paypalName," *"]}),e.jsx("input",{type:"text",value:re.paypalName,onChange:p=>I({...re,paypalName:p.target.value}),placeholder:n==="ja"?"PayPal ":"PayPal  ()",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:se.withdrawReason}),e.jsx("textarea",{value:re.reason,onChange:p=>I({...re,reason:p.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:n==="ja"?"":"  ()"})]})]}),e.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>A(!1),className:"px-5 py-2.5 bg-slate-100 text-slate-600 rounded-full hover:bg-slate-200 text-sm font-medium transition-all",children:se.cancel}),e.jsx("button",{onClick:xe,disabled:W,className:"px-5 py-2.5 bg-blue-600 text-white rounded-full hover:bg-blue-700 disabled:opacity-50 text-sm font-medium transition-all shadow-lg shadow-blue-600/20",children:W?se.processing:se.submitWithdrawRequest})]})]})})}),ne&&e.jsx("div",{className:"fixed inset-0 bg-slate-900/50 backdrop-blur-sm overflow-y-auto h-full w-full z-50 px-4",children:e.jsx("div",{className:"relative top-10 sm:top-20 mx-auto p-5 sm:p-6 w-full max-w-sm sm:max-w-md shadow-2xl rounded-[24px] bg-white mb-10 border border-slate-100",children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-5",children:[e.jsx("h3",{className:"text-lg font-bold text-slate-800",children:se.accountDeletion}),e.jsx("button",{onClick:()=>X(!1),className:"p-1.5 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded-full transition-all",children:e.jsx(Et,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:[se.withdrawalReason," *"]}),e.jsxs("select",{value:he,onChange:p=>B(p.target.value),className:"w-full px-3 py-2.5 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500 text-sm",children:[e.jsx("option",{value:"",children:n==="ja"?"":" "}),e.jsx("option",{value:"service",children:se.reasons.service}),e.jsx("option",{value:"privacy",children:se.reasons.privacy}),e.jsx("option",{value:"unused",children:se.reasons.unused}),e.jsx("option",{value:"other",children:se.reasons.other})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:se.withdrawalDetails}),e.jsx("textarea",{value:L,onChange:p=>ee(p.target.value),rows:3,className:"w-full px-3 py-2.5 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500 text-sm",placeholder:n==="ja"?"":"   "})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:[se.confirmDeletion," *"]}),e.jsx("p",{className:"text-sm text-slate-500 mb-2",children:se.confirmText}),e.jsx("input",{type:"text",value:ge,onChange:p=>G(p.target.value),placeholder:se.confirmPlaceholder,className:"w-full px-3 py-2.5 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500 text-sm"})]})]}),e.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>X(!1),className:"px-5 py-2.5 bg-slate-100 text-slate-600 rounded-full hover:bg-slate-200 text-sm font-medium transition-all",children:se.cancel}),e.jsx("button",{onClick:zt,disabled:W,className:"px-5 py-2.5 bg-red-600 text-white rounded-full hover:bg-red-700 disabled:opacity-50 text-sm font-medium transition-all",children:W?se.processing:se.submitWithdrawal})]})]})})}),ye&&e.jsx("div",{className:"fixed inset-0 bg-slate-900/50 backdrop-blur-sm overflow-y-auto h-full w-full z-50 px-4",children:e.jsx("div",{className:"relative top-10 sm:top-20 mx-auto p-5 sm:p-6 w-full max-w-sm sm:max-w-md shadow-2xl rounded-[24px] bg-white mb-10 border border-slate-100",children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-5",children:[e.jsx("h3",{className:"text-lg font-bold text-slate-800",children:se.pointRequestTitle}),e.jsx("button",{onClick:()=>fe(!1),className:"p-1.5 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded-full transition-all",children:e.jsx(Et,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"mb-4 p-3 bg-blue-50 rounded-xl",children:[e.jsx("p",{className:"text-sm text-blue-800",children:se.snsUploadDescription}),De&&e.jsxs("p",{className:"text-sm text-blue-600 mt-2 font-medium",children:[n==="ja"?"":"",": ",De.campaign_title]})]}),D&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-xl",children:e.jsx("p",{className:"text-sm text-red-800",children:D})}),O&&e.jsx("div",{className:"mb-4 p-3 bg-emerald-50 border border-emerald-200 rounded-xl",children:e.jsx("p",{className:"text-sm text-emerald-800",children:O})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:[se.snsUploadUrl," *"]}),e.jsx("input",{type:"url",value:oe.sns_upload_url,onChange:p=>Ne({...oe,sns_upload_url:p.target.value}),placeholder:"https://instagram.com/p/...",className:"w-full px-3 py-2.5 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx("p",{className:"mt-1 text-xs text-slate-400",children:n==="ja"?"InstagramTikTokYouTubeSNSURL":"Instagram, TikTok, YouTube  SNS  URL "})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:se.additionalNotes}),e.jsx("textarea",{value:oe.notes,onChange:p=>Ne({...oe,notes:p.target.value}),rows:3,className:"w-full px-3 py-2.5 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:n==="ja"?"":"   "})]})]}),e.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>fe(!1),className:"px-5 py-2.5 bg-slate-100 text-slate-600 rounded-full hover:bg-slate-200 text-sm font-medium transition-all",children:se.cancel}),e.jsx("button",{onClick:Se,disabled:W||!oe.sns_upload_url||typeof oe.sns_upload_url!="string"||!oe.sns_upload_url.trim(),className:"px-5 py-2.5 bg-blue-600 text-white rounded-full hover:bg-blue-700 disabled:opacity-50 text-sm font-medium transition-all shadow-lg shadow-blue-600/20",children:W?se.processing:se.submitPointRequest})]})]})})}),k&&e.jsx("div",{className:"fixed inset-0 bg-slate-900/50 backdrop-blur-sm overflow-y-auto h-full w-full z-[9999] px-4",children:e.jsx("div",{className:"relative top-10 sm:top-20 mx-auto p-5 sm:p-6 w-full max-w-sm sm:max-w-md shadow-2xl rounded-[24px] bg-white mb-10 border border-slate-100",children:Y?e.jsxs("div",{className:"text-center py-10",children:[e.jsx("div",{className:"w-16 h-16 bg-emerald-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(bo,{className:"w-7 h-7 text-emerald-600"})}),e.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-2",children:n==="ja"?"":" "}),e.jsx("p",{className:"text-sm text-slate-500",children:n==="ja"?"":" .    ."})]}):e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-5",children:[e.jsx("h3",{className:"text-lg font-bold text-slate-800",children:n==="ja"?"":""}),e.jsx("button",{onClick:()=>T(!1),className:"p-1.5 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded-full transition-all",children:e.jsx(Et,{className:"h-5 w-5"})})]}),D&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-xl",children:e.jsx("p",{className:"text-sm text-red-800",children:D})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-medium text-slate-500 mb-1.5",children:[n==="ja"?"":""," *"]}),e.jsxs("select",{value:w.category,onChange:p=>$({...w,category:p.target.value}),className:"w-full px-3 py-2.5 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm bg-white",children:[e.jsx("option",{value:"",children:n==="ja"?"":""}),e.jsx("option",{value:"campaign",children:n==="ja"?"":" "}),e.jsx("option",{value:"payment",children:n==="ja"?"":"/ "}),e.jsx("option",{value:"account",children:n==="ja"?"":" "}),e.jsx("option",{value:"technical",children:n==="ja"?"":" "}),e.jsx("option",{value:"other",children:n==="ja"?"":""})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-medium text-slate-500 mb-1.5",children:[n==="ja"?"":""," *"]}),e.jsx("input",{type:"text",value:w.subject,onChange:p=>$({...w,subject:p.target.value}),className:"w-full px-3 py-2.5 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:n==="ja"?"":"  "})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-medium text-slate-500 mb-1.5",children:[n==="ja"?"":" "," *"]}),e.jsx("textarea",{value:w.message,onChange:p=>$({...w,message:p.target.value}),rows:5,className:"w-full px-3 py-2.5 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm resize-none",placeholder:n==="ja"?"...":"  ..."})]})]}),e.jsxs("div",{className:"mt-5 flex gap-3",children:[e.jsx("button",{onClick:()=>T(!1),className:"flex-1 px-5 py-2.5 bg-slate-100 text-slate-600 rounded-full hover:bg-slate-200 text-sm font-medium transition-all",children:se.cancel}),e.jsxs("button",{onClick:Ut,disabled:_||!w.category||!w.subject||!w.message,className:"flex-1 px-5 py-2.5 bg-blue-600 text-white rounded-full hover:bg-blue-700 disabled:opacity-50 text-sm font-medium transition-all shadow-lg shadow-blue-600/20 flex items-center justify-center gap-2",children:[e.jsx(bo,{className:"w-3.5 h-3.5"}),_?n==="ja"?"...":"...":n==="ja"?"":""]})]}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-100 text-center",children:[e.jsx("p",{className:"text-[10px] text-slate-400 mb-2",children:n==="ja"?"LINE":" LINE  "}),e.jsxs("a",{href:ze,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1.5 px-4 py-2 bg-[#06C755] text-white text-xs font-semibold rounded-full hover:bg-[#05b34d] transition-all",children:[e.jsx("svg",{className:"w-3.5 h-3.5",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M19.365 9.863c.349 0 .63.285.63.631 0 .345-.281.63-.63.63H17.61v1.125h1.755c.349 0 .63.283.63.63 0 .344-.281.629-.63.629h-2.386c-.345 0-.627-.285-.627-.629V8.108c0-.345.282-.63.63-.63h2.386c.349 0 .63.285.63.63 0 .349-.281.63-.63.63H17.61v1.125h1.755zm-3.855 3.016c0 .27-.174.51-.432.596-.064.021-.133.031-.199.031-.211 0-.391-.09-.51-.25l-2.443-3.317v2.94c0 .344-.279.629-.631.629-.346 0-.626-.285-.626-.629V8.108c0-.27.173-.51.43-.595.06-.023.136-.033.194-.033.195 0 .375.104.495.254l2.462 3.33V8.108c0-.345.282-.63.63-.63.345 0 .63.285.63.63v4.771zm-5.741 0c0 .344-.282.629-.631.629-.345 0-.627-.285-.627-.629V8.108c0-.345.282-.63.63-.63.346 0 .628.285.628.63v4.771zm-2.466.629H4.917c-.345 0-.63-.285-.63-.629V8.108c0-.345.285-.63.63-.63.348 0 .63.285.63.63v4.141h1.756c.348 0 .629.283.629.63 0 .344-.282.629-.629.629M24 10.314C24 4.943 18.615.572 12 .572S0 4.943 0 10.314c0 4.811 4.27 8.842 10.035 9.608.391.082.923.258 1.058.59.12.301.079.766.038 1.08l-.164 1.02c-.045.301-.24 1.186 1.049.645 1.291-.539 6.916-4.078 9.436-6.975C23.176 14.393 24 12.458 24 10.314"})}),"LINE ",n==="ja"?"":""]})]})]})})}),e.jsx(r0,{isOpen:te,onClose:()=>{_e(!1),ct(null)},guide:we==null?void 0:we.personalized_guide,campaignTitle:we==null?void 0:we.campaign_title}),e.jsx(mb,{isOpen:qe,onClose:()=>{Me(!1),ct(null)},application:we,onSuccess:$t})]})},wb=()=>{const{user:d}=Ss(),{language:o}=rs(),[n,i]=b.useState(0),[m,x]=b.useState([]),[j,h]=b.useState(!0),[S,y]=b.useState(!1),[M,q]=b.useState(""),[K,v]=b.useState(""),[C,N]=b.useState(!1),[Q,k]=b.useState({amount:"",paypal_email:"",paypal_name:"",confirm_email:""}),T={ko:{title:"PayPal ",currentPoints:" ",minimumWithdrawal:"  : 1,000P",withdrawalHistory:" ",requestWithdrawal:" ",amount:" ",paypalEmail:"PayPal ",paypalName:"PayPal  ",confirmEmail:"PayPal  ",submit:" ",cancel:"",status:{pending:" ",processing:" ",completed:"",rejected:""},errors:{insufficientPoints:" ",minimumAmount:"   1,000P",emailMismatch:"PayPal   ",invalidEmail:"   ",required:"  "},success:{withdrawalRequested:"  .  1-3 ."}},ja:{title:"PayPal",currentPoints:"",minimumWithdrawal:"1,000P",withdrawalHistory:"",requestWithdrawal:"",amount:"",paypalEmail:"PayPal",paypalName:"PayPal",confirmEmail:"PayPal",submit:"",cancel:"",status:{pending:"",processing:"",completed:"",rejected:""},errors:{insufficientPoints:"",minimumAmount:"1,000P",emailMismatch:"PayPal",invalidEmail:"",required:""},success:{withdrawalRequested:"1-3"}}},w=T[o]||T.ko;b.useEffect(()=>{d&&$()},[d]);const $=async()=>{try{h(!0),q("");const X=await Te.userPoints.getUserTotalPoints(d.id);i(X);const he=await Te.withdrawals.getByUser(d.id);x(he)}catch(X){console.error("  :",X),q("  .")}finally{h(!1)}},_=()=>{const{amount:X,paypal_email:he,paypal_name:B,confirm_email:L}=Q;if(!X||!he||!B||!L)return q(w.errors.required),!1;const ee=parseInt(X);return ee<1e3?(q(w.errors.minimumAmount),!1):ee>n?(q(w.errors.insufficientPoints),!1):he!==L?(q(w.errors.emailMismatch),!1):/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(he)?!0:(q(w.errors.invalidEmail),!1)},H=async X=>{if(X.preventDefault(),!!_())try{y(!0),q(""),await Te.withdrawals.create({user_id:d.id,amount:parseInt(Q.amount),paypal_email:Q.paypal_email,paypal_name:Q.paypal_name}),await Te.userPoints.deductPoints(d.id,parseInt(Q.amount),`PayPal   - ${Q.paypal_email}`),v(w.success.withdrawalRequested),N(!1),k({amount:"",paypal_email:"",paypal_name:"",confirm_email:""}),setTimeout(()=>{$()},1e3)}catch(he){console.error("  :",he),q(`  : ${he.message}`)}finally{y(!1)}},Y=X=>{switch(X){case"pending":return e.jsx(as,{className:"h-4 w-4 text-yellow-500"});case"processing":return e.jsx(st,{className:"h-4 w-4 text-blue-500 animate-spin"});case"completed":return e.jsx(He,{className:"h-4 w-4 text-green-500"});case"rejected":return e.jsx(ts,{className:"h-4 w-4 text-red-500"});default:return e.jsx(as,{className:"h-4 w-4 text-gray-500"})}},J=X=>{switch(X){case"pending":return"bg-yellow-100 text-yellow-800";case"processing":return"bg-blue-100 text-blue-800";case"completed":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},ne=X=>new Date(X).toLocaleDateString("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"});return j?e.jsx("div",{className:"flex justify-center items-center py-12",children:e.jsx(st,{className:"h-8 w-8 animate-spin text-blue-600"})}):e.jsx("div",{className:"max-w-4xl mx-auto p-4 sm:p-6",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsx("div",{className:"p-4 sm:p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(fn,{className:"h-6 w-6 text-blue-600 mr-3 flex-shrink-0"}),e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:w.title})]}),e.jsxs("button",{onClick:$,disabled:j,className:"flex items-center px-3 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 disabled:opacity-50",children:[e.jsx(Ea,{className:"h-4 w-4 mr-2"}),""]})]})}),M&&e.jsx("div",{className:"p-4 bg-red-50 border-l-4 border-red-400",children:e.jsxs("div",{className:"flex",children:[e.jsx(vs,{className:"h-5 w-5 text-red-400 mr-2"}),e.jsx("p",{className:"text-red-700",children:M})]})}),K&&e.jsx("div",{className:"p-4 bg-green-50 border-l-4 border-green-400",children:e.jsxs("div",{className:"flex",children:[e.jsx(He,{className:"h-5 w-5 text-green-400 mr-2"}),e.jsx("p",{className:"text-green-700",children:K})]})}),e.jsxs("div",{className:"p-4 sm:p-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-4 sm:p-6 mb-4 sm:mb-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-2",children:w.currentPoints}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(gn,{className:"h-6 w-6 sm:h-8 sm:w-8 text-blue-600 mr-2"}),e.jsxs("span",{className:"text-2xl sm:text-3xl font-bold text-blue-600",children:[n.toLocaleString(),"P"]})]}),e.jsx("p",{className:"text-sm text-gray-600 mt-2",children:w.minimumWithdrawal})]}),e.jsxs("button",{onClick:()=>N(!0),disabled:n<1e3,className:"flex items-center justify-center px-4 sm:px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors min-h-[44px]",children:[e.jsx(fn,{className:"h-5 w-5 mr-2"}),w.requestWithdrawal]})]})}),C&&e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 sm:p-6 mb-4 sm:mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:w.requestWithdrawal}),e.jsxs("form",{onSubmit:H,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:w.amount}),e.jsx("input",{type:"number",min:"1000",max:n,value:Q.amount,onChange:X=>k(he=>({...he,amount:X.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"1000"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:w.paypalEmail}),e.jsx("input",{type:"email",value:Q.paypal_email,onChange:X=>k(he=>({...he,paypal_email:X.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"paypal@example.com"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:w.paypalName}),e.jsx("input",{type:"text",value:Q.paypal_name,onChange:X=>k(he=>({...he,paypal_name:X.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:""})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:w.confirmEmail}),e.jsx("input",{type:"email",value:Q.confirm_email,onChange:X=>k(he=>({...he,confirm_email:X.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"paypal@example.com"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>N(!1),className:"flex-1 px-4 py-3 sm:py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50",children:w.cancel}),e.jsxs("button",{type:"submit",disabled:S,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400 flex items-center justify-center",children:[S?e.jsx(st,{className:"h-4 w-4 animate-spin mr-2"}):e.jsx(ho,{className:"h-4 w-4 mr-2"}),w.submit]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:w.withdrawalHistory}),m.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(fn,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),e.jsx("p",{children:"  ."})]}):e.jsx("div",{className:"space-y-4",children:m.map(X=>{var he;return e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[Y(X.status),e.jsxs("div",{className:"ml-3",children:[e.jsxs("p",{className:"font-medium text-gray-900",children:[X.amount.toLocaleString(),"P"]}),e.jsx("p",{className:"text-sm text-gray-600",children:(he=X.bank_info)==null?void 0:he.paypal_email}),e.jsx("p",{className:"text-xs text-gray-500",children:ne(X.requested_at)})]})]}),e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${J(X.status)}`,children:w.status[X.status]})]}),X.notes&&e.jsx("div",{className:"mt-3 p-3 bg-gray-50 rounded-md",children:e.jsx("p",{className:"text-sm text-gray-700",children:X.notes})})]},X.id)})})]})]})]})})},Bh=()=>{const{user:d}=Ss(),{language:o}=rs(),[n,i]=b.useState({name:"",email:"",age:"",skin_type:"",instagram_url:"",youtube_url:"",tiktok_url:"",bio:"",sms_consent:!0,email_consent:!0}),[m,x]=b.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[j,h]=b.useState(!0),[S,y]=b.useState(!1),[M,q]=b.useState(""),[K,v]=b.useState(""),C={ko:{title:" ",subtitle:"    ",personalInfo:"",accountSettings:" ",name:"",email:"",age:"",skinType:" ",socialMedia:" ",instagramUrl:" URL",youtubeUrl:" URL",tiktokUrl:" URL",bio:"",changePassword:" ",currentPassword:" ",newPassword:" ",confirmPassword:" ",save:"",saving:" ...",backToHome:" ",marketingConsent:"  ",smsConsent:"SMS  ",emailConsent:"  ",skinTypes:{dry:"",oily:"",combination:"",sensitive:"",normal:""}},ja:{title:"",subtitle:"",personalInfo:"",accountSettings:"",name:"",email:"",age:"",skinType:"",socialMedia:"",instagramUrl:"Instagram URL",youtubeUrl:"YouTube URL",tiktokUrl:"TikTok URL",bio:"",changePassword:"",currentPassword:"",newPassword:"",confirmPassword:"",save:"",saving:"...",backToHome:"",marketingConsent:"",smsConsent:"SMS",emailConsent:"",skinTypes:{dry:"",oily:"",combination:"",sensitive:"",normal:""}}},N=C[o]||C.ko;b.useEffect(()=>{d&&Q()},[d]);const Q=async()=>{try{h(!0);const w=await Te.userProfiles.get(d.id);i(w?{name:w.name||"",email:w.email||d.email||"",age:w.age||"",skin_type:w.skin_type||"",instagram_url:w.instagram_url||"",youtube_url:w.youtube_url||"",tiktok_url:w.tiktok_url||"",bio:w.bio||""}:$=>({...$,email:d.email||""}))}catch{console.error("  "),q("  .")}finally{h(!1)}},k=async()=>{try{if(y(!0),q(""),v(""),!n.name.trim()){q(" .");return}const w={user_id:d.id,name:n.name.trim(),email:n.email.trim(),age:n.age?parseInt(n.age):null,skin_type:n.skin_type||null,instagram_url:n.instagram_url.trim()||null,youtube_url:n.youtube_url.trim()||null,tiktok_url:n.tiktok_url.trim()||null,bio:n.bio.trim()||null},$=await Te.userProfiles.upsert(w);v("  ."),setTimeout(()=>{v("")},3e3)}catch(w){console.error("  "),q(`  : ${w.message}`)}finally{y(!1)}},T=async()=>{try{if(y(!0),q(""),v(""),!m.currentPassword||!m.newPassword||!m.confirmPassword){q("   .");return}if(m.newPassword!==m.confirmPassword){q("   .");return}if(m.newPassword.length<6){q("   6  .");return}const{error:w}=await ae.auth.updateUser({password:m.newPassword});if(w)throw w;v("  ."),x({currentPassword:"",newPassword:"",confirmPassword:""}),setTimeout(()=>{v("")},3e3)}catch(w){console.error("  :",w),q(`  : ${w.message}`)}finally{y(!1)}};return j?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"h-6 w-6 animate-spin"}),e.jsx("span",{children:"  ..."})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50 py-4 sm:py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-4 sm:mb-8",children:[e.jsx("div",{className:"flex items-center space-x-2 sm:space-x-4 mb-4",children:e.jsxs(Ye,{to:"/",className:"flex items-center text-purple-600 hover:text-purple-700 transition-colors",children:[e.jsx(ol,{className:"h-5 w-5 mr-2"}),N.backToHome]})}),e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:N.title}),e.jsx("p",{className:"text-gray-600 mt-2",children:N.subtitle})]}),M&&e.jsxs(Ns,{className:"mb-6 border-red-200 bg-red-50",children:[e.jsx(Kt,{className:"h-4 w-4 text-red-600"}),e.jsx(_s,{className:"text-red-800",children:M})]}),K&&e.jsxs(Ns,{className:"mb-6 border-green-200 bg-green-50",children:[e.jsx(He,{className:"h-4 w-4 text-green-600"}),e.jsx(_s,{className:"text-green-800",children:K})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 lg:gap-8",children:[e.jsxs(_t,{children:[e.jsxs(kt,{children:[e.jsxs(Ct,{className:"flex items-center",children:[e.jsx(Fs,{className:"h-5 w-5 mr-2"}),N.personalInfo]}),e.jsx(is,{children:"  "})]}),e.jsxs(At,{className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx($e,{htmlFor:"name",children:N.name}),e.jsx(ht,{id:"name",value:n.name,onChange:w=>i($=>({...$,name:w.target.value})),placeholder:N.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($e,{htmlFor:"email",children:N.email}),e.jsx(ht,{id:"email",type:"email",value:n.email,onChange:w=>i($=>({...$,email:w.target.value})),placeholder:N.email,disabled:!0,className:"bg-gray-50"}),e.jsx("p",{className:"text-sm text-gray-500",children:"   "})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($e,{htmlFor:"age",children:N.age}),e.jsx(ht,{id:"age",type:"number",value:n.age,onChange:w=>i($=>({...$,age:w.target.value})),placeholder:N.age,min:"1",max:"120"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($e,{htmlFor:"skin_type",children:N.skinType}),e.jsxs(Zi,{value:n.skin_type,onValueChange:w=>i($=>({...$,skin_type:w})),children:[e.jsx(Ii,{children:e.jsx(Fi,{placeholder:N.skinType})}),e.jsxs(Wi,{children:[e.jsx(ys,{value:"dry",children:N.skinTypes.dry}),e.jsx(ys,{value:"oily",children:N.skinTypes.oily}),e.jsx(ys,{value:"combination",children:N.skinTypes.combination}),e.jsx(ys,{value:"sensitive",children:N.skinTypes.sensitive}),e.jsx(ys,{value:"normal",children:N.skinTypes.normal})]})]})]}),e.jsx(xo,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-medium flex items-center",children:[e.jsx(ko,{className:"h-5 w-5 mr-2"}),N.socialMedia]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs($e,{htmlFor:"instagram_url",className:"flex items-center",children:[e.jsx(na,{className:"h-4 w-4 mr-2"}),N.instagramUrl]}),e.jsx(ht,{id:"instagram_url",value:n.instagram_url,onChange:w=>i($=>({...$,instagram_url:w.target.value})),placeholder:"https://instagram.com/username"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs($e,{htmlFor:"youtube_url",className:"flex items-center",children:[e.jsx(Aa,{className:"h-4 w-4 mr-2"}),N.youtubeUrl]}),e.jsx(ht,{id:"youtube_url",value:n.youtube_url,onChange:w=>i($=>({...$,youtube_url:w.target.value})),placeholder:"https://youtube.com/@username"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs($e,{htmlFor:"tiktok_url",className:"flex items-center",children:[e.jsx($i,{className:"h-4 w-4 mr-2"}),N.tiktokUrl]}),e.jsx(ht,{id:"tiktok_url",value:n.tiktok_url,onChange:w=>i($=>({...$,tiktok_url:w.target.value})),placeholder:"https://tiktok.com/@username"})]})]}),e.jsx(xo,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsx($e,{className:"text-base font-semibold",children:N.marketingConsent}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"sms_consent",checked:n.sms_consent,onChange:w=>i($=>({...$,sms_consent:w.target.checked})),className:"w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500"}),e.jsx($e,{htmlFor:"sms_consent",className:"font-normal cursor-pointer",children:N.smsConsent})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"email_consent",checked:n.email_consent,onChange:w=>i($=>({...$,email_consent:w.target.checked})),className:"w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500"}),e.jsx($e,{htmlFor:"email_consent",className:"font-normal cursor-pointer",children:N.emailConsent})]})]})]}),e.jsx(xo,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($e,{htmlFor:"bio",children:N.bio}),e.jsx(Sa,{id:"bio",value:n.bio,onChange:w=>i($=>({...$,bio:w.target.value})),placeholder:N.bio,rows:4})]}),e.jsx(Ee,{onClick:k,disabled:S,className:"w-full bg-purple-600 hover:bg-purple-700",children:S?e.jsxs(e.Fragment,{children:[e.jsx(st,{className:"h-4 w-4 animate-spin mr-2"}),N.saving]}):e.jsxs(e.Fragment,{children:[e.jsx(zl,{className:"h-4 w-4 mr-2"}),N.save]})})]})]}),e.jsxs(_t,{children:[e.jsxs(kt,{children:[e.jsxs(Ct,{className:"flex items-center",children:[e.jsx(fr,{className:"h-5 w-5 mr-2"}),N.accountSettings]}),e.jsx(is,{children:"   "})]}),e.jsx(At,{className:"space-y-4 sm:space-y-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:N.changePassword}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($e,{htmlFor:"currentPassword",children:N.currentPassword}),e.jsx(ht,{id:"currentPassword",type:"password",value:m.currentPassword,onChange:w=>x($=>({...$,currentPassword:w.target.value})),placeholder:N.currentPassword})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($e,{htmlFor:"newPassword",children:N.newPassword}),e.jsx(ht,{id:"newPassword",type:"password",value:m.newPassword,onChange:w=>x($=>({...$,newPassword:w.target.value})),placeholder:N.newPassword})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($e,{htmlFor:"confirmPassword",children:N.confirmPassword}),e.jsx(ht,{id:"confirmPassword",type:"password",value:m.confirmPassword,onChange:w=>x($=>({...$,confirmPassword:w.target.value})),placeholder:N.confirmPassword})]}),e.jsx(Ee,{onClick:T,disabled:S,variant:"outline",className:"w-full",children:S?e.jsxs(e.Fragment,{children:[e.jsx(st,{className:"h-4 w-4 animate-spin mr-2"}),N.saving]}):e.jsxs(e.Fragment,{children:[e.jsx(fr,{className:"h-4 w-4 mr-2"}),N.changePassword]})})]})})]})]})]})})},Sb=[{value:"dry",label:""},{value:"oily",label:""},{value:"combination",label:""},{value:"sensitive",label:""},{value:"normal",label:""}],kb=[{value:"very_fair",label:""},{value:"fair",label:""},{value:"medium",label:""},{value:"tan",label:""},{value:"dark",label:""}],Cb=[{value:"spring_warm",label:""},{value:"summer_cool",label:""},{value:"autumn_warm",label:""},{value:"winter_cool",label:""},{value:"warm_neutral",label:""},{value:"cool_neutral",label:""},{value:"true_neutral",label:""}],Ab=[{value:"dry",label:""},{value:"oily",label:""},{value:"normal",label:""}],Eb=[{value:"skincare",label:""},{value:"haircare",label:""},{value:"diet_fitness",label:""},{value:"makeup",label:""},{value:"wellness",label:""},{value:"fashion",label:""},{value:"travel",label:""},{value:"parenting",label:""}],Tb=[{value:"beginner",label:"",description:"CapCutiMovie"},{value:"intermediate",label:"",description:"Premiere ProFinal Cut Pro"},{value:"expert",label:"",description:""}],Db=[{value:"beginner",label:"",description:""},{value:"intermediate",label:"",description:""},{value:"expert",label:"",description:""}],qb=[{value:"1k_10k",label:"1K10K"},{value:"10k_100k",label:"10K100K"},{value:"100k_1m",label:"100K1M"},{value:"1m_plus",label:"1M+"}],zb=[{value:"weekly",label:"1"},{value:"biweekly",label:"23"},{value:"monthly",label:"1"}],Ub=[{value:"female",label:""},{value:"male",label:""},{value:"other",label:""},{value:"prefer_not",label:""}],Mb=[{value:"public",label:""},{value:"private",label:""}],un=[{value:"possible",label:""},{value:"impossible",label:""}],Rb=[{value:"always",label:""},{value:"sometimes",label:""},{value:"never",label:""}],Lb=[{value:"always",label:""},{value:"sometimes",label:""},{value:"never",label:""}],Ob=[{value:"always",label:""},{value:"sometimes",label:""},{value:"never",label:""}],Bb=[{value:"longform",label:""},{value:"shortform",label:""},{value:"both",label:""}],Hb=[{value:"fast",label:""},{value:"normal",label:""},{value:"slow",label:""}],Gb=[{value:"atcosme_possible",label:"@cosme"},{value:"lips_possible",label:"LIPS"},{value:"both_possible",label:""},{value:"impossible",label:""}],Vb=[{value:"trouble",label:""},{value:"acne",label:""},{value:"pores",label:""},{value:"pigmentation",label:""},{value:"wrinkles",label:""},{value:"redness",label:""},{value:"atopy",label:""},{value:"inner_dryness",label:""},{value:"oiliness",label:""}],Yb=[{value:"damaged",label:""},{value:"weak",label:""},{value:"dandruff",label:""},{value:"oily_scalp",label:""},{value:"sensitive_scalp",label:""},{value:"frizzy",label:""},{value:"perm_damage",label:""},{value:"bleach_damage",label:""}],Kb=[{value:"overall_weight",label:""},{value:"spot_reduction",label:""},{value:"weight_maintain",label:""},{value:"muscle_gain",label:""},{value:"cellulite",label:""},{value:"skin_elasticity",label:""},{value:"binge_eating",label:""},{value:"nutrition",label:""},{value:"digestion",label:""}],Jb=[{value:"shorts",label:"Shorts / Reels"},{value:"longform",label:"YouTube"},{value:"feed",label:""},{value:"live",label:""},{value:"story",label:""},{value:"group_buy",label:""}],Qb=[{value:"product_review",label:""},{value:"unboxing",label:""},{value:"tutorial",label:""},{value:"sponsorship",label:""},{value:"ambassador",label:""}],Xb=[{value:"emotional",label:""},{value:"review",label:""},{value:"tutorial",label:""},{value:"vlog",label:"VLOG"},{value:"unboxing",label:""},{value:"comparison",label:""},{value:"haul",label:""},{value:"asmr",label:"ASMR"}],$b=[{value:"japanese",label:""},{value:"english",label:""},{value:"korean",label:""},{value:"chinese",label:""}],Zb=[{value:"popup",label:""},{value:"drugstore",label:""},{value:"atcosme_store",label:"@cosme STORE"},{value:"loft",label:""},{value:"donki",label:""},{value:"department",label:""},{value:"other",label:""}],Fb=[{value:"husband",label:""},{value:"wife",label:""},{value:"parents",label:""}],Ib=[{value:"instagram",label:"Instagram"},{value:"tiktok",label:"TikTok"},{value:"youtube",label:"YouTube"}],Wb=[{value:"line_voom",label:"LINE VOOM"},{value:"youtube",label:"YouTube"},{value:"instagram",label:"Instagram"},{value:"tiktok",label:"TikTok"}],Pb=[{value:"yucho",label:""},{value:"mufg",label:"UFJ"},{value:"smbc",label:""},{value:"mizuho",label:""},{value:"resona",label:""},{value:"rakuten",label:""},{value:"paypay",label:"PayPay"},{value:"sbi",label:"SBI"},{value:"aeon",label:""},{value:"sony",label:""},{value:"au_jibun",label:"au"},{value:"seven",label:""},{value:"other",label:""}],ej=[{value:"futsu",label:""},{value:"touza",label:""}],Hh=[{value:"hokkaido",label:""},{value:"aomori",label:""},{value:"iwate",label:""},{value:"miyagi",label:""},{value:"akita",label:""},{value:"yamagata",label:""},{value:"fukushima",label:""},{value:"ibaraki",label:""},{value:"tochigi",label:""},{value:"gunma",label:""},{value:"saitama",label:""},{value:"chiba",label:""},{value:"tokyo",label:""},{value:"kanagawa",label:""},{value:"niigata",label:""},{value:"toyama",label:""},{value:"ishikawa",label:""},{value:"fukui",label:""},{value:"yamanashi",label:""},{value:"nagano",label:""},{value:"gifu",label:""},{value:"shizuoka",label:""},{value:"aichi",label:""},{value:"mie",label:""},{value:"shiga",label:""},{value:"kyoto",label:""},{value:"osaka",label:""},{value:"hyogo",label:""},{value:"nara",label:""},{value:"wakayama",label:""},{value:"tottori",label:""},{value:"shimane",label:""},{value:"okayama",label:""},{value:"hiroshima",label:""},{value:"yamaguchi",label:""},{value:"tokushima",label:""},{value:"kagawa",label:""},{value:"ehime",label:""},{value:"kochi",label:""},{value:"fukuoka",label:""},{value:"saga",label:""},{value:"nagasaki",label:""},{value:"kumamoto",label:""},{value:"oita",label:""},{value:"miyazaki",label:""},{value:"kagoshima",label:""},{value:"okinawa",label:""}],tj={basic:["nickname","name","age","gender","phone","bio","instagram_url","youtube_url","tiktok_url"],appearance:["skin_type","skin_shade","personal_color","hair_type","skin_concerns","hair_concerns","nail_usage","circle_lens_usage","glasses_usage"],content:["primary_interest","editing_level","shooting_level","follower_range","upload_frequency","video_styles","video_length_style","shortform_tempo"],preferences:["content_formats","collaboration_preferences","offline_visit","review_platform","mirroring_available","mirroring_channels","languages"],family:["child_appearance","family_appearance"],account:["postcode","prefecture","address","detail_address","bank_name","branch_code","account_type","account_number","account_holder"]},Bt=({options:d,value:o,onChange:n,columns:i=3})=>e.jsx("div",{className:`grid grid-cols-2 sm:grid-cols-${i} gap-2`,children:d.map(m=>e.jsx("button",{type:"button",onClick:()=>n(o===m.value?"":m.value),className:`px-3 py-2.5 rounded-xl text-sm font-medium transition-all border ${o===m.value?"bg-blue-600 text-white border-blue-600 shadow-lg shadow-blue-600/20":"bg-white text-slate-600 border-slate-200 hover:border-blue-300 hover:bg-blue-50"}`,children:m.label},m.value))}),Gh=({options:d,value:o,onChange:n})=>e.jsx("div",{className:"space-y-2",children:d.map(i=>e.jsxs("button",{type:"button",onClick:()=>n(o===i.value?"":i.value),className:`w-full text-left px-4 py-3 rounded-xl border transition-all ${o===i.value?"bg-blue-50 border-blue-400 shadow-sm":"bg-white border-slate-200 hover:border-blue-300"}`,children:[e.jsx("span",{className:`font-medium text-sm ${o===i.value?"text-blue-700":"text-slate-700"}`,children:i.label}),i.description&&e.jsx("span",{className:`block text-xs mt-0.5 ${o===i.value?"text-blue-500":"text-slate-400"}`,children:i.description})]},i.value))}),tl=({options:d,values:o=[],onChange:n,columns:i=2})=>{const m=Array.isArray(o)?o:[],x=j=>{m.includes(j)?n(m.filter(h=>h!==j)):n([...m,j])};return e.jsx("div",{className:`grid grid-cols-${i} gap-2`,children:d.map(j=>e.jsx("button",{type:"button",onClick:()=>x(j.value),className:`px-3 py-2.5 rounded-xl text-sm font-medium transition-all border text-left ${m.includes(j.value)?"bg-blue-50 text-blue-700 border-blue-400":"bg-white text-slate-600 border-slate-200 hover:border-blue-300"}`,children:e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`w-4 h-4 rounded-md border-2 flex items-center justify-center flex-shrink-0 ${m.includes(j.value)?"bg-blue-600 border-blue-600":"border-slate-300"}`,children:m.includes(j.value)&&e.jsx(He,{className:"w-3 h-3 text-white"})}),j.label]})},j.value))})},sj=({children:d=[],onChange:o})=>{const n=Array.isArray(d)?d:[],i=()=>o([...n,{gender:"boy",age:""}]),m=j=>o(n.filter((h,S)=>S!==j)),x=(j,h,S)=>{const y=[...n];y[j]={...y[j],[h]:S},o(y)};return e.jsxs("div",{className:"space-y-3",children:[n.map((j,h)=>e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-slate-50 rounded-xl",children:[e.jsxs("select",{value:j.gender||"boy",onChange:S=>x(h,"gender",S.target.value),className:"px-3 py-2 border border-slate-200 rounded-lg text-sm",children:[e.jsx("option",{value:"boy",children:""}),e.jsx("option",{value:"girl",children:""})]}),e.jsx("input",{type:"number",value:j.age||"",onChange:S=>x(h,"age",S.target.value),placeholder:"",min:"0",max:"20",className:"w-20 px-3 py-2 border border-slate-200 rounded-lg text-sm"}),e.jsx("span",{className:"text-sm text-slate-500",children:""}),e.jsx("button",{type:"button",onClick:()=>m(h),className:"ml-auto text-red-400 hover:text-red-600",children:e.jsx(Et,{className:"w-4 h-4"})})]},h)),e.jsxs("button",{type:"button",onClick:i,className:"flex items-center gap-2 px-4 py-2.5 text-sm text-blue-600 bg-blue-50 rounded-xl hover:bg-blue-100 transition-colors",children:[e.jsx(jo,{className:"w-4 h-4"})," "]})]})},Be=({label:d,hint:o})=>e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700",children:d}),o&&e.jsx("p",{className:"text-xs text-slate-400 mt-0.5",children:o})]}),lj=()=>e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-2xl p-4 mb-6",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx(Ca,{className:"w-5 h-5 text-blue-500 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-blue-800",children:""}),e.jsx("p",{className:"text-xs text-blue-600 mt-1 leading-relaxed",children:" "})]})]})}),aj=()=>{var J;const{user:d,signOut:o}=Ss(),{language:n}=rs(),[i,m]=b.useState("basic"),[x,j]=b.useState(!0),[h,S]=b.useState(!1),[y,M]=b.useState(""),[q,K]=b.useState(""),[v,C]=b.useState({nickname:"",name:"",email:"",phone:"",age:"",gender:"",bio:"",profile_image:"",instagram_url:"",youtube_url:"",tiktok_url:"",blog_url:"",instagram_followers:"",tiktok_followers:"",youtube_subscribers:"",skin_type:"",skin_shade:"",personal_color:"",hair_type:"",skin_concerns:[],hair_concerns:[],diet_concerns:[],nail_usage:"",circle_lens_usage:"",glasses_usage:"",primary_interest:"",editing_level:"",shooting_level:"",follower_range:"",upload_frequency:"",video_styles:[],video_length_style:"",shortform_tempo:"",content_formats:[],collaboration_preferences:[],offline_visit:"",offline_locations:[],review_platform:"",mirroring_available:"",mirroring_channels:[],linktree_available:"",linktree_channels:[],languages:[],job_visibility:"",job:"",child_appearance:"",children:[],family_appearance:"",family_members:[],postcode:"",prefecture:"",address:"",detail_address:"",bank_name:"",branch_code:"",account_type:"",account_number:"",account_holder:""}),N=b.useMemo(()=>[{id:"basic",label:"",icon:Fs},{id:"appearance",label:"",icon:wo},{id:"content",label:"",icon:ra},{id:"preferences",label:"",icon:og},{id:"family",label:"",icon:os},{id:"account",label:"",icon:cl}],[]);b.useEffect(()=>{d&&Q()},[d]);const Q=async()=>{var ne;try{j(!0);const{data:X,error:he}=await ae.from("user_profiles").select("*").eq("user_id",d.id).maybeSingle();if(he){(ne=he.message)!=null&&ne.includes("infinite recursion")?(console.error("RLS infinite recursion detected. Run sql/002_fix_rls_infinite_recursion.sql"),M("002_fix_rls_infinite_recursion.sql")):console.error("Profile load error:",he),C(B=>({...B,email:d.email||""}));return}C(X?B=>({...B,...X,email:X.email||d.email||"",nickname:X.nickname||"",skin_concerns:X.skin_concerns||[],hair_concerns:X.hair_concerns||[],diet_concerns:X.diet_concerns||[],content_formats:X.content_formats||[],collaboration_preferences:X.collaboration_preferences||[],video_styles:X.video_styles||[],offline_locations:X.offline_locations||[],children:X.children||[],family_members:X.family_members||[],languages:X.languages||[],linktree_channels:X.linktree_channels||[],mirroring_channels:X.mirroring_channels||[]}):B=>({...B,email:d.email||""}))}catch(X){console.error("Profile load error:",X),C(he=>({...he,email:d.email||""}))}finally{j(!1)}},k=async()=>{var ne,X,he,B,L,ee,ge,G,W,z,D,g,O,U,ie,A,re,I,ye;try{if(S(!0),M(""),K(""),!((ne=v.nickname)!=null&&ne.trim())){M(""),S(!1);return}if(!((X=v.phone)!=null&&X.trim())){M("LINE"),S(!1);return}const fe={user_id:d.id,name:((he=v.name)==null?void 0:he.trim())||null,email:((B=v.email)==null?void 0:B.trim())||d.email,phone:((L=v.phone)==null?void 0:L.trim())||null,age:v.age?parseInt(v.age):null,bio:((ee=v.bio)==null?void 0:ee.trim())||null,profile_image:v.profile_image||null,skin_type:v.skin_type||null,instagram_url:((ge=v.instagram_url)==null?void 0:ge.trim())||null,youtube_url:((G=v.youtube_url)==null?void 0:G.trim())||null,tiktok_url:((W=v.tiktok_url)==null?void 0:W.trim())||null,updated_at:new Date().toISOString()},De={nickname:((z=v.nickname)==null?void 0:z.trim())||null,gender:v.gender||null,blog_url:((D=v.blog_url)==null?void 0:D.trim())||null,instagram_followers:v.instagram_followers?parseInt(v.instagram_followers):null,tiktok_followers:v.tiktok_followers?parseInt(v.tiktok_followers):null,youtube_subscribers:v.youtube_subscribers?parseInt(v.youtube_subscribers):null,skin_shade:v.skin_shade||null,personal_color:v.personal_color||null,hair_type:v.hair_type||null,skin_concerns:v.skin_concerns||[],hair_concerns:v.hair_concerns||[],diet_concerns:v.diet_concerns||[],nail_usage:v.nail_usage||null,circle_lens_usage:v.circle_lens_usage||null,glasses_usage:v.glasses_usage||null,primary_interest:v.primary_interest||null,editing_level:v.editing_level||null,shooting_level:v.shooting_level||null,follower_range:v.follower_range||null,upload_frequency:v.upload_frequency||null,video_styles:v.video_styles||[],video_length_style:v.video_length_style||null,shortform_tempo:v.shortform_tempo||null,content_formats:v.content_formats||[],collaboration_preferences:v.collaboration_preferences||[],offline_visit:v.offline_visit||null,offline_locations:v.offline_locations||[],review_platform:v.review_platform||null,mirroring_available:v.mirroring_available||null,mirroring_channels:v.mirroring_channels||[],linktree_available:v.linktree_available||null,linktree_channels:v.linktree_channels||[],languages:v.languages||[],job_visibility:v.job_visibility||null,job:((g=v.job)==null?void 0:g.trim())||null,child_appearance:v.child_appearance||null,children:v.children||[],family_appearance:v.family_appearance||null,family_members:v.family_members||[],postcode:((O=v.postcode)==null?void 0:O.trim())||null,prefecture:v.prefecture||null,address:((U=v.address)==null?void 0:U.trim())||null,detail_address:((ie=v.detail_address)==null?void 0:ie.trim())||null,bank_name:v.bank_name||null,branch_code:((A=v.branch_code)==null?void 0:A.trim())||null,account_type:v.account_type||null,account_number:((re=v.account_number)==null?void 0:re.trim())||null,account_holder:((I=v.account_holder)==null?void 0:I.trim())||null,region:"japan",country:"JP",profile_completed:T()>=80},Ge={...fe,...De},{data:oe}=await ae.from("user_profiles").select("id").eq("user_id",d.id).maybeSingle();let Ne=null;if(oe){const{error:te}=await ae.from("user_profiles").update(Ge).eq("user_id",d.id);Ne=te}else{const{error:te}=await ae.from("user_profiles").insert([Ge]);Ne=te}if(Ne){console.warn("Full save failed, trying core fields only:",Ne.message);let te=null;if(oe){const{error:_e}=await ae.from("user_profiles").update(fe).eq("user_id",d.id);te=_e}else{const{error:_e}=await ae.from("user_profiles").insert([fe]);te=_e}if(te)throw te;K("SQL"),setTimeout(()=>K(""),6e3);return}K(""),setTimeout(()=>K(""),4e3)}catch(fe){console.error("Save error:",fe),(ye=fe.message)!=null&&ye.includes("infinite recursion")?M("RLSSQL: 002_fix_rls_infinite_recursion.sql"):M(`: ${fe.message}`)}finally{S(!1)}},T=b.useCallback(()=>{const ne=Object.values(tj).flat();let X=0;return ne.forEach(he=>{const B=v[he];B&&(Array.isArray(B)?B.length>0:String(B).trim()!=="")&&X++}),Math.round(X/ne.length*100)},[v]),w=T(),$=async()=>{var X;const ne=(X=v.postcode)==null?void 0:X.replace(/[^0-9]/g,"");if(!ne||ne.length!==7){M("7: 1500001");return}try{const B=await(await fetch(`https://zipcloud.ibsnet.co.jp/api/search?zipcode=${ne}`)).json();if(B.results&&B.results.length>0){const L=B.results[0],ee=Hh.find(ge=>ge.label===L.address1);C(ge=>({...ge,prefecture:ee?ee.value:"",address:`${L.address2}${L.address3}`})),M("")}else M("")}catch{M("")}},_=async ne=>{var he,B;const X=(he=ne.target.files)==null?void 0:he[0];if(X){if(!X.type.startsWith("image/")){M("");return}if(X.size>5*1024*1024){M("5MB");return}try{S(!0),M("");const L=X.name.split(".").pop(),ee=`${d.id}-${Date.now()}.${L}`,ge=`profiles/${ee}`;let G="";const{error:W}=await ae.storage.from("profile-images").upload(ge,X,{cacheControl:"3600",upsert:!0});if(W){const{error:D}=await ae.storage.from("campaign-images").upload(`profiles/${ee}`,X,{cacheControl:"3600",upsert:!0});if(D)throw D;const{data:{publicUrl:g}}=ae.storage.from("campaign-images").getPublicUrl(`profiles/${ee}`);G=g}else{const{data:{publicUrl:D}}=ae.storage.from("profile-images").getPublicUrl(ge);G=D}const{data:z}=await ae.from("user_profiles").select("id").eq("user_id",d.id).maybeSingle();if(z){const{error:D}=await ae.from("user_profiles").update({profile_image:G,updated_at:new Date().toISOString()}).eq("user_id",d.id);if(D)throw D}else{const{error:D}=await ae.from("user_profiles").insert([{user_id:d.id,email:d.email,profile_image:G,updated_at:new Date().toISOString()}]);if(D)throw D}C(D=>({...D,profile_image:G})),K(""),setTimeout(()=>K(""),3e3)}catch(L){console.error("Image upload error:",L),(B=L.message)!=null&&B.includes("infinite recursion")?M("RLS"):M(": "+(L.message||""))}finally{S(!1)}}},H=ne=>X=>C(he=>({...he,[ne]:X})),Y=ne=>X=>C(he=>({...he,[ne]:X.target.value}));return x?e.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx(st,{className:"h-8 w-8 animate-spin text-blue-600"}),e.jsx("span",{className:"text-slate-400 text-sm",children:"..."})]})}):e.jsxs("div",{className:"min-h-screen bg-slate-50/50",children:[e.jsx("header",{className:"bg-white/80 backdrop-blur-xl sticky top-0 z-50 border-b border-slate-100",children:e.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 py-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ye,{to:"/mypage",className:"text-slate-400 hover:text-blue-600 transition-colors",children:e.jsx(ol,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-bold text-slate-800",children:""}),e.jsx("p",{className:"text-xs text-slate-400",children:""})]})]}),e.jsxs("button",{onClick:k,disabled:h,className:"flex items-center gap-2 px-5 py-2.5 bg-blue-600 text-white text-sm font-semibold rounded-full hover:bg-blue-700 disabled:opacity-50 transition-all shadow-lg shadow-blue-600/20",children:[h?e.jsx(st,{className:"w-4 h-4 animate-spin"}):e.jsx(zl,{className:"w-4 h-4"}),h?"...":""]})]})}),e.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 pt-4",children:[y&&e.jsxs("div",{className:"mb-4 bg-red-50 border border-red-200 rounded-2xl p-4 flex items-center gap-3",children:[e.jsx(Kt,{className:"w-5 h-5 text-red-400 flex-shrink-0"}),e.jsx("p",{className:"text-sm text-red-700",children:y}),e.jsx("button",{onClick:()=>M(""),className:"ml-auto",children:e.jsx(Et,{className:"w-4 h-4 text-red-400"})})]}),q&&e.jsxs("div",{className:"mb-4 bg-emerald-50 border border-emerald-200 rounded-2xl p-4 flex items-center gap-3",children:[e.jsx(He,{className:"w-5 h-5 text-emerald-400 flex-shrink-0"}),e.jsx("p",{className:"text-sm text-emerald-700",children:q})]})]}),e.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 pb-12",children:[e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-5 mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-semibold text-slate-700",children:""}),e.jsxs("span",{className:`text-sm font-bold ${w>=80?"text-emerald-600":"text-blue-600"}`,children:[w,"%"]})]}),e.jsx("div",{className:"w-full bg-slate-100 rounded-full h-2.5",children:e.jsx("div",{className:`h-2.5 rounded-full transition-all duration-500 ${w>=80?"bg-emerald-500":"bg-blue-600"}`,style:{width:`${w}%`}})}),w>=100&&e.jsx("p",{className:"text-xs text-emerald-600 mt-2 font-medium",children:" "}),w<80&&e.jsx("p",{className:"text-xs text-slate-400 mt-2",children:"80%"})]}),e.jsx("div",{className:"flex overflow-x-auto gap-1 mb-6 pb-1 scrollbar-hide",children:N.map(ne=>{const X=ne.icon;return e.jsxs("button",{onClick:()=>m(ne.id),className:`flex items-center gap-2 px-4 py-2.5 rounded-full text-sm font-medium whitespace-nowrap transition-all ${i===ne.id?"bg-blue-600 text-white shadow-lg shadow-blue-600/20":"bg-white text-slate-500 border border-slate-200 hover:border-blue-300 hover:text-blue-600"}`,children:[e.jsx(X,{className:"w-4 h-4"}),ne.label]},ne.id)})}),e.jsxs("div",{className:"bg-white rounded-[24px] border border-slate-100 shadow-xl shadow-slate-200/40 p-6 sm:p-8",children:[i==="basic"&&e.jsxs("div",{className:"space-y-8",children:[e.jsx(lj,{}),e.jsxs("div",{className:"flex items-center gap-5",children:[e.jsxs("div",{className:"relative group",children:[v.profile_image?e.jsx("img",{src:v.profile_image,alt:"",className:"w-24 h-24 rounded-full object-cover shadow-lg border-2 border-white"}):e.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-blue-500 to-blue-600 rounded-full flex items-center justify-center shadow-lg",children:e.jsx("span",{className:"text-white text-3xl font-bold",children:(J=(v.nickname||v.name||"?")[0])==null?void 0:J.toUpperCase()})}),e.jsxs("label",{className:"absolute inset-0 flex items-center justify-center bg-black/40 rounded-full opacity-0 group-hover:opacity-100 cursor-pointer transition-opacity",children:[e.jsx(hr,{className:"w-6 h-6 text-white"}),e.jsx("input",{type:"file",accept:"image/*",onChange:_,className:"hidden"})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-slate-700",children:""}),e.jsx("p",{className:"text-xs text-slate-400",children:"5MB"}),e.jsxs("label",{className:"inline-flex items-center gap-1.5 mt-2 px-3 py-1.5 bg-blue-50 text-blue-600 text-xs font-medium rounded-full cursor-pointer hover:bg-blue-100",children:[e.jsx(cs,{className:"w-3 h-3"})," ",e.jsx("input",{type:"file",accept:"image/*",onChange:_,className:"hidden"})]})]})]}),e.jsxs("div",{children:[e.jsx(Be,{label:"",hint:""}),e.jsx("input",{type:"text",value:v.nickname,onChange:Y("nickname"),placeholder:": BeautyAya",className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{children:[e.jsx(Be,{label:"",hint:""}),e.jsx("input",{type:"text",value:v.name,onChange:Y("name"),placeholder:" ",className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(Be,{label:""}),e.jsx("input",{type:"number",value:v.age,onChange:Y("age"),placeholder:"25",min:"1",max:"120",className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{children:[e.jsx(Be,{label:""}),e.jsx(Bt,{options:Ub,value:v.gender,onChange:H("gender"),columns:2})]})]}),e.jsxs("div",{children:[e.jsx(Be,{label:"",hint:""}),e.jsx("input",{type:"tel",value:v.phone,onChange:Y("phone"),placeholder:"080-1234-5678",className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsxs("div",{className:"mt-2 bg-green-50 border border-green-200 rounded-xl p-3 flex items-start gap-2",children:[e.jsx(co,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"text-xs text-green-700",children:[e.jsx("p",{className:"font-semibold mb-1",children:"LINE"}),e.jsx("p",{children:"LINELINE"}),e.jsx("p",{className:"mt-1 text-green-600",children:"LINE"})]})]})]}),e.jsxs("div",{children:[e.jsx(Be,{label:"",hint:""}),e.jsx("textarea",{value:v.bio,onChange:Y("bio"),rows:3,placeholder:"",className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm resize-none"})]}),e.jsxs("div",{className:"space-y-4 pt-4 border-t border-slate-100",children:[e.jsx("h3",{className:"text-base font-semibold text-slate-700",children:"SNS"}),[{field:"instagram_url",label:"Instagram",placeholder:"https://instagram.com/username",followerField:"instagram_followers",followerLabel:""},{field:"youtube_url",label:"YouTube",placeholder:"https://youtube.com/@channel",followerField:"youtube_subscribers",followerLabel:""},{field:"tiktok_url",label:"TikTok",placeholder:"https://tiktok.com/@username",followerField:"tiktok_followers",followerLabel:""},{field:"blog_url",label:"",placeholder:"https://...",followerField:null}].map(ne=>e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-medium text-slate-500",children:ne.label}),e.jsx("input",{type:"url",value:v[ne.field],onChange:Y(ne.field),placeholder:ne.placeholder,className:"w-full px-4 py-2.5 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),ne.followerField&&e.jsx("input",{type:"number",value:v[ne.followerField],onChange:Y(ne.followerField),placeholder:`${ne.followerLabel}`,className:"w-full px-4 py-2.5 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]},ne.field))]})]}),i==="appearance"&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx(Be,{label:"",hint:""}),e.jsx(Bt,{options:Sb,value:v.skin_type,onChange:H("skin_type")})]}),e.jsxs("div",{children:[e.jsx(Be,{label:"",hint:""}),e.jsx(Bt,{options:kb,value:v.skin_shade,onChange:H("skin_shade")})]}),e.jsxs("div",{children:[e.jsx(Be,{label:""}),e.jsx(Bt,{options:Cb,value:v.personal_color,onChange:H("personal_color"),columns:2})]}),e.jsxs("div",{children:[e.jsx(Be,{label:""}),e.jsx(Bt,{options:Ab,value:v.hair_type,onChange:H("hair_type")})]}),e.jsxs("div",{children:[e.jsx(Be,{label:"",hint:""}),e.jsx(tl,{options:Vb,values:v.skin_concerns,onChange:H("skin_concerns")})]}),e.jsxs("div",{children:[e.jsx(Be,{label:"",hint:""}),e.jsx(tl,{options:Yb,values:v.hair_concerns,onChange:H("hair_concerns")})]}),e.jsxs("div",{children:[e.jsx(Be,{label:"",hint:""}),e.jsx(tl,{options:Kb,values:v.diet_concerns,onChange:H("diet_concerns")})]}),e.jsxs("div",{children:[e.jsx(Be,{label:""}),e.jsx(Bt,{options:Rb,value:v.nail_usage,onChange:H("nail_usage")})]}),e.jsxs("div",{children:[e.jsx(Be,{label:""}),e.jsx(Bt,{options:Lb,value:v.circle_lens_usage,onChange:H("circle_lens_usage")})]}),e.jsxs("div",{children:[e.jsx(Be,{label:""}),e.jsx(Bt,{options:Ob,value:v.glasses_usage,onChange:H("glasses_usage")})]})]}),i==="content"&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx(Be,{label:""}),e.jsx(Bt,{options:Eb,value:v.primary_interest,onChange:H("primary_interest"),columns:2})]}),e.jsxs("div",{children:[e.jsx(Be,{label:""}),e.jsx(Gh,{options:Tb,value:v.editing_level,onChange:H("editing_level")})]}),e.jsxs("div",{children:[e.jsx(Be,{label:""}),e.jsx(Gh,{options:Db,value:v.shooting_level,onChange:H("shooting_level")})]}),e.jsxs("div",{children:[e.jsx(Be,{label:"",hint:""}),e.jsx(Bt,{options:qb,value:v.follower_range,onChange:H("follower_range"),columns:2})]}),e.jsxs("div",{children:[e.jsx(Be,{label:""}),e.jsx(Bt,{options:zb,value:v.upload_frequency,onChange:H("upload_frequency")})]}),e.jsxs("div",{children:[e.jsx(Be,{label:"",hint:""}),e.jsx(tl,{options:Xb,values:v.video_styles,onChange:H("video_styles")})]}),e.jsxs("div",{children:[e.jsx(Be,{label:""}),e.jsx(Bt,{options:Bb,value:v.video_length_style,onChange:H("video_length_style")})]}),(v.video_length_style==="shortform"||v.video_length_style==="both")&&e.jsxs("div",{children:[e.jsx(Be,{label:""}),e.jsx(Bt,{options:Hb,value:v.shortform_tempo,onChange:H("shortform_tempo")})]})]}),i==="preferences"&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx(Be,{label:"",hint:""}),e.jsx(tl,{options:Jb,values:v.content_formats,onChange:H("content_formats")})]}),e.jsxs("div",{children:[e.jsx(Be,{label:"",hint:""}),e.jsx(tl,{options:Qb,values:v.collaboration_preferences,onChange:H("collaboration_preferences")})]}),e.jsxs("div",{children:[e.jsx(Be,{label:"",hint:""}),e.jsx(Bt,{options:un,value:v.offline_visit,onChange:H("offline_visit"),columns:2})]}),v.offline_visit==="possible"&&e.jsxs("div",{children:[e.jsx(Be,{label:"",hint:""}),e.jsx(tl,{options:Zb,values:v.offline_locations,onChange:H("offline_locations")})]}),e.jsxs("div",{children:[e.jsx(Be,{label:"",hint:""}),e.jsx(Bt,{options:Gb,value:v.review_platform,onChange:H("review_platform"),columns:2})]}),e.jsxs("div",{children:[e.jsx(Be,{label:""}),e.jsx(Bt,{options:un,value:v.mirroring_available,onChange:H("mirroring_available"),columns:2})]}),v.mirroring_available==="possible"&&e.jsxs("div",{children:[e.jsx(Be,{label:"",hint:""}),e.jsx(tl,{options:Wb,values:v.mirroring_channels,onChange:H("mirroring_channels")})]}),e.jsxs("div",{children:[e.jsx(Be,{label:""}),e.jsx(Bt,{options:un,value:v.linktree_available,onChange:H("linktree_available"),columns:2})]}),v.linktree_available==="possible"&&e.jsxs("div",{children:[e.jsx(Be,{label:"",hint:""}),e.jsx(tl,{options:Ib,values:v.linktree_channels,onChange:H("linktree_channels")})]}),e.jsxs("div",{children:[e.jsx(Be,{label:"",hint:""}),e.jsx(tl,{options:$b,values:v.languages,onChange:H("languages")})]}),e.jsxs("div",{className:"pt-4 border-t border-slate-100",children:[e.jsx(Be,{label:""}),e.jsx(Bt,{options:Mb,value:v.job_visibility,onChange:H("job_visibility"),columns:2})]}),v.job_visibility==="public"&&e.jsxs("div",{children:[e.jsx(Be,{label:""}),e.jsx("input",{type:"text",value:v.job,onChange:Y("job"),placeholder:": ",className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]})]}),i==="family"&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx(Be,{label:"",hint:""}),e.jsx(Bt,{options:un,value:v.child_appearance,onChange:H("child_appearance"),columns:2})]}),v.child_appearance==="possible"&&e.jsxs("div",{children:[e.jsx(Be,{label:"",hint:""}),e.jsx(sj,{children:v.children,onChange:H("children")})]}),e.jsxs("div",{children:[e.jsx(Be,{label:"",hint:""}),e.jsx(Bt,{options:un,value:v.family_appearance,onChange:H("family_appearance"),columns:2})]}),v.family_appearance==="possible"&&e.jsxs("div",{children:[e.jsx(Be,{label:"",hint:""}),e.jsx(tl,{options:Fb,values:v.family_members,onChange:H("family_members")})]})]}),i==="account"&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-base font-bold text-slate-800 flex items-center gap-2",children:" "}),e.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-3 flex items-start gap-2",children:[e.jsx(co,{className:"w-4 h-4 text-amber-500 mt-0.5 flex-shrink-0"}),e.jsx("p",{className:"text-xs text-amber-700",children:""})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("input",{type:"text",value:v.postcode,onChange:Y("postcode"),placeholder:" 15000017",maxLength:7,className:"flex-1 px-4 py-3 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx("button",{type:"button",onClick:$,className:"px-5 py-3 bg-slate-800 text-white text-sm font-medium rounded-xl hover:bg-slate-700 transition-colors whitespace-nowrap",children:""})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-slate-500",children:""}),e.jsxs("select",{value:v.prefecture,onChange:ne=>C(X=>({...X,prefecture:ne.target.value})),className:"mt-1 w-full px-4 py-3 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:[e.jsx("option",{value:"",children:""}),Hh.map(ne=>e.jsx("option",{value:ne.value,children:ne.label},ne.value))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-slate-500",children:""}),e.jsx("input",{type:"text",value:v.address,onChange:Y("address"),placeholder:"1-2-3",className:"mt-1 w-full px-4 py-3 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-slate-500",children:""}),e.jsx("input",{type:"text",value:v.detail_address,onChange:Y("detail_address"),placeholder:" 101",className:"mt-1 w-full px-4 py-3 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]})]}),e.jsxs("div",{className:"space-y-4 pt-6 border-t border-slate-100",children:[e.jsx("h3",{className:"text-base font-bold text-slate-800 flex items-center gap-2",children:" "}),e.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-3 flex items-start gap-2",children:[e.jsx(co,{className:"w-4 h-4 text-amber-500 mt-0.5 flex-shrink-0"}),e.jsx("p",{className:"text-xs text-amber-700",children:""})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-slate-500",children:""}),e.jsxs("select",{value:v.bank_name,onChange:ne=>C(X=>({...X,bank_name:ne.target.value})),className:"mt-1 w-full px-4 py-3 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:[e.jsx("option",{value:"",children:""}),Pb.map(ne=>e.jsx("option",{value:ne.value,children:ne.label},ne.value))]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-slate-500",children:"3"}),e.jsx("input",{type:"text",value:v.branch_code,onChange:Y("branch_code"),placeholder:"001",maxLength:3,className:"mt-1 w-full px-4 py-3 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-slate-500",children:""}),e.jsxs("select",{value:v.account_type,onChange:ne=>C(X=>({...X,account_type:ne.target.value})),className:"mt-1 w-full px-4 py-3 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:[e.jsx("option",{value:"",children:""}),ej.map(ne=>e.jsx("option",{value:ne.value,children:ne.label},ne.value))]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-slate-500",children:""}),e.jsx("input",{type:"text",value:v.account_number,onChange:Y("account_number"),placeholder:"1234567",className:"mt-1 w-full px-4 py-3 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-slate-500",children:""}),e.jsx("input",{type:"text",value:v.account_holder,onChange:Y("account_holder"),placeholder:" ",className:"mt-1 w-full px-4 py-3 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]})]}),e.jsx("div",{className:"pt-6 border-t border-slate-100",children:e.jsx("button",{onClick:o,className:"w-full py-3 text-sm font-medium text-slate-500 bg-slate-100 rounded-xl hover:bg-slate-200 transition-colors",children:""})})]})]}),e.jsx("div",{className:"mt-6 sm:hidden",children:e.jsxs("button",{onClick:k,disabled:h,className:"w-full flex items-center justify-center gap-2 py-3.5 bg-blue-600 text-white text-sm font-semibold rounded-full hover:bg-blue-700 disabled:opacity-50 shadow-lg shadow-blue-600/20",children:[h?e.jsx(st,{className:"w-4 h-4 animate-spin"}):e.jsx(zl,{className:"w-4 h-4"}),h?"...":""]})})]})]})},rj=()=>{const{user:d}=Ss(),o=ws(),[n,i]=b.useState("loading"),[m,x]=b.useState("");return b.useEffect(()=>{(async()=>{try{console.log("Auth callback started");const h=new URLSearchParams(window.location.search),S=h.get("access_token"),y=h.get("refresh_token"),M=h.get("error"),q=h.get("error_description");if(M){console.error("OAuth error:",M,q),i("error"),x(": "+(q||M));return}try{const{data:K,error:v}=await ae.auth.getSession();if(v){console.error("Session error:",v),i("error"),x("");return}if(K!=null&&K.session){console.log("Session found"),i("success"),x("");const C=K.session.user.email,N=(C==null?void 0:C.includes("mkt_biz@cnec.co.kr"))||(C==null?void 0:C.includes("admin@cnec.test"))||(C==null?void 0:C.includes("acrossx@howlab.co.kr"))||(C==null?void 0:C.includes("appearyong@gmail.com"));setTimeout(()=>{N?o("/dashboard",{replace:!0}):o("/",{replace:!0})},2e3)}else console.log("No session found, checking URL hash"),new URLSearchParams(window.location.hash.substring(1)).get("access_token")?(console.log("Found access token in hash"),i("success"),x(""),setTimeout(async()=>{var Q,k;try{const{data:T}=await ae.auth.getSession(),w=(k=(Q=T==null?void 0:T.session)==null?void 0:Q.user)==null?void 0:k.email;(w==null?void 0:w.includes("mkt_biz@cnec.co.kr"))||(w==null?void 0:w.includes("admin@cnec.test"))||(w==null?void 0:w.includes("acrossx@howlab.co.kr"))||(w==null?void 0:w.includes("appearyong@gmail.com"))?o("/dashboard",{replace:!0}):o("/",{replace:!0})}catch(T){console.error("Session recheck error:",T),o("/",{replace:!0})}},2e3)):(console.log("No authentication data found"),i("error"),x(""))}catch(K){console.error("Session check error:",K),i("error"),x("")}}catch(h){console.error("Auth callback error:",h),i("error"),x("")}})()},[o]),b.useEffect(()=>{d&&n==="loading"&&(console.log("User already logged in, redirecting to home"),o("/",{replace:!0}))},[d,n,o]),e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-blue-50 flex items-center justify-center p-4",children:e.jsx("div",{className:"text-center",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8 max-w-md mx-auto",children:[n==="loading"&&e.jsxs(e.Fragment,{children:[e.jsx(st,{className:"h-12 w-12 animate-spin text-purple-600 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"..."}),e.jsx("p",{className:"text-gray-600",children:""})]}),n==="success"&&e.jsxs(e.Fragment,{children:[e.jsx(He,{className:"h-12 w-12 text-green-600 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:""}),e.jsx("p",{className:"text-gray-600",children:m})]}),n==="error"&&e.jsxs(e.Fragment,{children:[e.jsx(ts,{className:"h-12 w-12 text-red-600 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:""}),e.jsx("p",{className:"text-gray-600 mb-4",children:m}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("button",{onClick:()=>o("/login"),className:"w-full bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors",children:""}),e.jsx("button",{onClick:()=>o("/"),className:"w-full bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors",children:""})]})]})]})})})},No=({title:d,subtitle:o})=>{const{user:n,signOut:i}=Ss(),{language:m,changeLanguage:x,t:j}=rs(),h=ws(),[S,y]=b.useState(!1),M={ko:{adminDashboard:"CNEC  ",language:"",korean:"",japanese:"",backToSite:" ",logout:"",menu:"",dashboard:"",campaigns:" ",applications:" ",users:" ",withdrawals:" ",emailTemplates:" ",confirmedCreators:" ",snsUploads:"SNS "},ja:{adminDashboard:"CNEC ",language:"",korean:"",japanese:"",backToSite:"",logout:"",menu:"",dashboard:"",campaigns:"",applications:"",users:"",withdrawals:"",emailTemplates:"",confirmedCreators:"",snsUploads:"SNS"}},q=M[m]||M.ja,K=async()=>{try{await i(),h("/")}catch(C){console.error("Logout error:",C)}},v=[{path:"/dashboard",label:q.dashboard,icon:Hi},{path:"/campaigns-manage",label:q.campaigns,icon:cl},{path:"/applications-manage",label:q.applications,icon:Fs},{path:"/user-approval",label:q.users,icon:Fs},{path:"/withdrawals-manage",label:q.withdrawals,icon:cl},{path:"/email-templates",label:q.emailTemplates,icon:cl},{path:"/confirmed-creators",label:q.confirmedCreators,icon:Fs},{path:"/sns-uploads",label:q.snsUploads,icon:cl}];return e.jsx("header",{className:"bg-white shadow-sm border-b",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs(Ye,{to:"/dashboard",className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-8 h-8 bg-purple-600 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-sm",children:"C"})}),e.jsx("span",{className:"text-base sm:text-xl font-bold text-gray-900",children:q.adminDashboard})]}),d&&e.jsxs("div",{className:"hidden md:block",children:[e.jsx("span",{className:"text-gray-400",children:"|"}),e.jsx("span",{className:"ml-4 text-lg font-medium text-gray-700",children:d}),o&&e.jsx("span",{className:"ml-2 text-sm text-gray-500",children:o})]})]}),e.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[e.jsxs(zh,{children:[e.jsx(Uh,{asChild:!0,children:e.jsxs(Ee,{variant:"outline",size:"sm",className:"flex items-center space-x-2",children:[e.jsx(ko,{className:"h-4 w-4"}),e.jsx("span",{children:q.language}),e.jsx(pr,{className:"h-4 w-4"})]})}),e.jsxs(Mh,{align:"end",children:[e.jsx(Ri,{onClick:()=>x("ko"),className:m==="ko"?"bg-purple-50":"",children:q.korean}),e.jsx(Ri,{onClick:()=>x("ja"),className:m==="ja"?"bg-purple-50":"",children:q.japanese})]})]}),e.jsxs(zh,{children:[e.jsx(Uh,{asChild:!0,children:e.jsxs(Ee,{variant:"outline",size:"sm",className:"flex items-center space-x-2",children:[e.jsx(Fs,{className:"h-4 w-4"}),e.jsx("span",{children:n==null?void 0:n.email}),e.jsx(pr,{className:"h-4 w-4"})]})}),e.jsxs(Mh,{align:"end",children:[e.jsx(Ri,{asChild:!0,children:e.jsxs(Ye,{to:"/",className:"flex items-center space-x-2",children:[e.jsx(Hi,{className:"h-4 w-4"}),e.jsx("span",{children:q.backToSite})]})}),e.jsx(ib,{}),e.jsxs(Ri,{onClick:K,className:"text-red-600",children:[e.jsx(yh,{className:"h-4 w-4 mr-2"}),q.logout]})]})]})]}),e.jsx("div",{className:"md:hidden",children:e.jsx(Ee,{variant:"outline",size:"sm",onClick:()=>y(!S),children:S?e.jsx(Et,{className:"h-4 w-4"}):e.jsx(Xi,{className:"h-4 w-4"})})})]}),S&&e.jsx("div",{className:"md:hidden border-t bg-white",children:e.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1",children:[v.map(C=>e.jsx(Ye,{to:C.path,className:"block px-3 py-2 text-base font-medium text-gray-700 hover:text-purple-600 hover:bg-purple-50 rounded-md",onClick:()=>y(!1),children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(C.icon,{className:"h-4 w-4"}),e.jsx("span",{children:C.label})]})},C.path)),e.jsxs("div",{className:"px-3 py-2",children:[e.jsx("div",{className:"text-sm font-medium text-gray-700 mb-2",children:q.language}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(Ee,{variant:m==="ko"?"default":"outline",size:"sm",onClick:()=>x("ko"),children:q.korean}),e.jsx(Ee,{variant:m==="ja"?"default":"outline",size:"sm",onClick:()=>x("ja"),children:q.japanese})]})]}),e.jsxs("div",{className:"px-3 py-2 border-t",children:[e.jsx("div",{className:"text-sm text-gray-500 mb-2",children:n==null?void 0:n.email}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(Ye,{to:"/",children:e.jsxs(Ee,{variant:"outline",size:"sm",className:"flex items-center space-x-1",children:[e.jsx(Hi,{className:"h-3 w-3"}),e.jsx("span",{children:q.backToSite})]})}),e.jsxs(Ee,{variant:"outline",size:"sm",onClick:K,className:"flex items-center space-x-1 text-red-600",children:[e.jsx(yh,{className:"h-3 w-3"}),e.jsx("span",{children:q.logout})]})]})]})]})})]})})},Yt=()=>{const{language:d}=rs(),o=Qh(),[n,i]=b.useState(!1),m={ko:{dashboard:"",campaigns:" ",applications:" ",confirmedCreators:" ",snsUploads:"SNS ",users:" ",withdrawals:" ",emailTemplates:" ",statistics:" ",settings:" "},ja:{dashboard:"",campaigns:"",applications:"",confirmedCreators:"",snsUploads:"SNS",users:"",withdrawals:"",emailTemplates:"",statistics:"",settings:""}},x=m[d]||m.ko,j=[{path:"/dashboard",label:x.dashboard,icon:Hi,exact:!0},{path:"/campaigns-manage",label:x.campaigns,icon:Ms},{path:"/applications-manage",label:x.applications,icon:ds},{path:"/confirmed-creators",label:x.confirmedCreators,icon:os},{path:"/sns-uploads",label:x.snsUploads,icon:Co},{path:"/user-approval",label:x.users,icon:os},{path:"/withdrawals-manage",label:x.withdrawals,icon:fn},{path:"/email-templates",label:x.emailTemplates,icon:ia},{path:"/system-settings",label:x.settings,icon:cl}],h=S=>S.exact?o.pathname===S.path:o.pathname.startsWith(S.path);return e.jsxs("nav",{className:"bg-white shadow-sm border-b border-gray-200",children:[e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between h-16",children:[e.jsx("div",{className:"hidden md:flex md:space-x-8",children:j.map(S=>{const y=S.icon,M=h(S);return S.disabled?e.jsxs("div",{className:"inline-flex items-center px-1 pt-1 text-sm font-medium text-gray-400 cursor-not-allowed",children:[e.jsx(y,{className:"w-4 h-4 mr-2"}),S.label]},S.path):e.jsxs(Ye,{to:S.path,className:`inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium transition-colors duration-200 ${M?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(y,{className:"w-4 h-4 mr-2"}),S.label]},S.path)})}),e.jsx("div",{className:"md:hidden flex items-center",children:e.jsx("button",{onClick:()=>i(!n),className:"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-purple-500",children:n?e.jsx(Et,{className:"block h-6 w-6"}):e.jsx(Xi,{className:"block h-6 w-6"})})})]})}),n&&e.jsx("div",{className:"md:hidden",children:e.jsx("div",{className:"pt-2 pb-3 space-y-1",children:j.map(S=>{const y=S.icon,M=h(S);return S.disabled?e.jsxs("div",{className:"flex items-center pl-3 pr-4 py-3 text-base font-medium text-gray-400 cursor-not-allowed",children:[e.jsx(y,{className:"w-5 h-5 mr-3"}),S.label]},S.path):e.jsxs(Ye,{to:S.path,className:`flex items-center pl-3 pr-4 py-3 border-l-4 text-base font-medium transition-colors duration-200 ${M?"bg-purple-50 border-purple-500 text-purple-700":"border-transparent text-gray-600 hover:text-gray-800 hover:bg-gray-50 hover:border-gray-300"}`,onClick:()=>i(!1),children:[e.jsx(y,{className:"w-5 h-5 mr-3"}),S.label]},S.path)})})})]})},nj=()=>{const{user:d,signOut:o}=Ss(),{language:n}=rs(),i=ws(),m={ko:{title:"CNEC  ",totalCampaigns:" ",activeCampaigns:" ",totalApplications:" ",totalUsers:" ",totalRewards:" ",pendingApplications:" ",campaignManagement:" ",applicationManagement:" ",userApproval:" ",withdrawalManagement:" ",emailTemplates:" ",logout:"",loading:"  ...",error:"  .",admin:""},ja:{title:"CNEC ",totalCampaigns:"",activeCampaigns:"",totalApplications:"",totalUsers:"",totalRewards:"",pendingApplications:"",campaignManagement:"",applicationManagement:"",userApproval:"",withdrawalManagement:"",emailTemplates:"",logout:"",loading:"...",error:"",admin:""}},x=m[n]||m.ko,[j,h]=b.useState({totalCampaigns:0,activeCampaigns:0,totalApplications:0,totalRewards:0,totalUsers:0,pendingApplications:0}),[S,y]=b.useState(!0),[M,q]=b.useState("");b.useEffect(()=>{if(!d){i("/secret-admin-login");return}if(!["mkt_biz@cnec.co.kr","admin@cnec.test","acrossx@howlab.co.kr","appearyong@gmail.com"].some(N=>{var Q;return(Q=d.email)==null?void 0:Q.includes(N)})){i("/");return}K()},[d,i]);const K=async()=>{try{y(!0),q(""),console.log("    ...");let v=[],C=[],N=[];try{console.log("   ..."),v=await Te.campaigns.getAll(),console.log(`   : ${v.length}`)}catch(H){throw console.error("   :",H),new Error(`   : ${H.message}`)}try{console.log("   ..."),C=await Te.applications.getAll(),console.log(`   : ${C.length}`)}catch(H){throw console.error("   :",H),new Error(`   : ${H.message}`)}try{console.log("   ..."),N=await Te.users.getAll(),console.log(`   : ${N.length}`)}catch(H){console.error("   :",H),console.log("    ..."),N=[]}const Q=v.length,k=v.filter(H=>H.status==="active").length,T=C.length,w=C.filter(H=>H.status==="pending").length,$=N.length,_=C.filter(H=>H.status==="approved"||H.status==="completed"||H.status==="paid").reduce((H,Y)=>{var J;return H+(((J=Y.campaigns)==null?void 0:J.reward_amount)||0)},0);h({totalCampaigns:Q,activeCampaigns:k,totalApplications:T,totalRewards:_,totalUsers:$,pendingApplications:w}),console.log("  :",{totalCampaigns:Q,activeCampaigns:k,totalApplications:T,totalRewards:_,totalUsers:$,pendingApplications:w})}catch(v){console.error("     :",v),q(`${x.error} ${v.message}`)}finally{y(!1),console.log("  .")}};return S?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 sm:h-32 sm:w-32 border-b-2 border-purple-600"}),e.jsx("p",{className:"mt-4 text-gray-600",children:x.loading})]})}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(No,{title:x.title}),e.jsx(Yt,{}),e.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-6 md:py-8",children:[M&&e.jsx(Ns,{className:"mb-6 border-red-200 bg-red-50",children:e.jsx(_s,{className:"text-red-800",children:M})}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 md:gap-6 mb-4 sm:mb-6 md:mb-8",children:[e.jsxs(_t,{children:[e.jsxs(kt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(Ct,{className:"text-sm font-medium",children:x.totalCampaigns}),e.jsx(Ms,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(At,{children:[e.jsx("div",{className:"text-lg sm:text-xl md:text-2xl font-bold",children:j.totalCampaigns}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[x.activeCampaigns,": ",j.activeCampaigns,n==="ko"?"":""]})]})]}),e.jsxs(_t,{children:[e.jsxs(kt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(Ct,{className:"text-sm font-medium",children:x.totalApplications}),e.jsx(ds,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(At,{children:[e.jsx("div",{className:"text-lg sm:text-xl md:text-2xl font-bold",children:j.totalApplications}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[x.pendingApplications,": ",j.pendingApplications,n==="ko"?"":""]})]})]}),e.jsxs(_t,{children:[e.jsxs(kt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(Ct,{className:"text-sm font-medium",children:x.totalUsers}),e.jsx(os,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(At,{children:[e.jsx("div",{className:"text-lg sm:text-xl md:text-2xl font-bold",children:j.totalUsers}),e.jsx("p",{className:"text-xs text-muted-foreground",children:n==="ko"?" ":""})]})]}),e.jsxs(_t,{children:[e.jsxs(kt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(Ct,{className:"text-sm font-medium",children:x.totalRewards}),e.jsx(gn,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(At,{children:[e.jsxs("div",{className:"text-lg sm:text-xl md:text-2xl font-bold",children:["",j.totalRewards.toLocaleString()]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:n==="ko"?" /":"/"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 md:gap-6",children:[e.jsxs(_t,{className:"hover:shadow-lg transition-shadow cursor-pointer",children:[e.jsxs(kt,{children:[e.jsxs(Ct,{className:"flex items-center space-x-2",children:[e.jsx(Ms,{className:"h-5 w-5 text-purple-600"}),e.jsx("span",{children:x.campaignManagement})]}),e.jsx(is,{children:n==="ko"?" , ,    ":""})]}),e.jsx(At,{children:e.jsx(Ye,{to:"/campaigns-manage",children:e.jsx(Ee,{className:"w-full",children:n==="ko"?" ":""})})})]}),e.jsxs(_t,{className:"hover:shadow-lg transition-shadow cursor-pointer",children:[e.jsxs(kt,{children:[e.jsxs(Ct,{className:"flex items-center space-x-2",children:[e.jsx(ds,{className:"h-5 w-5 text-blue-600"}),e.jsx("span",{children:x.applicationManagement})]}),e.jsx(is,{children:n==="ko"?"    /":"/"})]}),e.jsx(At,{children:e.jsx(Ye,{to:"/applications-report",children:e.jsx(Ee,{className:"w-full",variant:"outline",children:n==="ko"?" ":""})})})]}),e.jsxs(_t,{className:"hover:shadow-lg transition-shadow cursor-pointer",children:[e.jsxs(kt,{children:[e.jsxs(Ct,{className:"flex items-center space-x-2",children:[e.jsx(fn,{className:"h-5 w-5 text-green-600"}),e.jsx("span",{children:x.withdrawalManagement})]}),e.jsx(is,{children:n==="ko"?"     ":""})]}),e.jsx(At,{children:e.jsx(Ye,{to:"/withdrawals-manage",children:e.jsx(Ee,{className:"w-full",variant:"outline",children:n==="ko"?" ":""})})})]}),e.jsxs(_t,{className:"hover:shadow-lg transition-shadow cursor-pointer",children:[e.jsxs(kt,{children:[e.jsxs(Ct,{className:"flex items-center space-x-2",children:[e.jsx(os,{className:"h-5 w-5 text-orange-600"}),e.jsx("span",{children:x.userApproval})]}),e.jsx(is,{children:n==="ko"?"     ":""})]}),e.jsx(At,{children:e.jsx(Ye,{to:"/user-approval",children:e.jsx(Ee,{className:"w-full",variant:"outline",children:n==="ko"?" ":""})})})]}),e.jsxs(_t,{className:"hover:shadow-lg transition-shadow cursor-pointer",children:[e.jsxs(kt,{children:[e.jsxs(Ct,{className:"flex items-center space-x-2",children:[e.jsx(Co,{className:"h-5 w-5 text-red-600"}),e.jsx("span",{children:n==="ko"?"  ":""})]}),e.jsx(is,{children:n==="ko"?"    ":""})]}),e.jsx(At,{children:e.jsx(Ee,{className:"w-full",variant:"outline",disabled:!0,children:n==="ko"?"  ()":""})})]}),e.jsxs(_t,{className:"hover:shadow-lg transition-shadow cursor-pointer",children:[e.jsxs(kt,{children:[e.jsxs(Ct,{className:"flex items-center space-x-2",children:[e.jsx(cl,{className:"h-5 w-5 text-indigo-600"}),e.jsx("span",{children:x.emailTemplates})]}),e.jsx(is,{children:n==="ko"?"    ":""})]}),e.jsx(At,{children:e.jsx(Ye,{to:"/email-templates",children:e.jsx(Ee,{className:"w-full",variant:"outline",children:n==="ko"?" ":""})})})]}),e.jsxs(_t,{className:"hover:shadow-lg transition-shadow cursor-pointer",children:[e.jsxs(kt,{children:[e.jsxs(Ct,{className:"flex items-center space-x-2",children:[e.jsx(cl,{className:"h-5 w-5 text-gray-600"}),e.jsx("span",{children:n==="ko"?" ":""})]}),e.jsx(is,{children:n==="ko"?"    ":""})]}),e.jsx(At,{children:e.jsx(Ee,{className:"w-full",variant:"outline",disabled:!0,children:n==="ko"?"  ()":""})})]})]}),e.jsx("div",{className:"mt-8",children:e.jsxs(_t,{children:[e.jsxs(kt,{children:[e.jsx(Ct,{children:" "}),e.jsx(is,{children:"    "})]}),e.jsx(At,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4 p-3 sm:p-4 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium",children:"  "}),e.jsx("p",{className:"text-xs text-gray-500",children:"   3 "})]}),e.jsx("span",{className:"text-xs text-gray-400",children:"2 "})]}),e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4 p-3 sm:p-4 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium",children:" "}),e.jsx("p",{className:"text-xs text-gray-500",children:" 2   "})]}),e.jsx("span",{className:"text-xs text-gray-400",children:"5 "})]}),e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4 p-3 sm:p-4 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium",children:"  "}),e.jsx("p",{className:"text-xs text-gray-500",children:"5   "})]}),e.jsx("span",{className:"text-xs text-gray-400",children:"1 "})]})]})})]})})]})]})},ij=()=>{const d=ws(),{language:o}=rs(),[n,i]=b.useState([]),[m,x]=b.useState([]),[j,h]=b.useState(!0),[S,y]=b.useState(""),[M,q]=b.useState(""),[K,v]=b.useState("all");b.useEffect(()=>{C()},[]);const C=async()=>{try{h(!0),y(""),console.log("     ");const _=await Te.campaigns.getAll();console.log("  :",_),i(_||[]);const H=await Te.applications.getAll();console.log("  :",H),x(H||[])}catch(_){console.error("  :",_),y(`  : ${_.message}`)}finally{h(!1)}},N=async(_,H)=>{try{await Te.campaigns.update(_,{status:H}),await C(),alert(`  ${H==="active"?"":H==="completed"?"":""} .`)}catch(Y){console.error("  :",Y),alert("  .")}},Q=async(_,H)=>{if(confirm(`"${H}"   ?

    .`))try{await Te.campaigns.delete(_),await C(),alert(" .")}catch(Y){console.error(" :",Y),alert("  .")}},k=_=>_?new Date(_).toLocaleDateString("ko-KR"):"-",T=_=>_?new Intl.NumberFormat("ko-KR",{style:"currency",currency:"KRW"}).format(_):"-",w=_=>{const H=m.filter(ne=>ne.campaign_id===_),Y=H.length,J=H.filter(ne=>ne.status==="approved").length;return{totalApplicants:Y,confirmedApplicants:J}};if(j)return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Yt,{}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),e.jsx("span",{children:" ..."})]})})})]});const $=n.filter(_=>{var H,Y;return!(M&&!((H=_.brand)!=null&&H.toLowerCase().includes(M.toLowerCase()))&&!((Y=_.title)!=null&&Y.toLowerCase().includes(M.toLowerCase()))||K==="active"&&_.status!=="active"||K==="completed"&&_.status!=="completed")});return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Yt,{}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:" "}),e.jsx("p",{className:"text-gray-600 mt-2",children:"  "})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:C,disabled:j,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:""}),e.jsx("button",{onClick:()=>d("/campaign-create"),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:"  "})]})]})}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex gap-4 items-center mb-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(gr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx(ht,{placeholder:"   ",value:M,onChange:_=>q(_.target.value),className:"pl-10"})]}),e.jsx(Ee,{variant:"outline",onClick:()=>q(""),className:"border-gray-300",children:""})]}),e.jsx(Eo,{value:K,onValueChange:v,className:"w-full",children:e.jsxs(To,{className:"grid w-full grid-cols-3",children:[e.jsx(dl,{value:"all",children:" "}),e.jsx(dl,{value:"active",children:" "}),e.jsx(dl,{value:"completed",children:" "})]})})]}),S&&e.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-md p-4",children:e.jsx("div",{className:"flex",children:e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-red-800",children:S})})})}),e.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:e.jsxs("ul",{className:"divide-y divide-gray-200",children:[$.map(_=>e.jsx("li",{children:e.jsx("div",{className:"px-4 py-4 sm:px-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center",children:e.jsxs("div",{className:"ml-4",children:[e.jsxs("div",{className:"flex items-center flex-wrap gap-2",children:[e.jsx("p",{className:"text-sm font-medium text-blue-600 truncate",children:_.title||" "}),e.jsxs("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${_.campaign_type==="4week_challenge"?"bg-blue-100 text-blue-800":_.campaign_type==="megawari"?"bg-orange-100 text-orange-800":_.campaign_type==="oliveyoung"?"bg-green-100 text-green-800":"bg-purple-100 text-purple-800"}`,children:[_.campaign_type==="4week_challenge"?" 4 ":_.campaign_type==="megawari"?" ":_.campaign_type==="oliveyoung"?" ":" ",_.total_steps>1&&` (${_.total_steps})`]}),e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${_.status==="active"?"bg-green-100 text-green-800":_.status==="completed"?"bg-gray-100 text-gray-800":"bg-red-100 text-red-800"}`,children:_.status==="active"?"":_.status==="completed"?"":""})]}),e.jsxs("div",{className:"mt-2 flex",children:[e.jsx("div",{className:"flex items-center text-sm text-gray-500",children:e.jsxs("p",{children:[": ",_.brand||"-"]})}),e.jsx("div",{className:"ml-6 flex items-center text-sm text-gray-500",children:e.jsxs("p",{children:[": ",T(_.reward_amount)]})}),e.jsx("div",{className:"ml-6 flex items-center text-sm text-gray-500",children:e.jsxs("p",{children:[": ",k(_.application_deadline)]})})]}),e.jsx("div",{className:"mt-2 flex",children:e.jsx("div",{className:"flex items-center text-sm text-blue-600 font-medium",children:(()=>{const H=w(_.id);return e.jsxs("p",{children:[": ",_.max_participants||"-"," | : ",H.totalApplicants," | : ",H.confirmedApplicants,""]})})()})})]})}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("select",{value:_.status||"inactive",onChange:H=>N(_.id,H.target.value),className:"inline-flex items-center px-3 py-1 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"active",children:""}),e.jsx("option",{value:"inactive",children:""}),e.jsx("option",{value:"completed",children:""}),e.jsx("option",{value:"suspended",children:""})]}),e.jsx("button",{onClick:()=>d(`/applications-report?campaign=${_.id}`),className:"inline-flex items-center px-3 py-1 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:" "}),e.jsx("button",{onClick:()=>d(`/campaign-create?edit=${_.id}`),className:"inline-flex items-center px-3 py-1 border border-blue-300 shadow-sm text-sm leading-4 font-medium rounded-md text-blue-700 bg-blue-50 hover:bg-blue-100",children:""}),e.jsxs("div",{className:"flex space-x-1",children:[e.jsxs("button",{onClick:()=>window.open(`/company-report/${_.id}`,"_blank"),className:"inline-flex items-center px-3 py-1 border border-purple-300 shadow-sm text-sm leading-4 font-medium rounded-l-md text-purple-700 bg-purple-50 hover:bg-purple-100",title:" ",children:[e.jsx(ds,{className:"h-4 w-4 mr-1"}),""]}),e.jsxs("button",{onClick:()=>window.open(`/confirmed-creators/${_.id}`,"_blank"),className:"inline-flex items-center px-3 py-1 border border-green-300 shadow-sm text-sm leading-4 font-medium text-green-700 bg-green-50 hover:bg-green-100",title:"  ",children:[e.jsx(os,{className:"h-4 w-4 mr-1"}),""]}),e.jsxs("button",{onClick:()=>window.open(`/sns-uploads/${_.id}`,"_blank"),className:"inline-flex items-center px-3 py-1 border border-blue-300 shadow-sm text-sm leading-4 font-medium rounded-r-md text-blue-700 bg-blue-50 hover:bg-blue-100",title:"SNS  ",children:[e.jsx(Co,{className:"h-4 w-4 mr-1"}),"SNS"]})]}),e.jsx("button",{onClick:()=>Q(_.id,_.title),className:"inline-flex items-center px-3 py-1 border border-red-300 shadow-sm text-sm leading-4 font-medium rounded-md text-red-700 bg-red-50 hover:bg-red-100",children:""})]})]})})},_.id)),$.length===0&&e.jsx("li",{children:e.jsx("div",{className:"px-4 py-8 text-center",children:e.jsx("p",{className:"text-gray-500",children:M||K!=="all"?"    .":"  ."})})})]})})]})]})},cj=()=>{const d=ws(),{language:o}=rs(),[n]=Qi(),i=n.get("edit"),[m,x]=b.useState({title:"",brand:"",description:"",requirements:"",category:"beauty",image_url:"",reward_amount:"",max_participants:"",application_deadline:"",start_date:"",end_date:"",status:"active",target_platforms:{instagram:!0,youtube:!1,tiktok:!1},question1:"",question1_type:"short",question1_options:"",question2:"",question2_type:"short",question2_options:"",question3:"",question3_type:"short",question3_options:"",question4:"",question4_type:"short",question4_options:"",age_requirement:"",skin_type_requirement:"",offline_visit_requirement:""}),[j,h]=b.useState(!1),[S,y]=b.useState(""),[M,q]=b.useState(""),[K,v]=b.useState(!1),[C,N]=b.useState(null),[Q,k]=b.useState(""),[T,w]=b.useState(""),[$,_]=b.useState(!1),[H,Y]=b.useState(""),J=async B=>{var L,ee,ge,G;if(B.trim()){_(!0),Y("");try{throw new Error("OpenAI API   .")}catch(W){console.error(" :",W),Y(W.message||"   .")}finally{_(!1)}}},ne=async B=>{var ge;const L=(ge=B.target.files)==null?void 0:ge[0];if(!L)return;if(L.size>5*1024*1024){y("5MB");return}if(!["image/jpeg","image/jpg","image/png","image/webp"].includes(L.type)){y("JPGPNGWEBP");return}try{v(!0),y(""),N(L);const G=await kg.uploadCampaignImage(L);if(G.success)x(W=>({...W,image_url:G.url})),q(""),setTimeout(()=>q(""),3e3);else throw new Error(G.error||"")}catch(G){console.error("Image upload error:",G),y(G.message||"")}finally{v(!1)}};b.useEffect(()=>{(async()=>{if(i)try{h(!0);const L=await Te.campaigns.getById(i);L&&x({title:L.title||"",brand:L.brand||"",description:L.description||"",requirements:L.requirements||"",category:L.category||"beauty",image_url:L.image_url||"",reward_amount:L.reward_amount||"",max_participants:L.max_participants||"",application_deadline:L.application_deadline||"",start_date:L.start_date||"",end_date:L.end_date||"",status:L.status||"active",target_platforms:L.target_platforms||{instagram:!0,youtube:!1,tiktok:!1},question1:L.question1||"",question1_type:L.question1_type||"short",question1_options:L.question1_options||"",question2:L.question2||"",question2_type:L.question2_type||"short",question2_options:L.question2_options||"",question3:L.question3||"",question3_type:L.question3_type||"short",question3_options:L.question3_options||"",question4:L.question4||"",question4_type:L.question4_type||"short",question4_options:L.question4_options||"",age_requirement:L.age_requirement||"",skin_type_requirement:L.skin_type_requirement||"",offline_visit_requirement:L.offline_visit_requirement||""})}catch(L){console.error("  :",L),y("   .")}finally{h(!1)}})()},[i]);const X=async B=>{try{await navigator.clipboard.writeText(B),alert(" !")}catch(L){console.error("  :",L)}},he=async()=>{h(!0),y(""),q("");try{if(!m.title||!m.brand||!m.requirements)throw new Error(", ,    .");if(!m.application_deadline||!m.start_date||!m.end_date)throw new Error(" ,  ,    .");const B=new Date(m.application_deadline),L=new Date(m.start_date),ee=new Date(m.end_date);if(B>=L)throw new Error("     .");if(L>=ee)throw new Error("     .");if(!Object.values(m.target_platforms).some(Boolean))throw new Error("  SNS  .");console.log("===    ==="),console.log("campaignForm.image_url:",m.image_url);const G={...m,image_url:m.image_url||"",reward_amount:parseInt(m.reward_amount)||0,max_participants:parseInt(m.max_participants)||0,target_platforms:m.target_platforms,question1:m.question1||"",question1_type:m.question1_type||"short",question1_options:m.question1_options||"",question2:m.question2||"",question2_type:m.question2_type||"short",question2_options:m.question2_options||"",question3:m.question3||"",question3_type:m.question3_type||"short",question3_options:m.question3_options||"",question4:m.question4||"",question4_type:m.question4_type||"short",question4_options:m.question4_options||""};console.log("campaignData:",G),console.log("campaignData.image_url:",G.image_url);let W;if(i?(console.log("   - ID:",i),W=await Te.campaigns.update(i,G),console.log(" :",W)):W=await Te.campaigns.create(G),W.error)throw new Error(W.error.message);q(i?"  !":"  !"),i||x({title:"",brand:"",description:"",requirements:"",category:"beauty",image_url:"",reward_amount:"",max_participants:"",application_deadline:"",start_date:"",end_date:"",status:"active",target_platforms:{instagram:!0,youtube:!1,tiktok:!1},question1:"",question1_type:"short",question1_options:"",question2:"",question2_type:"short",question2_options:"",question3:"",question3_type:"short",question3_options:"",question4:"",question4_type:"short",question4_options:"",age_requirement:"",skin_type_requirement:"",offline_visit_requirement:""}),setTimeout(()=>{d("/campaigns-manage")},3e3)}catch(B){console.error("  :",B),y(B.message)}finally{h(!1)}};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Yt,{}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"  "}),e.jsx("p",{className:"text-gray-600 mt-2",children:"   ,   ."})]}),S&&e.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:e.jsx("p",{className:"text-red-800",children:S})}),M&&e.jsx("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-lg",children:e.jsx("p",{className:"text-green-800",children:M})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-6 text-gray-900",children:"  "}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  *"}),e.jsx("input",{type:"text",value:m.title,onChange:B=>x({...m,title:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"  "})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"}),e.jsx("input",{type:"text",value:m.brand,onChange:B=>x({...m,brand:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:" "})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("input",{type:"file",accept:"image/jpeg,image/jpg,image/png,image/webp",onChange:ne,disabled:K,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),K&&e.jsx("p",{className:"text-sm text-blue-600",children:"..."}),m.image_url&&e.jsxs("div",{className:"mt-2",children:[e.jsx("img",{src:m.image_url,alt:"Campaign preview",className:"h-32 w-auto object-cover rounded border"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:""})]}),e.jsx("p",{className:"text-xs text-gray-500",children:": 5MB. : JPG, PNG, WEBP"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),e.jsx("textarea",{value:m.description,onChange:B=>x({...m,description:B.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"  "})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"}),e.jsx("textarea",{value:m.requirements,onChange:B=>x({...m,requirements:B.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"  "})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),e.jsx("input",{type:"number",value:m.reward_amount,onChange:B=>x({...m,reward_amount:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),e.jsx("input",{type:"number",value:m.max_participants,onChange:B=>x({...m,max_participants:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 border-b pb-2",children:"  "}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  *"}),e.jsx("input",{type:"date",value:m.application_deadline,onChange:B=>x({...m,application_deadline:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  *"}),e.jsx("input",{type:"date",value:m.start_date,onChange:B=>x({...m,start_date:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  *"}),e.jsx("input",{type:"date",value:m.end_date,onChange:B=>x({...m,end_date:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-3",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[" ",e.jsx("strong",{children:" :"}),"          ."]})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:" SNS  *"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:m.target_platforms.instagram,onChange:B=>x({...m,target_platforms:{...m.target_platforms,instagram:B.target.checked}}),className:"mr-2"})," Instagram"]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:m.target_platforms.youtube,onChange:B=>x({...m,target_platforms:{...m.target_platforms,youtube:B.target.checked}}),className:"mr-2"})," YouTube"]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:m.target_platforms.tiktok,onChange:B=>x({...m,target_platforms:{...m.target_platforms,tiktok:B.target.checked}}),className:"mr-2"})," TikTok"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),e.jsx("input",{type:"text",value:m.age_requirement||"",onChange:B=>x({...m,age_requirement:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:": 20-30"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),e.jsxs("select",{value:m.skin_type_requirement||"",onChange:B=>x({...m,skin_type_requirement:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"",children:""})]})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["  ",e.jsx("button",{type:"button",onClick:()=>x({...m,offline_visit_requirement:""}),className:"ml-2 text-xs text-red-600 hover:text-red-800",children:"[ ]"})]}),e.jsx("textarea",{value:m.offline_visit_requirement||"",onChange:B=>x({...m,offline_visit_requirement:B.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:":      ,     ()"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"    .     ."})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:""}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" 1"}),e.jsx("input",{type:"text",value:m.question1||"",onChange:B=>x({...m,question1:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:" 1 "})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),e.jsxs("select",{value:m.question1_type||"short",onChange:B=>x({...m,question1_type:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"short",children:""}),e.jsx("option",{value:"long",children:""}),e.jsx("option",{value:"checkbox",children:""})]})]})]}),m.question1_type==="checkbox"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  ( )"}),e.jsx("input",{type:"text",value:m.question1_options||"",onChange:B=>x({...m,question1_options:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"1, 2, 3"})]})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" 2"}),e.jsx("input",{type:"text",value:m.question2||"",onChange:B=>x({...m,question2:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:" 2 "})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),e.jsxs("select",{value:m.question2_type||"short",onChange:B=>x({...m,question2_type:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"short",children:""}),e.jsx("option",{value:"long",children:""}),e.jsx("option",{value:"checkbox",children:""})]})]})]}),m.question2_type==="checkbox"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  ( )"}),e.jsx("input",{type:"text",value:m.question2_options||"",onChange:B=>x({...m,question2_options:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"1, 2, 3"})]})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" 3"}),e.jsx("input",{type:"text",value:m.question3||"",onChange:B=>x({...m,question3:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:" 3 "})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),e.jsxs("select",{value:m.question3_type||"short",onChange:B=>x({...m,question3_type:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"short",children:""}),e.jsx("option",{value:"long",children:""}),e.jsx("option",{value:"checkbox",children:""})]})]})]}),m.question3_type==="checkbox"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  ( )"}),e.jsx("input",{type:"text",value:m.question3_options||"",onChange:B=>x({...m,question3_options:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"1, 2, 3"})]})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" 4"}),e.jsx("input",{type:"text",value:m.question4||"",onChange:B=>x({...m,question4:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:" 4 "})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),e.jsxs("select",{value:m.question4_type||"short",onChange:B=>x({...m,question4_type:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"short",children:""}),e.jsx("option",{value:"long",children:""}),e.jsx("option",{value:"checkbox",children:""})]})]})]}),m.question4_type==="checkbox"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  ( )"}),e.jsx("input",{type:"text",value:m.question4_options||"",onChange:B=>x({...m,question4_options:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"1, 2, 3"})]})]})]})]}),e.jsx("div",{className:"pt-4",children:e.jsx("button",{onClick:he,disabled:j,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:j?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})," ..."]}):"  "})})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6 sticky top-4 h-fit",children:[e.jsx("h2",{className:"text-xl font-semibold mb-6 text-gray-900",children:"    "}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  "}),e.jsx("textarea",{value:Q,onChange:B=>k(B.target.value),rows:6,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"   ..."}),e.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:[Q.length," / 500"]})]}),e.jsx("button",{onClick:()=>J(Q),disabled:$||!Q.trim(),className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:$?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})," ..."]}):" "}),H&&e.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-md",children:e.jsx("p",{className:"text-red-800 text-sm",children:H})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"   "}),e.jsxs("div",{className:"relative",children:[e.jsx("textarea",{value:T,onChange:B=>w(B.target.value),rows:6,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 bg-green-50",placeholder:"   ..."}),T&&e.jsx("button",{onClick:()=>X(T),className:"absolute top-2 right-2 bg-green-600 text-white px-3 py-1 rounded text-sm hover:bg-green-700",children:" "})]}),T&&e.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:[T.length,""]})]}),e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-4",children:[e.jsx("h4",{className:"font-medium text-yellow-800 mb-2",children:"  "}),e.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1",children:[e.jsx("li",{children:"    "}),e.jsx("li",{children:"         "}),e.jsx("li",{children:"       "})]})]})]})]})]})]})]})},dj=({isOpen:d,onClose:o,application:n,campaign:i,onSave:m,processing:x,error:j,success:h,texts:S})=>{const[y,M]=b.useState({google_drive_url:"",google_slides_url:"",notes:""}),[q,K]=b.useState(!1),[v,C]=b.useState({drive:!1,slides:!1});b.useEffect(()=>{n&&(M({google_drive_url:n.google_drive_url||"",google_slides_url:n.google_slides_url||"",notes:n.additional_info||""}),K(!!n.google_drive_url||!!n.google_slides_url))},[n]);const N=(T,w)=>{navigator.clipboard.writeText(T).then(()=>{C($=>({...$,[w]:!0})),setTimeout(()=>{C($=>({...$,[w]:!1}))},2e3)})},Q=()=>{m(y)};if(!d||!n)return null;const k=S||{};return e.jsx("div",{className:"fixed inset-0 z-[99999] overflow-y-auto",children:e.jsxs("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[e.jsx("div",{className:"fixed inset-0 z-[99998] transition-opacity","aria-hidden":"true",children:e.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),e.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:""}),e.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full sm:p-6 relative z-[99999]",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:k.driveAccessTitle||"    "}),e.jsx("button",{onClick:o,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(Et,{className:"h-6 w-6"})})]}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:k.driveAccessDescription||"   ( )  () ."}),j&&e.jsx("div",{className:"mb-4 bg-red-50 border border-red-200 rounded-md p-3",children:e.jsxs("div",{className:"flex",children:[e.jsx(Kt,{className:"h-5 w-5 text-red-400"}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-red-700",children:j})})]})}),h&&e.jsx("div",{className:"mb-4 bg-green-50 border border-green-200 rounded-md p-3",children:e.jsxs("div",{className:"flex",children:[e.jsx(He,{className:"h-5 w-5 text-green-400"}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-green-700",children:h})})]})}),e.jsx("div",{className:"mb-6 p-4 bg-blue-50 rounded-md",children:e.jsx("p",{className:"text-sm text-blue-700",children:k.manualInputDescription||"   URL  .   ."})}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"google_drive_url",className:"block text-sm font-medium text-gray-700 mb-1",children:k.googleDriveUrl||"  URL ( )"}),e.jsxs("div",{className:"relative rounded-md shadow-sm",children:[e.jsx("input",{type:"text",id:"google_drive_url",value:y.google_drive_url,onChange:T=>M(w=>({...w,google_drive_url:T.target.value})),className:"focus:ring-indigo-500 focus:border-indigo-500 block w-full pr-20 sm:text-sm border-gray-300 rounded-md",placeholder:"https://drive.google.com/..."}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center",children:e.jsx("div",{className:"flex space-x-1 mr-2",children:y.google_drive_url&&e.jsxs(e.Fragment,{children:[e.jsx("button",{type:"button",onClick:()=>N(y.google_drive_url,"drive"),className:"inline-flex items-center p-1 border border-transparent rounded-md text-gray-400 hover:text-gray-600",title:"URL ",children:v.drive?e.jsx(He,{className:"h-4 w-4 text-green-500"}):e.jsx(pn,{className:"h-4 w-4"})}),e.jsx("a",{href:y.google_drive_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center p-1 border border-transparent rounded-md text-gray-400 hover:text-gray-600",title:"  ",children:e.jsx(vt,{className:"h-4 w-4"})})]})})})]}),q&&y.google_drive_url&&e.jsxs("div",{className:"mt-2 flex items-center p-3 bg-blue-50 rounded-md",children:[e.jsx(vo,{className:"h-5 w-5 text-blue-500 mr-2"}),e.jsx("a",{href:y.google_drive_url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:underline flex-1 truncate",children:y.google_drive_url})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"google_slides_url",className:"block text-sm font-medium text-gray-700 mb-1",children:k.googleSlidesUrl||"  URL ()"}),e.jsxs("div",{className:"relative rounded-md shadow-sm",children:[e.jsx("input",{type:"text",id:"google_slides_url",value:y.google_slides_url,onChange:T=>M(w=>({...w,google_slides_url:T.target.value})),className:"focus:ring-indigo-500 focus:border-indigo-500 block w-full pr-20 sm:text-sm border-gray-300 rounded-md",placeholder:"https://docs.google.com/presentation/..."}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center",children:e.jsx("div",{className:"flex space-x-1 mr-2",children:y.google_slides_url&&e.jsxs(e.Fragment,{children:[e.jsx("button",{type:"button",onClick:()=>N(y.google_slides_url,"slides"),className:"inline-flex items-center p-1 border border-transparent rounded-md text-gray-400 hover:text-gray-600",title:"URL ",children:v.slides?e.jsx(He,{className:"h-4 w-4 text-green-500"}):e.jsx(pn,{className:"h-4 w-4"})}),e.jsx("a",{href:y.google_slides_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center p-1 border border-transparent rounded-md text-gray-400 hover:text-gray-600",title:"  ",children:e.jsx(vt,{className:"h-4 w-4"})})]})})})]}),q&&y.google_slides_url&&e.jsxs("div",{className:"mt-2 flex items-center p-3 bg-purple-50 rounded-md",children:[e.jsx(hn,{className:"h-5 w-5 text-purple-500 mr-2"}),e.jsx("a",{href:y.google_slides_url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-purple-600 hover:underline flex-1 truncate",children:y.google_slides_url})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium text-gray-700 mb-1",children:k.notes||" "}),e.jsx("textarea",{id:"notes",value:y.notes,onChange:T=>M(w=>({...w,notes:T.target.value})),placeholder:"   ...",rows:3,className:"focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"})]})]}),e.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[e.jsx("button",{onClick:o,disabled:x,className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:k.cancel||""}),e.jsxs("button",{onClick:Q,disabled:x,className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[x?e.jsx(st,{className:"h-4 w-4 animate-spin mr-2"}):e.jsx(zl,{className:"h-4 w-4 mr-2"}),k.save||""]})]})]})]})})},Vh=()=>{ws();const{language:d}=rs(),[o]=Qi(),n=o.get("campaign"),[i,m]=b.useState([]),[x,j]=b.useState([]),[h,S]=b.useState(!0),[y,M]=b.useState(!1),[q,K]=b.useState(""),[v,C]=b.useState(""),[N,Q]=b.useState(n||""),[k,T]=b.useState(""),[w,$]=b.useState(""),[_,H]=b.useState(null),[Y,J]=b.useState(!1),[ne,X]=b.useState(!1),[he,B]=b.useState({google_drive_url:"",google_slides_url:"",notes:"",campaign:null}),L={ko:{title:" ",subtitle:"   ",totalApplications:" ",pendingApplications:" ",virtuallySelected:" ",approvedApplications:"",rejectedApplications:"",filterByCampaign:" ",filterByStatus:" ",searchPlaceholder:",  ...",allCampaigns:" ",allStatuses:" ",pending:" ",virtualSelected:" ",approved:"",rejected:"",viewDetails:" ",approve:"",reject:"",virtualSelect:" ",cancelVirtualSelect:"  ",provideDriveAccess:" ",applicationDetails:"  ",campaignInfo:" ",applicantInfo:" ",questionsAndAnswers:"  ",name:"",email:"",age:"",skinType:" ",bio:"",socialMedia:" ",appliedAt:"",updatedAt:"",virtualSelectedAt:" ",approvedAt:"",rejectedAt:"",status:"",actions:"",close:"",confirm:"",cancel:"",loading:" ...",error:" .",success:" .",noApplications:" .",confirmApprove:"  ?",confirmReject:"  ?",confirmVirtualSelect:"   ?",confirmCancelVirtualSelect:"  ?",driveAccessTitle:"    ",driveAccessDescription:"   ( )  () .",googleDriveUrl:"  URL ( )",googleSlidesUrl:"  URL ()",notes:" ",save:"",exportExcel:"Excel ",autoGenerate:" ",autoGenerateDescription:"    URL  ."},ja:{title:"",subtitle:"",totalApplications:"",pendingApplications:"",virtuallySelected:"",approvedApplications:"",rejectedApplications:"",filterByCampaign:"",filterByStatus:"",searchPlaceholder:"...",allCampaigns:"",allStatuses:"",pending:"",virtualSelected:"",approved:"",rejected:"",viewDetails:"",approve:"",reject:"",virtualSelect:"",cancelVirtualSelect:"",provideDriveAccess:"",applicationDetails:"",campaignInfo:"",applicantInfo:"",questionsAndAnswers:"",name:"",email:"",age:"",skinType:"",bio:"",socialMedia:"",appliedAt:"",updatedAt:"",virtualSelectedAt:"",approvedAt:"",rejectedAt:"",status:"",actions:"",close:"",confirm:"",cancel:"",loading:"...",error:"",success:"",noApplications:"",confirmApprove:"",confirmReject:"",confirmVirtualSelect:"",confirmCancelVirtualSelect:"",driveAccessTitle:"Google",driveAccessDescription:"GoogleGoogle",googleDriveUrl:"Google URL",googleSlidesUrl:"Google URL",notes:"",save:"",exportExcel:"Excel ",autoGenerate:"",autoGenerateDescription:"URL"}},ee=L[d]||L.ko;b.useEffect(()=>{console.log("ApplicationsReportSimple "),G(),ge()},[]);const ge=async()=>{},G=async()=>{try{S(!0),K(""),console.log("   "),console.log("1:   ...");try{const I=await Te.campaigns.getAll();j(I||[]),console.log("   :",(I==null?void 0:I.length)||0)}catch(I){console.warn("   :",I),j([])}console.log("2:   ...");try{const I=await Te.applications.getAll();m(I||[]),console.log("   :",(I==null?void 0:I.length)||0)}catch(I){console.warn("   :",I),m([])}}catch(I){console.error("  :",I),K(`${ee.error}: ${I.message}`)}finally{S(!1),console.log("  ")}},W=async(I,ye)=>{try{M(!0),K(""),C(""),console.log("  :",I,ye);const fe={status:ye,updated_at:new Date().toISOString()};ye==="virtual_selected"?fe.virtual_selected_at=new Date().toISOString():ye==="approved"?fe.approved_at=new Date().toISOString():ye==="rejected"&&(fe.rejected_at=new Date().toISOString()),await Te.applications.update(I,fe),console.log("  "),C(ee.success),setTimeout(()=>{G()},1e3)}catch(fe){console.error("  :",fe),K(`  : ${fe.message}`)}finally{M(!1)}},z=async(I,ye)=>{let fe="";switch(ye){case"approved":fe=ee.confirmApprove;break;case"rejected":fe=ee.confirmReject;break;case"virtual_selected":fe=ee.confirmVirtualSelect;break;case"pending":fe=ee.confirmCancelVirtualSelect;break;default:return}confirm(fe)&&await W(I.id,ye)},D=I=>{H(I);const ye=x.find(fe=>fe.id===I.campaign_id);B({google_drive_url:I.google_drive_url||"",google_slides_url:I.google_slides_url||"",notes:I.additional_info||"",campaign:ye}),X(!0)},g=async I=>{try{M(!0),K(""),C(""),console.log("   :",_.id,I);const ye={google_drive_url:I.google_drive_url.trim()||null,google_slides_url:I.google_slides_url.trim()||null,additional_info:I.notes.trim()||null,updated_at:new Date().toISOString()};await Te.applications.update(_.id,ye),console.log("   "),C("     ."),X(!1),setTimeout(()=>{G()},1e3)}catch(ye){console.error("   :",ye),K(`   : ${ye.message}`)}finally{M(!1)}},O=I=>{H(I),J(!0)},U=I=>{const ye={pending:{color:"bg-yellow-100 text-yellow-800",text:ee.pending,icon:as},virtual_selected:{color:"bg-purple-100 text-purple-800",text:ee.virtualSelected,icon:sl},approved:{color:"bg-green-100 text-green-800",text:ee.approved,icon:He},rejected:{color:"bg-red-100 text-red-800",text:ee.rejected,icon:ts}},fe=ye[I]||ye.pending,De=fe.icon;return e.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${fe.color}`,children:[e.jsx(De,{className:"h-3 w-3 mr-1"}),fe.text]})},ie=I=>I?new Date(I).toLocaleDateString(d==="ko"?"ko-KR":"ja-JP"):"-",A=i.filter(I=>{var Ge,oe;const ye=!N||I.campaign_id===N,fe=k===""||I.status===k,De=w===""||((Ge=I.user_name)==null?void 0:Ge.toLowerCase().includes(w.toLowerCase()))||((oe=I.campaign_title)==null?void 0:oe.toLowerCase().includes(w.toLowerCase()));return ye&&fe&&De}),re={total:A.length,pending:A.filter(I=>I.status==="pending").length,virtualSelected:A.filter(I=>I.status==="virtual_selected").length,approved:A.filter(I=>I.status==="approved").length,rejected:A.filter(I=>I.status==="rejected").length};return h?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Yt,{}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"h-6 w-6 animate-spin"}),e.jsx("span",{children:ee.loading})]})})})]}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Yt,{}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:ee.title}),e.jsx("p",{className:"text-gray-600 mt-2",children:ee.subtitle})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:G,disabled:h,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[e.jsx(Ea,{className:"h-4 w-4 mr-2"}),""]}),e.jsxs("button",{onClick:()=>{},className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[e.jsx(ql,{className:"h-4 w-4 mr-2"}),ee.exportExcel]})]})]})}),q&&e.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-md p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx(Kt,{className:"h-5 w-5 text-red-400"}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-red-800",children:q})})]})}),v&&e.jsx("div",{className:"mb-6 bg-green-50 border border-green-200 rounded-md p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx(He,{className:"h-5 w-5 text-green-400"}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-green-800",children:v})})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-8",children:[e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(ds,{className:"h-6 w-6 text-gray-400"})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:ee.totalApplications}),e.jsx("dd",{className:"text-lg font-medium text-gray-900",children:re.total})]})})]})})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(as,{className:"h-6 w-6 text-yellow-400"})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:ee.pendingApplications}),e.jsx("dd",{className:"text-lg font-medium text-gray-900",children:re.pending})]})})]})})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(sl,{className:"h-6 w-6 text-purple-400"})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:ee.virtuallySelected}),e.jsx("dd",{className:"text-lg font-medium text-gray-900",children:re.virtualSelected})]})})]})})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(He,{className:"h-6 w-6 text-green-400"})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:ee.approvedApplications}),e.jsx("dd",{className:"text-lg font-medium text-gray-900",children:re.approved})]})})]})})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(ts,{className:"h-6 w-6 text-red-400"})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:ee.rejectedApplications}),e.jsx("dd",{className:"text-lg font-medium text-gray-900",children:re.rejected})]})})]})})})]}),e.jsx("div",{className:"bg-white shadow px-4 py-5 sm:rounded-lg sm:p-6 mb-8",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"campaign",className:"block text-sm font-medium text-gray-700",children:ee.filterByCampaign}),e.jsxs("select",{id:"campaign",value:N,onChange:I=>Q(I.target.value),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",children:[e.jsx("option",{value:"",children:ee.allCampaigns}),x.map(I=>e.jsx("option",{value:I.id,children:I.title||I.brand||" "},I.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700",children:ee.filterByStatus}),e.jsxs("select",{id:"status",value:k,onChange:I=>T(I.target.value),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",children:[e.jsx("option",{value:"",children:ee.allStatuses}),e.jsx("option",{value:"pending",children:ee.pending}),e.jsx("option",{value:"virtual_selected",children:ee.virtualSelected}),e.jsx("option",{value:"approved",children:ee.approved}),e.jsx("option",{value:"rejected",children:ee.rejected})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"search",className:"block text-sm font-medium text-gray-700",children:""}),e.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(gr,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"text",id:"search",value:w,onChange:I=>$(I.target.value),className:"focus:ring-indigo-500 focus:border-indigo-500 block w-full pl-10 sm:text-sm border-gray-300 rounded-md",placeholder:ee.searchPlaceholder})]})]})]})}),e.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:e.jsxs("ul",{className:"divide-y divide-gray-200",children:[A.map(I=>{var fe;const ye=x.find(De=>De.id===I.campaign_id)||{};return e.jsx("li",{children:e.jsx("div",{className:"px-4 py-4 sm:px-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-200 flex items-center justify-center",children:e.jsx("span",{className:"text-gray-500 font-medium",children:((fe=I.user_name)==null?void 0:fe.charAt(0))||"?"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("p",{className:"text-sm font-medium text-indigo-600 truncate",children:I.user_name||" "}),e.jsx("div",{className:"ml-2",children:U(I.status)})]}),e.jsx("div",{className:"mt-1",children:e.jsx("p",{className:"text-sm text-gray-500",children:I.user_email||" "})}),e.jsx("div",{className:"mt-1",children:e.jsxs("p",{className:"text-sm text-gray-500",children:[": ",ye.title||ye.brand||"  "]})})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:()=>O(I),className:"inline-flex items-center px-3 py-1 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:[e.jsx(sl,{className:"h-4 w-4 mr-1"}),ee.viewDetails]}),I.status==="pending"&&e.jsxs("button",{onClick:()=>z(I,"virtual_selected"),disabled:y,className:"inline-flex items-center px-3 py-1 border border-purple-300 shadow-sm text-sm leading-4 font-medium rounded-md text-purple-700 bg-purple-50 hover:bg-purple-100",children:[e.jsx(sl,{className:"h-4 w-4 mr-1"}),ee.virtualSelect]}),I.status==="virtual_selected"&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>z(I,"pending"),disabled:y,className:"inline-flex items-center px-3 py-1 border border-yellow-300 shadow-sm text-sm leading-4 font-medium rounded-md text-yellow-700 bg-yellow-50 hover:bg-yellow-100",children:[e.jsx(as,{className:"h-4 w-4 mr-1"}),ee.cancelVirtualSelect]}),e.jsxs("button",{onClick:()=>z(I,"approved"),disabled:y,className:"inline-flex items-center px-3 py-1 border border-green-300 shadow-sm text-sm leading-4 font-medium rounded-md text-green-700 bg-green-50 hover:bg-green-100",children:[e.jsx(He,{className:"h-4 w-4 mr-1"}),ee.approve]})]}),I.status==="approved"&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>z(I,"pending"),disabled:y,className:"inline-flex items-center px-3 py-1 border border-yellow-300 shadow-sm text-sm leading-4 font-medium rounded-md text-yellow-700 bg-yellow-50 hover:bg-yellow-100",children:[e.jsx(as,{className:"h-4 w-4 mr-1"}),""]}),e.jsxs("button",{onClick:()=>D(I),disabled:y,className:"inline-flex items-center px-3 py-1 border border-blue-300 shadow-sm text-sm leading-4 font-medium rounded-md text-blue-700 bg-blue-50 hover:bg-blue-100",children:[e.jsx(vo,{className:"h-4 w-4 mr-1"}),ee.provideDriveAccess]})]}),(I.status==="pending"||I.status==="virtual_selected")&&e.jsxs("button",{onClick:()=>z(I,"rejected"),disabled:y,className:"inline-flex items-center px-3 py-1 border border-red-300 shadow-sm text-sm leading-4 font-medium rounded-md text-red-700 bg-red-50 hover:bg-red-100",children:[e.jsx(ts,{className:"h-4 w-4 mr-1"}),ee.reject]})]})]})})},I.id)}),A.length===0&&e.jsx("li",{children:e.jsx("div",{className:"px-4 py-8 text-center",children:e.jsx("p",{className:"text-gray-500",children:ee.noApplications})})})]})}),Y&&_&&e.jsx("div",{className:"fixed inset-0 z-[99999] overflow-y-auto",children:e.jsxs("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[e.jsx("div",{className:"fixed inset-0 transition-opacity z-[99998]","aria-hidden":"true",children:e.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),e.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:""}),e.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full sm:p-6 z-[99999] relative",children:e.jsx("div",{className:"sm:flex sm:items-start",children:e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:ee.applicationDetails}),e.jsx("button",{onClick:()=>J(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(Et,{className:"h-6 w-6"})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-md font-semibold mb-3",children:ee.campaignInfo}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:":"}),e.jsx("p",{className:"font-medium",children:_.campaign_title||"  "})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:":"}),e.jsx("p",{className:"font-medium",children:_.campaign_brand||"  "})]})]})})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-md font-semibold mb-3",children:ee.applicantInfo}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-gray-600",children:[ee.name,":"]}),e.jsx("p",{className:"font-medium",children:_.user_name||"-"})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-gray-600",children:[ee.email,":"]}),e.jsx("p",{className:"font-medium",children:_.user_email||"-"})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-gray-600",children:[ee.age,":"]}),e.jsx("p",{className:"font-medium",children:_.user_age||"-"})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-gray-600",children:[ee.skinType,":"]}),e.jsx("p",{className:"font-medium",children:_.user_skin_type||"-"})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("p",{className:"text-gray-600 mb-1",children:[ee.bio,":"]}),e.jsx("p",{className:"text-gray-800",children:_.user_bio||"-"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("p",{className:"text-gray-600 mb-2",children:[ee.socialMedia,":"]}),e.jsxs("div",{className:"space-y-2",children:[_.user_instagram_url&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(na,{className:"h-4 w-4 text-pink-500 mr-2"}),e.jsxs("a",{href:_.user_instagram_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline flex items-center",children:[_.user_instagram_url,e.jsx(vt,{className:"h-3 w-3 ml-1"})]})]}),_.user_tiktok_url&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(Zh,{className:"h-4 w-4 text-black mr-2"}),e.jsxs("a",{href:_.user_tiktok_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline flex items-center",children:[_.user_tiktok_url,e.jsx(vt,{className:"h-3 w-3 ml-1"})]})]}),_.user_youtube_url&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(Aa,{className:"h-4 w-4 text-red-500 mr-2"}),e.jsxs("a",{href:_.user_youtube_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline flex items-center",children:[_.user_youtube_url,e.jsx(vt,{className:"h-3 w-3 ml-1"})]})]}),!_.user_instagram_url&&!_.user_tiktok_url&&!_.user_youtube_url&&e.jsx("p",{className:"text-gray-500",children:"-"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-md font-semibold mb-3",children:"   "}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-gray-600",children:[ee.status,":"]}),e.jsx("div",{className:"mt-1",children:U(_.status)})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-gray-600",children:[ee.appliedAt,":"]}),e.jsx("p",{className:"font-medium",children:ie(_.created_at)})]}),_.virtual_selected_at&&e.jsxs("div",{children:[e.jsxs("p",{className:"text-gray-600",children:[ee.virtualSelectedAt,":"]}),e.jsx("p",{className:"font-medium",children:ie(_.virtual_selected_at)})]}),_.approved_at&&e.jsxs("div",{children:[e.jsxs("p",{className:"text-gray-600",children:[ee.approvedAt,":"]}),e.jsx("p",{className:"font-medium",children:ie(_.approved_at)})]}),_.rejected_at&&e.jsxs("div",{children:[e.jsxs("p",{className:"text-gray-600",children:[ee.rejectedAt,":"]}),e.jsx("p",{className:"font-medium",children:ie(_.rejected_at)})]})]})})]}),_.status==="approved"&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-md font-semibold mb-3",children:"  "}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 mb-1",children:"  URL:"}),_.google_drive_url?e.jsxs("a",{href:_.google_drive_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline flex items-center",children:[e.jsx(vo,{className:"h-4 w-4 mr-1"}),_.google_drive_url,e.jsx(vt,{className:"h-3 w-3 ml-1"})]}):e.jsx("p",{className:"text-gray-500",children:""})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 mb-1",children:"  URL:"}),_.google_slides_url?e.jsxs("a",{href:_.google_slides_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline flex items-center",children:[e.jsx(hn,{className:"h-4 w-4 mr-1"}),_.google_slides_url,e.jsx(vt,{className:"h-3 w-3 ml-1"})]}):e.jsx("p",{className:"text-gray-500",children:""})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 mb-1",children:" :"}),e.jsx("p",{className:"text-gray-800",children:_.additional_info||"-"})]})]}),e.jsx("div",{className:"mt-4",children:e.jsxs("button",{onClick:()=>{J(!1),setTimeout(()=>D(_),100)},className:"inline-flex items-center px-3 py-2 border border-blue-300 shadow-sm text-sm leading-4 font-medium rounded-md text-blue-700 bg-blue-50 hover:bg-blue-100",children:[e.jsx(Fh,{className:"h-4 w-4 mr-1"}),"  "]})})]})]})]}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsx("button",{onClick:()=>J(!1),className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:ee.close})})]})})})]})}),e.jsx(dj,{isOpen:ne,onClose:()=>X(!1),application:_,campaign:he.campaign,onSave:g,processing:y,error:q,success:v,texts:ee})]})]})},oj=()=>{const[d,o]=b.useState([]),[n,i]=b.useState([]),[m,x]=b.useState(!0),[j,h]=b.useState(""),[S,y]=b.useState(""),[M,q]=b.useState("");b.useEffect(()=>{K()},[]);const K=async()=>{try{x(!0);const{data:N,error:Q}=await ae.from("campaigns").select("id, title").order("created_at",{ascending:!1});if(Q)throw Q;i(N||[]);const{data:k,error:T}=await ae.from("applications").select(`
          *,
          campaigns!inner(id, title),
          user_profiles(name, email, phone, instagram_url, age, skin_type)
        `).eq("status","approved").order("updated_at",{ascending:!1});if(T)throw T;o(k||[])}catch(N){console.error("  :",N)}finally{x(!1)}},v=async(N,Q)=>{try{const{error:k}=await ae.from("applications").update({tracking_number:Q}).eq("id",N);if(k)throw k;o(T=>T.map(w=>w.id===N?{...w,tracking_number:Q}:w)),alert(" .")}catch(k){console.error("  :",k),alert("  .")}},C=d.filter(N=>{var w,$;const Q=!j||N.campaign_id===j,k=!S||(((w=N.user_profiles)==null?void 0:w.name)||N.applicant_name||"").toLowerCase().includes(S.toLowerCase())||((($=N.user_profiles)==null?void 0:$.email)||"").toLowerCase().includes(S.toLowerCase()),T=!M||M==="shipped"&&N.tracking_number||M==="pending"&&!N.tracking_number;return Q&&k&&T});return m?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(No,{}),e.jsxs("div",{className:"flex",children:[e.jsx(Yt,{}),e.jsx("div",{className:"flex-1 p-8",children:e.jsx("div",{className:"text-center",children:" ..."})})]})]}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(No,{}),e.jsxs("div",{className:"flex",children:[e.jsx(Yt,{}),e.jsxs("div",{className:"flex-1 p-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"  "}),e.jsx("p",{className:"text-gray-600",children:"    ."})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),e.jsxs("select",{value:j,onChange:N=>h(N.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:" "}),n.map(N=>e.jsx("option",{value:N.id,children:N.title},N.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),e.jsxs("select",{value:M,onChange:N=>q(N.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:" "}),e.jsx("option",{value:"pending",children:" "}),e.jsx("option",{value:"shipped",children:" "})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),e.jsx("input",{type:"text",placeholder:"   ",value:S,onChange:N=>y(N.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsx("div",{className:"flex items-end",children:e.jsx("button",{onClick:K,className:"w-full px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:""})})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 rounded-full bg-blue-100 text-blue-600",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"  "}),e.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:[C.length,""]})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 rounded-full bg-green-100 text-green-600",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:" "}),e.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:[C.filter(N=>N.tracking_number).length,""]})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 rounded-full bg-yellow-100 text-yellow-600",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:" "}),e.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:[C.filter(N=>!N.tracking_number).length,""]})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:" "})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:" "}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:" "}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:C.map(N=>{var Q,k,T,w;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"flex items-center",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:((Q=N.user_profiles)==null?void 0:Q.name)||N.applicant_name||"N/A"}),e.jsx("div",{className:"text-sm text-gray-500",children:((k=N.user_profiles)==null?void 0:k.email)||"N/A"}),e.jsxs("div",{className:"text-sm text-gray-500",children:[" ",((T=N.user_profiles)==null?void 0:T.phone)||N.phone||"N/A"]})]})})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:((w=N.campaigns)==null?void 0:w.title)||"N/A"})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"text-sm text-gray-900",children:[e.jsxs("div",{children:[" ",N.postal_code||"N/A"]}),e.jsx("div",{className:"mt-1 text-gray-600",children:N.address||"N/A"})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx("input",{type:"text",placeholder:" ",defaultValue:N.tracking_number||"",className:"px-3 py-1 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",onBlur:$=>{$.target.value!==(N.tracking_number||"")&&v(N.id,$.target.value)}})})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:N.tracking_number?e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:" "}):e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:" "})})]},N.id)})})]})}),C.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2M4 13h2m13-8l-4 4-4-4m0 0l-4 4-4-4"})}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"  "}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"  ."})]})]})]})]})]})},uj={ko:{title:"  ",subtitle:"       ",backToDashboard:" ",confirmedCreators:" ",name:"",email:"",phone:"",address:"",trackingNumber:"",enterTracking:" ",saveTracking:" ",viewDetails:"",editAddress:" ",loading:"  ...",error:" ",success:" ",noCreators:"  ",campaign:"",status:"",approved:"",completed:"",shipped:"",delivered:"",postalCode:"",fullAddress:"",trackingInfo:" ",updateAddress:" ",updateTracking:" "},ja:{title:"",subtitle:"",backToDashboard:"",confirmedCreators:"",name:"",email:"",phone:"",address:"",trackingNumber:"",enterTracking:"",saveTracking:"",viewDetails:"",editAddress:"",loading:"...",error:"",success:"",noCreators:"",campaign:"",status:"",approved:"",completed:"",shipped:"",delivered:"",postalCode:"",fullAddress:"",trackingInfo:"",updateAddress:"",updateTracking:""},en:{title:"Confirmed Creators Management",subtitle:"Address verification and tracking number input for confirmed creators",backToDashboard:"Back to Dashboard",confirmedCreators:"Confirmed Creators",name:"Name",email:"Email",phone:"Phone",address:"Address",trackingNumber:"Tracking Number",enterTracking:"Enter Tracking Number",saveTracking:"Save Tracking Number",viewDetails:"View Details",editAddress:"Edit Address",loading:"Loading data...",error:"An error occurred",success:"Successfully saved",noCreators:"No confirmed creators",campaign:"Campaign",status:"Status",approved:"Approved",completed:"Completed",shipped:"Shipped",delivered:"Delivered",postalCode:"Postal Code",fullAddress:"Full Address",trackingInfo:"Shipping Information",updateAddress:"Update Address",updateTracking:"Update Tracking"}},mj=()=>{var z,D;const{campaignId:d}=_n(),o=ws(),[n,i]=b.useState(null),[m,x]=b.useState([]),[j,h]=b.useState(!0),[S,y]=b.useState(!1),[M,q]=b.useState(""),[K,v]=b.useState(""),[C,N]=b.useState("ko"),[Q,k]=b.useState(null),[T,w]=b.useState(!1),[$,_]=b.useState(!1),[H,Y]=b.useState(""),[J,ne]=b.useState({postal_code:"",address:"",phone:""}),X=uj[C];b.useEffect(()=>{he()},[d]);const he=async()=>{try{if(h(!0),q(""),console.log("    , campaignId:",d),d&&d!=="undefined"){const{data:ie,error:A}=await ae.from("campaigns").select("*").eq("id",d).single();if(A)throw new Error(`  : ${A.message}`);i(ie),console.log(" :",ie)}let g=ae.from("applications").select(`
          *,
          campaigns (
            id,
            title,
            brand,
            reward_amount
          ),
          user_profiles (
            name,
            email,
            phone,
            age,
            skin_type,
            instagram_url
          )
        `).eq("status","approved").order("updated_at",{ascending:!1});d&&d!=="undefined"&&(g=g.eq("campaign_id",d));const{data:O,error:U}=await g;U?(console.error("   :",U),x([])):(x(O||[]),console.log("  :",(O==null?void 0:O.length)||0,""))}catch(g){console.error("  :",g),q(g.message||"  .")}finally{h(!1)}},B=async()=>{if(!Q||!H.trim()){q(" .");return}try{y(!0),q("");const{error:g}=await ae.from("applications").update({tracking_number:H.trim(),shipping_status:"shipped",updated_at:new Date().toISOString()}).eq("id",Q.id);if(g)throw new Error(`  : ${g.message}`);x(O=>O.map(U=>U.id===Q.id?{...U,tracking_number:H.trim(),shipping_status:"shipped"}:U)),v("  ."),w(!1),Y(""),k(null),setTimeout(()=>v(""),3e3)}catch(g){console.error("  :",g),q(g.message||"  .")}finally{y(!1)}},L=async()=>{if(Q)try{y(!0),q("");const{error:g}=await ae.from("user_profiles").update({postal_code:J.postal_code,address:J.address,phone:J.phone,updated_at:new Date().toISOString()}).eq("id",Q.user_profiles.id);if(g)throw new Error(`  : ${g.message}`);x(O=>O.map(U=>U.id===Q.id?{...U,user_profiles:{...U.user_profiles,postal_code:J.postal_code,address:J.address,phone:J.phone}}:U)),v("  ."),_(!1),k(null),setTimeout(()=>v(""),3e3)}catch(g){console.error("  :",g),q(g.message||"  .")}finally{y(!1)}},ee=g=>{k(g),Y(g.tracking_number||""),w(!0)},ge=g=>{var O,U,ie;k(g),ne({postal_code:((O=g.user_profiles)==null?void 0:O.postal_code)||"",address:((U=g.user_profiles)==null?void 0:U.address)||"",phone:((ie=g.user_profiles)==null?void 0:ie.phone)||""}),_(!0)},G=g=>g.shipping_status==="shipped"?e.jsx(Us,{className:"bg-blue-100 text-blue-800",children:X.shipped}):g.shipping_status==="delivered"?e.jsx(Us,{className:"bg-green-100 text-green-800",children:X.delivered}):g.status==="completed"?e.jsx(Us,{className:"bg-green-100 text-green-800",children:X.completed}):e.jsx(Us,{className:"bg-yellow-100 text-yellow-800",children:X.approved}),W=()=>{const g=m.map(I=>{var ye,fe,De,Ge,oe,Ne,te;return{:((ye=I.user_profiles)==null?void 0:ye.name)||"",:((fe=I.user_profiles)==null?void 0:fe.email)||"",:((De=I.user_profiles)==null?void 0:De.phone)||"",:((Ge=I.user_profiles)==null?void 0:Ge.postal_code)||"",:((oe=I.user_profiles)==null?void 0:oe.address)||"",:((Ne=I.campaigns)==null?void 0:Ne.title)||"",:((te=I.campaigns)==null?void 0:te.brand)||"",:I.status,:I.tracking_number||"",:I.shipping_status||"",:I.approved_at?new Date(I.approved_at).toLocaleDateString():"",:I.shipped_at?new Date(I.shipped_at).toLocaleDateString():""}}),O=`confirmed_creators_${d||"all"}_${new Date().toISOString().split("T")[0]}.csv`,U=Object.keys(g[0]||{}),ie=[U.join(","),...g.map(I=>U.map(ye=>`"${I[ye]||""}"`).join(","))].join(`
`),A=new Blob([ie],{type:"text/csv;charset=utf-8;"}),re=document.createElement("a");re.href=URL.createObjectURL(A),re.download=O,re.click()};return j?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(st,{className:"h-12 w-12 animate-spin text-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:X.loading})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 py-8",children:e.jsxs("div",{className:"container mx-auto px-4 max-w-7xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs(Ee,{variant:"outline",onClick:()=>o("/admin"),className:"flex items-center space-x-2",children:[e.jsx(ol,{className:"h-4 w-4"}),e.jsx("span",{children:X.backToDashboard})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:X.title}),e.jsx("p",{className:"text-gray-600",children:n?`${n.title} - ${X.subtitle}`:X.subtitle})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(Zi,{value:C,onValueChange:N,children:[e.jsx(Ii,{className:"w-32",children:e.jsx(Fi,{})}),e.jsxs(Wi,{children:[e.jsx(ys,{value:"ko",children:""}),e.jsx(ys,{value:"ja",children:""}),e.jsx(ys,{value:"en",children:"English"})]})]}),e.jsxs(Ee,{variant:"outline",onClick:W,disabled:m.length===0,children:[e.jsx(ql,{className:"h-4 w-4 mr-2"}),"Excel "]})]})]}),M&&e.jsxs(Ns,{className:"mb-6 border-red-200 bg-red-50",children:[e.jsx(Kt,{className:"h-4 w-4 text-red-600"}),e.jsx(_s,{className:"text-red-800",children:M})]}),K&&e.jsxs(Ns,{className:"mb-6 border-green-200 bg-green-50",children:[e.jsx(He,{className:"h-4 w-4 text-green-600"}),e.jsx(_s,{className:"text-green-800",children:K})]}),e.jsxs(_t,{children:[e.jsx(kt,{children:e.jsxs(Ct,{className:"flex items-center space-x-2",children:[e.jsx(os,{className:"h-5 w-5 text-blue-600"}),e.jsx("span",{children:X.confirmedCreators}),e.jsxs(Us,{variant:"secondary",children:[m.length,""]})]})}),e.jsx(At,{children:m.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(os,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:X.noCreators})]}):e.jsx("div",{className:"space-y-4",children:m.map(g=>{var O;return e.jsxs("div",{className:"border rounded-lg p-6 bg-white shadow-sm",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800",children:g.applicant_name||" "}),G(g)]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:[e.jsxs("h4",{className:"font-semibold text-blue-800 mb-3 flex items-center",children:[e.jsx(Ih,{className:"h-4 w-4 mr-2"})," "]}),e.jsx("div",{className:"space-y-2 text-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600",children:":"}),e.jsx("span",{className:"font-medium",children:g.phone_number||" "})]})})]}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200",children:[e.jsxs("h4",{className:"font-semibold text-green-800 mb-3 flex items-center",children:[e.jsx(Nh,{className:"h-4 w-4 mr-2"})," "]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600",children:":"}),e.jsx("span",{className:"font-medium",children:g.postal_code||""})]}),e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsx("span",{className:"text-gray-600",children:":"}),e.jsx("span",{className:"font-medium text-right max-w-48 break-words",children:g.address||"  "})]})]})]}),!d&&e.jsxs("div",{className:"bg-purple-50 rounded-lg p-4 border border-purple-200",children:[e.jsxs("h4",{className:"font-semibold text-purple-800 mb-3 flex items-center",children:[e.jsx(ds,{className:"h-4 w-4 mr-2"})," "]}),e.jsx("div",{className:"text-sm",children:e.jsx("span",{className:"font-medium",children:((O=g.campaigns)==null?void 0:O.title)||"  "})})]}),e.jsxs("div",{className:"bg-orange-50 rounded-lg p-4 border border-orange-200",children:[e.jsxs("h4",{className:"font-semibold text-orange-800 mb-3 flex items-center",children:[e.jsx(ug,{className:"h-4 w-4 mr-2"}),""]}),e.jsx("div",{className:"text-sm",children:e.jsx("span",{className:"font-medium",children:g.tracking_number||" "})})]})]})]}),e.jsxs("div",{className:"flex space-x-2 ml-4",children:[e.jsxs(Ee,{variant:"outline",size:"sm",onClick:()=>ge(g),children:[e.jsx(Nh,{className:"h-4 w-4 mr-2"}),X.editAddress]}),e.jsxs(Ee,{size:"sm",onClick:()=>ee(g),className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(mg,{className:"h-4 w-4 mr-2"}),g.tracking_number?X.updateTracking:X.enterTracking]})]})]}),e.jsxs("div",{className:"text-xs text-gray-500 border-t pt-2 mt-4",children:[": ",g.approved_at?new Date(g.approved_at).toLocaleString():" ",g.shipped_at&&e.jsxs("span",{className:"ml-4",children:[": ",new Date(g.shipped_at).toLocaleString()]})]})]},g.id)})})})]}),e.jsx(bn,{open:T,onOpenChange:w,children:e.jsxs(jn,{children:[e.jsxs(vn,{children:[e.jsx(yn,{children:X.trackingInfo}),e.jsxs(Nn,{children:[(z=Q==null?void 0:Q.user_profiles)==null?void 0:z.name,"  ."]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx($e,{htmlFor:"tracking",children:X.trackingNumber}),e.jsx(ht,{id:"tracking",value:H,onChange:g=>Y(g.target.value),placeholder:" "})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(Ee,{variant:"outline",onClick:()=>w(!1),children:""}),e.jsxs(Ee,{onClick:B,disabled:S||!H.trim(),children:[S?e.jsx(st,{className:"h-4 w-4 animate-spin mr-2"}):e.jsx(zl,{className:"h-4 w-4 mr-2"}),X.saveTracking]})]})]})]})}),e.jsx(bn,{open:$,onOpenChange:_,children:e.jsxs(jn,{children:[e.jsxs(vn,{children:[e.jsx(yn,{children:X.updateAddress}),e.jsxs(Nn,{children:[(D=Q==null?void 0:Q.user_profiles)==null?void 0:D.name,"   ."]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx($e,{htmlFor:"postal_code",children:X.postalCode}),e.jsx(ht,{id:"postal_code",value:J.postal_code,onChange:g=>ne(O=>({...O,postal_code:g.target.value})),placeholder:""})]}),e.jsxs("div",{children:[e.jsx($e,{htmlFor:"address",children:X.fullAddress}),e.jsx(ht,{id:"address",value:J.address,onChange:g=>ne(O=>({...O,address:g.target.value})),placeholder:""})]}),e.jsxs("div",{children:[e.jsx($e,{htmlFor:"phone",children:X.phone}),e.jsx(ht,{id:"phone",value:J.phone,onChange:g=>ne(O=>({...O,phone:g.target.value})),placeholder:""})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(Ee,{variant:"outline",onClick:()=>_(!1),children:""}),e.jsxs(Ee,{onClick:L,disabled:S,children:[S?e.jsx(st,{className:"h-4 w-4 animate-spin mr-2"}):e.jsx(zl,{className:"h-4 w-4 mr-2"}),X.updateAddress]})]})]})]})})]})})},xj={ko:{title:"SNS  ",subtitle:"  SNS    ",backToDashboard:" ",completedCreators:" ",name:"",campaign:"",snsLinks:"SNS ",uploadStatus:" ",viewPost:" ",markCompleted:" ",addFeedback:" ",loading:"  ...",error:" ",success:" ",noUploads:" SNS ",status:"",completed:"",pending:"",approved:"",instagram:"",tiktok:"",youtube:"",twitter:"",uploadDate:" ",feedback:"",approvePoints:" ",pointsApproved:"  ",pointsPending:"  ",approvePointsConfirm:" ?",pointsAmount:" ",saveFeedback:" ",performance:"",likes:"",comments:"",shares:"",views:""},ja:{title:"SNS",subtitle:"SNS",backToDashboard:"",completedCreators:"",name:"",campaign:"",snsLinks:"SNS",uploadStatus:"",viewPost:"",markCompleted:"",addFeedback:"",loading:"...",error:"",success:"",noUploads:"SNS",status:"",completed:"",pending:"",approved:"",instagram:"Instagram",tiktok:"TikTok",youtube:"YouTube",twitter:"Twitter",uploadDate:"",feedback:"",saveFeedback:"",performance:"",likes:"",comments:"",shares:"",views:""},en:{title:"SNS Upload Verification",subtitle:"Verify that final report SNS has been uploaded",backToDashboard:"Back to Dashboard",completedCreators:"Completed Creators",name:"Name",campaign:"Campaign",snsLinks:"SNS Links",uploadStatus:"Upload Status",viewPost:"View Post",markCompleted:"Mark Completed",addFeedback:"Add Feedback",loading:"Loading data...",error:"An error occurred",success:"Successfully saved",noUploads:"No SNS uploads",status:"Status",completed:"Completed",pending:"Pending",approved:"Approved",instagram:"Instagram",tiktok:"TikTok",youtube:"YouTube",twitter:"Twitter",uploadDate:"Upload Date",feedback:"Feedback",saveFeedback:"Save Feedback",performance:"Performance",likes:"Likes",comments:"Comments",shares:"Shares",views:"Views"}},Yh=()=>{var B;const{campaignId:d}=_n();ws();const[o,n]=b.useState(null),[i,m]=b.useState([]),[x,j]=b.useState(!0),[h,S]=b.useState(!1),[y,M]=b.useState(""),[q,K]=b.useState(""),[v,C]=b.useState("ko"),[N,Q]=b.useState(null),[k,T]=b.useState(!1),[w,$]=b.useState(""),_=xj[v];b.useEffect(()=>{H()},[d]);const H=async()=>{try{if(j(!0),M(""),console.log("SNS    , campaignId:",d),d&&d!=="undefined"){const{data:G,error:W}=await ae.from("campaigns").select("*").eq("id",d).single();if(W)throw new Error(`  : ${W.message}`);n(G),console.log(" :",G)}let L=ae.from("applications").select(`
          *,
          campaigns (
            id,
            title,
            brand,
            reward_amount
          ),
          user_profiles (
            user_id,
            name,
            email,
            phone,
            instagram_url,
            tiktok_url,
            youtube_url,
            instagram_followers,
            tiktok_followers,
            youtube_subscribers
          )
        `).eq("status","approved").not("video_links","is",null).neq("video_links","").order("updated_at",{ascending:!1});d&&d!=="undefined"&&(L=L.eq("campaign_id",d));const{data:ee,error:ge}=await L;ge?(console.error("   :",ge),m([])):(m(ee||[]),console.log("  :",(ee==null?void 0:ee.length)||0,""))}catch(L){console.error("  :",L),M(L.message||"  .")}finally{j(!1)}},Y=async()=>{if(N)try{S(!0),M("");const{error:L}=await ae.from("applications").update({admin_feedback:w,feedback_updated_at:new Date().toISOString(),updated_at:new Date().toISOString()}).eq("id",N.id);if(L)throw new Error(`  : ${L.message}`);m(ee=>ee.map(ge=>ge.id===N.id?{...ge,admin_feedback:w,feedback_updated_at:new Date().toISOString()}:ge)),K("  ."),T(!1),$(""),Q(null),setTimeout(()=>K(""),3e3)}catch(L){console.error("  :",L),M(L.message||"  .")}finally{S(!1)}},J=async L=>{var G,W;if(!((G=L.campaigns)!=null&&G.reward_amount)){M("    .");return}const ee=((W=L.user_profiles)==null?void 0:W.name)||L.applicant_name||"",ge=`${ee} ${L.campaigns.reward_amount.toLocaleString()}P ?`;if(window.confirm(ge))try{S(!0),M("");const{error:z}=await ae.from("point_transactions").insert({user_id:L.user_id,campaign_id:L.campaign_id,application_id:L.id,transaction_type:"campaign_reward",amount:L.campaigns.reward_amount,description:`  : ${L.campaigns.title}`,status:"completed",created_at:new Date().toISOString()});if(z)throw new Error(`  : ${z.message}`);const{error:D}=await ae.from("point_transactions").update({status:"approved",amount:L.campaigns.reward_amount,updated_at:new Date().toISOString()}).eq("application_id",L.id).eq("transaction_type","pending_reward");D&&console.warn("    :",D),m(g=>g.map(O=>O.id===L.id?{...O,point_request_status:"approved",points_awarded_at:new Date().toISOString()}:O)),K(`${ee} ${L.campaigns.reward_amount.toLocaleString()}P .`),setTimeout(()=>K(""),5e3)}catch(z){console.error("  :",z),M(z.message||"  .")}finally{S(!1)}},ne=L=>{Q(L),$(L.admin_feedback||""),T(!0)},X=L=>L.status==="completed"?e.jsx(Us,{className:"bg-green-100 text-green-800",children:_.completed}):e.jsx(Us,{className:"bg-yellow-100 text-yellow-800",children:_.pending}),he=()=>{const L=i.map(D=>{var g,O,U,ie,A,re,I;return{:((g=D.user_profiles)==null?void 0:g.name)||D.applicant_name||"",:((O=D.user_profiles)==null?void 0:O.email)||"",:((U=D.user_profiles)==null?void 0:U.phone)||""," URL":((ie=D.user_profiles)==null?void 0:ie.instagram_url)||""," ":((A=D.user_profiles)==null?void 0:A.instagram_followers)||"",:((re=D.campaigns)==null?void 0:re.title)||"",:((I=D.campaigns)==null?void 0:I.brand)||"",:D.status,"Instagram URL":D.instagram_url||"","TikTok URL":D.tiktok_url||"","YouTube URL":D.youtube_url||"","SNS  URL":D.video_links||""," ":D.admin_feedback||"",:D.completed_at?new Date(D.completed_at).toLocaleDateString():""," ":D.feedback_updated_at?new Date(D.feedback_updated_at).toLocaleDateString():""}}),ee=`sns_uploads_${d||"all"}_${new Date().toISOString().split("T")[0]}.csv`,ge=Object.keys(L[0]||{}),G=[ge.join(","),...L.map(D=>ge.map(g=>`"${D[g]||""}"`).join(","))].join(`
`),W=new Blob([G],{type:"text/csv;charset=utf-8;"}),z=document.createElement("a");z.href=URL.createObjectURL(W),z.download=ee,z.click()};return x?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(st,{className:"h-12 w-12 animate-spin text-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:_.loading})]})}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Yt,{}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:_.title}),e.jsx("p",{className:"text-gray-600 mt-2",children:o?`${o.title} - ${_.subtitle}`:_.subtitle})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(Zi,{value:v,onValueChange:C,children:[e.jsx(Ii,{className:"w-32",children:e.jsx(Fi,{})}),e.jsxs(Wi,{children:[e.jsx(ys,{value:"ko",children:""}),e.jsx(ys,{value:"ja",children:""}),e.jsx(ys,{value:"en",children:"English"})]})]}),e.jsxs(Ee,{variant:"outline",onClick:he,disabled:i.length===0,children:[e.jsx(ql,{className:"h-4 w-4 mr-2"}),"Excel "]})]})]}),y&&e.jsxs(Ns,{className:"mb-6 border-red-200 bg-red-50",children:[e.jsx(Kt,{className:"h-4 w-4 text-red-600"}),e.jsx(_s,{className:"text-red-800",children:y})]}),q&&e.jsxs(Ns,{className:"mb-6 border-green-200 bg-green-50",children:[e.jsx(He,{className:"h-4 w-4 text-green-600"}),e.jsx(_s,{className:"text-green-800",children:q})]}),e.jsxs(_t,{children:[e.jsx(kt,{children:e.jsxs(Ct,{className:"flex items-center space-x-2",children:[e.jsx(xn,{className:"h-5 w-5 text-blue-600"}),e.jsx("span",{children:_.completedCreators}),e.jsxs(Us,{variant:"secondary",children:[i.length,""]})]})}),e.jsx(At,{children:i.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(xn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:_.noUploads})]}):e.jsx("div",{className:"space-y-6",children:i.map(L=>{var ee,ge;return e.jsxs("div",{className:"border rounded-lg p-6 bg-white",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:((ee=L.user_profiles)==null?void 0:ee.name)||L.applicant_name||" "}),X(L)]}),L.user_profiles&&e.jsx("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-sm",children:[L.user_profiles.email&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ia,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{children:L.user_profiles.email})]}),L.user_profiles.phone&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ih,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{children:L.user_profiles.phone})]}),L.user_profiles.instagram_url&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(na,{className:"h-4 w-4 text-pink-500"}),e.jsx("span",{children:"Instagram"})]}),L.user_profiles.instagram_followers&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(os,{className:"h-4 w-4 text-blue-500"}),e.jsxs("span",{children:[L.user_profiles.instagram_followers.toLocaleString()," "]})]})]})}),!d&&e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[e.jsx(ds,{className:"h-4 w-4"}),e.jsx("span",{children:((ge=L.campaigns)==null?void 0:ge.title)||"  "})]})}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:_.snsLinks}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:[L.instagram_url&&e.jsxs("a",{href:L.instagram_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-2 text-pink-600 hover:text-pink-800 p-2 border rounded",children:[e.jsx(na,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:"Instagram"}),e.jsx(vt,{className:"h-3 w-3"})]}),L.tiktok_url&&e.jsxs("a",{href:L.tiktok_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-2 text-black hover:text-gray-700 p-2 border rounded",children:[e.jsx($i,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:"TikTok"}),e.jsx(vt,{className:"h-3 w-3"})]}),L.youtube_url&&e.jsxs("a",{href:L.youtube_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-2 text-red-600 hover:text-red-800 p-2 border rounded",children:[e.jsx(Aa,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:"YouTube"}),e.jsx(vt,{className:"h-3 w-3"})]})]})]}),L.video_links&&e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:" "}),e.jsxs("a",{href:L.video_links,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-2 text-blue-600 hover:text-blue-800 p-2 border rounded bg-blue-50",children:[e.jsx(xn,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:"  "}),e.jsx(vt,{className:"h-3 w-3"})]})]}),L.admin_feedback&&e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:_.feedback}),e.jsx("div",{className:"bg-gray-50 p-3 rounded",children:e.jsx("p",{className:"text-sm text-gray-800",children:L.admin_feedback})})]})]}),e.jsxs("div",{className:"flex flex-col space-y-2 ml-4",children:[e.jsxs(Ee,{variant:"outline",size:"sm",onClick:()=>ne(L),children:[e.jsx(xg,{className:"h-4 w-4 mr-2"}),L.admin_feedback?" ":_.addFeedback]}),L.point_request_status==="pending"&&L.sns_upload_url&&e.jsxs(Ee,{size:"sm",onClick:()=>J(L),disabled:h,className:"bg-green-600 hover:bg-green-700 text-white",children:[e.jsx(gn,{className:"h-4 w-4 mr-2"}),_.approvePoints]}),L.point_request_status==="approved"&&e.jsxs("div",{className:"flex items-center space-x-2 text-green-600 text-sm",children:[e.jsx(He,{className:"h-4 w-4"}),e.jsx("span",{children:_.pointsApproved})]})]})]}),e.jsxs("div",{className:"text-xs text-gray-500 border-t pt-2 mt-4",children:[": ",L.completed_at?new Date(L.completed_at).toLocaleString():" ",L.feedback_updated_at&&e.jsxs("span",{className:"ml-4",children:[" : ",new Date(L.feedback_updated_at).toLocaleString()]})]})]},L.id)})})})]}),e.jsx(bn,{open:k,onOpenChange:T,children:e.jsxs(jn,{className:"max-w-2xl",children:[e.jsxs(vn,{children:[e.jsx(yn,{children:_.addFeedback}),e.jsxs(Nn,{children:[(B=N==null?void 0:N.user_profiles)==null?void 0:B.name,"    ."]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx($e,{htmlFor:"feedback",children:_.feedback}),e.jsx(Sa,{id:"feedback",value:w,onChange:L=>$(L.target.value),placeholder:"   ...",rows:6})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(Ee,{variant:"outline",onClick:()=>T(!1),children:""}),e.jsxs(Ee,{onClick:Y,disabled:h,children:[h?e.jsx(st,{className:"h-4 w-4 animate-spin mr-2"}):e.jsx(zl,{className:"h-4 w-4 mr-2"}),_.saveFeedback]})]})]})]})})]})]})},hj=()=>{const{campaignId:d}=_n(),o=ws(),[n,i]=b.useState(null),[m,x]=b.useState([]),[j,h]=b.useState([]),[S,y]=b.useState(!0),[M,q]=b.useState(!1),[K,v]=b.useState(""),[C,N]=b.useState(""),[Q,k]=b.useState("all"),[T,w]=b.useState(""),[$,_]=b.useState([]);b.useEffect(()=>{H()},[d]),b.useEffect(()=>{Y()},[m,Q,T]);const H=async()=>{try{y(!0),v("");const U=await Te.campaigns.getById(d);i(U);const ie=await Te.applications.getByCampaign(d);x(ie||[])}catch(U){console.error("   :",U),v("   .")}finally{y(!1)}},Y=()=>{let U=m;if(Q!=="all"&&(U=U.filter(ie=>ie.status===Q)),T){const ie=T.toLowerCase();U=U.filter(A=>{var re;return(A.applicant_name||"").toLowerCase().includes(ie)||(((re=A.user_profiles)==null?void 0:re.email)||"").toLowerCase().includes(ie)})}h(U)},J=async U=>{try{q(!0),await Te.applications.updateStatus(U,"virtual_selected"),x(ie=>ie.map(A=>A.id===U?{...A,status:"virtual_selected",virtual_selected_at:new Date().toISOString()}:A)),N("  ."),setTimeout(()=>N(""),3e3)}catch(ie){console.error("   :",ie),v("     ."),setTimeout(()=>v(""),3e3)}finally{q(!1)}},ne=async U=>{try{q(!0),await Te.applications.updateStatus(U,"pending"),x(ie=>ie.map(A=>A.id===U?{...A,status:"pending",virtual_selected_at:null}:A)),N("  ."),setTimeout(()=>N(""),3e3)}catch(ie){console.error("    :",ie),v("      ."),setTimeout(()=>v(""),3e3)}finally{q(!1)}},X=async()=>{if($.length===0){v("  .");return}try{q(!0);const U=$.map(ie=>Te.applications.updateStatus(ie,"virtual_selected"));await Promise.all(U),x(ie=>ie.map(A=>$.includes(A.id)?{...A,status:"virtual_selected",virtual_selected_at:new Date().toISOString()}:A)),_([]),N(`${$.length}   .`),setTimeout(()=>N(""),3e3)}catch(U){console.error("   :",U),v("      ."),setTimeout(()=>v(""),3e3)}finally{q(!1)}},he=()=>{const U=j.filter(ie=>ie.status==="pending").map(ie=>ie.id);$.length===U.length?_([]):_(U)},B=U=>U?new Date(U).toLocaleDateString("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"-",L=U=>{switch(U){case"pending":return"";case"virtual_selected":return"";case"approved":return"";case"rejected":return"";default:return U}},ee=U=>{switch(U){case"pending":return"bg-yellow-100 text-yellow-800";case"virtual_selected":return"bg-blue-100 text-blue-800";case"approved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},ge=U=>{switch(U){case"pending":return e.jsx(as,{className:"h-4 w-4"});case"virtual_selected":return e.jsx(sl,{className:"h-4 w-4"});case"approved":return e.jsx(He,{className:"h-4 w-4"});case"rejected":return e.jsx(ts,{className:"h-4 w-4"});default:return e.jsx(as,{className:"h-4 w-4"})}},G=()=>{const U=["","","","Instagram","TikTok","YouTube"," SNS","Q1 ","Q2 ","Q3 ","Q4 ","",""],ie=j.map(fe=>[fe.applicant_name||"-",fe.age||"-",fe.skin_type||"-",fe.instagram_url||"-",fe.tiktok_url||"-",fe.youtube_url||"-",fe.other_sns_url||"-",fe.question1_answer||"-",fe.question2_answer||"-",fe.question3_answer||"-",fe.question4_answer||"-",B(fe.created_at),L(fe.status)]),A=[U,...ie].map(fe=>fe.map(De=>`"${De}"`).join(",")).join(`
`),re=new Blob([A],{type:"text/csv;charset=utf-8;"}),I=document.createElement("a"),ye=URL.createObjectURL(re);I.setAttribute("href",ye),I.setAttribute("download",`campaign_${d}_report.csv`),I.style.visibility="hidden",document.body.appendChild(I),I.click(),document.body.removeChild(I)};if(S)return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Yt,{}),e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),e.jsx("span",{children:"  ..."})]})})]});if(K&&!n)return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Yt,{}),e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx(vs,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:" "}),e.jsx("p",{className:"text-gray-600",children:K}),e.jsx("button",{onClick:()=>o("/applications-manage"),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"  "})]})})]});const W=m.length,z=m.filter(U=>U.status==="pending").length,D=m.filter(U=>U.status==="virtual_selected").length,g=m.filter(U=>U.status==="approved").length,O=m.filter(U=>U.status==="rejected").length;return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Yt,{}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("button",{onClick:()=>o("/applications-manage"),className:"mr-4 p-2 text-gray-600 hover:text-gray-900",children:e.jsx(ol,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:" "}),e.jsx("p",{className:"text-gray-600 mt-1",children:(n==null?void 0:n.title)||" "})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:H,disabled:S,className:"flex items-center px-4 py-2 border border-gray-300 rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:[e.jsx(Ea,{className:"h-4 w-4 mr-2"}),""]}),e.jsxs("button",{onClick:G,className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700",children:[e.jsx(ql,{className:"h-4 w-4 mr-2"}),"CSV "]})]})]})}),K&&e.jsx("div",{className:"mb-6 p-4 bg-red-50 border-l-4 border-red-400 rounded-md",children:e.jsxs("div",{className:"flex",children:[e.jsx(vs,{className:"h-5 w-5 text-red-400 mr-2"}),e.jsx("p",{className:"text-red-700",children:K})]})}),C&&e.jsx("div",{className:"mb-6 p-4 bg-green-50 border-l-4 border-green-400 rounded-md",children:e.jsxs("div",{className:"flex",children:[e.jsx(He,{className:"h-5 w-5 text-green-400 mr-2"}),e.jsx("p",{className:"text-green-700",children:C})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-8",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(os,{className:"h-8 w-8 text-blue-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:" "}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:W})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(as,{className:"h-8 w-8 text-yellow-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:""}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:z})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(sl,{className:"h-8 w-8 text-blue-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:""}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:D})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(He,{className:"h-8 w-8 text-green-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:""}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:g})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ts,{className:"h-8 w-8 text-red-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:""}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:O})]})]})})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Wh,{className:"h-4 w-4 text-gray-500 mr-2"}),e.jsxs("select",{value:Q,onChange:U=>k(U.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm",children:[e.jsx("option",{value:"all",children:" "}),e.jsx("option",{value:"pending",children:""}),e.jsx("option",{value:"virtual_selected",children:""}),e.jsx("option",{value:"approved",children:""}),e.jsx("option",{value:"rejected",children:""})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(gr,{className:"h-4 w-4 text-gray-500 mr-2"}),e.jsx("input",{type:"text",placeholder:",  ...",value:T,onChange:U=>w(U.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm w-64"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[$.length>0&&e.jsxs("button",{onClick:X,disabled:M,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50",children:[e.jsx(sl,{className:"h-4 w-4 mr-2"})," ",$.length," "]}),e.jsx("button",{onClick:he,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50",children:$.length===j.filter(U=>U.status==="pending").length?" ":" "})]})]})}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["  (",j.length,")"]})}),j.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left",children:e.jsx("input",{type:"checkbox",checked:$.length===j.filter(U=>U.status==="pending").length&&j.filter(U=>U.status==="pending").length>0,onChange:he,className:"rounded border-gray-300"})}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"SNS "}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:" "}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:j.map(U=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:U.status==="pending"&&e.jsx("input",{type:"checkbox",checked:$.includes(U.id),onChange:ie=>{ie.target.checked?_(A=>[...A,U.id]):_(A=>A.filter(re=>re!==U.id))},className:"rounded border-gray-300"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:U.applicant_name||"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:U.age||"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:U.skin_type||"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.jsxs("div",{className:"flex space-x-2",children:[U.instagram_url&&e.jsx("a",{href:U.instagram_url,target:"_blank",rel:"noopener noreferrer",className:"text-pink-600 hover:text-pink-800",title:"Instagram",children:e.jsx(na,{className:"h-4 w-4"})}),U.tiktok_url&&e.jsx("a",{href:U.tiktok_url,target:"_blank",rel:"noopener noreferrer",className:"text-black hover:text-gray-800",title:"TikTok",children:e.jsx(Zh,{className:"h-4 w-4"})}),U.youtube_url&&e.jsx("a",{href:U.youtube_url,target:"_blank",rel:"noopener noreferrer",className:"text-red-600 hover:text-red-800",title:"YouTube",children:e.jsx(Aa,{className:"h-4 w-4"})}),U.other_sns_url&&e.jsx("a",{href:U.other_sns_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800",title:" SNS",children:e.jsx(vt,{className:"h-4 w-4"})})]})}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 max-w-xs",children:e.jsxs("div",{className:"space-y-1",children:[[1,2,3,4].map(ie=>{const A=U[`question${ie}_answer`];return A?e.jsxs("div",{className:"text-xs",children:[e.jsxs("span",{className:"font-medium",children:["Q",ie,":"]})," ",A.substring(0,50),A.length>50?"...":""]},ie):null}),U.additional_info&&e.jsxs("div",{className:"text-xs border-t pt-1 mt-1",children:[e.jsx("span",{className:"font-medium text-blue-600",children:" :"})," ",U.additional_info.substring(0,50),U.additional_info.length>50?"...":""]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:B(U.created_at)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[ge(U.status),e.jsx("span",{className:`ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${ee(U.status)}`,children:L(U.status)})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex space-x-2",children:[U.status==="pending"&&e.jsxs("button",{onClick:()=>J(U.id),disabled:M,className:"inline-flex items-center px-3 py-1 border border-transparent text-xs font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 disabled:opacity-50",children:[e.jsx(sl,{className:"h-3 w-3 mr-1"})," "]}),U.status==="virtual_selected"&&e.jsxs("button",{onClick:()=>ne(U.id),disabled:M,className:"inline-flex items-center px-3 py-1 border border-gray-300 text-xs font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:[e.jsx(ts,{className:"h-3 w-3 mr-1"})," "]})]})})]},U.id))})]})}):e.jsxs("div",{className:"px-6 py-12 text-center",children:[e.jsx(ds,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:" "}),e.jsx("p",{className:"text-gray-600",children:Q!=="all"||T?"    .":"     ."})]})]})]})]})},fj=()=>{var Y;const{language:d}=rs(),[o,n]=b.useState([]),[i,m]=b.useState(null),[x,j]=b.useState(!1),[h,S]=b.useState(!0),[y,M]=b.useState(!1),[q,K]=b.useState(""),v=[{id:"welcome",name:d==="ja"?"":"  ",subject:d==="ja"?"CNEC Japan ":"CNEC Japan   !",content:d==="ja"?` {{name}} 

CNEC Japan 


K-Beauty



CNEC Japan `:` {{name}},

CNEC Japan  !

  .
 K-Beauty       .

    .

CNEC Japan `,variables:["name","email"],category:"user"},{id:"campaign_approved",name:d==="ja"?"":"  ",subject:d==="ja"?" ":"  !",content:d==="ja"?` {{name}} 

{{campaign_title}}

:
- : {{brand_name}}
- : {{reward_amount}}
- : {{deadline}}

:
1. 
2. 
3. 

: {{guidelines_url}}
: {{upload_folder}}



CNEC Japan `:` {{name}}!

{{campaign_title}}  !

 :
- : {{brand_name}}
- : {{reward_amount}}
- : {{deadline}}

 :
1.   
2.   
3.    

: {{guidelines_url}}
 : {{upload_folder}}

!

CNEC Japan `,variables:["name","campaign_title","brand_name","reward_amount","deadline","guidelines_url","upload_folder"],category:"campaign"},{id:"campaign_rejected",name:d==="ja"?"":"  ",subject:d==="ja"?"":"   ",content:d==="ja"?`{{name}} 

{{campaign_title}}







CNEC Japan `:`{{name}},

{{campaign_title}}   .

  ,     .

    ,         .

   .

CNEC Japan `,variables:["name","campaign_title"],category:"campaign"},{id:"withdrawal_approved",name:d==="ja"?"":"  ",subject:d==="ja"?" ":"   ",content:d==="ja"?`{{name}} 



:
- : {{amount}}
- : {{bank_info}}
- : {{process_date}}

 3-5



CNEC Japan `:`{{name}},

  !

 :
- : {{amount}}
-  : {{bank_info}}
- : {{process_date}}

   3-5     .

    .

CNEC Japan `,variables:["name","amount","bank_info","process_date"],category:"financial"},{id:"campaign_deadline_3days",name:d==="ja"?"3":"  3 ",subject:d==="ja"?" 3":"   3 ",content:d==="ja"?`{{name}} 

{{campaign_title}}3

: {{deadline}}
: {{brand_name}}
: {{reward_amount}}



:
{{requirements}}

: {{upload_folder}}
: {{guidelines_url}}



CNEC Japan `:`{{name}},

{{campaign_title}}   3 .

: {{deadline}}
: {{brand_name}}
: {{reward_amount}}

   ,   .

 :
{{requirements}}

 : {{upload_folder}}
: {{guidelines_url}}

    .

CNEC Japan `,variables:["name","campaign_title","deadline","brand_name","reward_amount","requirements","upload_folder","guidelines_url"],category:"reminder"},{id:"campaign_deadline_2days",name:d==="ja"?"2":"  2 ",subject:d==="ja"?" 2":"   2 ",content:d==="ja"?`{{name}} 

{{campaign_title}}2

: {{deadline}}
: {{brand_name}}
: {{reward_amount}}

 : 

:
{{requirements}}

: {{upload_folder}}
: {{guidelines_url}}





CNEC Japan `:`{{name}},

{{campaign_title}}   2 .

: {{deadline}}
: {{brand_name}}
: {{reward_amount}}

 :    ,    .

 :
{{requirements}}

 : {{upload_folder}}
: {{guidelines_url}}

      .

    .

CNEC Japan `,variables:["name","campaign_title","deadline","brand_name","reward_amount","requirements","upload_folder","guidelines_url"],category:"reminder"},{id:"campaign_deadline_1day",name:d==="ja"?"1":"  1 ",subject:d==="ja"?" 1":"   1 !",content:d==="ja"?`{{name}} 

{{campaign_title}}1

: {{deadline}}
: {{brand_name}}
: {{reward_amount}}

 : 

:
{{requirements}}

: {{upload_folder}}
: {{guidelines_url}}





CNEC Japan `:`{{name}},

{{campaign_title}}   1 !

: {{deadline}}
: {{brand_name}}
: {{reward_amount}}

 :    ,    !

 :
{{requirements}}

 : {{upload_folder}}
: {{guidelines_url}}

 .           .

    .

CNEC Japan `,variables:["name","campaign_title","deadline","brand_name","reward_amount","requirements","upload_folder","guidelines_url"],category:"reminder"},{id:"campaign_deadline_today",name:d==="ja"?"":"   ",subject:d==="ja"?" ":"   !",content:d==="ja"?`{{name}} 

{{campaign_title}}

: {{deadline}}
: {{brand_name}}
: {{reward_amount}}

 : 

:
{{requirements}}

: {{upload_folder}}
: {{guidelines_url}}






CNEC Japan `:`{{name}},

{{campaign_title}}  !

: {{deadline}}
: {{brand_name}}
: {{reward_amount}}

  :    ,   !

 :
{{requirements}}

 : {{upload_folder}}
: {{guidelines_url}}

        .
    !

    .

CNEC Japan `,variables:["name","campaign_title","deadline","brand_name","reward_amount","requirements","upload_folder","guidelines_url"],category:"reminder"},{id:"campaign_deadline",name:d==="ja"?"":"  ",subject:d==="ja"?" ":"   ",content:d==="ja"?`{{name}} 

{{campaign_title}}

: {{deadline}}
: {{time_remaining}}



:
{{requirements}}



CNEC Japan `:`{{name}},

{{campaign_title}}   .

: {{deadline}}
 : {{time_remaining}}

   ,   .

 :
{{requirements}}

    .

CNEC Japan `,variables:["name","campaign_title","deadline","time_remaining","requirements"],category:"reminder"}],C={ko:{title:"  ",description:"    .",templateList:" ",editTemplate:" ",templateName:" ",subject:"",content:"",variables:"  ",category:"",save:"",cancel:"",edit:"",preview:"",reset:" ",categories:{user:"",campaign:"",financial:"",reminder:""},messages:{saved:" .",error:"   .",reset:" ."}},ja:{title:"",description:"",templateList:"",editTemplate:"",templateName:"",subject:"",content:"",variables:"",category:"",save:"",cancel:"",edit:"",preview:"",reset:"",categories:{user:"",campaign:"",financial:"",reminder:""},messages:{saved:"",error:"",reset:""}}},N=C[d]||C.ko;b.useEffect(()=>{Q()},[]);const Q=async()=>{var J,ne;try{S(!0);const X=await((ne=(J=ae.emailTemplates)==null?void 0:J.getAll)==null?void 0:ne.call(J))||[];X.length===0?(n(v),await k()):n(X)}catch(X){console.error("  :",X),n(v)}finally{S(!1)}},k=async()=>{var J,ne;try{for(const X of v)await((ne=(J=ae.emailTemplates)==null?void 0:J.create)==null?void 0:ne.call(J,X))}catch(X){console.error("   :",X)}},T=J=>{m({...J}),j(!0)},w=async()=>{var J,ne;if(i)try{M(!0),await((ne=(J=ae.emailTemplates)==null?void 0:J.upsert)==null?void 0:ne.call(J,i)),n(X=>X.map(he=>he.id===i.id?i:he)),K(N.messages.saved),j(!1),m(null),setTimeout(()=>K(""),3e3)}catch(X){console.error("  :",X),K(N.messages.error),setTimeout(()=>K(""),3e3)}finally{M(!1)}},$=J=>{const ne=v.find(X=>X.id===J);ne&&(m({...ne}),K(N.messages.reset),setTimeout(()=>K(""),3e3))},_=()=>{j(!1),m(null)},H=J=>({user:"bg-blue-100 text-blue-800",campaign:"bg-green-100 text-green-800",financial:"bg-yellow-100 text-yellow-800",reminder:"bg-purple-100 text-purple-800"})[J]||"bg-gray-100 text-gray-800";return h?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Yt,{}),e.jsx("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})})})]}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Yt,{}),e.jsx("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"px-4 py-6 sm:px-0",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:N.title}),e.jsx("p",{className:"mt-2 text-gray-600",children:N.description})]}),q&&e.jsx("div",{className:"mb-6 p-4 bg-green-100 border border-green-400 text-green-700 rounded",children:q}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-white shadow rounded-lg",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:N.templateList})}),e.jsx("div",{className:"divide-y divide-gray-200",children:o.map(J=>e.jsx("div",{className:"p-6 hover:bg-gray-50",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:J.name}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:J.subject}),e.jsx("div",{className:"mt-2",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${H(J.category)}`,children:N.categories[J.category]})})]}),e.jsx("div",{className:"ml-4",children:e.jsx("button",{onClick:()=>T(J),className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500",children:N.edit})})]})},J.id))})]}),x&&i&&e.jsxs("div",{className:"bg-white shadow rounded-lg",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:N.editTemplate})}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:N.templateName}),e.jsx("input",{type:"text",value:i.name,onChange:J=>m(ne=>({...ne,name:J.target.value})),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-purple-500 focus:border-purple-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:N.subject}),e.jsx("input",{type:"text",value:i.subject,onChange:J=>m(ne=>({...ne,subject:J.target.value})),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-purple-500 focus:border-purple-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:N.content}),e.jsx("textarea",{rows:12,value:i.content,onChange:J=>m(ne=>({...ne,content:J.target.value})),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-purple-500 focus:border-purple-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:N.variables}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(Y=i.variables)==null?void 0:Y.map(J=>e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800 cursor-pointer hover:bg-gray-200",onClick:()=>{const X=document.querySelector("textarea").selectionStart,he=i.content.substring(0,X),B=i.content.substring(X),L=he+`{{${J}}}`+B;m(ee=>({...ee,content:L}))},children:`{{${J}}}`},J))})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("button",{onClick:()=>$(i.id),className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500",children:N.reset}),e.jsxs("div",{className:"space-x-3",children:[e.jsx("button",{onClick:_,className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500",children:N.cancel}),e.jsx("button",{onClick:w,disabled:y,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 disabled:opacity-50",children:y?" ...":N.save})]})]})]})]})]})]})})]})},Kh=()=>{var oe,Ne;const{language:d}=rs(),[o,n]=b.useState([]),[i,m]=b.useState([]),[x,j]=b.useState(!0),[h,S]=b.useState(!1),[y,M]=b.useState(""),[q,K]=b.useState(""),[v,C]=b.useState(""),[N,Q]=b.useState(""),[k,T]=b.useState(""),[w,$]=b.useState(null),[_,H]=b.useState(!1),[Y,J]=b.useState(!1),[ne,X]=b.useState(!1),[he,B]=b.useState(!1),[L,ee]=b.useState(""),[ge,G]=b.useState(""),[W,z]=b.useState(""),D={ko:{title:"  ",subtitle:"   ",totalUsers:" ",pendingUsers:" ",approvedUsers:"",rejectedUsers:"",adminUsers:"",vipUsers:"VIP ",managerUsers:"",withdrawalRequests:" ",filterByStatus:" ",filterByRole:" ",searchPlaceholder:",  ...",allStatuses:" ",allRoles:" ",pending:" ",approved:"",rejected:"",user:" ",vip:"VIP ",manager:"",admin:"",viewDetails:" ",approve:"",reject:"",changeRole:" ",addPoints:" ",subtractPoints:" ",viewWithdrawals:"  ",refresh:"",joinDate:"",lastLogin:" ",points:"",status:"",role:"",actions:"",userDetails:"  ",roleChange:" ",pointManagement:" ",withdrawalManagement:"  ",selectNewRole:"  ",pointAmount:" ",description:"",reason:"",save:"",cancel:"",close:"",confirm:"",processing:" ...",noUsers:" ",noWithdrawals:"  ",messages:{approved:" .",rejected:" .",roleChanged:"  .",pointsAdded:" .",pointsSubtracted:" .",withdrawalProcessed:"  .",error:" ."}},ja:{title:"",subtitle:"",totalUsers:"",pendingUsers:"",approvedUsers:"",rejectedUsers:"",adminUsers:"",vipUsers:"VIP",managerUsers:"",withdrawalRequests:"",filterByStatus:"",filterByRole:"",searchPlaceholder:"...",allStatuses:"",allRoles:"",pending:"",approved:"",rejected:"",user:"",vip:"VIP",manager:"",admin:"",viewDetails:"",approve:"",reject:"",changeRole:"",addPoints:"",subtractPoints:"",viewWithdrawals:"",refresh:"",joinDate:"",lastLogin:"",points:"",status:"",role:"",actions:"",userDetails:"",roleChange:"",pointManagement:"",withdrawalManagement:"",selectNewRole:"",pointAmount:"",description:"",reason:"",save:"",cancel:"",close:"",confirm:"",processing:"...",noUsers:"",noWithdrawals:"",messages:{approved:"",rejected:"",roleChanged:"",pointsAdded:"",pointsSubtracted:"",withdrawalProcessed:"",error:""}}},g=D[d]||D.ko;b.useEffect(()=>{O(),U()},[]);const O=async()=>{try{j(!0);const te=await Te.users.getAll();n(te||[])}catch(te){console.error("  :",te),M(g.messages.error)}finally{j(!1)}},U=async()=>{try{const{data:te,error:_e}=await ae.from("withdrawal_requests").select("*").order("created_at",{ascending:!1});if(_e){console.error("   :",_e),m([]);return}if(te&&te.length>0){const qe=te.map(je=>je.user_id),{data:Me,error:we}=await ae.from("user_profiles").select("user_id, name, email").in("user_id",qe);we&&console.error("   :",we);const ct=te.map(je=>({...je,user_profiles:(Me==null?void 0:Me.find(bt=>bt.user_id===je.user_id))||{name:"  ",email:"  "}}));m(ct)}else m([])}catch(te){console.error("   :",te),m([])}},ie=async(te,_e)=>{try{S(!0),await Te.users.updateApprovalStatus(te,_e),await O(),K(_e==="approved"?g.messages.approved:g.messages.rejected),setTimeout(()=>K(""),3e3)}catch(qe){console.error("  :",qe),M(g.messages.error),setTimeout(()=>M(""),3e3)}finally{S(!1)}},A=async()=>{if(!(!w||!W))try{S(!0);const{error:te}=await ae.rpc("change_user_role",{target_user_id:w.user_id,new_role:W});if(te)throw te;await O(),K(g.messages.roleChanged),J(!1),$(null),z(""),setTimeout(()=>K(""),3e3)}catch(te){console.error("  :",te),M(g.messages.error),setTimeout(()=>M(""),3e3)}finally{S(!1)}},re=async te=>{if(!(!w||!L))try{S(!0);const _e=parseInt(L);if(isNaN(_e)||_e<=0){M(d==="ko"?"   .":"");return}const qe=te?_e:-_e,Me=ge||(te?d==="ko"?"  ":"":d==="ko"?"  ":""),{error:we}=await ae.from("point_transactions").insert({user_id:w.user_id,amount:qe,transaction_type:te?"admin_add":"admin_subtract",description:Me,created_at:new Date().toISOString()});if(we)throw we;const{error:ct}=await ae.from("user_profiles").update({points:w.points+qe}).eq("user_id",w.user_id);if(ct)throw ct;await O(),K(te?g.messages.pointsAdded:g.messages.pointsSubtracted),X(!1),$(null),ee(""),G(""),setTimeout(()=>K(""),3e3)}catch(_e){console.error("  :",_e),M(d==="ko"?"    .":""),setTimeout(()=>M(""),3e3)}finally{S(!1)}},I=async(te,_e,qe="")=>{try{S(!0);const{error:Me}=await ae.from("withdrawal_requests").update({status:_e,processed_at:new Date().toISOString(),admin_notes:qe}).eq("id",te);if(Me)throw Me;await U(),K(g.messages.withdrawalProcessed),setTimeout(()=>K(""),3e3)}catch(Me){console.error("   :",Me),M(g.messages.error),setTimeout(()=>M(""),3e3)}finally{S(!1)}},ye=o.filter(te=>{var we,ct;const _e=!v||te.approval_status===v,qe=!N||te.user_role===N,Me=!k||((we=te.name)==null?void 0:we.toLowerCase().includes(k.toLowerCase()))||((ct=te.email)==null?void 0:ct.toLowerCase().includes(k.toLowerCase()));return _e&&qe&&Me}),fe=te=>{const _e={pending:{icon:as,color:"bg-yellow-100 text-yellow-800",text:g.pending},approved:{icon:He,color:"bg-green-100 text-green-800",text:g.approved},rejected:{icon:ts,color:"bg-red-100 text-red-800",text:g.rejected}},qe=_e[te]||_e.pending,Me=qe.icon;return e.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${qe.color}`,children:[e.jsx(Me,{className:"w-3 h-3 mr-1"}),qe.text]})},De=te=>{const _e={user:{icon:Fs,color:"bg-gray-100 text-gray-800",text:g.user},vip:{icon:_h,color:"bg-purple-100 text-purple-800",text:g.vip},manager:{icon:Ms,color:"bg-blue-100 text-blue-800",text:g.manager},admin:{icon:wh,color:"bg-red-100 text-red-800",text:g.admin}},qe=_e[te]||_e.user,Me=qe.icon;return e.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${qe.color}`,children:[e.jsx(Me,{className:"w-3 h-3 mr-1"}),qe.text]})},Ge={total:o.length,pending:o.filter(te=>te.approval_status==="pending").length,approved:o.filter(te=>te.approval_status==="approved").length,rejected:o.filter(te=>te.approval_status==="rejected").length,admin:o.filter(te=>te.user_role==="admin").length,vip:o.filter(te=>te.user_role==="vip").length,manager:o.filter(te=>te.user_role==="manager").length,withdrawals:i.filter(te=>te.status==="pending").length};return x?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Yt,{}),e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(st,{className:"w-8 h-8 animate-spin text-purple-600"})})]}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Yt,{}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:g.title}),e.jsx("p",{className:"mt-2 text-gray-600",children:g.subtitle})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("button",{onClick:()=>B(!0),className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[e.jsx(Ki,{className:"w-4 h-4 mr-2"}),g.viewWithdrawals,Ge.withdrawals>0&&e.jsx("span",{className:"ml-2 bg-red-500 text-white text-xs rounded-full px-2 py-1",children:Ge.withdrawals})]}),e.jsxs("button",{onClick:O,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-purple-600 hover:bg-purple-700",children:[e.jsx(Ea,{className:"w-4 h-4 mr-2"}),g.refresh]})]})]})}),y&&e.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-md p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx(Kt,{className:"h-5 w-5 text-red-400"}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-red-800",children:y})})]})}),q&&e.jsx("div",{className:"mb-6 bg-green-50 border border-green-200 rounded-md p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx(He,{className:"h-5 w-5 text-green-400"}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-green-800",children:q})})]})}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-8 gap-4 mb-8",children:[e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(os,{className:"h-8 w-8 text-blue-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:g.totalUsers}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Ge.total})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(as,{className:"h-8 w-8 text-yellow-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:g.pendingUsers}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Ge.pending})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx($h,{className:"h-8 w-8 text-green-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:g.approvedUsers}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Ge.approved})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Xh,{className:"h-8 w-8 text-red-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:g.rejectedUsers}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Ge.rejected})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(_h,{className:"h-8 w-8 text-purple-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:g.vipUsers}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Ge.vip})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ms,{className:"h-8 w-8 text-blue-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:g.managerUsers}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Ge.manager})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(wh,{className:"h-8 w-8 text-red-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:g.adminUsers}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Ge.admin})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ki,{className:"h-8 w-8 text-orange-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:g.withdrawalRequests}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Ge.withdrawals})]})]})})]}),e.jsx("div",{className:"bg-white rounded-lg shadow mb-6 p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:g.filterByStatus}),e.jsxs("select",{value:v,onChange:te=>C(te.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500",children:[e.jsx("option",{value:"",children:g.allStatuses}),e.jsx("option",{value:"pending",children:g.pending}),e.jsx("option",{value:"approved",children:g.approved}),e.jsx("option",{value:"rejected",children:g.rejected})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:g.filterByRole}),e.jsxs("select",{value:N,onChange:te=>Q(te.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500",children:[e.jsx("option",{value:"",children:g.allRoles}),e.jsx("option",{value:"user",children:g.user}),e.jsx("option",{value:"vip",children:g.vip}),e.jsx("option",{value:"manager",children:g.manager}),e.jsx("option",{value:"admin",children:g.admin})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:g.searchPlaceholder}),e.jsxs("div",{className:"relative",children:[e.jsx(gr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",value:k,onChange:te=>T(te.target.value),placeholder:g.searchPlaceholder,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500"})]})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:g.status}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:g.role}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:g.points}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:g.joinDate}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:g.actions})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ye.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"px-6 py-12 text-center text-gray-500",children:g.noUsers})}):ye.map(te=>{var _e;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:e.jsx("div",{className:"h-10 w-10 rounded-full bg-purple-100 flex items-center justify-center",children:e.jsx(Fs,{className:"h-5 w-5 text-purple-600"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:te.name||" "}),e.jsx("div",{className:"text-sm text-gray-500",children:te.email})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:fe(te.approval_status)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:De(te.user_role)}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[((_e=te.points)==null?void 0:_e.toLocaleString())||0,"P"]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:te.created_at?new Date(te.created_at).toLocaleDateString("ko-KR"):"-"}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:[e.jsx("button",{onClick:()=>{$(te),H(!0)},className:"text-purple-600 hover:text-purple-900",children:e.jsx(sl,{className:"w-4 h-4"})}),te.approval_status==="pending"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>ie(te.user_id,"approved"),disabled:h,className:"text-green-600 hover:text-green-900",children:e.jsx(He,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>ie(te.user_id,"rejected"),disabled:h,className:"text-red-600 hover:text-red-900",children:e.jsx(ts,{className:"w-4 h-4"})})]}),e.jsx("button",{onClick:()=>{$(te),z(te.user_role),J(!0)},className:"text-blue-600 hover:text-blue-900",children:e.jsx(cl,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>{$(te),X(!0)},className:"text-orange-600 hover:text-orange-900",children:e.jsx(jo,{className:"w-4 h-4"})})]})]},te.user_id)})})]})})}),_&&w&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:e.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:e.jsxs("div",{className:"mt-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:g.userDetails}),e.jsx("button",{onClick:()=>H(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(ts,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:""}),e.jsx("p",{className:"text-sm text-gray-900",children:w.name||" "})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:""}),e.jsx("p",{className:"text-sm text-gray-900",children:w.email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:g.status}),e.jsx("div",{className:"mt-1",children:fe(w.approval_status)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:g.role}),e.jsx("div",{className:"mt-1",children:De(w.user_role)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:g.points}),e.jsxs("p",{className:"text-sm text-gray-900",children:[((oe=w.points)==null?void 0:oe.toLocaleString())||0,"P"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:g.joinDate}),e.jsx("p",{className:"text-sm text-gray-900",children:w.created_at?new Date(w.created_at).toLocaleDateString("ko-KR"):"-"})]})]}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsx("button",{onClick:()=>H(!1),className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400",children:g.close})})]})})}),Y&&w&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:e.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:e.jsxs("div",{className:"mt-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:g.roleChange}),e.jsx("button",{onClick:()=>J(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(ts,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:g.selectNewRole}),e.jsxs("select",{value:W,onChange:te=>z(te.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500",children:[e.jsx("option",{value:"user",children:g.user}),e.jsx("option",{value:"vip",children:g.vip}),e.jsx("option",{value:"manager",children:g.manager}),e.jsx("option",{value:"admin",children:g.admin})]})]})}),e.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>J(!1),className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400",children:g.cancel}),e.jsx("button",{onClick:A,disabled:h,className:"px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 disabled:opacity-50",children:h?g.processing:g.save})]})]})})}),ne&&w&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:e.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:e.jsxs("div",{className:"mt-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:g.pointManagement}),e.jsx("button",{onClick:()=>X(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(ts,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{children:e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[" : ",((Ne=w.points)==null?void 0:Ne.toLocaleString())||0,"P"]})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:g.pointAmount}),e.jsx("input",{type:"number",value:L,onChange:te=>ee(te.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"  "})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:g.description}),e.jsx("textarea",{value:ge,onChange:te=>G(te.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:" / "})]})]}),e.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>X(!1),className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400",children:g.cancel}),e.jsxs("button",{onClick:()=>re(!1),disabled:h||!L,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 disabled:opacity-50",children:[e.jsx(hg,{className:"w-4 h-4 mr-1 inline"}),g.subtractPoints]}),e.jsxs("button",{onClick:()=>re(!0),disabled:h||!L,className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50",children:[e.jsx(jo,{className:"w-4 h-4 mr-1 inline"}),g.addPoints]})]})]})})}),he&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:e.jsx("div",{className:"relative top-10 mx-auto p-5 border w-4/5 max-w-4xl shadow-lg rounded-md bg-white",children:e.jsxs("div",{className:"mt-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:g.withdrawalManagement}),e.jsx("button",{onClick:()=>B(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(ts,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:g.reason}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:g.status}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:g.actions})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"px-6 py-12 text-center text-gray-500",children:g.noWithdrawals})}):i.map(te=>{var _e,qe;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:((_e=te.user_profiles)==null?void 0:_e.name)||" "}),e.jsx("div",{className:"text-sm text-gray-500",children:(qe=te.user_profiles)==null?void 0:qe.email})]}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"text-sm text-gray-900 max-w-xs truncate",children:te.reason||" "})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(te.created_at).toLocaleDateString("ko-KR")}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:fe(te.status)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:te.status==="pending"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>I(te.id,"approved"),disabled:h,className:"text-green-600 hover:text-green-900",children:e.jsx(He,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>I(te.id,"rejected"),disabled:h,className:"text-red-600 hover:text-red-900",children:e.jsx(ts,{className:"w-4 h-4"})})]})})]},te.id)})})]})}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsx("button",{onClick:()=>B(!1),className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400",children:g.close})})]})})})]})]})},Jh=d=>{if(!d)return"No PayPal info";const o=d.match(/PayPal:\s*([^)]+)\)/);if(o)return o[1].trim();const n=d.match(/PayPal:\s*([^\s,)]+)/);if(n)return n[1].trim();const i=d.match(/([a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,})/);return i?i[1]:"No PayPal info"},pj=()=>{var Ge;const{language:d}=rs(),[o,n]=b.useState([]),[i,m]=b.useState([]),[x,j]=b.useState(!0),[h,S]=b.useState(!1),[y,M]=b.useState(""),[q,K]=b.useState(""),[v,C]=b.useState("withdrawals"),[N,Q]=b.useState(""),[k,T]=b.useState(""),[w,$]=b.useState(null),[_,H]=b.useState([]),[Y,J]=b.useState(!1),[ne,X]=b.useState(!1),[he,B]=b.useState({withdrawalId:null,reason:"",customReason:"",userEmail:"",userName:"",amount:0}),[L,ee]=b.useState(!1),[ge,G]=b.useState(!1),[W,z]=b.useState({status:"",admin_notes:"",transaction_id:""}),D={ko:{title:" ",subtitle:"   ",withdrawalRequests:" ",bankTransfers:" ",totalRequests:" ",pending:"",approved:"",rejected:"",completed:"",statusFilter:" ",allStatuses:" ",search:"",searchPlaceholder:",  ...",refresh:"",export:"Excel ",viewDetails:"",process:"",approve:"",reject:"",complete:"",bulkApprove:"  ",bulkComplete:"  ",selectAll:" ",selected:" ",rejectWithReason:"  ",rejectReason:" ",selectReason:" ",customReason:" ",customReasonPlaceholder:"   ...",sendRejectEmail:"  ",cancel:"",emailSent:"  ",emailSendFailed:"  "},ja:{title:"",subtitle:"",withdrawalRequests:"",bankTransfers:"",totalRequests:"",pending:"",approved:"",rejected:"",completed:"",statusFilter:"",allStatuses:"",search:"",searchPlaceholder:"...",refresh:"",export:"Excel ",viewDetails:"",process:"",approve:"",reject:"",complete:"",bulkApprove:"",bulkComplete:"",selectAll:"",selected:"",rejectWithReason:"",rejectReason:"",selectReason:"",customReason:"",customReasonPlaceholder:"...",sendRejectEmail:"",cancel:"",emailSent:"",emailSendFailed:""}},g=D[d]||D.ko,O=async()=>{var oe;try{j(!0),M(""),console.log("1:   ...");const{data:Ne,error:te}=await ae.from("point_transactions").select("*").lt("amount",0).order("created_at",{ascending:!1});if(te)throw console.error("   :",te),te;const _e=await Promise.all((Ne||[]).map(async we=>{const ct=Jh(we.description||"");let je={name:"-",email:"-",phone:"-"};try{const{data:me}=await ae.from("user_profiles").select("name, email, phone").eq("id",we.user_id).single();me&&(je=me)}catch(me){console.warn("   :",me)}let bt="pending";return we.description&&we.description.includes("[:]")?bt="approved":we.description&&we.description.includes("[:]")?bt="rejected":we.description&&we.description.includes("[:]")&&(bt="completed"),{id:we.id,user_id:we.user_id,amount:Math.abs(we.amount),method:"PayPal",paypal_email:ct,status:bt,created_at:we.created_at,user_profiles:je,description:we.description}})),qe=[],Me=new Set;for(const we of _e){const ct=`${we.user_id}-${we.amount}-${we.created_at.split("T")[0]}`;Me.has(ct)||(Me.add(ct),qe.push(we))}n(qe),console.log("   :",qe.length),console.log("2:    ...");try{const we=await((oe=database.bankTransfers)==null?void 0:oe.getAll())||[];m(we),console.log("    :",we.length)}catch(we){console.warn("    :",we),m([])}}catch(Ne){console.error("  :",Ne),M(`${g.error}: ${Ne.message}`)}finally{j(!1),console.log("  ")}},U=async(oe,Ne,te="",_e="")=>{try{S(!0),M(""),K(""),console.log("   :",oe,Ne);const{data:qe,error:Me}=await ae.from("point_transactions").select("*").eq("id",oe).single();if(Me)throw console.error("  :",Me),new Error(`   : ${Me.message}`);console.log(" :",qe);let we=qe.description||"";Ne==="approved"?(we=we.replace(/\[:.*?\]/g,"")+" [:]",console.log("  ...")):Ne==="rejected"?(we=we.replace(/\[:.*?\]/g,"")+` [:] [:${te}]`,console.log("  ...")):Ne==="completed"&&(we=we.replace(/\[:.*?\]/g,"")+" [:]",console.log("  ..."));const{data:ct,error:je}=await ae.from("point_transactions").update({description:we.trim()}).eq("id",oe).select();if(je)throw console.error(" :",je),je;console.log(" :",ct),K(` ${Ne==="approved"?"":Ne==="rejected"?"":""}.`),setTimeout(()=>{O(),K("")},1500)}catch(qe){console.error("  :",qe),M(`  : ${qe.message}`)}finally{S(!1)}},ie=oe=>{var Ne,te;B({withdrawalId:oe.id,reason:"",customReason:"",userEmail:((Ne=oe.user_profiles)==null?void 0:Ne.email)||"",userName:((te=oe.user_profiles)==null?void 0:te.name)||"",amount:oe.amount}),X(!0)},A=async()=>{try{S(!0);const oe=he.reason==="custom"?he.customReason:he.reason;if(!oe){M("   .");return}await U(he.withdrawalId,"rejected",oe);const Ne={to:he.userEmail,subject:"   ",template:"withdrawal_rejected",data:{userName:he.userName,amount:he.amount,reason:oe,date:new Date().toLocaleDateString("ko-KR")}};if((await fetch("/.netlify/functions/send-gmail",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ne)})).ok)K(g.emailSent),X(!1),B({withdrawalId:null,reason:"",customReason:"",userEmail:"",userName:"",amount:0});else throw new Error("  ")}catch(oe){console.error("   :",oe),M(g.emailSendFailed+": "+oe.message)}finally{S(!1)}},re=async oe=>{if(_.length===0){M("  .");return}J(!0),M(""),K("");try{const Ne=_.map(te=>U(te,oe));await Promise.all(Ne),K(`${_.length}  ${oe==="approved"?"":""}.`),H([])}catch(Ne){M(`    : ${Ne.message}`)}finally{J(!1)}},I=()=>{_.length===fe.length?H([]):H(fe.map(oe=>oe.id))},ye=oe=>{H(Ne=>Ne.includes(oe)?Ne.filter(te=>te!==oe):[...Ne,oe])},fe=o.filter(oe=>{var _e,qe,Me,we;const Ne=!N||oe.status===N,te=!k||((qe=(_e=oe.user_profiles)==null?void 0:_e.name)==null?void 0:qe.toLowerCase().includes(k.toLowerCase()))||((we=(Me=oe.user_profiles)==null?void 0:Me.email)==null?void 0:we.toLowerCase().includes(k.toLowerCase()));return Ne&&te}),De={total:o.length,pending:o.filter(oe=>oe.status==="pending").length,approved:o.filter(oe=>oe.status==="approved").length,rejected:o.filter(oe=>oe.status==="rejected").length,completed:o.filter(oe=>oe.status==="completed").length};return b.useEffect(()=>{O()},[]),x?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"  ..."})]})}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Yt,{}),e.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:g.title}),e.jsx("p",{className:"text-gray-600",children:g.subtitle})]}),y&&e.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:e.jsx("p",{className:"text-red-800",children:y})}),q&&e.jsx("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-lg",children:e.jsx("p",{className:"text-green-800",children:q})}),e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("nav",{className:"-mb-px flex space-x-8",children:[e.jsx("button",{onClick:()=>C("withdrawals"),className:`py-2 px-1 border-b-2 font-medium text-sm ${v==="withdrawals"?"border-red-500 text-red-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:g.withdrawalRequests}),e.jsx("button",{onClick:()=>C("transfers"),className:`py-2 px-1 border-b-2 font-medium text-sm ${v==="transfers"?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:g.bankTransfers})]})})}),v==="withdrawals"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6",children:[e.jsx("div",{className:"bg-white p-4 rounded-lg shadow border",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(pn,{className:"h-6 w-6 text-blue-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:g.totalRequests}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:De.total})]})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg shadow border",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:e.jsx(Ea,{className:"h-6 w-6 text-yellow-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:g.pending}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:De.pending})]})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg shadow border",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(po,{className:"h-6 w-6 text-blue-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:g.approved}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:De.approved})]})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg shadow border",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:e.jsx(Et,{className:"h-6 w-6 text-red-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:g.rejected}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:De.rejected})]})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg shadow border",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(po,{className:"h-6 w-6 text-green-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:g.completed}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:De.completed})]})]})})]}),e.jsx("div",{className:"bg-white p-4 rounded-lg shadow border mb-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Wh,{className:"h-5 w-5 text-gray-400"}),e.jsx("label",{className:"text-sm font-medium text-gray-700",children:g.statusFilter}),e.jsxs("select",{value:N,onChange:oe=>Q(oe.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:g.allStatuses}),e.jsx("option",{value:"pending",children:g.pending}),e.jsx("option",{value:"approved",children:g.approved}),e.jsx("option",{value:"rejected",children:g.rejected}),e.jsx("option",{value:"completed",children:g.completed})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(gr,{className:"h-5 w-5 text-gray-400"}),e.jsx("label",{className:"text-sm font-medium text-gray-700",children:g.search}),e.jsx("input",{type:"text",placeholder:g.searchPlaceholder,value:k,onChange:oe=>T(oe.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:O,disabled:x,className:"flex items-center gap-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 disabled:opacity-50",children:[e.jsx(Ea,{className:`h-4 w-4 ${x?"animate-spin":""}`}),g.refresh]}),e.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700",children:[e.jsx(ql,{className:"h-4 w-4"}),g.export]})]})]})}),_.length>0&&e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("span",{className:"text-sm font-medium text-blue-800",children:[_.length,g.selected]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>re("approved"),disabled:Y,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 text-sm",children:Y?"...":g.bulkApprove}),e.jsx("button",{onClick:()=>re("completed"),disabled:Y,className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50 text-sm",children:Y?"...":g.bulkComplete})]})]})}),e.jsxs("div",{className:"bg-white rounded-lg shadow border overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left",children:e.jsxs("button",{onClick:I,className:"flex items-center gap-2",children:[_.length===fe.length&&fe.length>0?e.jsx(Sh,{className:"h-4 w-4 text-blue-600"}):e.jsx(kh,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:g.selectAll})]})}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:""})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:fe.map(oe=>{var Ne,te,_e,qe,Me;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsx("button",{onClick:()=>ye(oe.id),className:"flex items-center",children:_.includes(oe.id)?e.jsx(Sh,{className:"h-4 w-4 text-blue-600"}):e.jsx(kh,{className:"h-4 w-4 text-gray-400"})})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:e.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-300 flex items-center justify-center",children:e.jsx("span",{className:"text-sm font-medium text-gray-700",children:((te=(Ne=oe.user_profiles)==null?void 0:Ne.name)==null?void 0:te.charAt(0))||"U"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:((_e=oe.user_profiles)==null?void 0:_e.name)||"Unknown User"}),e.jsx("div",{className:"text-sm text-gray-500",children:((qe=oe.user_profiles)==null?void 0:qe.email)||"No email"})]})]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-900",children:"PayPal"}),e.jsx("div",{className:"text-sm text-gray-500",children:Jh(oe.description)})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["",(Me=oe.amount)==null?void 0:Me.toLocaleString()]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${oe.status==="pending"?"bg-yellow-100 text-yellow-800":oe.status==="approved"?"bg-blue-100 text-blue-800":oe.status==="rejected"?"bg-red-100 text-red-800":oe.status==="completed"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:oe.status==="pending"?g.pending:oe.status==="approved"?g.approved:oe.status==="rejected"?g.rejected:oe.status==="completed"?g.completed:oe.status})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(oe.created_at).toLocaleDateString("ko-KR")}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx("button",{onClick:()=>$(oe),className:"text-blue-600 hover:text-blue-900",children:e.jsx(sl,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>{$(oe),G(!0)},className:"text-gray-600 hover:text-gray-900",children:e.jsx(Fh,{className:"h-4 w-4"})}),oe.status==="pending"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>U(oe.id,"approved"),disabled:h,className:"px-3 py-1 bg-blue-600 text-white rounded text-xs hover:bg-blue-700 disabled:opacity-50",children:g.approve}),e.jsx("button",{onClick:()=>ie(oe),disabled:h,className:"px-3 py-1 bg-red-600 text-white rounded text-xs hover:bg-red-700 disabled:opacity-50",children:g.reject})]}),oe.status==="approved"&&e.jsx("button",{onClick:()=>U(oe.id,"completed"),disabled:h,className:"px-3 py-1 bg-green-600 text-white rounded text-xs hover:bg-green-700 disabled:opacity-50",children:g.complete})]})})]},oe.id)})})]})}),fe.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-gray-400 mb-4",children:e.jsx(pn,{className:"h-12 w-12 mx-auto"})}),e.jsx("p",{className:"text-gray-500",children:"  "})]})]})]}),v==="transfers"&&e.jsx("div",{className:"bg-white rounded-lg shadow border p-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-gray-400 mb-4",children:e.jsx(pn,{className:"h-12 w-12 mx-auto"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"  "}),e.jsx("p",{className:"text-gray-500",children:"    ."})]})}),ne&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:g.rejectWithReason}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("strong",{children:":"})," ",he.userName," (",he.userEmail,")"]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("strong",{children:" :"})," ",(Ge=he.amount)==null?void 0:Ge.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:g.rejectReason}),e.jsxs("select",{value:he.reason,onChange:oe=>B(Ne=>({...Ne,reason:oe.target.value})),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:g.selectReason}),e.jsx("option",{value:"  ",children:"  "}),e.jsx("option",{value:"   ",children:"   "}),e.jsx("option",{value:"PayPal  ",children:"PayPal  "}),e.jsx("option",{value:" ",children:"  "}),e.jsx("option",{value:" ",children:" "}),e.jsx("option",{value:" ",children:"  "}),e.jsx("option",{value:"  ",children:"  "}),e.jsx("option",{value:"custom",children:g.customReason})]})]}),he.reason==="custom"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),e.jsx("textarea",{value:he.customReason,onChange:oe=>B(Ne=>({...Ne,customReason:oe.target.value})),placeholder:g.customReasonPlaceholder,rows:3,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[e.jsx("button",{onClick:()=>{X(!1),B({withdrawalId:null,reason:"",customReason:"",userEmail:"",userName:"",amount:0})},className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-md hover:bg-gray-50",children:g.cancel}),e.jsx("button",{onClick:A,disabled:h||!he.reason||he.reason==="custom"&&!he.customReason,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 disabled:opacity-50",children:h?"...":g.sendRejectEmail})]})]})})]})]})},gj=()=>{const{language:d}=rs(),[o,n]=b.useState(!1),[i,m]=b.useState(!1),[x,j]=b.useState(""),[h,S]=b.useState(""),[y,M]=b.useState({smtpHost:"",smtpPort:"587",smtpSecure:!1,smtpUser:"",smtpPass:"",fromEmail:"",fromName:"CNEC Japan",replyToEmail:"",testEmail:""}),[q,K]=b.useState({siteName:"CNEC Japan",siteDescription:"K-Beauty  ",siteKeywords:"K-Beauty, , , , ",ogTitle:"CNEC Japan - K-Beauty  ",ogDescription:"",ogImage:"",twitterCard:"summary_large_image",twitterSite:"@cnecjapan",canonicalUrl:"https://cnec.jp",robotsTxt:`User-agent: *
Allow: /`,sitemapUrl:"https://cnec.jp/sitemap.xml",googleAnalyticsId:"",googleTagManagerId:"",facebookPixelId:"",metaAuthor:"CNEC Japan",metaViewport:"width=device-width, initial-scale=1.0",metaCharset:"UTF-8",favicon:"/favicon.ico",appleTouchIcon:"/apple-touch-icon.png"}),v={ko:{title:" ",subtitle:"SEO,      ",emailSettings:" ",smtpSettings:"SMTP  ",emailGeneral:"  ",testEmail:" ",smtpHost:"SMTP ",smtpPort:"SMTP ",smtpSecure:"SSL/TLS ",smtpUser:"SMTP ",smtpPass:"SMTP ",fromEmail:" ",fromName:" ",replyToEmail:" ",testEmailAddress:"  ",sendTestEmail:"  ",seoSettings:"SEO ",basicSeo:" SEO ",socialMedia:"  ",analytics:"  ",technical:" ",siteName:" ",siteDescription:" ",siteKeywords:" ",ogTitle:"Open Graph ",ogDescription:"Open Graph ",ogImage:"Open Graph  URL",twitterCard:"Twitter  ",twitterSite:"Twitter  ",canonicalUrl:" URL",robotsTxt:"robots.txt ",sitemapUrl:" URL",googleAnalyticsId:"Google Analytics ID",googleTagManagerId:"Google Tag Manager ID",facebookPixelId:"Facebook Pixel ID",metaAuthor:"",metaViewport:"Viewport ",metaCharset:" ",favicon:"Favicon URL",appleTouchIcon:"Apple Touch Icon URL",save:"",cancel:"",loading:" ...",saving:" ...",error:" .",success:"  .",preview:"",reset:"",export:"",import:""},ja:{title:"",subtitle:"SEO",emailSettings:"",smtpSettings:"SMTP",emailGeneral:"",testEmail:"",smtpHost:"SMTP",smtpPort:"SMTP",smtpSecure:"SSL/TLS",smtpUser:"SMTP",smtpPass:"SMTP",fromEmail:"",fromName:"",replyToEmail:"",testEmailAddress:"",sendTestEmail:"",seoSettings:"SEO",basicSeo:"SEO",socialMedia:"",analytics:"",technical:"",siteName:"",siteDescription:"",siteKeywords:"",ogTitle:"Open Graph",ogDescription:"Open Graph",ogImage:"Open GraphURL",twitterCard:"Twitter",twitterSite:"Twitter",canonicalUrl:"URL",robotsTxt:"robots.txt",sitemapUrl:"URL",googleAnalyticsId:"Google Analytics ID",googleTagManagerId:"Google Tag Manager ID",facebookPixelId:"Facebook Pixel ID",metaAuthor:"",metaViewport:"Viewport",metaCharset:"",favicon:"Favicon URL",appleTouchIcon:"Apple Touch Icon URL",save:"",cancel:"",loading:"...",saving:"...",error:"",success:"",preview:"",reset:"",export:"",import:""}},C=v[d]||v.ko;b.useEffect(()=>{console.log("SystemSettings "),N()},[]);const N=async()=>{try{n(!0),j("");const Y=localStorage.getItem("cnec_seo_settings");Y&&K(JSON.parse(Y));const J=localStorage.getItem("cnec_email_settings");J&&M(JSON.parse(J))}catch(Y){console.error("  :",Y),j(`${C.error}: ${Y.message}`)}finally{n(!1)}},Q=async()=>{try{m(!0),j(""),S(""),localStorage.setItem("cnec_seo_settings",JSON.stringify(q)),localStorage.setItem("cnec_email_settings",JSON.stringify(y)),S(C.success)}catch(Y){console.error("  :",Y),j(`  : ${Y.message}`)}finally{m(!1)}},k=(Y,J)=>{K(ne=>({...ne,[Y]:J}))},T=(Y,J)=>{M(ne=>({...ne,[Y]:J}))},w=async()=>{try{if(!y.testEmail){j("   .");return}if(!y.smtpHost||!y.smtpUser||!y.smtpPass){j("SMTP   .");return}m(!0),j(""),S("");const Y=`
        <div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;">
          <h2 style="color: #333;">CNEC Japan -  </h2>
          <p>!</p>
          <p>  CNEC Japan  SMTP       .</p>
          <div style="background-color: #f8f9fa; padding: 20px; border-radius: 8px; margin: 20px 0;">
            <h3 style="color: #28a745; margin-top: 0;">   !</h3>
            <p>SMTP      .</p>
          </div>
          <p><strong> :</strong> ${new Date().toLocaleString("ko-KR")}</p>
          <p><strong>:</strong> ${y.fromName||"CNEC Japan"}</p>
          <hr style="margin: 30px 0; border: none; border-top: 1px solid #eee;">
          <p style="color: #666; font-size: 12px;">
              CNEC Japan    .<br>
              ${y.replyToEmail||"support@cnec.jp"} .
          </p>
        </div>
      `;console.log(" Gmail SMTP   :",{to:y.testEmail,from:y.fromEmail,smtp:`${y.smtpHost}:${y.smtpPort}`,secure:y.smtpSecure});const J=await fetch("/.netlify/functions/send-gmail",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({emailSettings:{smtpHost:y.smtpHost,smtpPort:y.smtpPort,smtpUser:y.smtpUser,smtpPass:y.smtpPass,smtpSecure:y.smtpSecure,senderEmail:y.fromEmail,senderName:y.fromName,replyEmail:y.replyToEmail},testEmail:y.testEmail,subject:"CNEC Japan - Gmail  ",message:Y})});if(!J.ok){const X=await J.json();throw new Error(X.details||X.error||"  .")}const ne=await J.json();if(ne.success)S(` Gmail    !
        
 : ${y.testEmail}
  ID: ${ne.messageId}
  : ${ne.service||"Gmail SMTP"}
  : ${new Date().toLocaleString("ko-KR")}

   ( ,   )  .
Gmail  : 500/,  100/`),console.log(" Gmail   :",ne);else throw new Error(ne.error||"Gmail  ")}catch(Y){console.error("   :",Y),j(`    : ${Y.message}`)}finally{m(!1)}},$=()=>{confirm("   ?")&&K({siteName:"CNEC Japan",siteDescription:"K-Beauty  ",siteKeywords:"K-Beauty, , , , ",ogTitle:"CNEC Japan - K-Beauty  ",ogDescription:"",ogImage:"",twitterCard:"summary_large_image",twitterSite:"@cnecjapan",canonicalUrl:"https://cnec.jp",robotsTxt:`User-agent: *
Allow: /`,sitemapUrl:"https://cnec.jp/sitemap.xml",googleAnalyticsId:"",googleTagManagerId:"",facebookPixelId:"",metaAuthor:"CNEC Japan",metaViewport:"width=device-width, initial-scale=1.0",metaCharset:"UTF-8",favicon:"/favicon.ico",appleTouchIcon:"/apple-touch-icon.png"})},_=()=>{const Y=JSON.stringify(q,null,2),J="data:application/json;charset=utf-8,"+encodeURIComponent(Y),ne="cnec_seo_settings.json",X=document.createElement("a");X.setAttribute("href",J),X.setAttribute("download",ne),X.click()},H=Y=>{const J=Y.target.files[0];if(J){const ne=new FileReader;ne.onload=X=>{try{const he=JSON.parse(X.target.result);K(he),S("  .")}catch{j("     .")}},ne.readAsText(J)}};return o?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Yt,{}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"h-6 w-6 animate-spin"}),e.jsx("span",{children:C.loading})]})})})]}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Yt,{}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:C.title}),e.jsx("p",{className:"text-gray-600 mt-2",children:C.subtitle})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"file",accept:".json",onChange:H,className:"hidden",id:"import-settings"}),e.jsxs("label",{htmlFor:"import-settings",className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 cursor-pointer",children:[e.jsx(ds,{className:"h-4 w-4 mr-2"}),C.import]}),e.jsxs("button",{onClick:_,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[e.jsx(ds,{className:"h-4 w-4 mr-2"}),C.export]}),e.jsxs("button",{onClick:$,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[e.jsx(Ea,{className:"h-4 w-4 mr-2"}),C.reset]})]})]})}),x&&e.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-md p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx(Kt,{className:"h-5 w-5 text-red-400"}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-red-800",children:x})})]})}),h&&e.jsx("div",{className:"mb-6 bg-green-50 border border-green-200 rounded-md p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx(He,{className:"h-5 w-5 text-green-400"}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-green-800",children:h})})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(ia,{className:"h-5 w-5 text-gray-400 mr-2"}),e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:C.emailSettings})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"text-md font-medium text-gray-800 mb-3",children:C.smtpSettings}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:C.smtpHost}),e.jsx("input",{type:"text",value:y.smtpHost,onChange:Y=>T("smtpHost",Y.target.value),placeholder:"smtp.gmail.com",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:C.smtpPort}),e.jsx("input",{type:"number",value:y.smtpPort,onChange:Y=>T("smtpPort",Y.target.value),placeholder:"587",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:C.smtpUser}),e.jsx("input",{type:"email",value:y.smtpUser,onChange:Y=>T("smtpUser",Y.target.value),placeholder:"your-email@gmail.com",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:C.smtpPass}),e.jsx("input",{type:"password",value:y.smtpPass,onChange:Y=>T("smtpPass",Y.target.value),placeholder:" ",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]})]}),e.jsx("div",{className:"mt-4",children:e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:y.smtpSecure,onChange:Y=>T("smtpSecure",Y.target.checked),className:"rounded border-gray-300 text-indigo-600 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:C.smtpSecure})]})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"text-md font-medium text-gray-800 mb-3",children:C.emailGeneral}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:C.fromEmail}),e.jsx("input",{type:"email",value:y.fromEmail,onChange:Y=>T("fromEmail",Y.target.value),placeholder:"noreply@cnec.jp",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:C.fromName}),e.jsx("input",{type:"text",value:y.fromName,onChange:Y=>T("fromName",Y.target.value),placeholder:"CNEC Japan",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:C.replyToEmail}),e.jsx("input",{type:"email",value:y.replyToEmail,onChange:Y=>T("replyToEmail",Y.target.value),placeholder:"support@cnec.jp",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-md font-medium text-gray-800 mb-3",children:C.testEmail}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("div",{className:"flex-1",children:e.jsx("input",{type:"email",value:y.testEmail,onChange:Y=>T("testEmail",Y.target.value),placeholder:"test@example.com",className:"block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})}),e.jsx("button",{onClick:w,disabled:i||!y.testEmail,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:i?e.jsxs(e.Fragment,{children:[e.jsx(st,{className:"h-4 w-4 mr-2 animate-spin"})," ..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ia,{className:"h-4 w-4 mr-2"}),C.sendTestEmail]})})]})]})]})}),e.jsx("div",{className:"bg-white shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(gr,{className:"h-5 w-5 text-gray-400 mr-2"}),e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:C.basicSeo})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:C.siteName}),e.jsx("input",{type:"text",value:q.siteName,onChange:Y=>k("siteName",Y.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:C.siteDescription}),e.jsx("textarea",{rows:3,value:q.siteDescription,onChange:Y=>k("siteDescription",Y.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:C.siteKeywords}),e.jsx("input",{type:"text",value:q.siteKeywords,onChange:Y=>k("siteKeywords",Y.target.value),placeholder:"1, 2, 3",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:C.canonicalUrl}),e.jsx("input",{type:"url",value:q.canonicalUrl,onChange:Y=>k("canonicalUrl",Y.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]})]})]})}),e.jsx("div",{className:"bg-white shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(ko,{className:"h-5 w-5 text-gray-400 mr-2"}),e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:C.socialMedia})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:C.ogTitle}),e.jsx("input",{type:"text",value:q.ogTitle,onChange:Y=>k("ogTitle",Y.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:C.ogDescription}),e.jsx("textarea",{rows:3,value:q.ogDescription,onChange:Y=>k("ogDescription",Y.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:C.ogImage}),e.jsx("input",{type:"url",value:q.ogImage,onChange:Y=>k("ogImage",Y.target.value),placeholder:"https://example.com/image.jpg",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:C.twitterCard}),e.jsxs("select",{value:q.twitterCard,onChange:Y=>k("twitterCard",Y.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",children:[e.jsx("option",{value:"summary",children:"Summary"}),e.jsx("option",{value:"summary_large_image",children:"Summary Large Image"}),e.jsx("option",{value:"app",children:"App"}),e.jsx("option",{value:"player",children:"Player"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:C.twitterSite}),e.jsx("input",{type:"text",value:q.twitterSite,onChange:Y=>k("twitterSite",Y.target.value),placeholder:"@username",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]})]})]})]})}),e.jsx("div",{className:"bg-white shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(fg,{className:"h-5 w-5 text-gray-400 mr-2"}),e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:C.analytics})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:C.googleAnalyticsId}),e.jsx("input",{type:"text",value:q.googleAnalyticsId,onChange:Y=>k("googleAnalyticsId",Y.target.value),placeholder:"GA_MEASUREMENT_ID",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:C.googleTagManagerId}),e.jsx("input",{type:"text",value:q.googleTagManagerId,onChange:Y=>k("googleTagManagerId",Y.target.value),placeholder:"GTM-XXXXXXX",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:C.facebookPixelId}),e.jsx("input",{type:"text",value:q.facebookPixelId,onChange:Y=>k("facebookPixelId",Y.target.value),placeholder:"123456789012345",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]})]})]})}),e.jsx("div",{className:"bg-white shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(pg,{className:"h-5 w-5 text-gray-400 mr-2"}),e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:C.technical})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:C.robotsTxt}),e.jsx("textarea",{rows:4,value:q.robotsTxt,onChange:Y=>k("robotsTxt",Y.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm font-mono"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:C.sitemapUrl}),e.jsx("input",{type:"url",value:q.sitemapUrl,onChange:Y=>k("sitemapUrl",Y.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:C.favicon}),e.jsx("input",{type:"text",value:q.favicon,onChange:Y=>k("favicon",Y.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:C.appleTouchIcon}),e.jsx("input",{type:"text",value:q.appleTouchIcon,onChange:Y=>k("appleTouchIcon",Y.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:C.metaAuthor}),e.jsx("input",{type:"text",value:q.metaAuthor,onChange:Y=>k("metaAuthor",Y.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:C.metaViewport}),e.jsx("input",{type:"text",value:q.metaViewport,onChange:Y=>k("metaViewport",Y.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:C.metaCharset}),e.jsx("input",{type:"text",value:q.metaCharset,onChange:Y=>k("metaCharset",Y.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]})]})]})]})}),e.jsx("div",{className:"flex justify-end space-x-3",children:e.jsxs("button",{onClick:Q,disabled:i,className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:[i?e.jsx(st,{className:"h-5 w-5 animate-spin mr-2"}):e.jsx(zl,{className:"h-5 w-5 mr-2"}),i?C.saving:C.save]})})]})]})]})},bj=async d=>{try{const{to:o,subject:n,text:i,html:m,template:x,templateData:j}=d;if(!o)throw new Error("   .");if(!i&&!m&&!x)throw new Error(" (text, html)   .");const h=await fetch("/.netlify/functions/send-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({to:o,subject:n,text:i,html:m,template:x,templateData:j})});if(!h.ok){const S=await h.json();throw new Error(S.error||"  .")}return await h.json()}catch(o){throw console.error("  :",o),o}},jj=()=>{const[d,o]=b.useState(!0),[n,i]=b.useState(!1),[m,x]=b.useState(!1),[j,h]=b.useState(""),[S,y]=b.useState(""),[M,q]=b.useState({email_user:"",email_from_name:"CNEC",email_templates:{welcome:"",applicationConfirmation:"",applicationApproved:"",applicationRejected:""}}),[K,v]=b.useState({to:"",subject:" ",text:" CNEC    ."});b.useEffect(()=>{C()},[]);const C=async()=>{try{o(!0),h("");const k=await Te.system.getSettings();k&&q({email_user:k.email_user||"",email_from_name:k.email_from_name||"CNEC",email_templates:k.email_templates||{welcome:"",applicationConfirmation:"",applicationApproved:"",applicationRejected:""}})}catch(k){console.error("   :",k),h("     .")}finally{o(!1)}},N=async()=>{try{i(!0),h(""),y(""),await Te.system.updateSettings({email_user:M.email_user,email_from_name:M.email_from_name,email_templates:M.email_templates}),y("   .")}catch(k){console.error("   :",k),h("     .")}finally{i(!1)}},Q=async()=>{try{if(x(!0),h(""),y(""),!K.to){h("   .");return}await bj({to:K.to,subject:K.subject,text:K.text}),y(`  ${K.to}  .`)}catch(k){console.error("   :",k),h(`   : ${k.message}`)}finally{x(!1)}};return d?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx(st,{className:"h-12 w-12 animate-spin text-purple-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"   ..."})]})}):e.jsx("div",{className:"space-y-6",children:e.jsxs(_t,{children:[e.jsxs(kt,{children:[e.jsxs(Ct,{className:"text-2xl flex items-center",children:[e.jsx(ia,{className:"h-6 w-6 mr-2"})," "]}),e.jsx(is,{children:"    "})]}),e.jsxs(At,{children:[e.jsxs(Eo,{defaultValue:"settings",className:"space-y-6",children:[e.jsxs(To,{children:[e.jsx(dl,{value:"settings",children:" "}),e.jsx(dl,{value:"templates",children:" "}),e.jsx(dl,{value:"test",children:" "})]}),e.jsx(ka,{value:"settings",className:"space-y-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx($e,{htmlFor:"email_user",children:" "}),e.jsx(ht,{id:"email_user",value:M.email_user,onChange:k=>q({...M,email_user:k.target.value}),placeholder:"example@gmail.com"}),e.jsx("p",{className:"text-sm text-gray-500",children:"   Gmail ."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($e,{htmlFor:"email_from_name",children:" "}),e.jsx(ht,{id:"email_from_name",value:M.email_from_name,onChange:k=>q({...M,email_from_name:k.target.value}),placeholder:"CNEC"}),e.jsx("p",{className:"text-sm text-gray-500",children:"   ."})]}),e.jsx("div",{className:"pt-4",children:e.jsxs(Ns,{className:"bg-amber-50 text-amber-800 border-amber-200",children:[e.jsx(Kt,{className:"h-4 w-4"}),e.jsxs(_s,{children:["Gmail  ,    Netlify    .",e.jsx("br",{})," : EMAIL_USER, EMAIL_PASS"]})]})})]})}),e.jsx(ka,{value:"templates",className:"space-y-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx($e,{htmlFor:"welcome_template",children:"  "}),e.jsx(Sa,{id:"welcome_template",value:M.email_templates.welcome,onChange:k=>q({...M,email_templates:{...M.email_templates,welcome:k.target.value}}),placeholder:"  HTML ",rows:10}),e.jsxs("p",{className:"text-sm text-gray-500",children:["  : ",{name},", ",{loginUrl}]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($e,{htmlFor:"application_confirmation_template",children:"    "}),e.jsx(Sa,{id:"application_confirmation_template",value:M.email_templates.applicationConfirmation,onChange:k=>q({...M,email_templates:{...M.email_templates,applicationConfirmation:k.target.value}}),placeholder:"    HTML ",rows:10}),e.jsxs("p",{className:"text-sm text-gray-500",children:["  : ",{name},", ",{campaignTitle},", ",{applicationDate},", ",{mypageUrl}]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($e,{htmlFor:"application_approved_template",children:"   "}),e.jsx(Sa,{id:"application_approved_template",value:M.email_templates.applicationApproved,onChange:k=>q({...M,email_templates:{...M.email_templates,applicationApproved:k.target.value}}),placeholder:"   HTML ",rows:10}),e.jsxs("p",{className:"text-sm text-gray-500",children:["  : ",{name},", ",{campaignTitle},", ",{approvalDate},", ",{mypageUrl}]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($e,{htmlFor:"application_rejected_template",children:"   "}),e.jsx(Sa,{id:"application_rejected_template",value:M.email_templates.applicationRejected,onChange:k=>q({...M,email_templates:{...M.email_templates,applicationRejected:k.target.value}}),placeholder:"   HTML ",rows:10}),e.jsxs("p",{className:"text-sm text-gray-500",children:["  : ",{name},", ",{campaignTitle},", ",{rejectionDate},", ",{rejectionReason},", ",{campaignsUrl}]})]})]})}),e.jsx(ka,{value:"test",className:"space-y-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx($e,{htmlFor:"test_email",children:"  "}),e.jsx(ht,{id:"test_email",value:K.to,onChange:k=>v({...K,to:k.target.value}),placeholder:"test@example.com"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($e,{htmlFor:"test_subject",children:"  "}),e.jsx(ht,{id:"test_subject",value:K.subject,onChange:k=>v({...K,subject:k.target.value}),placeholder:" "})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($e,{htmlFor:"test_content",children:"  "}),e.jsx(Sa,{id:"test_content",value:K.text,onChange:k=>v({...K,text:k.target.value}),placeholder:"  ",rows:5})]}),e.jsxs(Ee,{onClick:Q,disabled:m||!K.to,children:[m&&e.jsx(st,{className:"h-4 w-4 mr-2 animate-spin"}),e.jsx(bo,{className:"h-4 w-4 mr-2"}),"  "]})]})})]}),S&&e.jsxs(Ns,{className:"mt-6 bg-green-50 text-green-800 border-green-200",children:[e.jsx(He,{className:"h-4 w-4"}),e.jsx(_s,{children:S})]}),j&&e.jsxs(Ns,{className:"mt-6",variant:"destructive",children:[e.jsx(Kt,{className:"h-4 w-4"}),e.jsx(_s,{children:j})]}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsxs(Ee,{onClick:N,disabled:n,children:[n&&e.jsx(st,{className:"h-4 w-4 mr-2 animate-spin"}),e.jsx(zl,{className:"h-4 w-4 mr-2"})," "]})})]})]})})};function vj(){return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-6 sm:py-12",children:[e.jsxs("div",{className:"mb-6 sm:mb-8",children:[e.jsxs(Ye,{to:"/",className:"inline-flex items-center text-purple-600 hover:text-purple-700 mb-6",children:[e.jsx(ol,{className:"w-4 h-4 mr-2"}),""]}),e.jsx("h1",{className:"text-2xl sm:text-4xl font-bold text-gray-900 mb-4",children:""}),e.jsx("p",{className:"text-gray-600",children:": 2025114"})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-4 sm:p-8 space-y-6 sm:space-y-8",children:[e.jsxs("section",{children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-3 sm:mb-4",children:"1. "}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:"CNEC Japan"})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-3 sm:mb-4",children:"2. "}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"2.1 "}),e.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-2 sm:ml-4",children:[e.jsx("li",{children:""}),e.jsx("li",{children:"SNSInstagramYouTubeTikTok"}),e.jsx("li",{children:""}),e.jsx("li",{children:""}),e.jsx("li",{children:""})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"2.2 "}),e.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-2 sm:ml-4",children:[e.jsx("li",{children:"IP"}),e.jsx("li",{children:"Cookie"}),e.jsx("li",{children:""})]})]})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-3 sm:mb-4",children:"3. "}),e.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-2 sm:ml-4",children:[e.jsx("li",{children:""}),e.jsx("li",{children:""}),e.jsx("li",{children:""}),e.jsx("li",{children:""}),e.jsx("li",{children:""}),e.jsx("li",{children:""}),e.jsx("li",{children:""})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-3 sm:mb-4",children:"4. "}),e.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:""}),e.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-2 sm:ml-4",children:[e.jsx("li",{children:""}),e.jsx("li",{children:""}),e.jsx("li",{children:""}),e.jsx("li",{children:""})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-3 sm:mb-4",children:"5. "}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:"SSL/TLS"})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-3 sm:mb-4",children:"6. Cookie"}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:"CookieCookie"})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-3 sm:mb-4",children:"7. "}),e.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:""}),e.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-2 sm:ml-4",children:[e.jsx("li",{children:""}),e.jsx("li",{children:""}),e.jsx("li",{children:""}),e.jsx("li",{children:""})]}),e.jsx("p",{className:"text-gray-700 leading-relaxed mt-4",children:""})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-3 sm:mb-4",children:"8. "}),e.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:""}),e.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-2 sm:ml-4",children:[e.jsx("li",{children:"Google Analytics"}),e.jsx("li",{children:"Google OAuth"}),e.jsx("li",{children:"Supabase"}),e.jsx("li",{children:"Netlify"})]}),e.jsx("p",{className:"text-gray-700 leading-relaxed mt-4",children:""})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-3 sm:mb-4",children:"9. "}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:"1818"})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-3 sm:mb-4",children:"10. "}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:""})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-3 sm:mb-4",children:"11. "}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 sm:p-6",children:[e.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:""}),e.jsxs("div",{className:"space-y-2 text-gray-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:":"})," CNEC Japan"]}),e.jsxs("p",{children:[e.jsx("strong",{children:":"})," privacy@cnec.jp"]}),e.jsxs("p",{children:[e.jsx("strong",{children:":"})," ",e.jsx("a",{href:"https://cnec.jp",className:"text-purple-600 hover:underline",children:"https://cnec.jp"})]})]})]})]})]}),e.jsx("div",{className:"mt-8 text-center",children:e.jsxs(Ye,{to:"/",className:"inline-flex items-center text-purple-600 hover:text-purple-700",children:[e.jsx(ol,{className:"w-4 h-4 mr-2"}),""]})})]})})}function yj(){return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-6 sm:py-12",children:[e.jsxs("div",{className:"mb-6 sm:mb-8",children:[e.jsxs(Ye,{to:"/",className:"inline-flex items-center text-purple-600 hover:text-purple-700 mb-6",children:[e.jsx(ol,{className:"w-4 h-4 mr-2"}),""]}),e.jsx("h1",{className:"text-2xl sm:text-4xl font-bold text-gray-900 mb-4",children:""}),e.jsx("p",{className:"text-gray-600",children:": 202518"})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-4 sm:p-8 space-y-6 sm:space-y-8",children:[e.jsxs("section",{children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-3 sm:mb-4",children:"1"}),e.jsxs("div",{className:"text-gray-700 leading-relaxed space-y-3",children:[e.jsx("p",{children:"CNEC KoreaCNEC Japan"}),e.jsx("p",{children:""})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-3 sm:mb-4",children:"2"}),e.jsxs("div",{className:"text-gray-700 leading-relaxed space-y-2",children:[e.jsx("p",{children:""}),e.jsxs("ul",{className:"list-disc list-inside ml-2 sm:ml-4 space-y-2",children:[e.jsx("li",{children:"K-Beauty"}),e.jsx("li",{children:""}),e.jsx("li",{children:"SNS"}),e.jsx("li",{children:""})]})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-3 sm:mb-4",children:"3"}),e.jsxs("div",{className:"text-gray-700 leading-relaxed space-y-3",children:[e.jsx("p",{children:""}),e.jsx("p",{children:""}),e.jsxs("ul",{className:"list-disc list-inside ml-2 sm:ml-4 space-y-2",children:[e.jsx("li",{children:""}),e.jsx("li",{children:""}),e.jsx("li",{children:"18"}),e.jsx("li",{children:""})]})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-3 sm:mb-4",children:"4"}),e.jsxs("div",{className:"text-gray-700 leading-relaxed space-y-3",children:[e.jsx("p",{children:""}),e.jsx("p",{children:""})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-3 sm:mb-4",children:"5"}),e.jsxs("div",{className:"text-gray-700 leading-relaxed space-y-3",children:[e.jsx("p",{children:""}),e.jsxs("ul",{className:"list-disc list-inside ml-2 sm:ml-4 space-y-2",children:[e.jsx("li",{children:"K-Beauty"}),e.jsx("li",{children:""}),e.jsx("li",{children:"SNS"}),e.jsx("li",{children:""}),e.jsx("li",{children:""})]})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-3 sm:mb-4",children:"6"}),e.jsxs("div",{className:"text-gray-700 leading-relaxed space-y-3",children:[e.jsx("p",{children:""}),e.jsx("p",{children:""}),e.jsxs("ul",{className:"list-disc list-inside ml-2 sm:ml-4 space-y-2",children:[e.jsx("li",{children:""}),e.jsx("li",{children:""}),e.jsx("li",{children:""}),e.jsx("li",{children:"PR"})]})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-3 sm:mb-4",children:"7"}),e.jsxs("div",{className:"text-gray-700 leading-relaxed space-y-3",children:[e.jsx("p",{children:""}),e.jsx("p",{children:""}),e.jsx("p",{children:""})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-3 sm:mb-4",children:"8"}),e.jsxs("div",{className:"text-gray-700 leading-relaxed space-y-3",children:[e.jsx("p",{children:""}),e.jsxs("ul",{className:"list-disc list-inside ml-2 sm:ml-4 space-y-2",children:[e.jsx("li",{children:""}),e.jsx("li",{children:"LINE"}),e.jsx("li",{children:""})]}),e.jsx("p",{className:"mt-3",children:"LINELINE"}),e.jsx("p",{children:"LINELINE"})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-3 sm:mb-4",children:"9"}),e.jsxs("div",{className:"text-gray-700 leading-relaxed space-y-3",children:[e.jsx("p",{children:""}),e.jsxs("ul",{className:"list-disc list-inside ml-2 sm:ml-4 space-y-2",children:[e.jsx("li",{children:""}),e.jsx("li",{children:""}),e.jsx("li",{children:""}),e.jsx("li",{children:""}),e.jsx("li",{children:""}),e.jsx("li",{children:""}),e.jsx("li",{children:""}),e.jsx("li",{children:""}),e.jsx("li",{children:""})]})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-3 sm:mb-4",children:"10"}),e.jsxs("div",{className:"text-gray-700 leading-relaxed space-y-3",children:[e.jsx("p",{children:""}),e.jsxs("ul",{className:"list-disc list-inside ml-2 sm:ml-4 space-y-2",children:[e.jsx("li",{children:""}),e.jsx("li",{children:""}),e.jsx("li",{children:""})]}),e.jsx("p",{className:"mt-3",children:""})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-3 sm:mb-4",children:"11"}),e.jsxs("div",{className:"text-gray-700 leading-relaxed space-y-3",children:[e.jsx("p",{children:""}),e.jsx("p",{children:""})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-3 sm:mb-4",children:"12"}),e.jsxs("div",{className:"text-gray-700 leading-relaxed space-y-3",children:[e.jsx("p",{children:""}),e.jsx("p",{children:""})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-3 sm:mb-4",children:"13"}),e.jsxs("div",{className:"text-gray-700 leading-relaxed space-y-3",children:[e.jsx("p",{children:""}),e.jsx("p",{children:""}),e.jsx("p",{children:""})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-3 sm:mb-4",children:"14"}),e.jsxs("div",{className:"text-gray-700 leading-relaxed space-y-3",children:[e.jsx("p",{children:""}),e.jsx("p",{children:""}),e.jsx("p",{children:""})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-3 sm:mb-4",children:"15"}),e.jsxs("div",{className:"text-gray-700 leading-relaxed space-y-3",children:[e.jsx("p",{children:""}),e.jsx("p",{children:""})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-3 sm:mb-4",children:"16"}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-4 sm:p-6",children:e.jsxs("div",{className:"space-y-3 text-gray-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:":"})," CNEC Korea"]}),e.jsxs("p",{children:[e.jsx("strong",{children:":"})," CNEC Japan"]}),e.jsxs("p",{children:[e.jsx("strong",{children:":"})," mkt_biz@cnec.co.kr"]}),e.jsxs("p",{children:[e.jsx("strong",{children:":"})," ",e.jsx("a",{href:"https://cnec.jp",className:"text-purple-600 hover:underline",children:"https://cnec.jp"})]}),e.jsxs("p",{children:[e.jsx("strong",{children:":"})," K-Beauty"]}),e.jsxs("p",{children:[e.jsx("strong",{children:":"})," "]})]})})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-3 sm:mb-4",children:""}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 sm:p-6",children:[e.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:""}),e.jsxs("div",{className:"space-y-2 text-gray-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:":"})," CNEC KoreaCNEC Japan"]}),e.jsxs("p",{children:[e.jsx("strong",{children:":"})," mkt_biz@cnec.co.kr"]}),e.jsxs("p",{children:[e.jsx("strong",{children:":"})," ",e.jsx("a",{href:"https://cnec.jp",className:"text-purple-600 hover:underline",children:"https://cnec.jp"})]})]})]})]}),e.jsx("section",{children:e.jsxs("div",{className:"border-t border-gray-200 pt-6 text-gray-600 text-sm",children:[e.jsx("p",{children:""}),e.jsx("p",{children:"202518"})]})})]}),e.jsx("div",{className:"mt-8 text-center",children:e.jsxs(Ye,{to:"/",className:"inline-flex items-center text-purple-600 hover:text-purple-700",children:[e.jsx(ol,{className:"w-4 h-4 mr-2"}),""]})})]})})}const Nj=()=>{const{signInWithEmail:d,signInWithGoogle:o,user:n,loading:i}=Ss(),m=ws(),[x,j]=b.useState({email:"",password:""}),[h,S]=b.useState(""),[y,M]=b.useState(!1),[q,K]=b.useState(!1);b.useEffect(()=>{(async()=>{if(n)try{const{data:k}=await ae.from("user_profiles").select("role").eq("user_id",n.id).single();((k==null?void 0:k.role)==="admin"||(k==null?void 0:k.role)==="manager")&&m("/dashboard")}catch{}})()},[n,m]);const v=Q=>{const{name:k,value:T}=Q.target;j(w=>({...w,[k]:T}))},C=async()=>{try{M(!0),S(""),await o(),m("/dashboard")}catch{console.error("Google login failed"),S("Google  .   .")}finally{M(!1)}},N=async Q=>{if(Q.preventDefault(),!x.email||!x.password){S("  .");return}try{M(!0),S(""),await d(x.email,x.password),setTimeout(()=>{m("/dashboard")},1e3)}catch{console.error("Login failed"),S(" .    .")}finally{M(!1)}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-purple-900 to-gray-900 flex items-center justify-center p-4",children:e.jsx("div",{className:"w-full max-w-md",children:e.jsxs(_t,{className:"shadow-2xl border-0 bg-white/10 backdrop-blur-md",children:[e.jsxs(kt,{className:"text-center pb-8",children:[e.jsx("div",{className:"w-16 h-16 bg-purple-600/20 rounded-full flex items-center justify-center mx-auto mb-4 backdrop-blur-sm",children:e.jsx(Ca,{className:"h-8 w-8 text-purple-300"})}),e.jsx(Ct,{className:"text-xl sm:text-2xl font-bold text-white",children:" "}),e.jsx(is,{className:"text-purple-200",children:"CNEC    "})]}),e.jsxs(At,{className:"space-y-4 sm:space-y-6",children:[e.jsxs("form",{onSubmit:N,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx($e,{htmlFor:"email",className:"text-purple-200",children:" "}),e.jsxs("div",{className:"relative",children:[e.jsx(ia,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-purple-300"}),e.jsx(ht,{id:"email",name:"email",type:"email",placeholder:"admin@cnec.test",value:x.email,onChange:v,className:"pl-10 bg-white/10 border-purple-300/30 text-white placeholder:text-purple-200/60 focus:border-purple-400",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($e,{htmlFor:"password",className:"text-purple-200",children:" "}),e.jsxs("div",{className:"relative",children:[e.jsx(fr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-purple-300"}),e.jsx(ht,{id:"password",name:"password",type:q?"text":"password",placeholder:"",value:x.password,onChange:v,className:"pl-10 pr-10 bg-white/10 border-purple-300/30 text-white placeholder:text-purple-200/60 focus:border-purple-400",required:!0}),e.jsx("button",{type:"button",onClick:()=>K(!q),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-purple-300 hover:text-purple-200",children:q?e.jsx(gg,{className:"h-4 w-4"}):e.jsx(sl,{className:"h-4 w-4"})})]})]}),h&&e.jsx(Ns,{variant:"destructive",className:"bg-red-500/20 border-red-400/30",children:e.jsx(_s,{className:"text-red-200",children:h})}),e.jsxs(Ee,{type:"submit",disabled:y||i,className:"w-full bg-purple-600 hover:bg-purple-700 text-white border-0",size:"lg",children:[y?e.jsx(st,{className:"h-4 w-4 animate-spin mr-2"}):e.jsx(Ca,{className:"h-4 w-4 mr-2"})," "]})]}),e.jsxs("div",{className:"relative my-6",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-purple-300/30"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-2 bg-gray-900 text-purple-200",children:""})})]}),e.jsxs(Ee,{onClick:C,disabled:y||i,variant:"outline",className:"w-full bg-white/10 border-purple-300/30 text-white hover:bg-white/20",size:"lg",children:[e.jsxs("svg",{className:"h-5 w-5 mr-2",viewBox:"0 0 24 24",children:[e.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google"]}),e.jsxs("div",{className:"text-center text-xs text-purple-300/60",children:[e.jsx("p",{children:"   ."}),e.jsx("p",{children:"       ."})]})]})]})})})},_j=()=>{var ee,ge,G,W;const{id:d}=_n(),[o]=Qi(),n=ws(),{user:i}=Ss(),{language:m}=rs(),x=d||o.get("campaign_id"),j=`campaign_application_draft_${x}`,[h,S]=b.useState(null),[y,M]=b.useState(null),[q,K]=b.useState(null),[v,C]=b.useState(!0),[N,Q]=b.useState(!1),[k,T]=b.useState(""),[w,$]=b.useState(""),[_,H]=b.useState({answer_1:"",answer_2:"",answer_3:"",answer_4:"",additional_info:"",applicant_name:"",age:"",skin_type:"",postal_code:"",address:"",phone_number:"",instagram_url:"",youtube_url:"",tiktok_url:"",offline_visit_available:!1,offline_visit_notes:""}),Y={ko:{title:" ",backToCampaigns:" ",campaignInfo:" ",applicationForm:" ",personalInfo:"",contactInfo:"   ",snsInfo:"SNS ",questions:" ",additionalInfo:" ",submit:"",submitting:" ...",alreadyApplied:"  ",applicationSuccess:"  !",requiredField:" ",optionalField:" ",reward:"",participants:" ",deadline:" ",period:" ",requirements:" ",description:" ",brand:"",category:"",profileIncomplete:"  ",goToProfile:" ",campaignNotFound:"   ",loginRequired:" ",name:"",email:"",age:"",skinType:"",postalCode:"",address:"",phoneNumber:"",instagramUrl:" URL",youtubeUrl:" URL",tiktokUrl:" URL",postalCodePlaceholder:": 123-4567",addressPlaceholder:"  ",phoneNumberPlaceholder:": 010-1234-5678",instagramPlaceholder:"https://instagram.com/username",youtubePlaceholder:"https://youtube.com/@username",tiktokPlaceholder:"https://tiktok.com/@username",postalCodeRequired:" ",addressRequired:" ",phoneRequired:" ",instagramRequired:" URL "},ja:{title:"",backToCampaigns:"",campaignInfo:"",applicationForm:"",personalInfo:"",contactInfo:"",snsInfo:"SNS",questions:"",additionalInfo:"",submit:"",submitting:"...",alreadyApplied:"",applicationSuccess:"",requiredField:"",optionalField:"",reward:"",participants:"",deadline:"",period:"",requirements:"",description:"",brand:"",category:"",profileIncomplete:"",goToProfile:"",campaignNotFound:"",loginRequired:"",name:"",email:"",age:"",skinType:"",postalCode:"",address:"",phoneNumber:"",instagramUrl:"Instagram URL",youtubeUrl:"YouTube URL",tiktokUrl:"TikTok URL",postalCodePlaceholder:": 123-4567",addressPlaceholder:"",phoneNumberPlaceholder:": 090-1234-5678",instagramPlaceholder:"https://instagram.com/username",youtubePlaceholder:"https://youtube.com/@username",tiktokPlaceholder:"https://tiktok.com/@username",postalCodeRequired:"",addressRequired:"",phoneRequired:"",instagramRequired:"Instagram URL",portraitRightsRequired:"",portraitRightsTitle:"",portraitRightsConsent:"CNEC1",portraitRightsConsentShort:"1"}},J=Y[m]||Y.ko;b.useEffect(()=>{if(!i){T(J.loginRequired),C(!1);return}if(!x){T(J.campaignNotFound),C(!1);return}ne()},[i,x]),b.useEffect(()=>{if(x&&!v&&!w&&Object.values(_).some(D=>D!==""&&D!==!1&&D!==null))try{localStorage.setItem(j,JSON.stringify({data:_,savedAt:new Date().toISOString()}))}catch(D){console.error("localStorage  :",D)}},[_,x,v,w,j]);const ne=async()=>{try{C(!0),T("");const z=await Te.campaigns.getById(x);if(!z)throw new Error(J.campaignNotFound);S(z);const D=await Te.userProfiles.get(i.id);if(M(D),D){const O=D.name||"",U=O&&O.includes("@")&&O.includes(".");H(ie=>({...ie,applicant_name:U?"":O,age:D.age||"",skin_type:D.skin_type||"",instagram_url:D.instagram_url||"",youtube_url:D.youtube_url||"",tiktok_url:D.tiktok_url||""}))}const g=await Te.applications.getByUserAndCampaign(i.id,x);if(K(g),g){const O=g.applicant_name||(D==null?void 0:D.name)||"",U=O&&O.includes("@")&&O.includes(".");H(ie=>({...ie,applicant_name:U?"":O,answer_1:g.answer_1||"",answer_2:g.answer_2||"",answer_3:g.answer_3||"",answer_4:g.answer_4||"",additional_info:g.additional_info||"",age:g.age||(D==null?void 0:D.age)||"",skin_type:g.skin_type||(D==null?void 0:D.skin_type)||"",postal_code:g.postal_code||"",address:g.address||"",phone_number:g.phone_number||"",instagram_url:g.instagram_url||(D==null?void 0:D.instagram_url)||"",youtube_url:g.youtube_url||(D==null?void 0:D.youtube_url)||"",tiktok_url:g.tiktok_url||(D==null?void 0:D.tiktok_url)||"",offline_visit_available:g.offline_visit_available||!1,offline_visit_notes:g.offline_visit_notes||""}))}try{const O=localStorage.getItem(j);if(O){const{data:U,savedAt:ie}=JSON.parse(O),A=new Date(ie).getTime();(new Date().getTime()-A)/(1e3*60*60)<24&&U?H(ye=>({...ye,...U})):localStorage.removeItem(j)}}catch(O){console.error("localStorage  :",O)}}catch(z){console.error("  :",z),T(z.message||"    .")}finally{C(!1)}},X=()=>{var D,g,O,U;const z=[];return(!_.age||_.age.toString().trim()===""||_.age<1)&&z.push(""),(!_.skin_type||_.skin_type.trim()==="")&&z.push(""),_.postal_code.trim()||z.push(J.postalCodeRequired),_.address.trim()||z.push(J.addressRequired),_.phone_number.trim()||z.push(J.phoneRequired),_.instagram_url.trim()||z.push(J.instagramRequired),h!=null&&h.question1&&!((D=_.answer_1)!=null&&D.trim())&&z.push(m==="ja"?" 1":" 1 "),h!=null&&h.question2&&!((g=_.answer_2)!=null&&g.trim())&&z.push(m==="ja"?" 2":" 2 "),h!=null&&h.question3&&!((O=_.answer_3)!=null&&O.trim())&&z.push(m==="ja"?" 3":" 3 "),h!=null&&h.question4&&!((U=_.answer_4)!=null&&U.trim())&&z.push(m==="ja"?" 4":" 4 "),z},he=async z=>{z.preventDefault();const D=X();if(D.length>0){T(D.join(`
`));return}try{Q(!0),T("");const g={user_id:i.id,campaign_id:x,applicant_name:_.applicant_name,age:parseInt(_.age)||null,skin_type:_.skin_type,postal_code:_.postal_code,address:_.address,phone_number:_.phone_number,instagram_url:_.instagram_url,youtube_url:_.youtube_url||null,tiktok_url:_.tiktok_url||null,answer_1:_.answer_1||null,answer_2:_.answer_2||null,answer_3:_.answer_3||null,answer_4:_.answer_4||null,additional_info:_.additional_info||null,offline_visit_available:_.offline_visit_available||!1,offline_visit_notes:_.offline_visit_notes||null,status:"pending",created_at:new Date().toISOString(),updated_at:new Date().toISOString()};q?await Te.applications.update(q.id,g):await Te.applications.create(g),$(J.applicationSuccess);try{localStorage.removeItem(j)}catch(O){console.error("localStorage  :",O)}setTimeout(()=>{n("/")},3e3)}catch(g){console.error("  :",g),T("    .  .")}finally{Q(!1)}},B=z=>z?new Date(z).toLocaleDateString(m==="ja"?"ja-JP":"ko-KR"):"",L=z=>z?`${z.toLocaleString()}`:"0";return v?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"..."})]})}):k&&!h?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 flex items-center justify-center",children:e.jsxs("div",{className:"max-w-md mx-auto text-center",children:[e.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:k}),e.jsx("button",{onClick:()=>n("/"),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-purple-600 hover:bg-purple-700",children:J.backToCampaigns})]})}):w?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 flex items-center justify-center",children:e.jsxs("div",{className:"max-w-md mx-auto text-center",children:[e.jsxs("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4",children:[e.jsx("div",{className:"flex items-center justify-center mb-2",children:e.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),w]}),e.jsx("p",{className:"text-gray-600",children:"3    ..."})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-4 sm:py-6 lg:py-8",children:[e.jsxs("div",{className:"mb-4 sm:mb-6 lg:mb-8",children:[e.jsxs("button",{onClick:()=>n("/"),className:"inline-flex items-center text-purple-600 hover:text-purple-800 mb-4",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})}),J.backToCampaigns]}),e.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-gray-900",children:J.title})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 lg:gap-8",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6",children:[e.jsxs("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),J.campaignInfo]}),h&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:h.title}),e.jsxs("div",{className:"flex items-center mt-1 space-x-2",children:[e.jsxs("span",{className:"text-sm text-gray-500",children:[J.brand,":"]}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:h.brand}),h.category&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-gray-300",children:"|"}),e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:h.category})]})]})]}),h.description&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:J.description}),e.jsx("p",{className:"text-sm text-gray-600 whitespace-pre-wrap",children:h.description})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 text-green-600 mr-2 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:J.reward}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:L(h.reward_amount)})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 text-blue-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:J.participants}),e.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[h.max_participants,""]})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 text-red-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3a4 4 0 118 0v4m-4 6v6m-4-6h8m-8 0H4a2 2 0 00-2 2v6a2 2 0 002 2h16a2 2 0 002-2v-6a2 2 0 00-2-2h-4"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:J.deadline}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:B(h.application_deadline)})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 text-purple-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3a4 4 0 118 0v4m-4 6v6m-4-6h8m-8 0H4a2 2 0 00-2 2v6a2 2 0 002 2h16a2 2 0 002-2v-6a2 2 0 00-2-2h-4"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:J.period}),e.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[B(h.start_date)," ~ ",B(h.end_date)]})]})]})]}),h.target_platforms&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:" SNS "}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(()=>{if(typeof h.target_platforms=="object"){const z=[];return h.target_platforms.instagram&&z.push("Instagram"),h.target_platforms.youtube&&z.push("YouTube"),h.target_platforms.tiktok&&z.push("TikTok"),z}return h.target_platforms||[]})().map(z=>e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:z},z))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:J.requirements}),e.jsxs("div",{className:"space-y-2",children:[h.requirements&&e.jsx("p",{className:"text-sm text-gray-600 whitespace-pre-wrap",children:h.requirements}),h.age_requirement&&e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx("span",{className:"font-medium mr-2",children:":"}),e.jsx("span",{children:h.age_requirement})]}),h.skin_type_requirement&&e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx("span",{className:"font-medium mr-2",children:":"}),e.jsx("span",{children:h.skin_type_requirement})]}),h.offline_visit_requirement&&e.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[e.jsxs("div",{className:"flex items-center text-sm text-blue-800 mb-1",children:[e.jsxs("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),e.jsx("span",{className:"font-medium",children:"  "})]}),e.jsx("p",{className:"text-sm text-blue-700 whitespace-pre-wrap",children:h.offline_visit_requirement})]})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6",children:[e.jsxs("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),J.applicationForm]}),q&&e.jsx("div",{className:"bg-blue-100 border border-blue-400 text-blue-700 px-4 py-3 rounded mb-6",children:J.alreadyApplied}),k&&e.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6 whitespace-pre-wrap",children:k}),e.jsxs("form",{onSubmit:he,className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-base sm:text-lg font-medium text-gray-900 mb-3 sm:mb-4",children:J.personalInfo}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[J.name," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:_.applicant_name||(()=>{const z=(y==null?void 0:y.name)||"";return z.includes("@")&&z.includes(".")?"":z})(),onChange:z=>H(D=>({...D,applicant_name:z.target.value})),placeholder:"",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-purple-500 focus:border-purple-500",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[J.email," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"email",value:(y==null?void 0:y.email)||(i==null?void 0:i.email)||"",disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[J.age," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",value:_.age||(y==null?void 0:y.age)||"",onChange:z=>H(D=>({...D,age:z.target.value})),placeholder:"",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-purple-500 focus:border-purple-500",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[J.skinType," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:_.skin_type||(y==null?void 0:y.skin_type)||"",onChange:z=>H(D=>({...D,skin_type:z.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-purple-500 focus:border-purple-500",required:!0,children:[e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"dry",children:""}),e.jsx("option",{value:"oily",children:""}),e.jsx("option",{value:"combination",children:""}),e.jsx("option",{value:"sensitive",children:""}),e.jsx("option",{value:"normal",children:""})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-base sm:text-lg font-medium text-gray-900 mb-3 sm:mb-4",children:J.contactInfo}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[J.postalCode," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:_.postal_code,onChange:z=>H(D=>({...D,postal_code:z.target.value})),placeholder:J.postalCodePlaceholder,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-purple-500 focus:border-purple-500",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[J.phoneNumber," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"tel",value:_.phone_number,onChange:z=>H(D=>({...D,phone_number:z.target.value})),placeholder:J.phoneNumberPlaceholder,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-purple-500 focus:border-purple-500",required:!0})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[J.address," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{value:_.address,onChange:z=>H(D=>({...D,address:z.target.value})),placeholder:J.addressPlaceholder,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-purple-500 focus:border-purple-500",required:!0})]}),(h==null?void 0:h.offline_visit_requirement)&&e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"  "}),e.jsx("p",{className:"text-blue-800 text-sm mb-3",children:h.offline_visit_requirement}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{children:e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:_.offline_visit_available||!1,onChange:z=>H(D=>({...D,offline_visit_available:z.target.checked})),className:"mr-2"}),e.jsx("span",{className:"text-sm",children:"     "})]})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:m==="ja"?"":"   "}),e.jsx("textarea",{value:_.offline_visit_notes||"",onChange:z=>H(D=>({...D,offline_visit_notes:z.target.value})),placeholder:"",rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-purple-500 focus:border-purple-500"})]})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-base sm:text-lg font-medium text-gray-900 mb-3 sm:mb-4",children:J.snsInfo}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[J.instagramUrl," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"url",value:_.instagram_url,onChange:z=>H(D=>({...D,instagram_url:z.target.value})),placeholder:J.instagramPlaceholder,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-purple-500 focus:border-purple-500",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:J.youtubeUrl}),e.jsx("input",{type:"url",value:_.youtube_url,onChange:z=>H(D=>({...D,youtube_url:z.target.value})),placeholder:J.youtubePlaceholder,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-purple-500 focus:border-purple-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:J.tiktokUrl}),e.jsx("input",{type:"url",value:_.tiktok_url,onChange:z=>H(D=>({...D,tiktok_url:z.target.value})),placeholder:J.tiktokPlaceholder,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-purple-500 focus:border-purple-500"})]})]})]})]}),((h==null?void 0:h.question1)||(h==null?void 0:h.question2)||(h==null?void 0:h.question3)||(h==null?void 0:h.question4))&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-base sm:text-lg font-medium text-gray-900 mb-3 sm:mb-4",children:J.questions}),e.jsxs("div",{className:"space-y-4",children:[(h==null?void 0:h.question1)&&e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[h.question1," ",e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),h.question1_type==="checkbox"?e.jsx("div",{className:"space-y-2",children:(ee=h.question1_options)==null?void 0:ee.split(",").map((z,D)=>{var g;return e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",value:z.trim(),checked:((g=_.answer_1)==null?void 0:g.includes(z.trim()))||!1,onChange:O=>{var A;const U=((A=_.answer_1)==null?void 0:A.split(",").map(re=>re.trim()).filter(Boolean))||[],ie=O.target.checked?[...U,z.trim()]:U.filter(re=>re!==z.trim());H(re=>({...re,answer_1:ie.join(", ")}))},className:"mr-2"}),z.trim()]},D)})}):e.jsx("textarea",{value:_.answer_1||"",onChange:z=>H(D=>({...D,answer_1:z.target.value})),rows:h.question1_type==="long"?5:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-purple-500 focus:border-purple-500",placeholder:"",required:!0})]}),(h==null?void 0:h.question2)&&e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[h.question2," ",e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),h.question2_type==="checkbox"?e.jsx("div",{className:"space-y-2",children:(ge=h.question2_options)==null?void 0:ge.split(",").map((z,D)=>{var g;return e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",value:z.trim(),checked:((g=_.answer_2)==null?void 0:g.includes(z.trim()))||!1,onChange:O=>{var A;const U=((A=_.answer_2)==null?void 0:A.split(",").map(re=>re.trim()).filter(Boolean))||[],ie=O.target.checked?[...U,z.trim()]:U.filter(re=>re!==z.trim());H(re=>({...re,answer_2:ie.join(", ")}))},className:"mr-2"}),z.trim()]},D)})}):e.jsx("textarea",{value:_.answer_2||"",onChange:z=>H(D=>({...D,answer_2:z.target.value})),rows:h.question2_type==="long"?5:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-purple-500 focus:border-purple-500",placeholder:"",required:!0})]}),(h==null?void 0:h.question3)&&e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[h.question3," ",e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),h.question3_type==="checkbox"?e.jsx("div",{className:"space-y-2",children:(G=h.question3_options)==null?void 0:G.split(",").map((z,D)=>{var g;return e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",value:z.trim(),checked:((g=_.answer_3)==null?void 0:g.includes(z.trim()))||!1,onChange:O=>{var A;const U=((A=_.answer_3)==null?void 0:A.split(",").map(re=>re.trim()).filter(Boolean))||[],ie=O.target.checked?[...U,z.trim()]:U.filter(re=>re!==z.trim());H(re=>({...re,answer_3:ie.join(", ")}))},className:"mr-2"}),z.trim()]},D)})}):e.jsx("textarea",{value:_.answer_3||"",onChange:z=>H(D=>({...D,answer_3:z.target.value})),rows:h.question3_type==="long"?5:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"",required:!0})]}),(h==null?void 0:h.question4)&&e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[h.question4," ",e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),h.question4_type==="checkbox"?e.jsx("div",{className:"space-y-2",children:(W=h.question4_options)==null?void 0:W.split(",").map((z,D)=>{var g;return e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",value:z.trim(),checked:((g=_.answer_4)==null?void 0:g.includes(z.trim()))||!1,onChange:O=>{var A;const U=((A=_.answer_4)==null?void 0:A.split(",").map(re=>re.trim()).filter(Boolean))||[],ie=O.target.checked?[...U,z.trim()]:U.filter(re=>re!==z.trim());H(re=>({...re,answer_4:ie.join(", ")}))},className:"mr-2"}),z.trim()]},D)})}):e.jsx("textarea",{value:_.answer_4||"",onChange:z=>H(D=>({...D,answer_4:z.target.value})),rows:h.question4_type==="long"?5:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-purple-500 focus:border-purple-500",placeholder:"",required:!0})]})]})]}),e.jsxs("div",{className:"bg-yellow-50 border-2 border-yellow-300 rounded-lg p-4 sm:p-6",children:[e.jsx("h3",{className:"text-base sm:text-lg font-bold text-gray-900 mb-3",children:J.portraitRightsTitle}),e.jsx("div",{className:"bg-white rounded p-4 mb-4 text-sm text-gray-700 leading-relaxed",children:J.portraitRightsConsent}),e.jsxs("label",{className:"flex items-start cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:_.portrait_rights_consent,onChange:z=>H(D=>({...D,portrait_rights_consent:z.target.checked})),className:"mt-1 mr-3 h-5 w-5 text-purple-600 focus:ring-purple-500 border-gray-300 rounded",required:!0}),e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[J.portraitRightsConsentShort," ",e.jsx("span",{className:"text-red-500",children:"*"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:J.additionalInfo}),e.jsx("textarea",{value:_.additional_info,onChange:z=>H(D=>({...D,additional_info:z.target.value})),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-purple-500 focus:border-purple-500",placeholder:""})]}),e.jsx("div",{className:"pt-4",children:e.jsx("button",{type:"submit",disabled:N,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 disabled:opacity-50 disabled:cursor-not-allowed",children:N?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),J.submitting]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})}),J.submit]})})})]})]})]})]})})},ls=({children:d,requireAdmin:o=!1})=>{const{user:n,userProfile:i,loading:m}=Ss(),[x,j]=b.useState(!0),[h,S]=b.useState(!1);return b.useEffect(()=>{(async()=>{if(!m){if(!n){j(!1);return}if(!o){j(!1);return}try{if(i&&(i.role==="admin"||i.is_admin===!0)){S(!0),j(!1);return}let{data:M,error:q}=await ae.from("user_profiles").select("role, is_admin").eq("user_id",n.id).maybeSingle();if(!q&&M&&(M.role==="admin"||M.is_admin===!0)){S(!0),j(!1);return}if(!M){const{data:K}=await ae.from("user_profiles").select("role, is_admin").eq("email",n.email).maybeSingle();if(K&&(K.role==="admin"||K.is_admin===!0)){S(!0),j(!1);return}}S(!1),j(!1)}catch{console.error("Admin check failed"),S(!1),j(!1)}}})()},[n,i,m,o]),m||x?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-purple-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 text-lg",children:"Loading..."}),o&&e.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Checking admin permissions..."})]})}):n?o&&!h?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"max-w-md w-full bg-white shadow-lg rounded-lg p-8 text-center",children:[e.jsx("div",{className:"mb-4",children:e.jsx("svg",{className:"mx-auto h-12 w-12 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Denied"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"You do not have permission to access this page. This page is only available to administrators."}),e.jsx("button",{onClick:()=>window.location.href="/",className:"bg-purple-600 text-white px-6 py-2 rounded-lg hover:bg-purple-700 transition-colors",children:"Go to Home"})]})}):d:e.jsx(Ip,{to:"/login",replace:!0})},wj=()=>{const{user:d}=Ss();return b.useEffect(()=>(Dh.start(),()=>{Dh.stop()}),[]),e.jsx("div",{className:"App",children:e.jsxs(Pp,{children:[e.jsx(rt,{path:"/",element:e.jsx(Kg,{})}),e.jsx(rt,{path:"/login",element:e.jsx(Fg,{})}),e.jsx(rt,{path:"/signup",element:e.jsx(Ig,{})}),e.jsx(rt,{path:"/auth/callback",element:e.jsx(rj,{})}),e.jsx(rt,{path:"/campaign-application",element:e.jsx(_j,{})}),e.jsx(rt,{path:"/mypage",element:e.jsx(_b,{})}),e.jsx(rt,{path:"/profile",element:e.jsx(Bh,{})}),e.jsx(rt,{path:"/paypal-withdrawal",element:e.jsx(wb,{})}),e.jsx(rt,{path:"/company-report/:campaignId",element:e.jsx(db,{})}),e.jsx(rt,{path:"/profile-settings",element:e.jsx(Bh,{})}),e.jsx(rt,{path:"/profile-beauty",element:e.jsx(aj,{})}),e.jsx(rt,{path:"/secret-admin-login",element:e.jsx(Nj,{})}),e.jsx(rt,{path:"/dashboard",element:e.jsx(ls,{requireAdmin:!0,children:e.jsx(nj,{})})}),e.jsx(rt,{path:"/campaigns-manage",element:e.jsx(ls,{requireAdmin:!0,children:e.jsx(ij,{})})}),e.jsx(rt,{path:"/campaign-create",element:e.jsx(ls,{requireAdmin:!0,children:e.jsx(cj,{})})}),e.jsx(rt,{path:"/applications-manage",element:e.jsx(ls,{requireAdmin:!0,children:e.jsx(Vh,{})})}),e.jsx(rt,{path:"/applications-report",element:e.jsx(ls,{requireAdmin:!0,children:e.jsx(Vh,{})})}),e.jsx(rt,{path:"/confirmed-creators",element:e.jsx(ls,{requireAdmin:!0,children:e.jsx(oj,{})})}),e.jsx(rt,{path:"/confirmed-creators/:campaignId",element:e.jsx(ls,{requireAdmin:!0,children:e.jsx(mj,{})})}),e.jsx(rt,{path:"/sns-uploads",element:e.jsx(ls,{requireAdmin:!0,children:e.jsx(Yh,{})})}),e.jsx(rt,{path:"/sns-uploads/:campaignId",element:e.jsx(ls,{requireAdmin:!0,children:e.jsx(Yh,{})})}),e.jsx(rt,{path:"/campaign-report/:campaignId",element:e.jsx(ls,{requireAdmin:!0,children:e.jsx(hj,{})})}),e.jsx(rt,{path:"/email-templates",element:e.jsx(ls,{requireAdmin:!0,children:e.jsx(fj,{})})}),e.jsx(rt,{path:"/users-manage",element:e.jsx(ls,{requireAdmin:!0,children:e.jsx(Kh,{})})}),e.jsx(rt,{path:"/user-approval",element:e.jsx(ls,{requireAdmin:!0,children:e.jsx(Kh,{})})}),e.jsx(rt,{path:"/withdrawals-manage",element:e.jsx(ls,{requireAdmin:!0,children:e.jsx(pj,{})})}),e.jsx(rt,{path:"/system-settings",element:e.jsx(ls,{requireAdmin:!0,children:e.jsx(gj,{})})}),e.jsx(rt,{path:"/email-settings",element:e.jsx(ls,{requireAdmin:!0,children:e.jsx(jj,{})})}),e.jsx(rt,{path:"/privacy",element:e.jsx(vj,{})}),e.jsx(rt,{path:"/terms",element:e.jsx(yj,{})})]})})},Sj=()=>e.jsx(Wp,{children:e.jsx(Cg,{children:e.jsx(Eg,{children:e.jsx(wj,{})})})});Ng.createRoot(document.getElementById("root")).render(e.jsx(b.StrictMode,{children:e.jsx(Sj,{})}));
